!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/js/",n(n.s=404)}([function(e,t,n){e.exports=n(564)()},function(e,t,n){"use strict";e.exports=n(406)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.yoSpaceActionCreators=t.videoQoSRollupActionCreators=t.uiActionCreators=t.themeActionCreators=t.ssaiActionCreators=t.processInputActionCreators=t.playerActionCreators=t.messageBusActionCreators=t.mediaActionCreators=t.lambdaResponseActions=t.inputActionCreators=t.freewheelActionCreators=t.focusCaptureActionCreators=t.ellationPlayheadActionCreators=t.ellationAnalyticsActionCreators=t.ellationCoreActionCreators=t.coreActionCreators=t.controlsActionCreators=t.contentLifecycleActionCreators=t.configurationActionCreators=t.configStackActionCreators=t.analyticsActionCreators=t.adsPlayerActionCreators=t.adsManagerActionCreators=t.a9ActionCreators=void 0;var s=a(n(281));t.a9ActionCreators=s;var u=a(n(282));t.adsManagerActionCreators=u;var c=a(n(284));t.freewheelActionCreators=c;var l=a(n(283));t.ssaiActionCreators=l;var d=a(n(569));t.yoSpaceActionCreators=d;var f=a(n(285));t.analyticsActionCreators=f;var p=a(n(287));t.videoQoSRollupActionCreators=p;var h=a(n(288));t.configStackActionCreators=h;var v=a(n(289));t.configurationActionCreators=v;var m=a(n(290));t.controlsActionCreators=m;var g=a(n(572));t.focusCaptureActionCreators=g;var y=a(n(200));t.coreActionCreators=y;var b=a(n(146));t.ellationAnalyticsActionCreators=b;var _=a(n(291));t.ellationCoreActionCreators=_;var A=a(n(573));t.ellationPlayheadActionCreators=A;var S=a(n(574));t.lambdaResponseActions=S;var E=a(n(116));t.messageBusActionCreators=E;var w=a(n(293));t.inputActionCreators=w;var T=a(n(295));t.processInputActionCreators=T;var P=a(n(199));t.contentLifecycleActionCreators=P;var C=a(n(296));t.mediaActionCreators=C;var O=o(n(297));t.adsPlayerActionCreators=O.default;var k=o(n(299));t.playerActionCreators=k.default;var I=a(n(300));t.themeActionCreators=I;var x=a(n(301));t.uiActionCreators=x},function(e,t,n){"use strict";n.r(t),n.d(t,"createElement",(function(){return r.a})),n.d(t,"findNodeHandle",(function(){return i.a})),n.d(t,"render",(function(){return o.a})),n.d(t,"unmountComponentAtNode",(function(){return s.a})),n.d(t,"processColor",(function(){return a.a})),n.d(t,"NativeModules",(function(){return u.a})),n.d(t,"TextPropTypes",(function(){return g})),n.d(t,"ViewPropTypes",(function(){return y})),n.d(t,"AccessibilityInfo",(function(){return _})),n.d(t,"Alert",(function(){return A})),n.d(t,"Animated",(function(){return pt})),n.d(t,"AppRegistry",(function(){return ht.a})),n.d(t,"AppState",(function(){return Ct})),n.d(t,"AsyncStorage",(function(){return Dt})),n.d(t,"BackHandler",(function(){return Nt})),n.d(t,"Clipboard",(function(){return Lt})),n.d(t,"DeviceInfo",(function(){return jt})),n.d(t,"Dimensions",(function(){return Fe.a})),n.d(t,"Easing",(function(){return Bt})),n.d(t,"I18nManager",(function(){return Ut.a})),n.d(t,"InteractionManager",(function(){return Ft.a})),n.d(t,"Keyboard",(function(){return Vt})),n.d(t,"LayoutAnimation",(function(){return Qt})),n.d(t,"Linking",(function(){return tn})),n.d(t,"NativeEventEmitter",(function(){return nn.a})),n.d(t,"NetInfo",(function(){return dn})),n.d(t,"PanResponder",(function(){return Sn})),n.d(t,"PixelRatio",(function(){return En})),n.d(t,"Platform",(function(){return He.a})),n.d(t,"Share",(function(){return Tn})),n.d(t,"StyleSheet",(function(){return B.a})),n.d(t,"UIManager",(function(){return Be.a})),n.d(t,"Vibration",(function(){return Cn})),n.d(t,"ActivityIndicator",(function(){return Rn})),n.d(t,"Button",(function(){return xr})),n.d(t,"CheckBox",(function(){return Lr})),n.d(t,"FlatList",(function(){return Si})),n.d(t,"Image",(function(){return Ne})),n.d(t,"ImageBackground",(function(){return Pi})),n.d(t,"KeyboardAvoidingView",(function(){return ki})),n.d(t,"ListView",(function(){return Hi})),n.d(t,"Modal",(function(){return Gi})),n.d(t,"Picker",(function(){return qi})),n.d(t,"ProgressBar",(function(){return Ji})),n.d(t,"RefreshControl",(function(){return Zr})),n.d(t,"SafeAreaView",(function(){return na})),n.d(t,"ScrollView",(function(){return ot})),n.d(t,"SectionList",(function(){return ma})),n.d(t,"Slider",(function(){return ga})),n.d(t,"StatusBar",(function(){return ya})),n.d(t,"SwipeableFlatList",(function(){return Oa})),n.d(t,"SwipeableListView",(function(){return Da})),n.d(t,"Switch",(function(){return Ua})),n.d(t,"Text",(function(){return dt})),n.d(t,"TextInput",(function(){return Ya})),n.d(t,"Touchable",(function(){return pr})),n.d(t,"TouchableHighlight",(function(){return ro})),n.d(t,"TouchableNativeFeedback",(function(){return io})),n.d(t,"TouchableOpacity",(function(){return Or})),n.d(t,"TouchableWithoutFeedback",(function(){return Ar})),n.d(t,"View",(function(){return Ee.a})),n.d(t,"VirtualizedList",(function(){return ao})),n.d(t,"YellowBox",(function(){return oo})),n.d(t,"ColorPropType",(function(){return l.a})),n.d(t,"EdgeInsetsPropType",(function(){return hr.a})),n.d(t,"PointPropType",(function(){return uo})),n.d(t,"DatePickerIOS",(function(){return co})),n.d(t,"DrawerLayoutAndroid",(function(){return lo})),n.d(t,"ImageEditor",(function(){return fo})),n.d(t,"ImageStore",(function(){return po})),n.d(t,"InputAccessoryView",(function(){return ho})),n.d(t,"MaskedViewIOS",(function(){return vo})),n.d(t,"NavigatorIOS",(function(){return mo})),n.d(t,"PickerIOS",(function(){return go})),n.d(t,"ProgressBarAndroid",(function(){return yo})),n.d(t,"ProgressViewIOS",(function(){return bo})),n.d(t,"SegmentedControlIOS",(function(){return _o})),n.d(t,"SnapshotViewIOS",(function(){return Ao})),n.d(t,"TabBarIOS",(function(){return So})),n.d(t,"ToastAndroid",(function(){return Eo})),n.d(t,"ToolbarAndroid",(function(){return wo})),n.d(t,"ViewPagerAndroid",(function(){return To})),n.d(t,"WebView",(function(){return Po})),n.d(t,"ActionSheetIOS",(function(){return Co})),n.d(t,"AlertIOS",(function(){return Oo})),n.d(t,"CameraRoll",(function(){return ko})),n.d(t,"DatePickerAndroid",(function(){return Io})),n.d(t,"ImagePickerIOS",(function(){return xo})),n.d(t,"PermissionsAndroid",(function(){return Do})),n.d(t,"PushNotificationIOS",(function(){return Ro})),n.d(t,"Settings",(function(){return Mo})),n.d(t,"StatusBarIOS",(function(){return No})),n.d(t,"Systrace",(function(){return Lo})),n.d(t,"TimePickerAndroid",(function(){return jo})),n.d(t,"TVEventHandler",(function(){return Bo})),n.d(t,"VibrationIOS",(function(){return Uo}));var r=n(36),i=n(18),a=n(166),o=n(198),s=n(167),u=n(89),c=n(88),l=n(24),d=n(128),f=n(0),p=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=Object(f.oneOfType)([f.number,f.string]),m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},d.a,{color:l.a,fontFamily:f.string,fontFeatureSettings:f.string,fontSize:v,fontStyle:f.string,fontWeight:f.string,fontVariant:f.array,letterSpacing:v,lineHeight:v,textAlign:Object(f.oneOf)(["center","end","inherit","justify","justify-all","left","right","start"]),textAlignVertical:f.string,textDecorationColor:l.a,textDecorationLine:f.string,textDecorationStyle:f.string,textShadowColor:l.a,textShadowOffset:Object(f.shape)({width:f.number,height:f.number}),textShadowRadius:f.number,textTransform:Object(f.oneOf)(["capitalize","lowercase","none","uppercase"]),writingDirection:Object(f.oneOf)(["auto","ltr","rtl"]),textIndent:v,textOverflow:f.string,textRendering:Object(f.oneOf)(["auto","geometricPrecision","optimizeLegibility","optimizeSpeed"]),unicodeBidi:Object(f.oneOf)(["normal","bidi-override","embed","isolate","isolate-override","plaintext"]),whiteSpace:f.string,wordBreak:Object(f.oneOf)(["normal","break-all","break-word","keep-all"]),wordWrap:f.string,MozOsxFontSmoothing:f.string,WebkitFontSmoothing:f.string}),g={accessibilityComponentType:f.string,accessibilityLabel:f.string,accessibilityLiveRegion:Object(f.oneOf)(["assertive","none","polite"]),accessibilityRole:Object(f.oneOf)(["button","heading","label","link","listitem","none"]),accessibilityTraits:Object(f.oneOfType)([f.array,f.string]),accessible:f.bool,children:f.any,importantForAccessibility:Object(f.oneOf)(["auto","no","no-hide-descendants","yes"]),nativeID:f.string,numberOfLines:f.number,onBlur:f.func,onFocus:f.func,onLayout:f.func,onPress:f.func,selectable:f.bool,style:Object(c.a)(m),testID:f.string,onContextMenu:f.func,itemID:f.string,itemRef:f.string,itemProp:f.string,itemScope:f.string,itemType:f.string},y=n(236).a;function b(){}var _={fetch:function(){return new Promise((function(e,t){e(!0)}))},addEventListener:function(e,t){return{remove:b}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){}},A=function(){function e(){}return e.alert=function(){},e}(),S=n(29),E=n(16),w=n(4),T=n.n(w),P=E.a.shouldUseNativeDriver;function C(e,t,n){var r=[];T()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof S.a)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"==typeof t)for(var i in t)e(t[i],n.concat(i))}(n[0].nativeEvent,[]);var a=Object(i.a)(e);return r.forEach((function(e){E.a.API.addAnimatedEventToView(a,t,e)})),{detach:function(){r.forEach((function(e){E.a.API.removeAnimatedEventFromView(a,t,e.animatedValueTag)}))}}}var O=function(){function e(e,t){void 0===t&&(t={}),this._listeners=[],this._argMapping=e,t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=P(t)}var t=e.prototype;return t.__addListener=function(e){this._listeners.push(e)},t.__removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},t.__attach=function(e,t){T()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=C(e,t,this._argMapping)},t.__detach=function(e,t){T()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()},t.__getHandler=function(){var e=this;return this.__isNative?this._callListeners:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function e(t,n,r){if("number"==typeof n&&t instanceof S.a)t.setValue(n);else if("object"==typeof t)for(var i in t)e(t[i],n[i],i)};e.__isNative||e._argMapping.forEach((function(e,t){i(e,n[t],"arg"+t)})),e._callListeners.apply(e,n)}},t._callListeners=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))},t._validateMapping=function(){},e}(),k=n(47),I=n(34);var x=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new S.a(t):t,r._b="number"==typeof n?new S.a(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return this._a.__getValue()+this._b.__getValue()},i.interpolate=function(e){return new k.a(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(I.a);var D=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this)||this)._a=t,i._min=n,i._max=r,i._value=i._lastValue=i._a.__getValue(),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},i.interpolate=function(e){return new k.a(this,e)},i.__getValue=function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value},i.__attach=function(){this._a.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}},r}(I.a);var R=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new S.a(t):t,r._b="number"==typeof n?new S.a(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t&&console.error("Detected division by zero in AnimatedDivision"),e/t},i.interpolate=function(e){return new k.a(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(I.a);var M=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a=t,r._modulus=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus},i.interpolate=function(e){return new k.a(this,e)},i.__attach=function(){this._a.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}},r}(I.a);var N=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._a="number"==typeof t?new S.a(t):t,r._b="number"==typeof n?new S.a(n):n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._a.__makeNative(),this._b.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){return this._a.__getValue()*this._b.__getValue()},i.interpolate=function(e){return new k.a(this,e)},i.__attach=function(){this._a.__addChild(this),this._b.__addChild(this)},i.__detach=function(){this._a.__removeChild(this),this._b.__removeChild(this),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}},r}(I.a),L=n(17);var j=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this)._transforms=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){e.prototype.__makeNative.call(this),this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof L.a&&n.__makeNative()}}))},i.__getValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];r instanceof L.a?t[n]=r.__getValue():t[n]=r}return t}))},i.__getAnimatedValue=function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];r instanceof L.a?t[n]=r.__getAnimatedValue():t[n]=r}return t}))},i.__attach=function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof L.a&&r.__addChild(e)}}))},i.__detach=function(){var t=this;this._transforms.forEach((function(e){for(var n in e){var r=e[n];r instanceof L.a&&r.__removeChild(t)}})),e.prototype.__detach.call(this)},i.__getNativeConfig=function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof L.a?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:r})}})),E.a.validateTransform(e),{type:"transform",transforms:e}},r}(I.a),B=n(11);function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=B.a.flatten,F=function(e){var t,n;function r(t){var n;return n=e.call(this)||this,(t=V(t)||{}).transform&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}({},t,{transform:new j(t.transform)})),n._style=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._walkStyleAndGetValues=function(e){var t={};for(var n in e){var r=e[n];r instanceof L.a?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"==typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t},i.__getValue=function(){return this._walkStyleAndGetValues(this._style)},i._walkStyleAndGetAnimatedValues=function(e){var t={};for(var n in e){var r=e[n];r instanceof L.a?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"==typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t},i.__getAnimatedValue=function(){return this._walkStyleAndGetAnimatedValues(this._style)},i.__attach=function(){for(var e in this._style){var t=this._style[e];t instanceof L.a&&t.__addChild(this)}},i.__detach=function(){for(var t in this._style){var n=this._style[t];n instanceof L.a&&n.__removeChild(this)}e.prototype.__detach.call(this)},i.__makeNative=function(){for(var t in e.prototype.__makeNative.call(this),this._style){var n=this._style[t];n instanceof L.a&&n.__makeNative()}},i.__getNativeConfig=function(){var e={};for(var t in this._style)this._style[t]instanceof L.a&&(e[t]=this._style[t].__getNativeTag());return E.a.validateStyles(e),{type:"style",style:e}},r}(I.a);function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){var t,n;function r(t,n){var r;return r=e.call(this)||this,t.style&&(t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){H(e,t,n[t])}))}return e}({},t,{style:new F(t.style)})),r._props=t,r._callback=n,r.__attach(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.__getValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof L.a?(!n.__isNative||n instanceof F)&&(e[t]=n.__getValue()):e[t]=n instanceof O?n.__getHandler():n}return e},a.__getAnimatedValue=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof L.a&&(e[t]=n.__getAnimatedValue())}return e},a.__attach=function(){for(var e in this._props){var t=this._props[e];t instanceof L.a&&t.__addChild(this)}},a.__detach=function(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var n=this._props[t];n instanceof L.a&&n.__removeChild(this)}e.prototype.__detach.call(this)},a.update=function(){this._callback()},a.__makeNative=function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof L.a&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}},a.setNativeView=function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())},a.__connectAnimatedView=function(){T()(this.__isNative,'Expected node to be marked as "native"');var e=Object(i.a)(this._animatedView);T()(null!=e,"Unable to locate attached view in the native tree"),E.a.API.connectAnimatedNodeToView(this.__getNativeTag(),e)},a.__disconnectAnimatedView=function(){T()(this.__isNative,'Expected node to be marked as "native"');var e=Object(i.a)(this._animatedView);T()(null!=e,"Unable to locate attached view in the native tree"),E.a.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)},a.__getNativeConfig=function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof L.a&&(e[t]=n.__getNativeTag())}return{type:"props",props:e}},r}(L.a);function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){z(e,t,n[t])}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){var t,n;function r(t,n,r,i,a){var o;return(o=e.call(this)||this)._value=t,o._parent=n,o._animationClass=r,o._animationConfig=i,o._useNativeDriver=Object(E.c)(i),o._callback=a,o.__attach(),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this.__isNative=!0,this._parent.__makeNative(),e.prototype.__makeNative.call(this),this._value.__makeNative()},i.__getValue=function(){return this._parent.__getValue()},i.__attach=function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()},i.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},i.update=function(){this._value.animate(new this._animationClass(W({},this._animationConfig,{toValue:this._animationConfig.toValue.__getValue()})),this._callback)},i.__getNativeConfig=function(){var e=new this._animationClass(W({},this._animationConfig,{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:Object(E.b)(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}},r}(L.a),Y=n(127),q=n(397),X=n(240),Z=n(242),Q=n(1),J=n.n(Q);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var te=function(e){T()("string"==typeof e||e.prototype&&e.prototype.isReactComponent,"`createAnimatedComponent` does not support stateless functional components; use a class component instead.");var t=function(t){var n,r;function i(e){var n;return(n=t.call(this,e)||this)._invokeAnimatedPropsCallbackOnMount=!1,n._eventDetachers=[],n._animatedPropsCallback=function(){if(null==n._component)n._invokeAnimatedPropsCallbackOnMount=!0;else if(i.__skipSetNativeProps_FOR_TESTS_ONLY||"function"!=typeof n._component.setNativeProps)n.forceUpdate();else{if(n._propsAnimated.__isNative)throw new Error('Attempting to run JS driven animation on animated node that has been moved to "native" earlier by starting an animation with `useNativeDriver: true`');n._component.setNativeProps(n._propsAnimated.__getAnimatedValue())}},n._setComponentRef=n._setComponentRef.bind(ee(ee(n))),n}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=i.prototype;return a.componentWillUnmount=function(){this._propsAnimated&&this._propsAnimated.__detach(),this._detachNativeEvents()},a.setNativeProps=function(e){this._component.setNativeProps(e)},a.UNSAFE_componentWillMount=function(){this._attachProps(this.props)},a.componentDidMount=function(){this._invokeAnimatedPropsCallbackOnMount&&(this._invokeAnimatedPropsCallbackOnMount=!1,this._animatedPropsCallback()),this._propsAnimated.setNativeView(this._component),this._attachNativeEvents()},a._attachNativeEvents=function(){var e=this,t=this._component.getScrollableNode?this._component.getScrollableNode():this._component,n=function(n){var r=e.props[n];r instanceof O&&r.__isNative&&(r.__attach(t,n),e._eventDetachers.push((function(){return r.__detach(t,n)})))};for(var r in this.props)n(r)},a._detachNativeEvents=function(){this._eventDetachers.forEach((function(e){return e()})),this._eventDetachers=[]},a._attachProps=function(e){var t=this._propsAnimated;this._propsAnimated=new G(e,this._animatedPropsCallback),t&&t.__detach()},a.UNSAFE_componentWillReceiveProps=function(e){this._attachProps(e)},a.componentDidUpdate=function(e){this._component!==this._prevComponent&&this._propsAnimated.setNativeView(this._component),this._component===this._prevComponent&&e===this.props||(this._detachNativeEvents(),this._attachNativeEvents())},a.render=function(){var t=this._propsAnimated.__getValue();return J.a.createElement(e,$({},t,{ref:this._setComponentRef,collapsable:!this._propsAnimated.__isNative&&t.collapsable}))},a._setComponentRef=function(e){this._prevComponent=this._component,this._component=e},a.getNode=function(){return this._component},i}(J.a.Component);return t.__skipSetNativeProps_FOR_TESTS_ONLY=!1,e.propTypes,t.propTypes={},t};function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},ae=function(e,t,n){if(e instanceof Y.a){var r=ne({},t),i=ne({},t);for(var a in t){var o=t[a],s=o.x,u=o.y;void 0!==s&&void 0!==u&&(r[a]=s,i[a]=u)}var c=n(e.x,r),l=n(e.y,i);return ue([c,l],{stopTogether:!1})}return null},oe=function e(t,n){var r=function(e,t,n){n=ie(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof L.a?r.track(new K(r,t.toValue,Z.a,i,n)):r.animate(new Z.a(i),n)};return ae(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=ne({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},se=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(i){i.finished&&++t!==e.length?e[t].start(r):n&&n(i)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},ue=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),a={start:function(t){n!==e.length?e.forEach((function(o,s){var u=function(o){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(o));!o.finished&&i&&a.stop()};o?o.start(u):u({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return a},ce=function(e){return oe(new S.a(0),{toValue:0,delay:e,duration:0})};var le={Value:S.a,ValueXY:Y.a,Interpolation:k.a,Node:L.a,decay:function e(t,n){var r=function(e,t,n){n=ie(n,t);var r=e,i=t;r.stopTracking(),r.animate(new q.a(i),n)};return ae(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=ne({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:oe,spring:function e(t,n){var r=function(e,t,n){n=ie(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof L.a?r.track(new K(r,t.toValue,X.a,i,n)):r.animate(new X.a(i),n)};return ae(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var i=ne({},n,{iterations:e});r(t,i)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new x(e,t)},divide:function(e,t){return new R(e,t)},multiply:function(e,t){return new N(e,t)},modulo:function(e,t){return new M(e,t)},diffClamp:function(e,t,n){return new D(e,t,n)},delay:ce,sequence:se,parallel:ue,stagger:function(e,t){return ue(t.map((function(t,n){return se([ce(e*n),t])})))},loop:function(e,t){var n=(void 0===t?{}:t).iterations,r=void 0===n?-1:n,i=!1,a=0;return{start:function(t){e&&0!==r?e._isUsingNativeDriver()?e._startNativeLoop(r):function n(o){void 0===o&&(o={finished:!0}),i||a===r||!1===o.finished?t&&t(o):(a++,e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){i=!0,e.stop()},reset:function(){a=0,i=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new O(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:te,attachNativeEvent:C,forkEvent:function(e,t){return e?e instanceof O?(e.__addListener(t),e):function(){"function"==typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof O&&e.__removeListener(t)},__PropsOnlyForTests:G},de=n(30),fe=n(64),pe=[];function he(e){return pe[e-1]}var ve=n(169),me=0,ge={},ye={abort:function(e){var t=ge[""+e];t&&(t.onerror=t.onload=t=null,delete ge[""+e])},getSize:function(e,t,n){var r=!1,i=setInterval(o,16),a=ye.load(e,o,(function(){"function"==typeof n&&n();ye.abort(a),clearInterval(i)}));function o(){var e=ge[""+a];if(e){var n=e.naturalHeight,o=e.naturalWidth;n&&o&&(t(o,n),r=!0)}r&&(ye.abort(a),clearInterval(i))}},load:function(e,t,n){me+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t(e)};"function"==typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,ge[""+me]=r,me},prefetch:function(e){return new Promise((function(t,n){ye.load(e,t,n)}))}},be=ye,_e={center:"center",contain:"contain",cover:"cover",none:"none",repeat:"repeat",stretch:"stretch"},Ae=/^data:/,Se=function(){function e(){}return e.has=function(t){var n=e._entries;return Ae.test(t)||Boolean(n[t])},e.add=function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}},e.remove=function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()},e._cleanUpIfNeeded=function(){var t,n,r=e._entries,i=Object.keys(r);i.length+1>e._maximumEntries&&(i.forEach((function(e){var i=r[e];(!n||i.lastUsedTimestamp<n.lastUsedTimestamp)&&0===i.refCount&&(t=e,n=i)})),t&&delete r[t])},e}();Se._maximumEntries=256,Se._entries={};var Ee=n(10);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Pe(e,t,n[t])}))}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(e,t){return t?"LOADED":e?"PENDING":"IDLE"},Oe=/^(data:image\/svg\+xml;utf8,)(.*)/,ke=function(e){var t="";if("number"==typeof e){var n=he(e),r=n.scales[0],i=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+i+"."+n.type:""}else"string"==typeof e?t=e:e&&"string"==typeof e.uri&&(t=e.uri);if(t){var a=t.match(Oe);if(a){var o=a[1],s=a[2];return""+o+encodeURIComponent(s)}}return t},Ie=0,xe=function(e){var t,n;function i(t,n){var r;(r=e.call(this,t,n)||this)._filterId=0,r._imageRef=null,r._imageRequestId=null,r._imageState=null,r._isMounted=!1,r._createLayoutHandler=function(e){var t=r.props.onLayout;if("center"===e||"repeat"===e||t)return function(e){var n=e.nativeEvent.layout;t&&t(e),r.setState((function(){return{layout:n}}))}},r._getBackgroundSize=function(e){if(r._imageRef&&("center"===e||"repeat"===e)){var t=r._imageRef,n=t.naturalHeight,i=t.naturalWidth,a=r.state.layout,o=a.height,s=a.width;if(n&&i&&o&&s){var u=Math.min(1,s/i,o/n);return{backgroundSize:Math.ceil(u*i)+"px "+Math.ceil(u*n)+"px"}}}},r._onError=function(){var e=r.props,t=e.onError,n=e.source;r._updateImageState("ERRORED"),t&&t({nativeEvent:{error:"Failed to load resource "+ke(n)+" (404)"}}),r._onLoadEnd()},r._onLoad=function(e){var t=r.props,n=t.onLoad,i=t.source,a={nativeEvent:e};Se.add(ke(i)),r._updateImageState("LOADED"),n&&n(a),r._onLoadEnd()},r._setImageRef=function(e){r._imageRef=e};var i=ke(t.source),a=Se.has(i);return r.state={layout:{},shouldDisplaySource:a},r._imageState=Ce(i,a),r._filterId=Ie,Ie++,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.getSize=function(e,t,n){be.getSize(e,t,n)},i.prefetch=function(e){return be.prefetch(e)};var a=i.prototype;return a.componentDidMount=function(){this._isMounted=!0,"PENDING"===this._imageState?this._createImageLoader():"LOADED"===this._imageState&&this._onLoad({target:this._imageRef})},a.componentDidUpdate=function(e){var t=ke(e.source),n=ke(this.props.source);if(t!==n){Se.remove(t);var r=Se.has(n);r&&Se.add(n),this._updateImageState(Ce(n,r))}"PENDING"===this._imageState&&this._createImageLoader()},a.componentWillUnmount=function(){var e=ke(this.props.source);Se.remove(e),this._destroyImageLoader(),this._isMounted=!1},a.render=function(){var e=this.state.shouldDisplaySource,t=this.props,n=t.accessibilityLabel,i=t.accessible,a=t.blurRadius,o=t.defaultSource,s=t.draggable,u=t.source,c=t.testID,l=(t.capInsets,t.onError,t.onLayout,t.onLoad,t.onLoadEnd,t.onLoadStart,t.resizeMethod,t.resizeMode),d=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["accessibilityLabel","accessible","blurRadius","defaultSource","draggable","source","testID","capInsets","onError","onLayout","onLoad","onLoadEnd","onLoadStart","resizeMethod","resizeMode"]);var f=e?u:o,p=ke(f),h=function(e){if("number"==typeof e){var t=he(e);return{height:t.height,width:t.width}}if("object"==typeof e)return{height:e.height,width:e.width}}(f),v=p?'url("'+p+'")':null,m=Te({},B.a.flatten(this.props.style)),g=l||m.resizeMode||_e.cover,y=[],b=m.tintColor;if(m.filter&&y.push(m.filter),a&&y.push("blur("+a+"px)"),m.shadowOffset){var _=Object(ve.a)(m);_&&y.push("drop-shadow("+_+")")}m.tintColor&&y.push("url(#tint-"+this._filterId+")"),delete m.shadowColor,delete m.shadowOpacity,delete m.shadowOffset,delete m.shadowRadius,delete m.tintColor,delete m.overlayColor,delete m.resizeMode;var A=p?Object(r.a)("img",{alt:n||"",classList:[De.accessibilityImage],draggable:s||!1,ref:this._setImageRef,src:p}):null;return J.a.createElement(Ee.a,we({},d,{accessibilityLabel:n,accessible:i,onLayout:this._createLayoutHandler(g),style:[Re.root,this.context.isInAParentText&&Re.inline,h,m],testID:c}),J.a.createElement(Ee.a,{style:[Re.image,Me[g],this._getBackgroundSize(g),v&&{backgroundImage:v},y.length>0&&{filter:y.join(" ")}]}),A,function(e,t){return e&&null!=t?J.a.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},J.a.createElement("defs",null,J.a.createElement("filter",{id:"tint-"+t},J.a.createElement("feFlood",{floodColor:""+e}),J.a.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(b,this._filterId))},a._createImageLoader=function(){var e=this.props.source;this._destroyImageLoader();var t=ke(e);this._imageRequestId=be.load(t,this._onLoad,this._onError),this._onLoadStart()},a._destroyImageLoader=function(){this._imageRequestId&&(be.abort(this._imageRequestId),this._imageRequestId=null)},a._onLoadEnd=function(){var e=this.props.onLoadEnd;e&&e()},a._onLoadStart=function(){var e=this.props.onLoadStart;this._updateImageState("LOADING"),e&&e()},a._updateImageState=function(e){this._imageState=e;var t="LOADED"===this._imageState||"LOADING"===this._imageState;t!==this.state.shouldDisplaySource&&this._isMounted&&this.setState((function(){return{shouldDisplaySource:t}}))},i}(Q.Component);xe.displayName="Image",xe.contextTypes={isInAParentText:f.bool},xe.defaultProps={style:{}},xe.propTypes={};var De=fe.a.create({accessibilityImage:Te({},B.a.absoluteFillObject,{height:"100%",opacity:0,width:"100%",zIndex:-1})}),Re=B.a.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},image:Te({},B.a.absoluteFillObject,{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1})}),Me=B.a.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0 0",backgroundSize:"auto"},repeat:{backgroundPosition:"0 0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),Ne=Object(de.a)(xe),Le=n(54),je=n.n(Le),Be=n(25),Ue={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&Be.a.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&Be.a.blur(e))}},Ve=function(){Ue.blurTextInput(Ue.currentlyFocusedField())},Fe=n(65),He=n(72),Ge=n(37),We=n.n(Ge),ze={},Ke={Mixin:{scrollResponderMixinGetInitialState:function(){return{isTouching:!1,lastMomentumScrollBeginTime:0,lastMomentumScrollEndTime:0,observedScrollSinceBecomingResponder:!1,becameResponderWhileAnimating:!1}},scrollResponderHandleScrollShouldSetResponder:function(){return this.state.isTouching},scrollResponderHandleStartShouldSetResponder:function(){return!1},scrollResponderHandleStartShouldSetResponderCapture:function(e){return this.scrollResponderIsAnimating()},scrollResponderHandleResponderReject:function(){We()(!1,"ScrollView doesn't take rejection well - scrolls anyway")},scrollResponderHandleTerminationRequest:function(){return!this.state.observedScrollSinceBecomingResponder},scrollResponderHandleTouchEnd:function(e){var t=e.nativeEvent;this.state.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},scrollResponderHandleResponderRelease:function(e){this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=Ue.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.state.observedScrollSinceBecomingResponder||this.state.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),Ue.blurTextInput(t))},scrollResponderHandleScroll:function(e){this.state.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},scrollResponderHandleResponderGrant:function(e){this.state.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.state.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},scrollResponderHandleScrollBeginDrag:function(e){this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},scrollResponderHandleScrollEndDrag:function(e){this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},scrollResponderHandleMomentumScrollBegin:function(e){this.state.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},scrollResponderHandleMomentumScrollEnd:function(e){this.state.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},scrollResponderHandleTouchStart:function(e){this.state.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},scrollResponderHandleTouchMove:function(e){this.props.onTouchMove&&this.props.onTouchMove(e)},scrollResponderIsAnimating:function(){return Date.now()-this.state.lastMomentumScrollEndTime<16||this.state.lastMomentumScrollEndTime<this.state.lastMomentumScrollBeginTime},scrollResponderGetScrollableNode:function(){return this.getScrollableNode?this.getScrollableNode():Object(i.a)(this)},scrollResponderScrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||ze;e=r.x,t=r.y,n=r.animated}var i=this.scrollResponderGetScrollableNode(),a=e||0,o=t||0;"function"==typeof i.scroll?i.scroll({top:o,left:a,behavior:n?"smooth":"auto"}):(i.scrollLeft=a,i.scrollTop=o)},scrollResponderScrollWithoutAnimationTo:function(e,t){console.warn("`scrollResponderScrollWithoutAnimationTo` is deprecated. Use `scrollResponderScrollTo` instead"),this.scrollResponderScrollTo({x:e,y:t,animated:!1})},scrollResponderZoomTo:function(e,t){"ios"!==He.a.OS&&T()("zoomToRect is not implemented")},scrollResponderFlashScrollIndicators:function(){},scrollResponderScrollNativeHandleToKeyboard:function(e,t,n){this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,Be.a.measureLayout(e,Object(i.a)(this.getInnerViewNode()),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},scrollResponderInputMeasureAndScrollToKeyboard:function(e,t,n,r){var i=Fe.a.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var a=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(a=Math.max(0,a)),this.scrollResponderScrollTo({x:0,y:a,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},scrollResponderTextInputFocusError:function(e){console.error("Error measuring text field: ",e)},componentWillMount:function(){this.keyboardWillOpenTo=null,this.additionalScrollOffset=0},scrollResponderKeyboardWillShow:function(e){this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},scrollResponderKeyboardWillHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},scrollResponderKeyboardDidShow:function(e){e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},scrollResponderKeyboardDidHide:function(e){this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)}}},Ye=n(107),qe=n.n(Ye);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ze=function(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}},Qe=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._debouncedOnScrollEnd=qe()(t._handleScrollEnd,100),t._state={isScrolling:!1,scrollLastTick:0},t._createPreventableScrollHandler=function(e){return function(n){t.props.scrollEnabled?e&&e(n):n.preventDefault()}},t._handleScroll=function(e){e.persist(),e.stopPropagation();var n=t.props.scrollEventThrottle;t._debouncedOnScrollEnd(e),t._state.isScrolling?t._shouldEmitScrollEvent(t._state.scrollLastTick,n)&&t._handleScrollTick(e):t._handleScrollStart(e)},t._setViewRef=function(e){t._viewRef=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setNativeProps=function(e){this._viewRef&&this._viewRef.setNativeProps(e)},i.render=function(){var e=this.props,t=e.scrollEnabled,n=e.style,r=(e.alwaysBounceHorizontal,e.alwaysBounceVertical,e.automaticallyAdjustContentInsets,e.bounces,e.bouncesZoom,e.canCancelContentTouches,e.centerContent,e.contentInset,e.contentInsetAdjustmentBehavior,e.contentOffset,e.decelerationRate,e.directionalLockEnabled,e.endFillColor,e.indicatorStyle,e.keyboardShouldPersistTaps,e.maximumZoomScale,e.minimumZoomScale,e.onMomentumScrollBegin,e.onMomentumScrollEnd,e.onScrollBeginDrag,e.onScrollEndDrag,e.overScrollMode,e.pinchGestureEnabled,e.removeClippedSubviews,e.scrollEventThrottle,e.scrollIndicatorInsets,e.scrollPerfTag,e.scrollsToTop,e.showsHorizontalScrollIndicator,e.showsVerticalScrollIndicator,e.snapToInterval,e.snapToAlignment,e.zoomScale,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["scrollEnabled","style","alwaysBounceHorizontal","alwaysBounceVertical","automaticallyAdjustContentInsets","bounces","bouncesZoom","canCancelContentTouches","centerContent","contentInset","contentInsetAdjustmentBehavior","contentOffset","decelerationRate","directionalLockEnabled","endFillColor","indicatorStyle","keyboardShouldPersistTaps","maximumZoomScale","minimumZoomScale","onMomentumScrollBegin","onMomentumScrollEnd","onScrollBeginDrag","onScrollEndDrag","overScrollMode","pinchGestureEnabled","removeClippedSubviews","scrollEventThrottle","scrollIndicatorInsets","scrollPerfTag","scrollsToTop","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","snapToInterval","snapToAlignment","zoomScale"]));return J.a.createElement(Ee.a,Xe({},r,{onScroll:this._handleScroll,onTouchMove:this._createPreventableScrollHandler(this.props.onTouchMove),onWheel:this._createPreventableScrollHandler(this.props.onWheel),ref:this._setViewRef,style:B.a.compose(n,!t&&Je.scrollDisabled)}))},i._handleScrollStart=function(e){this._state.isScrolling=!0,this._state.scrollLastTick=Date.now()},i._handleScrollTick=function(e){var t=this.props.onScroll;this._state.scrollLastTick=Date.now(),t&&t(Ze(e))},i._handleScrollEnd=function(e){var t=this.props.onScroll;this._state.isScrolling=!1,t&&t(Ze(e))},i._shouldEmitScrollEvent=function(e,t){var n=Date.now()-e;return t>0&&n>=t},r}(Q.Component);Qe.defaultProps={scrollEnabled:!0,scrollEventThrottle:0},Qe.propTypes={};var Je=B.a.create({scrollDisabled:{touchAction:"none"}});function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tt(e,t,n[t])}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt={},rt=je()({displayName:"ScrollView",propTypes:et({},y,{contentContainerStyle:y.style,horizontal:f.bool,keyboardDismissMode:Object(f.oneOf)(["none","interactive","on-drag"]),onContentSizeChange:f.func,onScroll:f.func,pagingEnabled:f.bool,refreshControl:f.element,scrollEnabled:f.bool,scrollEventThrottle:f.number,stickyHeaderIndices:Object(f.arrayOf)(f.number),style:y.style}),mixins:[Ke.Mixin],getInitialState:function(){return this.scrollResponderMixinGetInitialState()},flashScrollIndicators:function(){this.scrollResponderFlashScrollIndicators()},setNativeProps:function(e){this._scrollViewRef&&this._scrollViewRef.setNativeProps(e)},getScrollResponder:function(){return this},getScrollableNode:function(){return Object(i.a)(this._scrollViewRef)},getInnerViewNode:function(){return Object(i.a)(this._innerViewRef)},scrollTo:function(e,t,n){if("number"==typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||nt;t=r.x,e=r.y,n=r.animated}this.getScrollResponder().scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},scrollToEnd:function(e){var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollResponder(),i=r.scrollResponderGetScrollableNode(),a=n?i.scrollWidth:0,o=n?0:i.scrollHeight;r.scrollResponderScrollTo({x:a,y:o,animated:t})},scrollWithoutAnimationTo:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),console.warn("`scrollWithoutAnimationTo` is deprecated. Use `scrollTo` instead"),this.scrollTo({x:t,y:e,animated:!1})},render:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,i=e.refreshControl,a=e.stickyHeaderIndices,o=e.pagingEnabled,s=(e.keyboardDismissMode,e.onScroll,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","keyboardDismissMode","onScroll"])),u={};r&&(u={onLayout:this._handleContentOnLayout});var c=!n&&Array.isArray(a),l=c||o?J.a.Children.map(this.props.children,(function(e,t){var n=c&&a.indexOf(t)>-1;return null!=e&&(n||o)?J.a.createElement(Ee.a,{style:B.a.compose(n&&at.stickyHeader,o&&at.pagingEnabledChild)},e):e})):this.props.children,d=J.a.createElement(Ee.a,$e({},u,{children:l,collapsable:!1,ref:this._setInnerViewRef,style:B.a.compose(n&&at.contentContainerHorizontal,t)})),f=n?at.baseHorizontal:at.baseVertical,p=n?at.pagingEnabledHorizontal:at.pagingEnabledVertical,h=et({},s,{style:[f,o&&p,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),v=Qe;return T()(void 0!==v,"ScrollViewClass must not be undefined"),i?J.a.cloneElement(i,{style:h.style},J.a.createElement(v,$e({},h,{ref:this._setScrollViewRef,style:f}),d)):J.a.createElement(v,$e({},h,{ref:this._setScrollViewRef}),d)},_handleContentOnLayout:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},_handleScroll:function(e){"on-drag"===this.props.keyboardDismissMode&&Ve(),this.scrollResponderHandleScroll(e)},_setInnerViewRef:function(e){this._innerViewRef=e},_setScrollViewRef:function(e){this._scrollViewRef=e}}),it={flexGrow:1,flexShrink:1,transform:[{translateZ:0}],WebkitOverflowScrolling:"touch"},at=B.a.create({baseVertical:et({},it,{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:et({},it,{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ot=rt,st=n(106);var ut=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{isInAParentText:!0}},a.render=function(){var e=this.props,t=e.dir,n=e.numberOfLines,i=e.onPress,a=e.selectable,o=e.style,s=(e.adjustsFontSizeToFit,e.allowFontScaling,e.ellipsizeMode,e.lineBreakMode,e.minimumFontScale,e.onLayout,e.onLongPress,e.pressRetentionOffset,e.selectionColor,e.suppressHighlighting,e.textBreakStrategy,e.tvParallaxProperties,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["dir","numberOfLines","onPress","selectable","style","adjustsFontSizeToFit","allowFontScaling","ellipsizeMode","lineBreakMode","minimumFontScale","onLayout","onLongPress","pressRetentionOffset","selectionColor","suppressHighlighting","textBreakStrategy","tvParallaxProperties"])),u=this.context.isInAParentText;i&&(s.accessible=!0,s.onClick=this._createPressHandler(i),s.onKeyDown=this._createEnterHandler(i)),s.classList=[this.props.className,ct.text,!0===this.context.isInAParentText&&ct.textHasAncestor,1===n&&ct.textOneLine,n>1&&ct.textMultiLine],s.dir=void 0!==t?t:"auto",s.style=[o,n>1&&{WebkitLineClamp:n},!1===a&&lt.notSelectable,i&&lt.pressable];var c=u?"span":"div";return Object(r.a)(c,s)},a._createEnterHandler=function(e){return function(t){13===t.keyCode&&e&&e(t)}},a._createPressHandler=function(e){return function(t){t.stopPropagation(),e&&e(t)}},i}(Q.Component);ut.displayName="Text",ut.childContextTypes={isInAParentText:f.bool},ut.contextTypes={isInAParentText:f.bool},ut.propTypes={};var ct=fe.a.create({text:{borderWidth:0,boxSizing:"border-box",color:"black",display:"inline",font:"14px System",margin:0,padding:0,whiteSpace:"pre-wrap",wordWrap:"break-word"},textHasAncestor:{color:"inherit",font:"inherit",whiteSpace:"inherit"},textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"}}),lt=B.a.create({notSelectable:{userSelect:"none"},pressable:{cursor:"pointer"}}),dt=Object(st.a)(Object(de.a)(ut));function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ft(e,t,n[t])}))}return e}({},le,{Image:le.createAnimatedComponent(Ne),ScrollView:le.createAnimatedComponent(ot),View:le.createAnimatedComponent(Ee.a),Text:le.createAnimatedComponent(dt)}),ht=n(172),vt=n(20),mt=n.n(vt),gt=n(134),yt=n.n(gt);function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _t=vt.canUseDOM&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),At=["change","memoryWarning"],St=_t?"webkitvisibilitychange":"visibilitychange",Et=_t?"webkitVisibilityState":"visibilityState",wt="background",Tt="active",Pt=[],Ct=function(){function e(){}var t,n,r;return e.addEventListener=function(t,n){if(e.isAvailable&&(T()(-1!==At.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),"change"===t)){var r=function(){return n(e.currentState)};Pt.push([n,r]),document.addEventListener(St,r,!1)}},e.removeEventListener=function(t,n){if(e.isAvailable&&(T()(-1!==At.indexOf(t),'Trying to remove listener for unknown event: "%s"',t),"change"===t)){var r=yt()(Pt,(function(e){return e[0]===n}));T()(-1!==r,"Trying to remove AppState listener for unregistered handler");var i=Pt[r][1];document.removeEventListener(St,i,!1),Pt.splice(r,1)}},t=e,r=[{key:"currentState",get:function(){if(!e.isAvailable)return Tt;switch(document[Et]){case"hidden":case"prerender":case"unloaded":return wt;default:return Tt}}}],(n=null)&&bt(t.prototype,n),r&&bt(t,r),e}();Ct.isAvailable=vt.canUseDOM&&document[Et];var Ot=n(398),kt=n.n(Ot),It=function(e,t){return new Promise((function(n,r){try{var i=e();t&&t(null,i),n(i)}catch(e){t&&t(e),r(e)}}))},xt=function(e,t,n){return Promise.all(e).then((function(e){var r=n?n(e):null;return t&&t(null,r),Promise.resolve(r)}),(function(e){return t&&t(e),Promise.reject(e)}))},Dt=function(){function e(){}return e.clear=function(e){return It((function(){window.localStorage.clear()}),e)},e.flushGetRequests=function(){},e.getAllKeys=function(e){return It((function(){for(var e=window.localStorage.length,t=[],n=0;n<e;n+=1){var r=window.localStorage.key(n);t.push(r)}return t}),e)},e.getItem=function(e,t){return It((function(){return window.localStorage.getItem(e)}),t)},e.multiGet=function(t,n){var r=t.map((function(t){return e.getItem(t)}));return xt(r,n,(function(e){return e.map((function(e,n){return[t[n],e]}))}))},e.setItem=function(e,t,n){return It((function(){window.localStorage.setItem(e,t)}),n)},e.multiSet=function(t,n){var r=t.map((function(t){return e.setItem(t[0],t[1])}));return xt(r,n)},e.mergeItem=function(e,t,n){return It((function(){!function(e,t){var n=window.localStorage.getItem(e),r=JSON.parse(n),i=JSON.parse(t),a=JSON.stringify(kt()({},r,i));window.localStorage.setItem(e,a)}(e,t)}),n)},e.multiMerge=function(t,n){var r=t.map((function(t){return e.mergeItem(t[0],t[1])}));return xt(r,n)},e.removeItem=function(e,t){return It((function(){return window.localStorage.removeItem(e)}),t)},e.multiRemove=function(t,n){var r=t.map((function(t){return e.removeItem(t)}));return xt(r,n)},e}();function Rt(){}var Mt,Nt={exitApp:Rt,addEventListener:function(){return{remove:Rt}},removeEventListener:Rt},Lt=function(){function e(){}return e.isAvailable=function(){return void 0===Mt&&(Mt="function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),Mt},e.getString=function(){return Promise.resolve("")},e.setString=function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var a=document.createRange();a.selectNodeContents(r),i.addRange(a);try{document.execCommand("copy"),t=!0}catch(e){}i.removeAllRanges(),n.removeChild(r)}return t},e}(),jt={Dimensions:{get windowPhysicalPixels(){var e=Fe.a.get("window"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}},get screenPhysicalPixels(){var e=Fe.a.get("screen"),t=e.width,n=e.height,r=e.fontScale,i=e.scale;return{width:t*i,height:n*i,scale:i,fontScale:r}}},get locale(){if(vt.canUseDOM)return window.navigator.languages?window.navigator.languages[0]:window.navigator.language},get totalMemory(){return vt.canUseDOM?window.navigator.deviceMemory:void 0},get userAgent(){return vt.canUseDOM?window.navigator.userAgent:""}},Bt=n(133).a,Ut=n(55),Vt={addListener:function(){return{remove:function(){}}},dismiss:function(){Ve()},removeAllListeners:function(){},removeListener:function(){}},Ft=n(66),Ht=p.a.checkPropTypes,Gt={spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"},Wt={opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"},zt=p.a.shape({duration:p.a.number,delay:p.a.number,springDamping:p.a.number,initialVelocity:p.a.number,type:p.a.oneOf(Object.keys(Gt)).isRequired,property:p.a.oneOf(Object.keys(Wt))}),Kt=p.a.shape({duration:p.a.number.isRequired,create:zt,update:zt,delete:zt});function Yt(e,t,n){Ht({config:Kt},{config:e},t,n)}function qt(e,t){Be.a.configureNextLayoutAnimation(e,t||function(){},(function(){}))}function Xt(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var Zt={easeInEaseOut:Xt(300,Gt.easeInEaseOut,Wt.opacity),linear:Xt(500,Gt.linear,Wt.opacity),spring:{duration:700,create:{type:Gt.linear,property:Wt.opacity},update:{type:Gt.spring,springDamping:.4},delete:{type:Gt.linear,property:Wt.opacity}}},Qt={configureNext:qt,create:Xt,Types:Gt,Properties:Wt,checkConfig:Yt,Presets:Zt,easeInEaseOut:qt.bind(null,Zt.easeInEaseOut),linear:qt.bind(null,Zt.linear),spring:qt.bind(null,Zt.spring)},Jt=vt.canUseDOM?window.location.href:"",$t={addEventListener:function(){},removeEventListener:function(){},canOpenURL:function(){return Promise.resolve(!0)},getInitialURL:function(){return Promise.resolve(Jt)},openURL:function(e){try{return en(e),Promise.resolve()}catch(e){return Promise.reject(e)}},_validateURL:function(e){T()("string"==typeof e,"Invalid URL: should be a string. Was: "+e),T()(e,"Invalid URL: cannot be empty")}},en=function(e){vt.canUseDOM&&(window.location=new URL(e,window.location).toString())},tn=$t,nn=n(237),rn=mt.a.canUseDOM&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection),an=function(){var e={effectiveType:"unknown",type:"unknown"};if(!rn)return e;for(var t in rn){var n=rn[t];"function"!=typeof n&&null!=n&&(e[t]=n)}return e},on={change:"change",connectionChange:"change"},sn=Object.keys(on),un=[],cn=[],ln={addEventListener:function(e,t){if(T()(-1!==sn.indexOf(e),'Trying to subscribe to unknown event: "%s"',e),"change"===e&&console.warn("Listening to event `change` is deprecated. Use `connectionChange` instead."),!rn)return console.error("Network Connection API is not supported. Not listening for connection type changes."),{remove:function(){}};var n=function(){return t(an())};return cn.push([t,n]),rn.addEventListener(on[e],n),{remove:function(){return ln.removeEventListener(on[e],t)}}},removeEventListener:function(e,t){T()(-1!==sn.indexOf(e),'Trying to unsubscribe from unknown event: "%s"',e),"change"===e&&console.warn("Listening to event `change` is deprecated. Use `connectionChange` instead.");var n=yt()(cn,(function(e){return e[0]===t}));T()(-1!==n,"Trying to remove NetInfo listener for unregistered handler");var r=cn[n][1];rn.removeEventListener(on[e],r),cn.splice(n,1)},fetch:function(){return console.warn("`fetch` is deprecated. Use `getConnectionInfo` instead."),new Promise((function(e,t){try{e(rn.type)}catch(t){e("unknown")}}))},getConnectionInfo:function(){return new Promise((function(e,t){e(an())}))},isConnected:{addEventListener:function(e,t){T()(-1!==sn.indexOf(e),'Trying to subscribe to unknown event: "%s"',e),"change"===e&&console.warn("Listening to event `change` is deprecated. Use `connectionChange` instead.");var n=function(){return t(!0)},r=function(){return t(!1)};return un.push([t,n,r]),window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),{remove:function(){return ln.isConnected.removeEventListener(on[e],t)}}},removeEventListener:function(e,t){T()(-1!==sn.indexOf(e),'Trying to subscribe to unknown event: "%s"',e),"change"===e&&console.warn("Listening to event `change` is deprecated. Use `connectionChange` instead.");var n=yt()(un,(function(e){return e[0]===t}));T()(-1!==n,"Trying to remove NetInfo connection listener for unregistered handler");var r=un[n],i=r[1],a=r[2];window.removeEventListener("online",i,!1),window.removeEventListener("offline",a,!1),un.splice(n,1)},fetch:function(){return new Promise((function(e,t){try{e(window.navigator.onLine)}catch(t){e(!0)}}))}}},dn=ln,fn={centroidDimension:function(e,t,n,r){var i=e.touchBank,a=0,o=0,s=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==s)s.touchActive&&s.currentTimeStamp>t&&(a+=r&&n?s.currentPageX:r&&!n?s.currentPageY:!r&&n?s.previousPageX:s.previousPageY,o=1);else for(var u=0;u<i.length;u++){var c=i[u];if(null!=c&&c.touchActive&&c.currentTimeStamp>=t){a+=r&&n?c.currentPageX:r&&!n?c.currentPageY:!r&&n?c.previousPageX:c.previousPageY,o++}}return o>0?a/o:fn.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return fn.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return fn.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return fn.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return fn.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return fn.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return fn.centroidDimension(e,0,!1,!0)},noCentroid:-1},pn=fn,hn=pn.currentCentroidXOfTouchesChangedAfter,vn=pn.currentCentroidYOfTouchesChangedAfter,mn=pn.previousCentroidXOfTouchesChangedAfter,gn=pn.previousCentroidYOfTouchesChangedAfter,yn=pn.currentCentroidX,bn=pn.currentCentroidY,_n={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=hn(t,e._accountsForMovesUpTo),e.moveY=vn(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=mn(t,n),i=hn(t,n),a=gn(t,n),o=vn(t,n),s=e.dx+(i-r),u=e.dy+(o-a),c=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(s-e.dx)/c,e.vy=(u-e.dy)/c,e.dx=s,e.dy=u,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null},n={stateID:Math.random()};return _n._initializeGestureState(n),{panHandlers:{onStartShouldSetResponder:function(t){return void 0!==e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return void 0!==e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&_n._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,void 0!==e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(_n._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(r){return t.handle||(t.handle=Ft.a.createInteractionHandle()),n.x0=yn(r.touchHistory),n.y0=bn(r.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(r,n),void 0===e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder()},onResponderReject:function(r){An(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){An(t,e.onPanResponderRelease,r,n),_n._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(_n._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,An(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){An(t,e.onPanResponderTerminate,r,n),_n._initializeGestureState(n)},onResponderTerminationRequest:function(t){return void 0===e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)}},getInteractionHandle:function(){return t.handle}}}};function An(e,t,n,r){e.handle&&(Ft.a.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,r)}var Sn=_n,En=function(){function e(){}return e.get=function(){return Fe.a.get("window").scale},e.getFontScale=function(){return Fe.a.get("window").fontScale||e.get()},e.getPixelSizeForLayoutSize=function(t){return Math.round(t*e.get())},e.roundToNearestPixel=function(t){var n=e.get();return Math.round(t*n)/n},e}();function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tn=function(){function e(){}var t,n,r;return e.share=function(e,t){return void 0===t&&(t={}),T()("object"==typeof e&&null!==e,"Content to share must be a valid object"),T()("string"==typeof e.url||"string"==typeof e.message,"At least one of URL and message is required"),T()("object"==typeof t&&null!==t,"Options must be a valid object"),T()(!e.title||"string"==typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))},t=e,r=[{key:"sharedAction",get:function(){return"sharedAction"}},{key:"dismissedAction",get:function(){return"dismissedAction"}}],(n=null)&&wn(t.prototype,n),r&&wn(t,r),e}(),Pn=function(e){"vibrate"in window.navigator&&window.navigator.vibrate(e)},Cn={cancel:function(){Pn(0)},vibrate:function(e){void 0===e&&(e=400),Pn(e)}};function On(){return(On=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var kn=function(e){return J.a.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e})},In=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.animating,n=e.color,r=e.hidesWhenStopped,i=e.size,a=e.style,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animating","color","hidesWhenStopped","size","style"]),s=J.a.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},kn({stroke:n,opacity:.2}),kn({stroke:n,strokeDasharray:80,strokeDashoffset:60}));return J.a.createElement(Ee.a,On({},o,{accessibilityRole:"progressbar","aria-valuemax":"1","aria-valuemin":"0",style:[xn.container,a]}),J.a.createElement(Ee.a,{children:s,style:["number"==typeof i?{height:i,width:i}:Dn[i],xn.animation,!t&&xn.animationPause,!t&&r&&xn.hidesWhenStopped]}))},r}(Q.Component);In.displayName="ActivityIndicator",In.defaultProps={animating:!0,color:"#1976D2",hidesWhenStopped:!0,size:"small"},In.propTypes={};var xn=B.a.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:[{rotate:"0deg"}]},"100%":{transform:[{rotate:"360deg"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),Dn=B.a.create({small:{width:20,height:20},large:{width:36,height:36}}),Rn=Object(de.a)(In),Mn=function(e){T()(!(e.delayPressIn<0||e.delayPressOut<0||e.delayLongPress<0),"Touchable components cannot have negative delay properties")},Nn=n(67),Ln=function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},jn=function(e){e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},Bn=Ln,Un={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||Bn,n.poolSize||(n.poolSize=10),n.release=jn,n},twoArgumentPooler:Ln},Vn=Un.twoArgumentPooler;function Fn(e,t){this.width=e,this.height=t}Fn.prototype.destructor=function(){this.width=null,this.height=null},Fn.getPooledFromElement=function(e){return Fn.getPooled(e.offsetWidth,e.offsetHeight)},Un.addPoolingTo(Fn,Vn);var Hn=Fn,Gn=(n(126),Un.twoArgumentPooler);function Wn(e,t){this.left=e,this.top=t}Wn.prototype.destructor=function(){this.left=null,this.top=null},Un.addPoolingTo(Wn,Gn);var zn=Wn,Kn=n(243),Yn=n.n(Kn);var qn="NOT_RESPONDER",Xn="RESPONDER_INACTIVE_PRESS_IN",Zn="RESPONDER_INACTIVE_PRESS_OUT",Qn="RESPONDER_ACTIVE_PRESS_IN",Jn="RESPONDER_ACTIVE_PRESS_OUT",$n="RESPONDER_ACTIVE_LONG_PRESS_IN",er="RESPONDER_ACTIVE_LONG_PRESS_OUT",tr="ERROR",nr={RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0},rr={RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0},ir={RESPONDER_ACTIVE_LONG_PRESS_IN:!0},ar="DELAY",or="RESPONDER_GRANT",sr="RESPONDER_RELEASE",ur="RESPONDER_TERMINATED",cr="ENTER_PRESS_RECT",lr="LEAVE_PRESS_RECT",dr="LONG_PRESS_DETECTED",fr={NOT_RESPONDER:{DELAY:tr,RESPONDER_GRANT:Xn,RESPONDER_RELEASE:tr,RESPONDER_TERMINATED:tr,ENTER_PRESS_RECT:tr,LEAVE_PRESS_RECT:tr,LONG_PRESS_DETECTED:tr},RESPONDER_INACTIVE_PRESS_IN:{DELAY:Qn,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:Xn,LEAVE_PRESS_RECT:Zn,LONG_PRESS_DETECTED:tr},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:Jn,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:Xn,LEAVE_PRESS_RECT:Zn,LONG_PRESS_DETECTED:tr},RESPONDER_ACTIVE_PRESS_IN:{DELAY:tr,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:Qn,LEAVE_PRESS_RECT:Jn,LONG_PRESS_DETECTED:$n},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:tr,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:Qn,LEAVE_PRESS_RECT:Jn,LONG_PRESS_DETECTED:tr},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:tr,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:$n,LEAVE_PRESS_RECT:er,LONG_PRESS_DETECTED:$n},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:tr,RESPONDER_GRANT:tr,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:$n,LEAVE_PRESS_RECT:er,LONG_PRESS_DETECTED:tr},error:{DELAY:qn,RESPONDER_GRANT:Xn,RESPONDER_RELEASE:qn,RESPONDER_TERMINATED:qn,ENTER_PRESS_RECT:qn,LEAVE_PRESS_RECT:qn,LONG_PRESS_DETECTED:qn}},pr={Mixin:{componentDidMount:function(){var e=this;this._touchableNode=Object(i.a)(this),this._touchableNode&&this._touchableNode.addEventListener&&(this._touchableBlurListener=function(t){e._isTouchableKeyboardActive&&(e.state.touchable.touchState&&e.state.touchable.touchState!==qn&&e.touchableHandleResponderTerminate({nativeEvent:t}),e._isTouchableKeyboardActive=!1)},this._touchableNode.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){this._touchableNode&&this._touchableNode.addEventListener&&this._touchableNode.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout)},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=qn,this.state.touchable.responderID=t,this._receiveSignal(or,e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):(this.state.touchable.positionOnActivate=null,this._handleDelay(e));var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this._receiveSignal(sr,e)},touchableHandleResponderTerminate:function(e){this._receiveSignal(ur,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.touchState!==Xn&&this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},i=r.left,a=r.top,o=r.right,s=r.bottom,u=this.touchableGetHitSlop?this.touchableGetHitSlop():null;u&&(i+=u.left,a+=u.top,o+=u.right,s+=u.bottom);var c=Yn.a.extractSingleTouch(e.nativeEvent),l=c&&c.pageX,d=c&&c.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(l,d,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(l>t.left-i&&d>t.top-a&&l<t.left+n.width+o&&d<t.top+n.height+s)this._receiveSignal(cr,e),this.state.touchable.touchState===Xn&&this._cancelLongPressDelayTimeout();else this._cancelLongPressDelayTimeout(),this._receiveSignal(lr,e)}},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&Be.a.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,i,a){(e||t||n||r||i||a)&&(this.state.touchable.positionOnActivate&&zn.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&Hn.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=zn.getPooled(i,a),this.state.touchable.dimensionsOnActivate=Hn.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal(ar,e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==Qn&&t!==$n?console.error("Attempted to transition from state `"+t+"` to `"+$n+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(dr,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,i=fr[r]&&fr[r][e];if(n||e!==sr){if(!i)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(i===tr)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==i&&(this._performSideEffectsForTransition(r,i,e,t),this.state.touchable.touchState=i)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===Qn||e===$n},_savePressInLocation:function(e){var t=Yn.a.extractSingleTouch(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY;this.pressInLocation={pageX:n,pageY:r,get locationX(){return t&&t.locationX},get locationY(){return t&&t.locationY}}},_getDistanceBetweenPoints:function(e,t,n,r){var i=e-n,a=t-r;return Math.sqrt(i*i+a*a)},_performSideEffectsForTransition:function(e,t,n,r){var i=this._isHighlight(e),a=this._isHighlight(t);if((n===ur||n===sr)&&this._cancelLongPressDelayTimeout(),!nr[e]&&nr[t]&&this._remeasureMetricsOnActivation(),rr[e]&&n===dr&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),a&&!i?this._startHighlight(r):!a&&i&&this._endHighlight(r),rr[e]&&n===sr){var o=!!this.props.onLongPress,s=ir[e]&&(!o||!this.touchableLongPressCancelsPress());(!ir[e]||s)&&this.touchableHandlePress&&(a||i||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){var t=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout((function(){t.touchableHandleActivePressOut(e)}),this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.which;13!==n&&32!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==qn||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==qn&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),13===n&&"link"===Nn.a.propsToAriaRole(this.props)||e.preventDefault())}},TOUCH_TARGET_DEBUG:!1,renderDebugView:function(e){e.color,e.hitSlop}},hr=n(90),vr=n(79),mr=n.n(vr);function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yr={top:20,left:20,right:20,bottom:30},br=je()({displayName:"TouchableWithoutFeedback",mixins:[mr.a,pr.Mixin],propTypes:{accessibilityComponentType:y.accessibilityComponentType,accessibilityLabel:f.string,accessibilityRole:y.accessibilityRole,accessibilityTraits:y.accessibilityTraits,accessible:f.bool,children:f.any,delayLongPress:f.number,delayPressIn:f.number,delayPressOut:f.number,disabled:f.bool,hitSlop:hr.a,onLayout:f.func,onLongPress:f.func,onPress:f.func,onPressIn:f.func,onPressOut:f.func,pressRetentionOffset:hr.a,testID:f.string},getInitialState:function(){return this.touchableGetInitialState()},componentDidMount:function(){Mn(this.props)},componentWillReceiveProps:function(e){Mn(e)},touchableHandlePress:function(e){this.props.onPress&&this.props.onPress(e)},touchableHandleActivePressIn:function(e){this.props.onPressIn&&this.props.onPressIn(e)},touchableHandleActivePressOut:function(e){this.props.onPressOut&&this.props.onPressOut(e)},touchableHandleLongPress:function(e){this.props.onLongPress&&this.props.onLongPress(e)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||yr},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn||0},touchableGetLongPressDelayMS:function(){return 0===this.props.delayLongPress?0:this.props.delayLongPress||500},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut||0},render:function(){var e=this.props,t=(e.delayLongPress,e.delayPressIn,e.delayPressOut,e.onLongPress,e.onPress,e.onPressIn,e.onPressOut,e.pressRetentionOffset,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["delayLongPress","delayPressIn","delayPressOut","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset"])),n=J.a.Children.only(this.props.children),r=n.props.children;We()(!n.type||"Text"!==n.type.displayName,"TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See "+(n._owner&&n._owner.getName&&n._owner.getName()||"<unknown>"));var i=pr.TOUCH_TARGET_DEBUG&&n.type&&"Text"===n.type.displayName?[!this.props.disabled&&_r.actionable,n.props.style,{color:"red"}]:[!this.props.disabled&&_r.actionable,n.props.style];return J.a.cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gr(e,t,n[t])}))}return e}({},t,{accessible:!1!==this.props.accessible,children:r,onKeyDown:this.touchableHandleKeyEvent,onKeyUp:this.touchableHandleKeyEvent,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,style:i}))}}),_r=B.a.create({actionable:{cursor:"pointer",touchAction:"manipulation"}}),Ar=br;function Sr(){return(Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wr=B.a.flatten,Tr={top:20,left:20,right:20,bottom:30},Pr=je()({displayName:"TouchableOpacity",mixins:[pr.Mixin],propTypes:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Er(e,t,n[t])}))}return e}({},Ar.propTypes,{activeOpacity:f.number,focusedOpacity:f.number}),getDefaultProps:function(){return{activeOpacity:.2,focusedOpacity:.7}},getInitialState:function(){return this.touchableGetInitialState()},componentDidMount:function(){Mn(this.props)},componentWillReceiveProps:function(e){Mn(e)},setOpacityTo:function(e,t){this.setNativeProps({style:{opacity:e,transitionDuration:t?t/1e3+"s":"0s"}})},touchableHandleActivePressIn:function(e){"onResponderGrant"===e.dispatchConfig.registrationName?this._opacityActive(0):this._opacityActive(150),this.props.onPressIn&&this.props.onPressIn(e)},touchableHandleActivePressOut:function(e){this._opacityInactive(250),this.props.onPressOut&&this.props.onPressOut(e)},touchableHandlePress:function(e){this.props.onPress&&this.props.onPress(e)},touchableHandleLongPress:function(e){this.props.onLongPress&&this.props.onLongPress(e)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||Tr},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn||0},touchableGetLongPressDelayMS:function(){return 0===this.props.delayLongPress?0:this.props.delayLongPress||500},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut},_opacityActive:function(e){this.setOpacityTo(this.props.activeOpacity,e)},_opacityInactive:function(e){this.setOpacityTo(this._getChildStyleOpacityWithDefault(),e)},_opacityFocused:function(){this.setOpacityTo(this.props.focusedOpacity)},_getChildStyleOpacityWithDefault:function(){var e=wr(this.props.style)||{};return void 0===e.opacity?1:e.opacity},render:function(){var e=this.props,t=(e.activeOpacity,e.focusedOpacity,e.delayLongPress,e.delayPressIn,e.delayPressOut,e.onLongPress,e.onPress,e.onPressIn,e.onPressOut,e.pressRetentionOffset,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["activeOpacity","focusedOpacity","delayLongPress","delayPressIn","delayPressOut","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset"]));return J.a.createElement(Ee.a,Sr({},t,{accessible:!1!==this.props.accessible,onKeyDown:this.touchableHandleKeyEvent,onKeyUp:this.touchableHandleKeyEvent,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,style:[Cr.root,!this.props.disabled&&Cr.actionable,this.props.style]}),this.props.children,pr.renderDebugView({color:"blue",hitSlop:this.props.hitSlop}))}}),Cr=B.a.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),Or=Object(de.a)(Pr);var kr=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.accessibilityLabel,n=e.color,r=e.disabled,i=e.onPress,a=e.testID,o=e.title;return J.a.createElement(Or,{accessibilityLabel:t,accessibilityRole:"button",disabled:r,onPress:i,style:[Ir.button,n&&{backgroundColor:n},r&&Ir.buttonDisabled],testID:a},J.a.createElement(dt,{style:[Ir.text,r&&Ir.textDisabled]},o))},r}(Q.Component);kr.propTypes={};var Ir=B.a.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}}),xr=kr;function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Mr=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._handleChange=function(e){var n=t.props,r=n.onChange,i=n.onValueChange,a=e.nativeEvent.target.checked;e.nativeEvent.value=a,r&&r(e),i&&i(a)},t._setCheckboxRef=function(e){t._checkboxElement=e},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.blur=function(){Be.a.blur(this._checkboxElement)},a.focus=function(){Be.a.focus(this._checkboxElement)},a.render=function(){var e=this.props,t=e.color,n=e.disabled,i=(e.onChange,e.onValueChange,e.style),a=e.value,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","disabled","onChange","onValueChange","style","value"]),s=J.a.createElement(Ee.a,{style:[Nr.fakeControl,a&&Nr.fakeControlChecked,a&&t&&{backgroundColor:t,borderColor:t},n&&Nr.fakeControlDisabled,a&&n&&Nr.fakeControlCheckedAndDisabled]}),u=Object(r.a)("input",{checked:a,disabled:n,onChange:this._handleChange,ref:this._setCheckboxRef,style:[Nr.nativeControl,Nr.cursorInherit],type:"checkbox"});return J.a.createElement(Ee.a,Rr({},o,{style:[Nr.root,i,n&&Nr.cursorDefault]}),s,u)},i}(Q.Component);Mr.displayName="CheckBox",Mr.defaultProps={disabled:!1,value:!1},Mr.propTypes={};var Nr=B.a.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dr(e,t,n[t])}))}return e}({},B.a.absoluteFillObject,{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})}),Lr=Object(de.a)(Mr);var jr=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setNativeProps=function(){},i.render=function(){return J.a.createElement(Ee.a,{style:[Br,this.props.style]},this.props.children)},r}(Q.Component),Br={},Ur=jr,Vr=function(){function e(e,t){this._delay=t,this._callback=e}var t=e.prototype;return t.dispose=function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)},t.schedule=function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=Ft.a.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}},e}(),Fr=n(173),Hr=n.n(Fr);function Gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr=function(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0},zr=[],Kr=10,Yr=null,qr=function(){function e(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new Wr,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(Yr||0)>Math.random(),this._resetData()}e.addListener=function(e){return We()(null!==Yr,"Call `FillRateHelper.setSampleRate` before `addListener`."),zr.push(e),{remove:function(){zr=zr.filter((function(t){return e!==t}))}}},e.setSampleRate=function(e){Yr=e},e.setMinSampleCount=function(e){Kr=e};var t=e.prototype;return t.activate=function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=Hr()())},t.deactivateAndFlush=function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<Kr)this._resetData();else{var t=Hr()()-e,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gr(e,t,n[t])}))}return e}({},this._info,{total_time_spent:t});zr.forEach((function(e){return e(n)})),this._resetData()}}},t.computeBlankness=function(e,t,n){if(!this._enabled||0===e.getItemCount(e.data)||null==this._samplesStartTime)return 0;var r=n.dOffset,i=n.offset,a=n.velocity,o=n.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(r));var s=Math.round(1e3*Math.abs(a)),u=Hr()();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=u-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=u-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,l=t.first,d=this._getFrameMetrics(l);l<=t.last&&(!d||!d.inLayout);)d=this._getFrameMetrics(l),l++;d&&l>0&&(c=Math.min(o,Math.max(0,d.offset-i)));for(var f=0,p=t.last,h=this._getFrameMetrics(p);p>=t.first&&(!h||!h.inLayout);)h=this._getFrameMetrics(p),p--;if(h&&p<e.getItemCount(e.data)-1){var v=h.offset+h.length;f=Math.min(o,Math.max(0,i+o-v))}var m=Math.round(c+f),g=m/o;return g>0?(this._anyBlankStartTime=u,this._info.any_blank_speed_sum+=s,this._info.any_blank_count++,this._info.pixels_blank+=m,g>.5&&(this._mostlyBlankStartTime=u,this._info.mostly_blank_count++)):(s<.01||Math.abs(r)<1)&&this.deactivateAndFlush(),g},t.enabled=function(){return this._enabled},t._resetData=function(){this._anyBlankStartTime=null,this._info=new Wr,this._mostlyBlankStartTime=null,this._samplesStartTime=null},e}();var Xr=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=(e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"]));return J.a.createElement(Ee.a,t)},r}(Q.Component);Xr.propTypes={};var Zr=Xr;function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Jr(e,t,n[t])}))}return e}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e,t,n,r,i,a){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var o=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?o/i:o/a)>=t}var ei=function(){function e(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}var t=e.prototype;return t.dispose=function(){this._timers.forEach(clearTimeout)},t.computeViewableItems=function(e,t,n,r,i){var a=this._config,o=a.itemVisiblePercentThreshold,s=a.viewAreaCoveragePercentThreshold,u=null!=s,c=u?s:o;T()(null!=c&&null!=o!=(null!=s),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var l=[];if(0===e)return l;var d=-1,f=i||{first:0,last:e-1},p=f.first,h=f.last;T()(h<e,"Invalid render range "+JSON.stringify({renderRange:i,itemCount:e}));for(var v=p;v<=h;v++){var m=r(v);if(m){var g=m.offset-t,y=g+m.length;if(g<n&&y>0)d=v,$r(u,c,g,y,n,m.length)&&l.push(v);else if(d>=0)break}}return l},t.onUpdate=function(e,t,n,r,i,a,o){var s=this;if((!this._config.waitForInteraction||this._hasInteracted)&&0!==e&&r(0)){var u=[];if(e&&(u=this.computeViewableItems(e,t,n,r,o)),this._viewableIndices.length!==u.length||!this._viewableIndices.every((function(e,t){return e===u[t]})))if(this._viewableIndices=u,this._config.minimumViewTime){var c=setTimeout((function(){s._timers.delete(c),s._onUpdateSync(u,a,i)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(u,a,i)}},t.resetViewableIndices=function(){this._viewableIndices=[]},t.recordInteraction=function(){this._hasInteracted=!0},t._onUpdateSync=function(e,t,n){var r=this;e=e.filter((function(e){return r._viewableIndices.includes(e)}));var i=this._viewableItems,a=new Map(e.map((function(e){var t=n(e,!0);return[t.key,t]}))),o=[],s=a,u=Array.isArray(s),c=0;for(s=u?s:s[Symbol.iterator]();;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var d=l,f=d[0],p=d[1];i.has(f)||o.push(p)}var h=i,v=Array.isArray(h),m=0;for(h=v?h:h[Symbol.iterator]();;){var g;if(v){if(m>=h.length)break;g=h[m++]}else{if((m=h.next()).done)break;g=m.value}var y=g;f=y[0],p=y[1];a.has(f)||o.push(Qr({},p,{isViewable:!1}))}o.length>0&&(this._viewableItems=a,t({viewableItems:Array.from(a.values()),changed:o,viewabilityConfig:this._config}))},e}();function ti(e,t,n){for(var r=[],i=0,a=0;a<t;a++)for(var o=n(a),s=o.offset+o.length,u=0;u<e.length;u++)if(null==r[u]&&s>=e[u]&&(r[u]=a,i++,u===e.length-1))return T()(i===e.length,"bad offsets input, should be in increasing order: %s",JSON.stringify(e)),r;return r}function ni(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}function ri(e,t,n,r){var i=e.data,a=e.getItemCount,o=e.maxToRenderPerBatch,s=e.windowSize,u=a(i);if(0===u)return t;var c=r.offset,l=r.velocity,d=r.visibleLength,f=Math.max(0,c),p=f+d,h=(s-1)*d,v=l>1?"after":l<-1?"before":"none",m=Math.max(0,f-.5*h),g=Math.max(0,p+.5*h);if(n(u-1).offset<m)return{first:Math.max(0,u-1-o),last:u-1};var y=ti([m,f,p,g],e.getItemCount(e.data),n),b=y[0],_=y[1],A=y[2],S=y[3];b=null==b?0:b,S=null==S?u-1:S;for(var E={first:_=null==_?Math.max(0,b):_,last:A=null==A?Math.min(S,_+o-1):A},w=ni(t,E);!(_<=b&&A>=S);){var T=w>=o,P=_<=t.first||_>t.last,C=_>b&&(!T||!P),O=A>=t.last||A<t.first,k=A<S&&(!T||!O);if(T&&!C&&!k)break;!C||"after"===v&&k&&O||(P&&w++,_--),!k||"before"===v&&C&&P||(O&&w++,A++)}if(!(A>=_&&_>=0&&A<u&&_>=b&&A<=S&&_<=E.first&&A>=E.last))throw new Error("Bad window calculation "+JSON.stringify({first:_,last:A,itemCount:u,overscanFirst:b,overscanLast:S,visible:E}));return{first:_,last:A}}var ii=function(){var e;return(e=console).log.apply(e,arguments)};function ai(){return(ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){si(e,t,n[t])}))}return e}function si(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}B.a.flatten;var li=!1,di=function(e){ui(n,e);var t=n.prototype;function n(t,n){var r;(r=e.call(this,t,n)||this)._getScrollMetrics=function(){return r._scrollMetrics},r._getOutermostParentListRef=function(){return r._isNestedWithSameOrientation()?r.context.virtualizedList.getOutermostParentListRef():ci(ci(r))},r._getNestedChildState=function(e){var t=r._nestedChildLists.get(e);return t&&t.state},r._registerAsNestedChild=function(e){var t=r._cellKeysToChildListKeys.get(e.cellKey)||new Set;t.add(e.key),r._cellKeysToChildListKeys.set(e.cellKey,t);var n=r._nestedChildLists.get(e.key);T()(!(n&&null!==n.ref),"A VirtualizedList contains a cell which itself contains more than one VirtualizedList of the same orientation as the parent list. You must pass a unique listKey prop to each sibling list."),r._nestedChildLists.set(e.key,{ref:e.ref,state:null}),r._hasInteracted&&e.ref.recordInteraction()},r._unregisterAsNestedChild=function(e){r._nestedChildLists.set(e.key,{ref:null,state:e.state})},r._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&r._cellRefs[e];n&&n.updateSeparatorProps(t)}))},r._averageCellLength=0,r._cellKeysToChildListKeys=new Map,r._cellRefs={},r._frames={},r._footerLength=0,r._hasDataChangedSinceEndReached=!0,r._hasInteracted=!1,r._hasMore=!1,r._hasWarned={},r._highestMeasuredFrameIndex=0,r._headerLength=0,r._indicesToKeys=new Map,r._hasDoneInitialScroll=!1,r._nestedChildLists=new Map,r._offsetFromParentVirtualizedList=0,r._prevParentOffset=0,r._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0},r._scrollRef=null,r._sentEndForContentLength=0,r._totalCellLength=0,r._totalCellsMeasured=0,r._viewabilityTuples=[],r._captureScrollRef=function(e){r._scrollRef=e},r._defaultRenderScrollComponent=function(e){return r._isNestedWithSameOrientation()?J.a.createElement(Ee.a,e):e.onRefresh?(T()("boolean"==typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(e.refreshing)+"`"),J.a.createElement(ot,ai({},e,{refreshControl:J.a.createElement(Zr,{refreshing:e.refreshing,onRefresh:e.onRefresh,progressViewOffset:e.progressViewOffset})}))):J.a.createElement(ot,e)},r._onCellUnmount=function(e){var t=r._frames[e];t&&(r._frames[e]=oi({},t,{inLayout:!1}))},r._onLayout=function(e){r._isNestedWithSameOrientation()?r._measureLayoutRelativeToContainingList():r._scrollMetrics.visibleLength=r._selectLength(e.nativeEvent.layout),r.props.onLayout&&r.props.onLayout(e),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEndReached()},r._onLayoutEmpty=function(e){r.props.onLayout&&r.props.onLayout(e)},r._onLayoutFooter=function(e){r._footerLength=r._selectLength(e.nativeEvent.layout)},r._onLayoutHeader=function(e){r._headerLength=r._selectLength(e.nativeEvent.layout)},r._onContentSizeChange=function(e,t){e>0&&t>0&&null!=r.props.initialScrollIndex&&r.props.initialScrollIndex>0&&!r._hasDoneInitialScroll&&(r.scrollToIndex({animated:!1,index:r.props.initialScrollIndex}),r._hasDoneInitialScroll=!0),r.props.onContentSizeChange&&r.props.onContentSizeChange(e,t),r._scrollMetrics.contentLength=r._selectLength({height:t,width:e}),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEndReached()},r._convertParentScrollMetrics=function(e){var t=e.offset-r._offsetFromParentVirtualizedList,n=e.visibleLength,i=t-r._scrollMetrics.offset;return{visibleLength:n,contentLength:r._scrollMetrics.contentLength,offset:t,dOffset:i}},r._onScroll=function(e){r._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScroll(e)})),r.props.onScroll&&r.props.onScroll(e);var t=e.timeStamp,n=r._selectLength(e.nativeEvent.layoutMeasurement),i=r._selectLength(e.nativeEvent.contentSize),a=r._selectOffset(e.nativeEvent.contentOffset),o=a-r._scrollMetrics.offset;if(r._isNestedWithSameOrientation()){if(0===r._scrollMetrics.contentLength)return;var s=r._convertParentScrollMetrics({visibleLength:n,offset:a});n=s.visibleLength,i=s.contentLength,a=s.offset,o=s.dOffset}var u=r._scrollMetrics.timestamp?Math.max(1,t-r._scrollMetrics.timestamp):1,c=o/u;u>500&&r._scrollMetrics.dt>500&&i>5*n&&!r._hasWarned.perf&&(ii("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:u,prevDt:r._scrollMetrics.dt,contentLength:i}),r._hasWarned.perf=!0),r._scrollMetrics={contentLength:i,dt:u,dOffset:o,offset:a,timestamp:t,velocity:c,visibleLength:n},r._updateViewableItems(r.props.data),r.props&&(r._maybeCallOnEndReached(),0!==c&&r._fillRateHelper.activate(),r._computeBlankness(),r._scheduleCellsToRenderUpdate())},r._onScrollBeginDrag=function(e){r._nestedChildLists.forEach((function(t){t.ref&&t.ref._onScrollBeginDrag(e)})),r._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),r._hasInteracted=!0,r.props.onScrollBeginDrag&&r.props.onScrollBeginDrag(e)},r._onScrollEndDrag=function(e){var t=e.nativeEvent.velocity;t&&(r._scrollMetrics.velocity=r._selectOffset(t)),r._computeBlankness(),r.props.onScrollEndDrag&&r.props.onScrollEndDrag(e)},r._onMomentumScrollEnd=function(e){r._scrollMetrics.velocity=0,r._computeBlankness(),r.props.onMomentumScrollEnd&&r.props.onMomentumScrollEnd(e)},r._updateCellsToRender=function(){var e=r.props,t=e.data,n=e.getItemCount,i=e.onEndReachedThreshold,a=r._isVirtualizationDisabled();r._updateViewableItems(t),t&&r.setState((function(e){var o;if(a){var s=r._scrollMetrics,u=s.contentLength,c=s.offset,l=s.visibleLength,d=u-l-c<i*l?r.props.maxToRenderPerBatch:0;o={first:0,last:Math.min(e.last+d,n(t)-1)}}else r._scrollMetrics.visibleLength&&(r.props.initialScrollIndex&&!r._scrollMetrics.offset||(o=ri(r.props,e,r._getFrameMetricsApprox,r._scrollMetrics)));if(o&&r._nestedChildLists.size>0)for(var f=o.first,p=o.last,h=f;h<=p;h++){var v=r._indicesToKeys.get(h),m=v&&r._cellKeysToChildListKeys.get(v);if(m){var g=!1,y=m,b=Array.isArray(y),_=0;for(y=b?y:y[Symbol.iterator]();;){var A;if(b){if(_>=y.length)break;A=y[_++]}else{if((_=y.next()).done)break;A=_.value}var S=A,E=r._nestedChildLists.get(S);if(E&&E.ref&&E.ref.hasMore()){g=!0;break}}if(g){o.last=h;break}}}return o}))},r._createViewToken=function(e,t){var n=r.props,i=n.data,a=n.getItem,o=n.keyExtractor,s=a(i,e);return{index:e,item:s,key:o(s,e),isViewable:t}},r._getFrameMetricsApprox=function(e){var t=r._getFrameMetrics(e);if(t&&t.index===e)return t;var n=r.props.getItemLayout;return T()(!n,"Should not have to estimate frames when a measurement metrics function is provided"),{length:r._averageCellLength,offset:r._averageCellLength*e}},r._getFrameMetrics=function(e){var t=r.props,n=t.data,i=t.getItem,a=t.getItemCount,o=t.getItemLayout,s=t.keyExtractor;T()(a(n)>e,"Tried to get frame for out of range index "+e);var u=i(n,e),c=u&&r._frames[s(u,e)];c&&c.index===e||o&&(c=o(n,e));return c},T()(!t.onScroll||!t.onScroll.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),T()(t.windowSize>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),r._fillRateHelper=new qr(r._getFrameMetrics),r._updateCellsToRenderBatcher=new Vr(r._updateCellsToRender,r.props.updateCellsBatchingPeriod),r.props.viewabilityConfigCallbackPairs?r._viewabilityTuples=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new ei(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}})):r.props.onViewableItemsChanged&&r._viewabilityTuples.push({viewabilityHelper:new ei(r.props.viewabilityConfig),onViewableItemsChanged:r.props.onViewableItemsChanged});var i={first:r.props.initialScrollIndex||0,last:Math.min(r.props.getItemCount(r.props.data),(r.props.initialScrollIndex||0)+r.props.initialNumToRender)-1};if(r._isNestedWithSameOrientation()){var a=r.context.virtualizedList.getNestedChildState(r.props.listKey||r._getCellKey());a&&(i=a,r.state=a,r._frames=a.frames)}return r.state=i,r}return t.scrollToEnd=function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1,r=this._getFrameMetricsApprox(n),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:i,animated:t}:{y:i,animated:t})},t.scrollToIndex=function(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,a=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,u=e.index,c=e.viewOffset,l=e.viewPosition;if(T()(u>=0&&u<i(n),"scrollToIndex out of range: "+u+" vs "+(i(n)-1)),!a&&u>this._highestMeasuredFrameIndex)return T()(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});var d=this._getFrameMetricsApprox(u),f=Math.max(0,d.offset-(l||0)*(this._scrollMetrics.visibleLength-d.length))-(c||0);this._scrollRef.scrollTo(r?{x:f,animated:s}:{y:f,animated:s})},t.scrollToItem=function(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,a=(0,n.getItemCount)(r),o=0;o<a;o++)if(i(r,o)===t){this.scrollToIndex(oi({},e,{index:o}));break}},t.scrollToOffset=function(e){var t=e.animated,n=e.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:n,animated:t}:{y:n,animated:t})},t.recordInteraction=function(){this._nestedChildLists.forEach((function(e){e.ref&&e.ref.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props.data)},t.flashScrollIndicators=function(){this._scrollRef.flashScrollIndicators()},t.getScrollResponder=function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()},t.getScrollableNode=function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():Object(i.a)(this._scrollRef)},t.setNativeProps=function(e){this._scrollRef&&this._scrollRef.setNativeProps(e)},t.getChildContext=function(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}}},t._getCellKey=function(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||"rootList"},t.hasMore=function(){return this._hasMore},t.componentDidMount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this})},t.componentWillUnmount=function(){this._isNestedWithSameOrientation()&&this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}}),this._updateViewableItems(null),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush()},n.getDerivedStateFromProps=function(e,t){var n=e.data,r=(e.extraData,e.getItemCount),i=e.maxToRenderPerBatch;return{first:Math.max(0,Math.min(t.first,r(n)-1-i)),last:Math.max(0,Math.min(t.last,r(n)-1))}},t._pushCells=function(e,t,n,r,i,a){var o,s=this,u=this.props,c=u.CellRendererComponent,l=u.ItemSeparatorComponent,d=u.data,f=u.getItem,p=u.getItemCount,h=u.horizontal,v=u.keyExtractor,m=this.props.ListHeaderComponent?1:0,g=p(d)-1;i=Math.min(g,i);for(var y=function(r){var i=f(d,r),u=v(i,r);s._indicesToKeys.set(r,u),n.has(r+m)&&t.push(e.length),e.push(J.a.createElement(fi,{CellRendererComponent:c,ItemSeparatorComponent:r<g?l:void 0,cellKey:u,fillRateHelper:s._fillRateHelper,horizontal:h,index:r,inversionStyle:a,item:i,key:u,prevCellKey:o,onUpdateSeparators:s._onUpdateSeparators,onLayout:function(e){return s._onCellLayout(e,u,r)},onUnmount:s._onCellUnmount,parentProps:s.props,ref:function(e){s._cellRefs[u]=e}})),o=u},b=r;b<=i;b++)y(b)},t._isVirtualizationDisabled=function(){return this.props.disableVirtualization},t._isNestedWithSameOrientation=function(){var e=this.context.virtualizedList;return!(!e||!!e.horizontal!=!!this.props.horizontal)},t.render=function(){var e=this.props,t=e.ListEmptyComponent,n=e.ListFooterComponent,r=e.ListHeaderComponent,i=this.props,a=i.data,o=i.horizontal,s=this._isVirtualizationDisabled(),u=this.props.inverted?this.props.horizontal?hi.horizontallyInverted:hi.verticallyInverted:null,c=[],l=new Set(this.props.stickyHeaderIndices),d=[];if(r){l.has(0)&&d.push(0);var f=J.a.isValidElement(r)?r:J.a.createElement(r,null);c.push(J.a.createElement(pi,{cellKey:this._getCellKey()+"-header",key:"$header"},J.a.createElement(Ee.a,{onLayout:this._onLayoutHeader,style:u},f)))}var p=this.props.getItemCount(a);if(p>0){li=!1;var h=o?"width":"height",v=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1,m=this.state,g=m.first,y=m.last;this._pushCells(c,d,l,0,v,u);var b=Math.max(v+1,g);if(!s&&g>v+1){var _=!1;if(l.size>0)for(var A=r?1:0,S=b-1;S>v;S--)if(l.has(S+A)){var E,w,T=this._getFrameMetricsApprox(v),P=this._getFrameMetricsApprox(S),C=P.offset-(T.offset+T.length);c.push(J.a.createElement(Ee.a,{key:"$sticky_lead",style:(E={},E[h]=C,E)})),this._pushCells(c,d,l,S,S,u);var O=this._getFrameMetricsApprox(g).offset-(P.offset+P.length);c.push(J.a.createElement(Ee.a,{key:"$sticky_trail",style:(w={},w[h]=O,w)})),_=!0;break}if(!_){var k,I=this._getFrameMetricsApprox(v),x=this._getFrameMetricsApprox(g).offset-(I.offset+I.length);c.push(J.a.createElement(Ee.a,{key:"$lead_spacer",style:(k={},k[h]=x,k)}))}}if(this._pushCells(c,d,l,b,y,u),!this._hasWarned.keys&&li&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key property on each item or provide a custom keyExtractor."),this._hasWarned.keys=!0),!s&&y<p-1){var D,R=this._getFrameMetricsApprox(y),M=this.props.getItemLayout?p-1:Math.min(p-1,this._highestMeasuredFrameIndex),N=this._getFrameMetricsApprox(M),L=N.offset+N.length-(R.offset+R.length);c.push(J.a.createElement(Ee.a,{key:"$tail_spacer",style:(D={},D[h]=L,D)}))}}else if(t){var j=J.a.isValidElement(t)?t:J.a.createElement(t,null);c.push(J.a.createElement(Ee.a,{key:"$empty",onLayout:this._onLayoutEmpty,style:u},j))}if(n){var B=J.a.isValidElement(n)?n:J.a.createElement(n,null);c.push(J.a.createElement(pi,{cellKey:this._getCellKey()+"-footer",key:"$footer"},J.a.createElement(Ee.a,{onLayout:this._onLayoutFooter,style:u},B)))}var U=oi({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d});u&&(U.style=[u,this.props.style]),this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var V=J.a.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(U),{ref:this._captureScrollRef},c);return this.props.debug?J.a.createElement(Ee.a,{style:{flex:1}},V,this._renderDebugOverlay()):V},t.componentDidUpdate=function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||(this._hasDataChangedSinceEndReached=!0,this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}))),this._scheduleCellsToRenderUpdate()},t._computeBlankness=function(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics)},t._onCellLayout=function(e,t,n){var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},a=this._frames[t];a&&i.offset===a.offset&&i.length===a.length&&n===a.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(a?a.length:0),this._totalCellsMeasured+=a?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._computeBlankness()},t._measureLayoutRelativeToContainingList=function(){var e=this;Be.a.measureLayout(Object(i.a)(this),Object(i.a)(this.context.virtualizedList.getOutermostParentListRef()),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}),(function(t,n,r,i){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:i});var a=e._convertParentScrollMetrics(e.context.virtualizedList.getScrollMetrics());e._scrollMetrics.visibleLength=a.visibleLength,e._scrollMetrics.offset=a.offset}))},t._renderDebugOverlay=function(){for(var e=this._scrollMetrics.visibleLength/this._scrollMetrics.contentLength,t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this._getFrameMetricsApprox(r);i.inLayout&&t.push(i)}var a=this._getFrameMetricsApprox(this.state.first).offset,o=this._getFrameMetricsApprox(this.state.last),s=o.offset+o.length-a,u=this._scrollMetrics.offset,c=this._scrollMetrics.visibleLength,l={position:"absolute",top:0,right:0};return J.a.createElement(Ee.a,{style:oi({},l,{bottom:0,width:20,borderColor:"blue",borderWidth:1})},t.map((function(t,n){return J.a.createElement(Ee.a,{key:"f"+n,style:oi({},l,{left:0,top:t.offset*e,height:t.length*e,backgroundColor:"orange"})})})),J.a.createElement(Ee.a,{style:oi({},l,{left:0,top:a*e,height:s*e,borderColor:"green",borderWidth:2})}),J.a.createElement(Ee.a,{style:oi({},l,{left:0,top:u*e,height:c*e,borderColor:"red",borderWidth:2})}))},t._selectLength=function(e){return this.props.horizontal?e.width:e.height},t._selectOffset=function(e){return this.props.horizontal?e.x:e.y},t._maybeCallOnEndReached=function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onEndReached,i=e.onEndReachedThreshold,a=this._scrollMetrics,o=a.contentLength,s=a.visibleLength,u=o-s-a.offset;r&&this.state.last===n(t)-1&&u<i*s&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)&&(this._hasDataChangedSinceEndReached=!1,this._sentEndForContentLength=this._scrollMetrics.contentLength,r({distanceFromEnd:u}))},t._scheduleCellsToRenderUpdate=function(){var e=this.state,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,a=r.visibleLength,o=r.velocity,s=this.props.getItemCount(this.props.data),u=!1;if(t>0||n<s-1){var c=i-this._getFrameMetricsApprox(t).offset,l=this._getFrameMetricsApprox(n).offset-(i+a),d=this.props.onEndReachedThreshold*a/2;u=Math.min(c,l)<0||o<-2&&c<d||o>2&&l<d}if(u&&this._averageCellLength)return this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()},t._updateViewableItems=function(e){var t=this,n=this.props.getItemCount;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(n(e),t._scrollMetrics.offset,t._scrollMetrics.visibleLength,t._getFrameMetrics,t._createViewToken,r.onViewableItemsChanged,t.state)}))},n}(J.a.PureComponent);di.defaultProps={disableVirtualization:!1,horizontal:!1,initialNumToRender:10,keyExtractor:function(e,t){return null!=e.key?e.key:(li=!0,String(t))},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},di.contextTypes={virtualizedCell:p.a.shape({cellKey:p.a.string}),virtualizedList:p.a.shape({getScrollMetrics:p.a.func,horizontal:p.a.bool,getOutermostParentListRef:p.a.func,getNestedChildState:p.a.func,registerAsNestedChild:p.a.func,unregisterAsNestedChild:p.a.func})},di.childContextTypes={virtualizedList:p.a.shape({getScrollMetrics:p.a.func,horizontal:p.a.bool,getOutermostParentListRef:p.a.func,getNestedChildState:p.a.func,registerAsNestedChild:p.a.func,unregisterAsNestedChild:p.a.func})};var fi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item}},t._separators={highlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var e=t.props,n=e.cellKey,r=e.prevCellKey;t.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(e,n){var r=t.props,i=r.cellKey,a=r.prevCellKey;t.props.onUpdateSeparators(["leading"===e?a:i],n)}},t}ui(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:oi({},t.separatorProps,e)}}))},n.componentWillUnmount=function(){this.props.onUnmount(this.props.cellKey)},n.render=function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.fillRateHelper,i=e.horizontal,a=e.item,o=e.index,s=e.inversionStyle,u=e.parentProps,c=u.renderItem,l=u.getItemLayout;T()(c,"no renderItem!");var d=c({item:a,index:o,separators:this._separators}),f=!l||u.debug||r.enabled()?this.props.onLayout:void 0,p=n&&J.a.createElement(n,this.state.separatorProps),h=s?i?[hi.rowReverse,s]:[hi.columnReverse,s]:i?[hi.row,s]:s;return t?J.a.createElement(t,ai({},this.props,{style:h,onLayout:f}),d,p):J.a.createElement(Ee.a,{style:h,onLayout:f},d,p)},t}(J.a.Component);fi.childContextTypes={virtualizedCell:p.a.shape({cellKey:p.a.string})};var pi=function(e){function t(){return e.apply(this,arguments)||this}ui(t,e);var n=t.prototype;return n.getChildContext=function(){return{virtualizedCell:{cellKey:this.props.cellKey}}},n.render=function(){return this.props.children},t}(J.a.Component);pi.childContextTypes={virtualizedCell:p.a.shape({cellKey:p.a.string})};var hi=B.a.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]},row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),vi=di;function mi(){return(mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){yi(e,t,n[t])}))}return e}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=gi({},vi.defaultProps,{numColumns:1}),_i=function(e){var t,n;n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=i.prototype;function i(t){var n;return(n=e.call(this,t)||this)._hasWarnedLegacy=!1,n._virtualizedListPairs=[],n._captureRef=function(e){n._listRef=e},n._getItem=function(e,t){var r=n.props.numColumns;if(r>1){for(var i=[],a=0;a<r;a++){var o=e[t*r+a];o&&i.push(o)}return i}return e[t]},n._getItemCount=function(e){return e?Math.ceil(e.length/n.props.numColumns):0},n._keyExtractor=function(e,t){var r=n.props,i=r.keyExtractor,a=r.numColumns;return a>1?(T()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",a),e.map((function(e,n){return i(e,t*a+n)})).join(":")):i(e,t)},n._renderItem=function(e){var t=n.props,r=t.renderItem,i=t.numColumns,a=t.columnWrapperStyle;if(i>1){var o=e.item,s=e.index;return T()(Array.isArray(o),"Expected array of items with numColumns > 1"),J.a.createElement(Ee.a,{style:[{flexDirection:"row"},a]},o.map((function(t,n){var a=r({item:t,index:s*i+n,separators:e.separators});return a&&J.a.cloneElement(a,{key:n})})))}return r(e)},n.props.viewabilityConfigCallbackPairs?n._virtualizedListPairs=n.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):n.props.onViewableItemsChanged&&n._virtualizedListPairs.push({viewabilityConfig:n.props.viewabilityConfig,onViewableItemsChanged:n._createOnViewableItemsChanged(n.props.onViewableItemsChanged)}),n}return r.scrollToEnd=function(e){this._listRef&&this._listRef.scrollToEnd(e)},r.scrollToIndex=function(e){this._listRef&&this._listRef.scrollToIndex(e)},r.scrollToItem=function(e){this._listRef&&this._listRef.scrollToItem(e)},r.scrollToOffset=function(e){this._listRef&&this._listRef.scrollToOffset(e)},r.recordInteraction=function(){this._listRef&&this._listRef.recordInteraction()},r.flashScrollIndicators=function(){this._listRef&&this._listRef.flashScrollIndicators()},r.getScrollResponder=function(){if(this._listRef)return this._listRef.getScrollResponder()},r.getScrollableNode=function(){if(this._listRef)return this._listRef.getScrollableNode()},r.setNativeProps=function(e){this._listRef&&this._listRef.setNativeProps(e)},r.UNSAFE_componentWillMount=function(){this._checkProps(this.props)},r.UNSAFE_componentWillReceiveProps=function(e){T()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),T()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),T()(e.viewabilityConfig===this.props.viewabilityConfig,"Changing viewabilityConfig on the fly is not supported"),T()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(e)},r._checkProps=function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.legacyImplementation,a=e.numColumns,o=e.columnWrapperStyle,s=e.onViewableItemsChanged,u=e.viewabilityConfigCallbackPairs;T()(!t&&!n,"FlatList does not support custom data formats."),a>1?T()(!r,"numColumns does not support horizontal."):T()(!o,"columnWrapperStyle not supported for single column lists"),i&&(T()(1===a,"Legacy list does not support multiple columns."),this._hasWarnedLegacy||(console.warn("FlatList: Using legacyImplementation - some features not supported and performance may suffer"),this._hasWarnedLegacy=!0)),T()(!(s&&u),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")},r._pushMultiColumnViewable=function(e,t){var n=this.props,r=n.numColumns,i=n.keyExtractor;t.item.forEach((function(n,a){T()(null!=t.index,"Missing index!");var o=t.index*r+a;e.push(gi({},t,{item:n,key:i(n,o),index:o}))}))},r._createOnViewableItemsChanged=function(e){var t=this;return function(n){var r=t.props.numColumns;if(e)if(r>1){var i=[],a=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(a,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),e({viewableItems:a,changed:i})}else e(n)}},r.render=function(){return this.props.legacyImplementation?J.a.createElement(Ur,mi({},this.props,{items:this.props.data,ref:this._captureRef})):J.a.createElement(vi,mi({},this.props,{renderItem:this._renderItem,getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs}))},i}(J.a.PureComponent);_i.defaultProps=bi;var Ai=_i,Si=Ai,Ei=function(e){T()(e&&"function"==typeof e.setNativeProps,"Touchable child must either be native or forward setNativeProps to a native component")};function wi(){return(wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ti=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._viewRef=null,t._captureRef=function(e){t._viewRef=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setNativeProps=function(e){var t=this._viewRef;t&&(Ei(t),t.setNativeProps(e))},i.render=function(){var e=this.props,t=e.children,n=e.style,r=e.imageStyle,i=e.imageRef,a=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","style","imageStyle","imageRef"]);return J.a.createElement(Ee.a,{ref:this._captureRef,style:n},J.a.createElement(Ne,wi({},a,{ref:i,style:[B.a.absoluteFill,{width:n.width,height:n.height,zIndex:-1},r]})),t)},r}(Q.Component);Ti.defaultProps={style:{}},Ti.propTypes={};var Pi=Ti;function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Oi=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).frame=null,t.onLayout=function(e){t.frame=e.nativeEvent.layout},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.relativeKeyboardHeight=function(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-this.props.keyboardVerticalOffset;return Math.max(t.y+t.height-n,0)},i.onKeyboardChange=function(e){},i.render=function(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["behavior","contentContainerStyle","keyboardVerticalOffset"]));return J.a.createElement(Ee.a,Ci({onLayout:this.onLayout},t))},r}(Q.Component);Oi.defaultProps={keyboardVerticalOffset:0},Oi.propTypes={};var ki=Oi;var Ii=function(e){if(Array.isArray(e))return 0===e.length;if("object"==typeof e){for(var t in e)return!1;return!0}return!e};function xi(e,t,n){return e[t][n]}function Di(e,t){return e[t]}function Ri(e){if(Ii(e))return{};for(var t={},n=0;n<e.length;n++){var r=e[n];We()(!t[r],"Value appears more than once in array: "+r),t[r]=!0}return t}var Mi=function(){function e(e){T()(e&&"function"==typeof e.rowHasChanged,"Must provide a rowHasChanged function."),this._rowHasChanged=e.rowHasChanged,this._getRowData=e.getRowData||xi,this._sectionHeaderHasChanged=e.sectionHeaderHasChanged,this._getSectionHeaderData=e.getSectionHeaderData||Di,this._dataBlob=null,this._dirtyRows=[],this._dirtySections=[],this._cachedRowCount=0,this.rowIdentities=[],this.sectionIdentities=[]}var t=e.prototype;return t.cloneWithRows=function(e,t){var n=t?[[].concat(t)]:null;return this._sectionHeaderHasChanged||(this._sectionHeaderHasChanged=function(){return!1}),this.cloneWithRowsAndSections({s1:e},["s1"],n)},t.cloneWithRowsAndSections=function(t,n,r){T()("function"==typeof this._sectionHeaderHasChanged,"Must provide a sectionHeaderHasChanged function with section data."),T()(!n||!r||n.length===r.length,"row and section ids lengths must be the same");var i=new e({getRowData:this._getRowData,getSectionHeaderData:this._getSectionHeaderData,rowHasChanged:this._rowHasChanged,sectionHeaderHasChanged:this._sectionHeaderHasChanged});return i._dataBlob=t,i.sectionIdentities=n||Object.keys(t),r?i.rowIdentities=r:(i.rowIdentities=[],i.sectionIdentities.forEach((function(e){i.rowIdentities.push(Object.keys(t[e]))}))),i._cachedRowCount=function(e){for(var t=0,n=0;n<e.length;n++){var r=e[n];t+=r.length}return t}(i.rowIdentities),i._calculateDirtyArrays(this._dataBlob,this.sectionIdentities,this.rowIdentities),i},t.getRowCount=function(){return this._cachedRowCount},t.getRowAndSectionCount=function(){return this._cachedRowCount+this.sectionIdentities.length},t.rowShouldUpdate=function(e,t){var n=this._dirtyRows[e][t];return We()(void 0!==n,"missing dirtyBit for section, row: "+e+", "+t),n},t.getRowData=function(e,t){var n=this.sectionIdentities[e],r=this.rowIdentities[e][t];return We()(void 0!==n&&void 0!==r,"rendering invalid section, row: "+e+", "+t),this._getRowData(this._dataBlob,n,r)},t.getRowIDForFlatIndex=function(e){for(var t=e,n=0;n<this.sectionIdentities.length;n++){if(!(t>=this.rowIdentities[n].length))return this.rowIdentities[n][t];t-=this.rowIdentities[n].length}return null},t.getSectionIDForFlatIndex=function(e){for(var t=e,n=0;n<this.sectionIdentities.length;n++){if(!(t>=this.rowIdentities[n].length))return this.sectionIdentities[n];t-=this.rowIdentities[n].length}return null},t.getSectionLengths=function(){for(var e=[],t=0;t<this.sectionIdentities.length;t++)e.push(this.rowIdentities[t].length);return e},t.sectionHeaderShouldUpdate=function(e){var t=this._dirtySections[e];return We()(void 0!==t,"missing dirtyBit for section: "+e),t},t.getSectionHeaderData=function(e){if(!this._getSectionHeaderData)return null;var t=this.sectionIdentities[e];return We()(void 0!==t,"renderSection called on invalid section: "+e),this._getSectionHeaderData(this._dataBlob,t)},t._calculateDirtyArrays=function(e,t,n){for(var r,i=Ri(t),a={},o=0;o<n.length;o++){var s=t[o];We()(!a[s],"SectionID appears more than once: "+s),a[s]=Ri(n[o])}this._dirtySections=[],this._dirtyRows=[];for(var u=0;u<this.sectionIdentities.length;u++){r=!i[s=this.sectionIdentities[u]];var c=this._sectionHeaderHasChanged;!r&&c&&(r=c(this._getSectionHeaderData(e,s),this._getSectionHeaderData(this._dataBlob,s))),this._dirtySections.push(!!r),this._dirtyRows[u]=[];for(var l=0;l<this.rowIdentities[u].length;l++){var d=this.rowIdentities[u][l];r=!i[s]||!a[s][d]||this._rowHasChanged(this._getRowData(e,s,d),this._getRowData(this._dataBlob,s,d)),this._dirtyRows[u].push(!!r)}}},e}();var Ni=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.shouldComponentUpdate=function(e){return e.shouldUpdate},i.render=function(){return this.props.render()},r}(Q.Component);function Li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ji(e,t,n[t])}))}return e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ni.propTypes={};var Bi=function(e,t){for(var n=t.ref,r=e.ref,i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return null==r||null==n||"function"!=typeof r?J.a.cloneElement.apply(J.a,[e,t].concat(a)):J.a.cloneElement.apply(J.a,[e,Li({},t,{ref:function(e){n(e),r(e)}})].concat(a))};function Ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vi=u.a.ScrollViewManager,Fi=je()({displayName:"ListView",_childFrames:[],_sentEndForContentLength:null,_scrollComponent:null,_prevRenderedRowsCount:0,_visibleRows:{},scrollProperties:{},mixins:[Ke.Mixin,mr.a],statics:{DataSource:Mi},propTypes:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ui(e,t,n[t])}))}return e}({},ot.propTypes,{dataSource:p.a.instanceOf(Mi).isRequired,renderSeparator:p.a.func,renderRow:p.a.func.isRequired,initialListSize:p.a.number.isRequired,onEndReached:p.a.func,onEndReachedThreshold:p.a.number.isRequired,pageSize:p.a.number.isRequired,renderFooter:p.a.func,renderHeader:p.a.func,renderSectionHeader:p.a.func,renderScrollComponent:p.a.func.isRequired,scrollRenderAheadDistance:p.a.number.isRequired,onChangeVisibleRows:p.a.func,removeClippedSubviews:p.a.bool,stickySectionHeadersEnabled:p.a.bool,stickyHeaderIndices:p.a.arrayOf(p.a.number).isRequired,enableEmptySections:p.a.bool}),getMetrics:function(){return{contentLength:this.scrollProperties.contentLength,totalRows:this.props.enableEmptySections?this.props.dataSource.getRowAndSectionCount():this.props.dataSource.getRowCount(),renderedRows:this.state.curRenderedRowsCount,visibleRows:Object.keys(this._visibleRows).length}},getScrollResponder:function(){if(this._scrollComponent&&this._scrollComponent.getScrollResponder)return this._scrollComponent.getScrollResponder()},getScrollableNode:function(){return this._scrollComponent&&this._scrollComponent.getScrollableNode?this._scrollComponent.getScrollableNode():Object(i.a)(this._scrollComponent)},scrollTo:function(){var e;this._scrollComponent&&this._scrollComponent.scrollTo&&(e=this._scrollComponent).scrollTo.apply(e,arguments)},scrollToEnd:function(e){this._scrollComponent&&(this._scrollComponent.scrollToEnd?this._scrollComponent.scrollToEnd(e):console.warn("The scroll component used by the ListView does not support scrollToEnd. Check the renderScrollComponent prop of your ListView."))},flashScrollIndicators:function(){this._scrollComponent&&this._scrollComponent.flashScrollIndicators&&this._scrollComponent.flashScrollIndicators()},setNativeProps:function(e){this._scrollComponent&&this._scrollComponent.setNativeProps(e)},getDefaultProps:function(){return{initialListSize:10,pageSize:1,renderScrollComponent:function(e){return J.a.createElement(ot,e)},scrollRenderAheadDistance:1e3,onEndReachedThreshold:1e3,stickySectionHeadersEnabled:"ios"===He.a.OS||"web"===He.a.OS,stickyHeaderIndices:[]}},getInitialState:function(){return{curRenderedRowsCount:this.props.initialListSize,highlightedRow:{}}},getInnerViewNode:function(){return this._scrollComponent.getInnerViewNode()},UNSAFE_componentWillMount:function(){this.scrollProperties={visibleLength:null,contentLength:null,offset:0},this._childFrames=[],this._visibleRows={},this._prevRenderedRowsCount=0,this._sentEndForContentLength=null},componentDidMount:function(){var e=this;this.requestAnimationFrame((function(){e._measureAndUpdateScrollProps()}))},UNSAFE_componentWillReceiveProps:function(e){var t=this;this.props.dataSource===e.dataSource&&this.props.initialListSize===e.initialListSize||this.setState((function(e,n){return t._prevRenderedRowsCount=0,{curRenderedRowsCount:Math.min(Math.max(e.curRenderedRowsCount,n.initialListSize),n.enableEmptySections?n.dataSource.getRowAndSectionCount():n.dataSource.getRowCount())}}),(function(){return t._renderMoreRowsIfNeeded()}))},componentDidUpdate:function(){var e=this;this.requestAnimationFrame((function(){e._measureAndUpdateScrollProps()}))},_onRowHighlighted:function(e,t){this.setState({highlightedRow:{sectionID:e,rowID:t}})},render:function(){for(var e=[],t=this.props.dataSource,r=t.rowIdentities,i=0,a=[],o=this.props.renderSectionHeader,s=this.props.renderHeader&&this.props.renderHeader(),u=this.props.renderFooter&&this.props.renderFooter(),c=s?1:0,l=0;l<r.length;l++){var d=t.sectionIdentities[l],f=r[l];if(0===f.length){if(void 0===this.props.enableEmptySections){n(37)(!1,"In next release empty section headers will be rendered. In this release you can use 'enableEmptySections' flag to render empty section headers.");continue}n(4)(this.props.enableEmptySections,"In next release 'enableEmptySections' flag will be deprecated, empty section headers will always be rendered. If empty section headers are not desirable their indices should be excluded from sectionIDs object. In this release 'enableEmptySections' may only have value 'true' to allow empty section headers rendering.")}if(o){var p=o(t.getSectionHeaderData(l),d);p&&(e.push(J.a.cloneElement(p,{key:"s_"+d})),this.props.stickySectionHeadersEnabled&&a.push(c),c++)}for(var h=0;h<f.length;h++){var v=f[h],m=d+"_"+v,g=i>=this._prevRenderedRowsCount&&t.rowShouldUpdate(l,h),y=J.a.createElement(Ni,{key:"r_"+m,shouldUpdate:!!g,render:this.props.renderRow.bind(null,t.getRowData(l,h),d,v,this._onRowHighlighted)});if(e.push(y),c++,this.props.renderSeparator&&(h!==f.length-1||l===r.length-1)){var b=this.state.highlightedRow.sectionID===d&&(this.state.highlightedRow.rowID===v||this.state.highlightedRow.rowID===f[h+1]),_=this.props.renderSeparator(d,v,b);_&&(e.push(J.a.createElement(Ee.a,{key:"s_"+m},_)),c++)}if(++i===this.state.curRenderedRowsCount)break}if(i>=this.state.curRenderedRowsCount)break}var A=this.props,S=A.renderScrollComponent,E=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(A,["renderScrollComponent"]);return E.scrollEventThrottle||(E.scrollEventThrottle=50),void 0===E.removeClippedSubviews&&(E.removeClippedSubviews=!0),Object.assign(E,{onScroll:this._onScroll,stickyHeaderIndices:this.props.stickyHeaderIndices.concat(a),onKeyboardWillShow:void 0,onKeyboardWillHide:void 0,onKeyboardDidShow:void 0,onKeyboardDidHide:void 0}),Bi(S(E),{ref:this._setScrollComponentRef,onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,DEPRECATED_sendUpdatedChildFrames:void 0!==typeof E.onChangeVisibleRows},s,e,u)},_measureAndUpdateScrollProps:function(){var e=this.getScrollResponder();e&&e.getInnerViewNode&&Vi&&Vi.calculateChildFrames&&Vi.calculateChildFrames(Object(i.a)(e),this._updateVisibleRows)},_setScrollComponentRef:function(e){this._scrollComponent=e},_onContentSizeChange:function(e,t){var n=this.props.horizontal?e:t;n!==this.scrollProperties.contentLength&&(this.scrollProperties.contentLength=n,this._updateVisibleRows(),this._renderMoreRowsIfNeeded()),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t)},_onLayout:function(e){var t=e.nativeEvent.layout,n=t.width,r=t.height,i=this.props.horizontal?n:r;i!==this.scrollProperties.visibleLength&&(this.scrollProperties.visibleLength=i,this._updateVisibleRows(),this._renderMoreRowsIfNeeded()),this.props.onLayout&&this.props.onLayout(e)},_maybeCallOnEndReached:function(e){return!!(this.props.onEndReached&&this.scrollProperties.contentLength!==this._sentEndForContentLength&&this._getDistanceFromEnd(this.scrollProperties)<this.props.onEndReachedThreshold&&this.state.curRenderedRowsCount===(this.props.enableEmptySections?this.props.dataSource.getRowAndSectionCount():this.props.dataSource.getRowCount()))&&(this._sentEndForContentLength=this.scrollProperties.contentLength,this.props.onEndReached(e),!0)},_renderMoreRowsIfNeeded:function(){null!==this.scrollProperties.contentLength&&null!==this.scrollProperties.visibleLength&&this.state.curRenderedRowsCount!==(this.props.enableEmptySections?this.props.dataSource.getRowAndSectionCount():this.props.dataSource.getRowCount())?this._getDistanceFromEnd(this.scrollProperties)<this.props.scrollRenderAheadDistance&&this._pageInNewRows():this._maybeCallOnEndReached()},_pageInNewRows:function(){var e=this;this.setState((function(t,n){var r=Math.min(t.curRenderedRowsCount+n.pageSize,n.enableEmptySections?n.dataSource.getRowAndSectionCount():n.dataSource.getRowCount());return e._prevRenderedRowsCount=t.curRenderedRowsCount,{curRenderedRowsCount:r}}),(function(){e._measureAndUpdateScrollProps(),e._prevRenderedRowsCount=e.state.curRenderedRowsCount}))},_getDistanceFromEnd:function(e){return e.contentLength-e.visibleLength-e.offset},_updateVisibleRows:function(e){var t=this;if(this.props.onChangeVisibleRows){e&&e.forEach((function(e){t._childFrames[e.index]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))}(e)}));for(var n=!this.props.horizontal,r=this.props.dataSource,i=this.scrollProperties.offset,a=i+this.scrollProperties.visibleLength,o=r.rowIdentities,s=this.props.renderHeader&&this.props.renderHeader()?1:0,u=!1,c={},l=0;l<o.length;l++){var d=o[l];if(0!==d.length){var f=r.sectionIdentities[l];this.props.renderSectionHeader&&s++;var p=this._visibleRows[f];p||(p={});for(var h=0;h<d.length;h++){var v=d[h],m=this._childFrames[s];if(s++,!this.props.renderSeparator||h===d.length-1&&l!==o.length-1||s++,!m)break;var g=p[v],y=n?m.y:m.x,b=y+(n?m.height:m.width);if(!y&&!b||y===b)break;y>a||b<i?g&&(u=!0,delete p[v],c[f]||(c[f]={}),c[f][v]=!1):g||(u=!0,p[v]=!0,c[f]||(c[f]={}),c[f][v]=!0)}Ii(p)?this._visibleRows[f]&&delete this._visibleRows[f]:this._visibleRows[f]=p}}u&&this.props.onChangeVisibleRows(this._visibleRows,c)}},_onScroll:function(e){var t=!this.props.horizontal;this.scrollProperties.visibleLength=e.nativeEvent.layoutMeasurement[t?"height":"width"],this.scrollProperties.contentLength=e.nativeEvent.contentSize[t?"height":"width"],this.scrollProperties.offset=e.nativeEvent.contentOffset[t?"y":"x"],this._updateVisibleRows(e.nativeEvent.updatedChildFrames),this._maybeCallOnEndReached(e)||this._renderMoreRowsIfNeeded(),this.props.onEndReached&&this._getDistanceFromEnd(this.scrollProperties)>this.props.onEndReachedThreshold&&(this._sentEndForContentLength=null),this.props.onScroll&&this.props.onScroll(e)}}),Hi=Fi,Gi=Ur;var Wi=function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.color,n=e.label,i=e.testID,a=e.value,o={color:t};return Object(r.a)("option",{style:o,testID:i,value:a},n)},i}(Q.Component);function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wi.propTypes={};var Ki=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._handleChange=function(e){var n=t.props.onValueChange,r=e.target,i=r.selectedIndex,a=r.value;n&&n(a,i)},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.children,n=e.enabled,i=e.selectedValue,a=e.style,o=e.testID,s=(e.itemStyle,e.mode,e.prompt,e.onValueChange,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","enabled","selectedValue","style","testID","itemStyle","mode","prompt","onValueChange"]));return Object(r.a)("select",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){zi(e,t,n[t])}))}return e}({children:t,disabled:!1===n||void 0,onChange:this._handleChange,style:[Yi.initial,a],testID:o,value:i},s))},i}(Q.Component);Ki.Item=Wi,Ki.propTypes={};var Yi=B.a.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}}),qi=Object(de.a)(Ki);function Xi(){return(Xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Zi=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._setProgressRef=function(e){t._progressElement=e},t._updateProgressWidth=function(){var e=t.props,n=e.indeterminate,r=e.progress,i=n?"25%":(n?50:100*r)+"%";t._progressElement&&t._progressElement.setNativeProps({style:{width:i}})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this._updateProgressWidth()},i.componentDidUpdate=function(){this._updateProgressWidth()},i.render=function(){var e=this.props,t=e.color,n=e.indeterminate,r=e.progress,i=e.trackColor,a=e.style,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["color","indeterminate","progress","trackColor","style"]),s=100*r;return J.a.createElement(Ee.a,Xi({},o,{accessibilityRole:"progressbar","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":n?null:s,style:[Qi.track,a,{backgroundColor:i}]}),J.a.createElement(Ee.a,{ref:this._setProgressRef,style:[Qi.progress,n&&Qi.animation,{backgroundColor:t}]}))},r}(Q.Component);Zi.displayName="ProgressBar",Zi.defaultProps={color:"#1976D2",indeterminate:!1,progress:0,trackColor:"transparent"},Zi.propTypes={};var Qi=B.a.create({track:{height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:[{translateX:"-100%"}]},"100%":{transform:[{translateX:"400%"}]}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}}),Ji=Object(de.a)(Zi);function $i(){return($i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ea=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style,n=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["style"]);return J.a.createElement(Ee.a,$i({},n,{style:B.a.compose(ta.root,t)}))},r}(J.a.Component);ea.displayName="SafeAreaView",ea.propTypes={};var ta=B.a.create({root:{paddingTop:"env(safe-area-inset-top)",paddingRight:"env(safe-area-inset-right)",paddingBottom:"env(safe-area-inset-bottom)",paddingLeft:"env(safe-area-inset-left)"}}),na=ea;function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){aa(e,t,n[t])}))}return e}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ua=function(e){oa(n,e);var t=n.prototype;function n(t,n){var r;return(r=e.call(this,t,n)||this)._keyExtractor=function(e,t){var n=r._subExtractor(t);return n&&n.key||String(t)},r._convertViewable=function(e){T()(null!=e.index,"Received a broken ViewToken");var t=r._subExtractor(e.index);if(!t)return null;var n=t.section.keyExtractor||r.props.keyExtractor;return ia({},e,{index:t.index,key:n(e.item,t.index),section:t.section})},r._onViewableItemsChanged=function(e){var t=e.viewableItems,n=e.changed;r.props.onViewableItemsChanged&&r.props.onViewableItemsChanged({viewableItems:t.map(r._convertViewable,sa(sa(r))).filter(Boolean),changed:n.map(r._convertViewable,sa(sa(r))).filter(Boolean)})},r._renderItem=function(e){var t=e.item,n=e.index,i=r._subExtractor(n);if(!i)return null;var a=i.index;if(null==a){var o=i.section;if(!0===i.header){var s=r.props.renderSectionHeader;return s?s({section:o}):null}var u=r.props.renderSectionFooter;return u?u({section:o}):null}var c=i.section.renderItem||r.props.renderItem,l=r._getSeparatorComponent(n,i);return T()(c,"no renderItem!"),J.a.createElement(ca,{SeparatorComponent:l,LeadingSeparatorComponent:0===a?r.props.SectionSeparatorComponent:void 0,cellKey:i.key,index:a,item:t,leadingItem:i.leadingItem,leadingSection:i.leadingSection,onUpdateSeparator:r._onUpdateSeparator,prevCellKey:(r._subExtractor(n-1)||{}).key,ref:function(e){r._cellRefs[i.key]=e},renderItem:c,section:i.section,trailingItem:i.trailingItem,trailingSection:i.trailingSection})},r._onUpdateSeparator=function(e,t){var n=r._cellRefs[e];n&&n.updateSeparatorProps(t)},r._cellRefs={},r._captureRef=function(e){r._listRef=e},r.state=r._computeState(t),r}return t.scrollToLocation=function(e){for(var t=e.itemIndex+1,n=0;n<e.sectionIndex;n++)t+=this.props.sections[n].data.length+2;var r=ia({},e,{index:t});this._listRef.scrollToIndex(r)},t.getListRef=function(){return this._listRef},t._subExtractor=function(e){for(var t=e,n=this.props.keyExtractor,r=0;r<this.props.sections.length;r++){var i=this.props.sections[r],a=i.key||String(r);if(!((t-=1)>=i.data.length+1))return-1===t?{section:i,key:a+":header",index:null,header:!0,trailingSection:this.props.sections[r+1]}:t===i.data.length?{section:i,key:a+":footer",index:null,header:!1,trailingSection:this.props.sections[r+1]}:{section:i,key:a+":"+(i.keyExtractor||n)(i.data[t],t),index:t,leadingItem:i.data[t-1],leadingSection:this.props.sections[r-1],trailingItem:i.data[t+1],trailingSection:this.props.sections[r+1]};t-=i.data.length+1}},t._getSeparatorComponent=function(e,t){if(!(t=t||this._subExtractor(e)))return null;var n=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,r=this.props.SectionSeparatorComponent,i=e===this.state.childProps.getItemCount()-1,a=t.index===t.section.data.length-1;return r&&a?r:!n||a||i?null:n},t._computeState=function(e){var t=e.ListHeaderComponent?1:0,n=[],r=e.sections.reduce((function(e,r){return n.push(e+t),e+r.data.length+2}),0);return{childProps:ia({},e,{renderItem:this._renderItem,ItemSeparatorComponent:void 0,data:e.sections,getItemCount:function(){return r},getItem:la,keyExtractor:this._keyExtractor,onViewableItemsChanged:e.onViewableItemsChanged?this._onViewableItemsChanged:void 0,stickyHeaderIndices:e.stickySectionHeadersEnabled?n:void 0})}},t.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._computeState(e))},t.render=function(){return J.a.createElement(vi,ra({},this.state.childProps,{ref:this._captureRef}))},n}(J.a.PureComponent);ua.defaultProps=ia({},vi.defaultProps,{data:[]});var ca=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={separatorProps:{highlighted:!1,leadingItem:t.props.item,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.trailingItem,trailingSection:t.props.trailingSection},leadingSeparatorProps:{highlighted:!1,leadingItem:t.props.leadingItem,leadingSection:t.props.leadingSection,section:t.props.section,trailingItem:t.props.item,trailingSection:t.props.trailingSection}},t._separators={highlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!0})}))},unhighlight:function(){["leading","trailing"].forEach((function(e){return t._separators.updateProps(e,{highlighted:!1})}))},updateProps:function(e,n){var r=t.props,i=r.LeadingSeparatorComponent,a=r.cellKey,o=r.prevCellKey;"leading"===e&&i?t.setState((function(e){return{leadingSeparatorProps:ia({},e.leadingSeparatorProps,n)}})):t.props.onUpdateSeparator("leading"===e&&o||a,n)}},t}oa(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState((function(n){return{separatorProps:ia({},t.state.separatorProps,{leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),leadingSeparatorProps:ia({},t.state.leadingSeparatorProps,{leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection})}}))},n.updateSeparatorProps=function(e){this.setState((function(t){return{separatorProps:ia({},t.separatorProps,e)}}))},n.render=function(){var e=this.props,t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,r=e.item,i=e.index,a=e.section,o=this.props.renderItem({item:r,index:i,section:a,separators:this._separators}),s=t&&J.a.createElement(t,this.state.leadingSeparatorProps),u=n&&J.a.createElement(n,this.state.separatorProps);return s||u?J.a.createElement(Ee.a,null,s,o,u):o},t}(J.a.Component);function la(e,t){if(!e)return null;for(var n=t-1,r=0;r<e.length;r++){if(-1===n||n===e[r].data.length)return e[r];if(n<e[r].data.length)return e[r].data[n];n-=e[r].data.length+2}return null}var da=ua;function fa(){return(fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ha=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pa(e,t,n[t])}))}return e}({},da.defaultProps,{stickySectionHeadersEnabled:"ios"===He.a.OS}),va=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._captureRef=function(e){t._wrapperListRef=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.scrollToLocation=function(e){this._wrapperListRef.scrollToLocation(e)},i.recordInteraction=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()},i.flashScrollIndicators=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()},i.getScrollResponder=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()},i.getScrollableNode=function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()},i.setNativeProps=function(e){var t=this._wrapperListRef&&this._wrapperListRef.getListRef();t&&t.setNativeProps(e)},i.render=function(){var e=this.props.legacyImplementation?Ur:da;return J.a.createElement(e,fa({},this.props,{ref:this._captureRef}))},r}(J.a.PureComponent);va.defaultProps=ha;var ma=va,ga=Ur;var ya=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.setBackgroundColor=function(){},r.setBarStyle=function(){},r.setHidden=function(){},r.setNetworkActivityIndicatorVisible=function(){},r.setTranslucent=function(){},r.prototype.render=function(){return null},r}(Q.Component),ba=n(73),_a=n.n(ba),Aa=function(){return Ut.a.isRTL},Sa=je()({displayName:"SwipeableRow",_panResponder:{},_previousLeft:0,mixins:[mr.a],propTypes:{children:p.a.any,isOpen:p.a.bool,preventSwipeRight:p.a.bool,maxSwipeDistance:p.a.number.isRequired,onOpen:p.a.func.isRequired,onClose:p.a.func.isRequired,onSwipeEnd:p.a.func.isRequired,onSwipeStart:p.a.func.isRequired,shouldBounceOnMount:p.a.bool,slideoutView:p.a.node.isRequired,swipeThreshold:p.a.number.isRequired},getInitialState:function(){return{currentLeft:new pt.Value(this._previousLeft),isSwipeableViewRendered:!1,rowHeight:null}},getDefaultProps:function(){return{isOpen:!1,preventSwipeRight:!1,maxSwipeDistance:0,onOpen:_a.a,onClose:_a.a,onSwipeEnd:_a.a,onSwipeStart:_a.a,swipeThreshold:30}},UNSAFE_componentWillMount:function(){this._panResponder=Sn.create({onMoveShouldSetPanResponderCapture:this._handleMoveShouldSetPanResponderCapture,onPanResponderGrant:this._handlePanResponderGrant,onPanResponderMove:this._handlePanResponderMove,onPanResponderRelease:this._handlePanResponderEnd,onPanResponderTerminationRequest:this._onPanResponderTerminationRequest,onPanResponderTerminate:this._handlePanResponderEnd,onShouldBlockNativeResponder:function(e,t){return!1}})},componentDidMount:function(){var e=this;this.props.shouldBounceOnMount&&this.setTimeout((function(){e._animateBounceBack(400)}),700)},UNSAFE_componentWillReceiveProps:function(e){this.props.isOpen&&!e.isOpen&&this._animateToClosedPosition()},render:function(){var e;this.state.isSwipeableViewRendered&&this.state.rowHeight&&(e=J.a.createElement(Ee.a,{style:[Ea.slideOutContainer,{height:this.state.rowHeight}]},this.props.slideoutView));var t=J.a.createElement(pt.View,{onLayout:this._onSwipeableViewLayout,style:{transform:[{translateX:this.state.currentLeft}]}},this.props.children);return J.a.createElement(Ee.a,this._panResponder.panHandlers,e,t)},close:function(){this.props.onClose(),this._animateToClosedPosition()},_onSwipeableViewLayout:function(e){this.setState({isSwipeableViewRendered:!0,rowHeight:e.nativeEvent.layout.height})},_handleMoveShouldSetPanResponderCapture:function(e,t){return t.dy<10&&this._isValidSwipe(t)},_handlePanResponderGrant:function(e,t){},_handlePanResponderMove:function(e,t){this._isSwipingExcessivelyRightFromClosedPosition(t)||(this.props.onSwipeStart(),this._isSwipingRightFromClosed(t)?this._swipeSlowSpeed(t):this._swipeFullSpeed(t))},_isSwipingRightFromClosed:function(e){var t=Aa()?-e.dx:e.dx;return 0===this._previousLeft&&t>0},_swipeFullSpeed:function(e){this.state.currentLeft.setValue(this._previousLeft+e.dx)},_swipeSlowSpeed:function(e){this.state.currentLeft.setValue(this._previousLeft+e.dx/4)},_isSwipingExcessivelyRightFromClosedPosition:function(e){var t=Aa()?-e.dx:e.dx;return this._isSwipingRightFromClosed(e)&&t>120},_onPanResponderTerminationRequest:function(e,t){return!1},_animateTo:function(e,t,n){var r=this;void 0===t&&(t=300),void 0===n&&(n=_a.a),pt.timing(this.state.currentLeft,{duration:t,toValue:e,useNativeDriver:!0}).start((function(){r._previousLeft=e,n()}))},_animateToOpenPosition:function(){var e=Aa()?-this.props.maxSwipeDistance:this.props.maxSwipeDistance;this._animateTo(-e)},_animateToOpenPositionWith:function(e,t){e=e>.3?e:.3;var n=Math.abs((this.props.maxSwipeDistance-Math.abs(t))/e),r=Aa()?-this.props.maxSwipeDistance:this.props.maxSwipeDistance;this._animateTo(-r,n)},_animateToClosedPosition:function(e){void 0===e&&(e=300),this._animateTo(0,e)},_animateToClosedPositionDuringBounce:function(){this._animateToClosedPosition(300)},_animateBounceBack:function(e){var t=Aa()?-30:30;this._animateTo(-t,e,this._animateToClosedPositionDuringBounce)},_isValidSwipe:function(e){return!(this.props.preventSwipeRight&&0===this._previousLeft&&e.dx>0)&&Math.abs(e.dx)>10},_shouldAnimateRemainder:function(e){return Math.abs(e.dx)>this.props.swipeThreshold||e.vx>.3},_handlePanResponderEnd:function(e,t){var n=Aa()?-t.dx:t.dx;this._isSwipingRightFromClosed(t)?(this.props.onOpen(),this._animateBounceBack(300)):this._shouldAnimateRemainder(t)?n<0?(this.props.onOpen(),this._animateToOpenPositionWith(t.vx,n)):(this.props.onClose(),this._animateToClosedPosition()):0===this._previousLeft?this._animateToClosedPosition():this._animateToOpenPosition(),this.props.onSwipeEnd()}}),Ea=B.a.create({slideOutContainer:{bottom:0,left:0,position:"absolute",right:0,top:0}}),wa=Sa;function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ca=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this)._flatListRef=null,r._shouldBounceFirstRowOnMount=!1,r._onScroll=function(e){r.state.openRowKey&&r.setState({openRowKey:null}),r.props.onScroll&&r.props.onScroll(e)},r._renderItem=function(e){var t=r.props.renderQuickActions(e),n=r.props.keyExtractor(e.item,e.index);if(!t)return r.props.renderItem(e);var i=!1;return r._shouldBounceFirstRowOnMount&&(r._shouldBounceFirstRowOnMount=!1,i=!0),J.a.createElement(wa,{slideoutView:t,isOpen:n===r.state.openRowKey,maxSwipeDistance:r._getMaxSwipeDistance(e),onOpen:function(){return r._onOpen(n)},onClose:function(){return r._onClose(n)},shouldBounceOnMount:i,onSwipeEnd:r._setListViewScrollable,onSwipeStart:r._setListViewNotScrollable},r.props.renderItem(e))},r._setListViewScrollable=function(){r._setListViewScrollableTo(!0)},r._setListViewNotScrollable=function(){r._setListViewScrollableTo(!1)},r.state={openRowKey:null},r._shouldBounceFirstRowOnMount=r.props.bounceFirstRowOnMount,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.render=function(){var e=this;return J.a.createElement(Ai,Pa({},this.props,{ref:function(t){e._flatListRef=t},onScroll:this._onScroll,renderItem:this._renderItem}))},i._getMaxSwipeDistance=function(e){return"function"==typeof this.props.maxSwipeDistance?this.props.maxSwipeDistance(e):this.props.maxSwipeDistance},i._setListViewScrollableTo=function(e){this._flatListRef&&this._flatListRef.setNativeProps({scrollEnabled:e})},i._onOpen=function(e){this.setState({openRowKey:e})},i._onClose=function(e){this.setState({openRowKey:null})},r}(J.a.Component);Ca.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ta(e,t,n[t])}))}return e}({},Ai.defaultProps,{bounceFirstRowOnMount:!0,renderQuickActions:function(){return null}}),Ca.propTypes={};var Oa=Ca,ka=function(){function e(e){var t=this;this._dataSource=new Mi({getRowData:e.getRowData,getSectionHeaderData:e.getSectionHeaderData,rowHasChanged:function(n,r){return n.id!==t._previousOpenRowID&&r.id===t._openRowID||n.id===t._previousOpenRowID&&r.id!==t._openRowID||e.rowHasChanged(n,r)},sectionHeaderHasChanged:e.sectionHeaderHasChanged})}var t=e.prototype;return t.cloneWithRowsAndSections=function(e,t,n){return this._dataSource=this._dataSource.cloneWithRowsAndSections(e,t,n),this._dataBlob=e,this.rowIdentities=this._dataSource.rowIdentities,this.sectionIdentities=this._dataSource.sectionIdentities,this},t.getDataSource=function(){return this._dataSource},t.getOpenRowID=function(){return this._openRowID},t.getFirstRowID=function(){return this.rowIdentities?this.rowIdentities[0]&&this.rowIdentities[0][0]:Object.keys(this._dataBlob)[0]},t.getLastRowID=function(){if(this.rowIdentities&&this.rowIdentities.length){var e=this.rowIdentities[this.rowIdentities.length-1];if(e&&e.length)return e[e.length-1]}return Object.keys(this._dataBlob)[this._dataBlob.length-1]},t.setOpenRowID=function(e){return this._previousOpenRowID=this._openRowID,this._openRowID=e,this._dataSource=this._dataSource.cloneWithRowsAndSections(this._dataBlob,this.sectionIdentities,this.rowIdentities),this},e}();function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var xa=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this)._listViewRef=null,r._shouldBounceFirstRowOnMount=!1,r._onScroll=function(e){r.props.dataSource.getOpenRowID()&&r.setState({dataSource:r.state.dataSource.setOpenRowID(null)}),r.props.onScroll&&r.props.onScroll(e)},r._renderRow=function(e,t,n){var i=r.props.renderQuickActions(e,t,n);if(!i)return r.props.renderRow(e,t,n);var a=!1;return r._shouldBounceFirstRowOnMount&&(r._shouldBounceFirstRowOnMount=!1,a=n===r.props.dataSource.getFirstRowID()),J.a.createElement(wa,{slideoutView:i,isOpen:e.id===r.props.dataSource.getOpenRowID(),maxSwipeDistance:r._getMaxSwipeDistance(e,t,n),key:n,onOpen:function(){return r._onOpen(e.id)},onClose:function(){return r._onClose(e.id)},onSwipeEnd:function(){return r._setListViewScrollable(!0)},onSwipeStart:function(){return r._setListViewScrollable(!1)},shouldBounceOnMount:a},r.props.renderRow(e,t,n))},r._shouldBounceFirstRowOnMount=r.props.bounceFirstRowOnMount,r.state={dataSource:r.props.dataSource},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getNewDataSource=function(){return new ka({getRowData:function(e,t,n){return e[t][n]},getSectionHeaderData:function(e,t){return e[t]},rowHasChanged:function(e,t){return e!==t},sectionHeaderHasChanged:function(e,t){return e!==t}})};var i=r.prototype;return i.UNSAFE_componentWillReceiveProps=function(e){this.state.dataSource.getDataSource()!==e.dataSource.getDataSource()&&this.setState({dataSource:e.dataSource})},i.render=function(){var e=this;return J.a.createElement(Fi,Ia({},this.props,{ref:function(t){e._listViewRef=t},dataSource:this.state.dataSource.getDataSource(),onScroll:this._onScroll,renderRow:this._renderRow}))},i._setListViewScrollable=function(e){this._listViewRef&&"function"==typeof this._listViewRef.setNativeProps&&this._listViewRef.setNativeProps({scrollEnabled:e})},i.getScrollResponder=function(){if(this._listViewRef&&"function"==typeof this._listViewRef.getScrollResponder)return this._listViewRef.getScrollResponder()},i._getMaxSwipeDistance=function(e,t,n){return"function"==typeof this.props.maxSwipeDistance?this.props.maxSwipeDistance(e,t,n):this.props.maxSwipeDistance},i._onOpen=function(e){this.setState({dataSource:this.state.dataSource.setOpenRowID(e)})},i._onClose=function(e){this.setState({dataSource:this.state.dataSource.setOpenRowID(null)})},r}(J.a.Component);xa.defaultProps={bounceFirstRowOnMount:!1,renderQuickActions:function(){return null}},xa.propTypes={};var Da=xa,Ra=n(109);function Ma(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Na(e,t,n[t])}))}return e}function Na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ja=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._handleChange=function(e){var n=t.props.onValueChange;n&&n(e.nativeEvent.target.checked)},t._handleFocusState=function(e){var n="focus"===e.nativeEvent.type?"0px 1px 3px rgba(0,0,0,0.5), 0 0 0 10px rgba(0,0,0,0.1)":"0px 1px 3px rgba(0,0,0,0.5)";t._thumbElement&&t._thumbElement.setNativeProps({style:{boxShadow:n}})},t._setCheckboxRef=function(e){t._checkboxElement=e},t._setThumbRef=function(e){t._thumbElement=e},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.blur=function(){Be.a.blur(this._checkboxElement)},a.focus=function(){Be.a.focus(this._checkboxElement)},a.render=function(){var e=this.props,t=e.accessibilityLabel,n=e.activeThumbColor,i=e.activeTrackColor,a=e.disabled,o=(e.onValueChange,e.style),s=e.thumbColor,u=e.trackColor,c=e.value,l=e.onTintColor,d=e.thumbTintColor,f=e.tintColor,p=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value","onTintColor","thumbTintColor","tintColor"]),h=B.a.flatten(o),v=h.height,m=h.width,g=v||20,y=Object(Ra.a)(g,2),b=m>y?m:y,_=Object(Ra.a)(g,.5),A=c?l||i:f||u,S=c?n:d||s,E=g,w=E,T=[Ba.root,o,{height:g,width:b},a&&Ba.cursorDefault],P=[Ba.track,{backgroundColor:A,borderRadius:_},a&&Ba.disabledTrack],C=[Ba.thumb,{backgroundColor:S,height:E,width:w},a&&Ba.disabledThumb],O=Object(r.a)("input",{accessibilityLabel:t,checked:c,disabled:a,onBlur:this._handleFocusState,onChange:this._handleChange,onFocus:this._handleFocusState,ref:this._setCheckboxRef,style:[Ba.nativeControl,Ba.cursorInherit],type:"checkbox"});return J.a.createElement(Ee.a,La({},p,{style:T}),J.a.createElement(Ee.a,{style:P}),J.a.createElement(Ee.a,{ref:this._setThumbRef,style:[C,c&&Ba.thumbOn,{marginStart:c?Object(Ra.a)(w,-1):0}]}),O)},i}(Q.Component);ja.displayName="Switch",ja.defaultProps={activeThumbColor:"#009688",activeTrackColor:"#A3D3CF",disabled:!1,style:{},thumbColor:"#FAFAFA",trackColor:"#939393",value:!1},ja.propTypes={};var Ba=B.a.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:Ma({},B.a.absoluteFillObject,{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),disabledTrack:{backgroundColor:"#D5D5D5"},thumb:{alignSelf:"flex-start",borderRadius:"100%",boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",start:"0%",transform:[{translateZ:0}],transitionDuration:"0.1s"},thumbOn:{start:"100%"},disabledThumb:{backgroundColor:"#BDBDBD"},nativeControl:Ma({},B.a.absoluteFillObject,{height:"100%",margin:0,opacity:0,padding:0,width:"100%"})}),Ua=Object(de.a)(ja);var Va=vt.canUseDOM&&/Android/i.test(navigator&&navigator.userAgent),Fa={},Ha=function(e){return function(t){if(e)return t.nativeEvent.text=t.target.value,e(t)}},Ga=function(e,t){if(e&&t){var n=e.selectionEnd,r=e.selectionStart,i=t.start,a=t.end;return i!==r||a!==n}return!1},Wa=function(e,t){try{if(Ga(e,t)){var n=t.start,r=t.end;Va?setTimeout((function(){return e.setSelectionRange(n,r||n)}),10):e.setSelectionRange(n,r||n)}}catch(e){}},za=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleBlur=function(e){var n=t.props.onBlur;Ue._currentlyFocusedNode=null,n&&n(e)},t._handleContentSizeChange=function(){var e=t.props,n=e.onContentSizeChange;if(e.multiline&&n){var r=t._node.scrollHeight,i=t._node.scrollWidth;r===t._nodeHeight&&i===t._nodeWidth||(t._nodeHeight=r,t._nodeWidth=i,n({nativeEvent:{contentSize:{height:t._nodeHeight,width:t._nodeWidth}}}))}},t._handleChange=function(e){var n=t.props,r=n.onChange,i=n.onChangeText,a=e.nativeEvent.text;t._handleContentSizeChange(),r&&r(e),i&&i(a),t._handleSelectionChange(e)},t._handleFocus=function(e){var n=t.props,r=n.clearTextOnFocus,i=n.onFocus,a=n.selectTextOnFocus,o=t._node;Ue._currentlyFocusedNode=t._node,i&&i(e),r&&t.clear(),a&&o&&o.select()},t._handleKeyDown=function(e){e.stopPropagation(),("ArrowLeft"===e.key||"ArrowUp"===e.key||"ArrowRight"===e.key||"ArrowDown"===e.key||"Backspace"===e.key||"Escape"===e.key||"Enter"===e.key&&e.metaKey||"Tab"===e.key)&&t._handleKeyPress(e)},t._handleKeyPress=function(e){var n=t.props,r=n.blurOnSubmit,i=n.multiline,a=n.onKeyPress,o=n.onSubmitEditing,s=null==r?!i:r;if(a){var u=e.key;u&&(e.nativeEvent={altKey:e.altKey,ctrlKey:e.ctrlKey,key:u,metaKey:e.metaKey,shiftKey:e.shiftKey,target:e.target},a(e))}e.isDefaultPrevented()||"Enter"!==e.key||e.shiftKey||(!r&&i||!o||(e.preventDefault(),e.nativeEvent={target:e.target,text:e.target.value},o(e)),s&&t.blur())},t._handleSelectionChange=function(e){var n=t.props,r=n.onSelectionChange,i=n.selection,a=void 0===i?Fa:i;if(r)try{var o=e.target;if(Ga(o,a)){var s=o.selectionStart,u=o.selectionEnd;e.nativeEvent.selection={start:s,end:u},r(e)}}catch(e){}},t._setNode=function(e){t._node=Object(i.a)(e),t._node&&t._handleContentSizeChange()},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.clear=function(){this._node.value=""},o.isFocused=function(){return Ue.currentlyFocusedField()===this._node},o.componentDidMount=function(){Wa(this._node,this.props.selection),document.activeElement===this._node&&(Ue._currentlyFocusedNode=this._node)},o.componentDidUpdate=function(){Wa(this._node,this.props.selection)},o.render=function(){var e,t=this.props,n=t.autoComplete,i=t.autoCorrect,a=t.editable,o=t.keyboardType,s=t.multiline,u=t.numberOfLines,c=t.secureTextEntry,l=(t.blurOnSubmit,t.clearTextOnFocus,t.onChangeText,t.onLayout,t.onSelectionChange,t.onSubmitEditing,t.selection,t.selectTextOnFocus,t.spellCheck),d=(t.accessibilityViewIsModal,t.allowFontScaling,t.caretHidden,t.clearButtonMode,t.dataDetectorTypes,t.disableFullscreenUI,t.enablesReturnKeyAutomatically,t.hitSlop,t.inlineImageLeft,t.inlineImagePadding,t.inputAccessoryViewID,t.keyboardAppearance,t.needsOffscreenAlphaCompositing,t.onAccessibilityTap,t.onContentSizeChange,t.onEndEditing,t.onMagicTap,t.onScroll,t.removeClippedSubviews,t.renderToHardwareTextureAndroid,t.returnKeyLabel,t.returnKeyType,t.scrollEnabled,t.selectionColor,t.selectionState,t.shouldRasterizeIOS,t.textBreakStrategy,t.textContentType,t.underlineColorAndroid,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["autoComplete","autoCorrect","editable","keyboardType","multiline","numberOfLines","secureTextEntry","blurOnSubmit","clearTextOnFocus","onChangeText","onLayout","onSelectionChange","onSubmitEditing","selection","selectTextOnFocus","spellCheck","accessibilityViewIsModal","allowFontScaling","caretHidden","clearButtonMode","dataDetectorTypes","disableFullscreenUI","enablesReturnKeyAutomatically","hitSlop","inlineImageLeft","inlineImagePadding","inputAccessoryViewID","keyboardAppearance","needsOffscreenAlphaCompositing","onAccessibilityTap","onContentSizeChange","onEndEditing","onMagicTap","onScroll","removeClippedSubviews","renderToHardwareTextureAndroid","returnKeyLabel","returnKeyType","scrollEnabled","selectionColor","selectionState","shouldRasterizeIOS","textBreakStrategy","textContentType","underlineColorAndroid"]));switch(o){case"email-address":e="email";break;case"number-pad":case"numeric":e="number";break;case"phone-pad":e="tel";break;case"search":case"web-search":e="search";break;case"url":e="url";break;default:e="text"}c&&(e="password");var f=s?"textarea":"input";return Object.assign(d,{autoComplete:"off"===n?"noop":n,autoCorrect:i?"on":"off",classList:[Ka.textinput],dir:"auto",onBlur:Ha(this._handleBlur),onChange:Ha(this._handleChange),onFocus:Ha(this._handleFocus),onKeyDown:this._handleKeyDown,onKeyPress:this._handleKeyPress,onSelect:Ha(this._handleSelectionChange),readOnly:!a,ref:this._setNode,spellCheck:null!=l?l:i}),s?d.rows=u:d.type=e,Object(r.a)(f,d)},a}(Q.Component);za.displayName="TextInput",za.defaultProps={autoCapitalize:"sentences",autoComplete:"on",autoCorrect:!0,editable:!0,keyboardType:"default",multiline:!1,numberOfLines:1,secureTextEntry:!1},za.State=Ue,za.propTypes={};var Ka=fe.a.create({textinput:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",padding:0,resize:"none"}}),Ya=Object(st.a)(Object(de.a)(za));function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Za(e,t,n[t])}))}return e}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qa={activeOpacity:.85,underlayColor:"black"},Ja={top:20,left:20,right:20,bottom:30},$a=je()({displayName:"TouchableHighlight",propTypes:Xa({},Ar.propTypes,{activeOpacity:f.number,onHideUnderlay:f.func,onShowUnderlay:f.func,style:y.style,underlayColor:l.a}),mixins:[mr.a,pr.Mixin],getDefaultProps:function(){return Qa},_computeSyntheticState:function(e){return{activeProps:{style:{opacity:e.activeOpacity}},activeUnderlayProps:{style:{backgroundColor:e.underlayColor}},underlayStyle:[to.style,e.style]}},getInitialState:function(){return this._isMounted=!1,Xa({},this.touchableGetInitialState(),this._computeSyntheticState(this.props))},componentDidMount:function(){this._isMounted=!0,Mn(this.props),Ei(this._childRef)},componentWillUnmount:function(){this._isMounted=!1},componentDidUpdate:function(){Ei(this._childRef)},componentWillReceiveProps:function(e){Mn(e),e.activeOpacity===this.props.activeOpacity&&e.underlayColor===this.props.underlayColor&&e.style===this.props.style||this.setState(this._computeSyntheticState(e))},touchableHandleActivePressIn:function(e){this.clearTimeout(this._hideTimeout),this._hideTimeout=null,this._showUnderlay(),this.props.onPressIn&&this.props.onPressIn(e)},touchableHandleActivePressOut:function(e){this._hideTimeout||this._hideUnderlay(),this.props.onPressOut&&this.props.onPressOut(e)},touchableHandlePress:function(e){this.clearTimeout(this._hideTimeout),this._showUnderlay(),this._hideTimeout=this.setTimeout(this._hideUnderlay,this.props.delayPressOut||100),this.props.onPress&&this.props.onPress(e)},touchableHandleLongPress:function(e){this.props.onLongPress&&this.props.onLongPress(e)},touchableGetPressRectOffset:function(){return this.props.pressRetentionOffset||Ja},touchableGetHitSlop:function(){return this.props.hitSlop},touchableGetHighlightDelayMS:function(){return this.props.delayPressIn},touchableGetLongPressDelayMS:function(){return this.props.delayLongPress},touchableGetPressOutDelayMS:function(){return this.props.delayPressOut},_showUnderlay:function(){this._isMounted&&this._hasPressHandler()&&(this._underlayRef.setNativeProps(this.state.activeUnderlayProps),this._childRef.setNativeProps(this.state.activeProps),this.props.onShowUnderlay&&this.props.onShowUnderlay())},_hideUnderlay:function(){this.clearTimeout(this._hideTimeout),this._hideTimeout=null,this._hasPressHandler()&&this._underlayRef&&(this._childRef.setNativeProps(eo),this._underlayRef.setNativeProps(Xa({},to,{style:this.state.underlayStyle})),this.props.onHideUnderlay&&this.props.onHideUnderlay())},_hasPressHandler:function(){return!!(this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress)},_setChildRef:function(e){this._childRef=e},_setUnderlayRef:function(e){this._underlayRef=e},render:function(){var e=this.props,t=(e.activeOpacity,e.onHideUnderlay,e.onShowUnderlay,e.underlayColor,e.delayLongPress,e.delayPressIn,e.delayPressOut,e.onLongPress,e.onPress,e.onPressIn,e.onPressOut,e.pressRetentionOffset,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["activeOpacity","onHideUnderlay","onShowUnderlay","underlayColor","delayLongPress","delayPressIn","delayPressOut","onLongPress","onPress","onPressIn","onPressOut","pressRetentionOffset"]));return J.a.createElement(Ee.a,qa({},t,{accessible:!1!==this.props.accessible,onKeyDown:this.touchableHandleKeyEvent,onKeyUp:this.touchableHandleKeyEvent,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,ref:this._setUnderlayRef,style:[no.root,!this.props.disabled&&no.actionable,this.state.underlayStyle]}),J.a.cloneElement(J.a.Children.only(this.props.children),{ref:this._setChildRef}),pr.renderDebugView({color:"green",hitSlop:this.props.hitSlop}))}}),eo={style:B.a.create({x:{opacity:1}}).x},to={style:B.a.create({x:{backgroundColor:"transparent"}}).x},no=B.a.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),ro=Object(de.a)($a),io=Ur,ao=vi;var oo=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.ignoreWarnings=function(){},r.prototype.render=function(){return J.a.createElement(Ur,this.props)},r}(J.a.Component),so=n(104),uo=Object(so.a)({x:f.number,y:f.number}),co=Ur,lo=Ur,fo=Ur,po=Ur,ho=Ur,vo=Ur,mo=Ur,go=Ur,yo=Ur,bo=Ur,_o=Ur,Ao=Ur,So=Ur,Eo=Ur,wo=Ur,To=Ur,Po=Ur,Co={},Oo={},ko={},Io={},xo={},Do={},Ro={},Mo={},No={},Lo={},jo={},Bo={},Uo={}},function(e,t,n){"use strict";var r=function(e){if(void 0===e)throw new Error("invariant(...): Second argument must be a string.")};e.exports=function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(r(t),!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(t.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return oe})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return A})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return V})),n.d(t,"h",(function(){return Y})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return Q})),n.d(t,"k",(function(){return F})),n.d(t,"l",(function(){return J})),n.d(t,"m",(function(){return ue})),n.d(t,"n",(function(){return de})),n.d(t,"o",(function(){return ae})),n.d(t,"p",(function(){return pe})),n.d(t,"q",(function(){return N})),n.d(t,"r",(function(){return x})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return G})),n.d(t,"u",(function(){return M})),n.d(t,"v",(function(){return ye})),n.d(t,"w",(function(){return re})),n.d(t,"x",(function(){return X})),n.d(t,"y",(function(){return $})),n.d(t,"z",(function(){return ee})),n.d(t,"A",(function(){return te})),n.d(t,"B",(function(){return ne})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return se})),n.d(t,"E",(function(){return ce})),n.d(t,"F",(function(){return le})),n.d(t,"G",(function(){return fe})),n.d(t,"H",(function(){return he})),n.d(t,"I",(function(){return ve})),n.d(t,"J",(function(){return me})),n.d(t,"K",(function(){return ge})),n.d(t,"L",(function(){return H})),n.d(t,"M",(function(){return l})),n.d(t,"N",(function(){return W})),n.d(t,"O",(function(){return D})),n.d(t,"P",(function(){return z})),n.d(t,"Q",(function(){return K})),n.d(t,"R",(function(){return q})),n.d(t,"S",(function(){return b})),n.d(t,"T",(function(){return P})),n.d(t,"U",(function(){return s})),n.d(t,"V",(function(){return T})),n.d(t,"W",(function(){return _})),n.d(t,"X",(function(){return I})),n.d(t,"Y",(function(){return h})),n.d(t,"Z",(function(){return d})),n.d(t,"ab",(function(){return g})),n.d(t,"bb",(function(){return p})),n.d(t,"cb",(function(){return w})),n.d(t,"db",(function(){return u})),n.d(t,"eb",(function(){return f})),n.d(t,"fb",(function(){return C})),n.d(t,"gb",(function(){return E})),n.d(t,"hb",(function(){return S}));var r=n(19),i=n(51),a=n(15),o=n(165),s=function(e){return function(){return e}}(!0),u=function(){};var c=function(e){return e};"function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;function l(e,t,n){if(!t(e))throw new Error(n)}var d=function(e,t){Object(i.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},f=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function p(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function h(e){var t=!1;return function(){t||(t=!0,e())}}var v=function(e){throw e},m=function(e){return{value:e,done:!0}};function g(e,t,n){void 0===t&&(t=v),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:m,isSagaIterator:!0};return"undefined"!=typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function y(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var b=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},_=function(e){return Array.apply(null,new Array(e))},A=function(e){return function(t){return e(Object.defineProperty(t,r.f,{value:!0}))}},S=function(e){return e===r.k},E=function(e){return e===r.j},w=function(e){return S(e)||E(e)};function T(e,t){var n=Object.keys(e),r=n.length;var i,o=0,s=Object(a.a)(e)?_(r):{},c={};return n.forEach((function(e){var n=function(n,a){i||(a||w(n)?(t.cancel(),t(n,a)):(s[e]=n,++o===r&&(i=!0,t(s))))};n.cancel=u,c[e]=n})),t.cancel=function(){i||(i=!0,n.forEach((function(e){return c[e].cancel()})))},c}function P(e){return{name:e.name||"anonymous",location:C(e)}}function C(e){return e[r.g]}var O={isEmpty:s,put:u,take:u};function k(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,i=0,a=0,o=function(t){n[i]=t,i=(i+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},u=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)o(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[i]=s,a=i=(i+1)%e;break;case 4:c=2*e,n=u(),r=n.length,i=n.length,a=0,n.length=c,e=c,o(s)}},take:s,flush:u}}var I=function(){return O},x=function(e){return k(e,3)},D=function(e){return k(e,4)},R=Object.freeze({__proto__:null,none:I,fixed:function(e){return k(e,1)},dropping:function(e){return k(e,2)},sliding:x,expanding:D}),M="TAKE",N="PUT",L="ALL",j="RACE",B="CALL",U="CPS",V="FORK",F="JOIN",H="CANCEL",G="SELECT",W="ACTION_CHANNEL",z="CANCELLED",K="FLUSH",Y="GET_CONTEXT",q="SET_CONTEXT",X=Object.freeze({__proto__:null,TAKE:M,PUT:N,ALL:L,RACE:j,CALL:B,CPS:U,FORK:V,JOIN:F,CANCEL:H,SELECT:G,ACTION_CHANNEL:W,CANCELLED:z,FLUSH:K,GET_CONTEXT:Y,SET_CONTEXT:q}),Z=function(e,t){var n;return(n={})[r.c]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Q=function(e){return Z(V,Object(i.a)({},e.payload,{detached:!0}))};function J(e,t){return void 0===e&&(e="*"),Object(a.i)(e)?Z(M,{pattern:e}):Object(a.f)(e)&&Object(a.g)(t)&&Object(a.i)(t)?Z(M,{channel:e,pattern:t}):Object(a.b)(e)?Z(M,{channel:e}):void 0}var $=function(){var e=J.apply(void 0,arguments);return e.payload.maybe=!0,e};function ee(e,t){return Object(a.n)(t)&&(t=e,e=void 0),Z(N,{channel:e,action:t})}var te=function(){var e=ee.apply(void 0,arguments);return e.payload.resolve=!0,e};function ne(e){var t=Z(L,e);return t.combinator=!0,t}function re(e){var t=Z(j,e);return t.combinator=!0,t}function ie(e,t){var n,r=null;return Object(a.d)(e)?n=e:(Object(a.a)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&Object(a.k)(n)&&Object(a.d)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(B,ie(e,n))}function oe(e,t,n){void 0===n&&(n=[]);return Z(B,ie([e,t],n))}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(U,ie(e,n))}function ue(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(V,ie(e,n))}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Q(ue.apply(void 0,[e].concat(n)))}function le(e){return Z(F,e)}function de(e){return void 0===e&&(e=r.h),Z(H,e)}function fe(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(G,{selector:e,args:n})}function pe(e,t){return Z(W,{pattern:e,buffer:t})}function he(){return Z(z,{})}function ve(e){return Z(K,e)}function me(e){return Z(Y,e)}function ge(e){return Z(q,e)}var ye=ae.bind(null,o.a)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.r(t),n.d(t,"Provider",(function(){return l})),n.d(t,"connectAdvanced",(function(){return y})),n.d(t,"ReactReduxContext",(function(){return u})),n.d(t,"connect",(function(){return Y}));var i=n(1),a=n.n(i),o=n(0),s=n.n(o),u=a.a.createContext(null),c=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}r(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe((function(){var n=t.getState();e._isMounted&&e.setState((function(e){return e.storeState===n?null:{storeState:n}}))}));var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||u;return a.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(i.Component);c.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var l=c;var d=n(51),f=n(80),p=n(245),h=n.n(p),v=n(110),m=n.n(v),g=n(238);function y(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,s=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,c=n.methodName,l=void 0===c?"connectAdvanced":c,p=n.renderCountProp,v=void 0===p?void 0:p,y=n.shouldHandleStateChanges,b=void 0===y||y,_=n.storeKey,A=void 0===_?"store":_,S=n.withRef,E=void 0!==S&&S,w=n.forwardRef,T=void 0!==w&&w,P=n.context,C=void 0===P?u:P,O=Object(f.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);m()(void 0===v,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),m()(!E,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var k="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";m()("store"===A,"storeKey has been removed and does not do anything. "+k);var I=C;return function(t){var n=t.displayName||t.name||"Component",o=s(n),u=Object(d.a)({},O,{getDisplayName:s,methodName:l,renderCountProp:v,shouldHandleStateChanges:b,storeKey:A,displayName:o,wrappedComponentName:n,WrappedComponent:t}),c=O.pure,f=i.Component;c&&(f=i.PureComponent);var p=function(n){function i(t){var r,i,o,s,u,l,f,p,h,v,g;return r=n.call(this,t)||this,m()(T?!t.wrapperProps[A]:!t[A],"Passing redux store in props has been removed and does not do anything. "+k),r.selectDerivedProps=function(t,n,r,a){if(c&&i===n&&o===t)return s;r===u&&l===a||(u=r,l=a,f=e(r.dispatch,a)),i=n,o=t;var d=f(t,n);return s=d},r.selectChildElement=function(e,t,n){return t===p&&n===h&&g===e||(p=t,h=n,g=e,v=a.a.createElement(e,Object(d.a)({},t,{ref:n}))),v},r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r(i,n);var s=i.prototype;return s.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},s.renderWrappedComponent=function(e){m()(e,'Could not find "store" in the context of "'+o+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+o+" in connect options.");var n,r=e.storeState,i=e.store,a=this.props;T&&(a=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(r,a,i,u);return this.selectChildElement(t,s,n)},s.render=function(){var e=this.props.context&&this.props.context.Consumer&&Object(g.isContextConsumer)(a.a.createElement(this.props.context.Consumer,null))?this.props.context:I;return a.a.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},i}(f);if(p.WrappedComponent=t,p.displayName=o,T){var y=a.a.forwardRef((function(e,t){return a.a.createElement(p,{wrapperProps:e,forwardedRef:t})}));return y.displayName=o,y.WrappedComponent=t,h()(y,t)}return h()(p,t)}}var b=Object.prototype.hasOwnProperty;function _(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!b.call(t,n[i])||!_(e[n[i]],t[n[i]]))return!1;return!0}var S=n(14);function E(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function w(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function T(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=w(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=w(i),i=r(t,n)),i},r}}var P=[function(e){return"function"==typeof e?T(e):void 0},function(e){return e?void 0:E((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?E((function(t){return Object(S.bindActionCreators)(e,t)})):void 0}];var C=[function(e){return"function"==typeof e?T(e):void 0},function(e){return e?void 0:E((function(){return{}}))}];function O(e,t,n){return Object(d.a)({},n,e,t)}var k=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var u=e(t,n,s);return o?i&&a(u,r)||(r=u):(o=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return O}}];function I(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function x(e,t,n,r,i){var a,o,s,u,c,l=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function h(i,p){var h,v,m=!d(p,o),g=!l(i,a);return a=i,o=p,m&&g?(s=e(a,o),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):m?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(u=t(r,o)),c=n(s,u,o)):g?(h=e(a,o),v=!f(h,s),s=h,v&&(c=n(s,u,o)),c):c}return function(i,l){return p?h(i,l):(s=e(a=i,o=l),u=t(r,o),c=n(s,u,o),p=!0,c)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(f.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),u=i(e,a);return(a.pure?x:I)(o,s,u,e,a)}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function M(e,t){return e===t}var N,L,j,B,U,V,F,H,G,W,z,K,Y=(j=(L=void 0===N?{}:N).connectHOC,B=void 0===j?y:j,U=L.mapStateToPropsFactories,V=void 0===U?C:U,F=L.mapDispatchToPropsFactories,H=void 0===F?P:F,G=L.mergePropsFactories,W=void 0===G?k:G,z=L.selectorFactory,K=void 0===z?D:z,function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.pure,o=void 0===a||a,s=i.areStatesEqual,u=void 0===s?M:s,c=i.areOwnPropsEqual,l=void 0===c?A:c,p=i.areStatePropsEqual,h=void 0===p?A:p,v=i.areMergedPropsEqual,m=void 0===v?A:v,g=Object(f.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=R(e,V,"mapStateToProps"),b=R(t,H,"mapDispatchToProps"),_=R(n,W,"mergeProps");return B(K,Object(d.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:_,pure:o,areStatesEqual:u,areOwnPropsEqual:l,areStatePropsEqual:h,areMergedPropsEqual:m},g))})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.webUtils=t.videoUtils=t.validate=t.uiUtils=t.timeUtils=t.textTrackUtils=t.styleUtils=t.merge=t.imageUtils=t.gateUtils=t.FocusManager=t.environmentUtils=t.drmUtils=t.DeviceInfo=t.debugUtils=t.convertUtils=t.configurationMorpher=t.adsUtils=t._=void 0;var s=a(n(40));t.adsUtils=s;var u=a(n(149));t.gateUtils=u;var c=o(n(31));t._=c.default;var l=n(607);Object.defineProperty(t,"configurationMorpher",{enumerable:!0,get:function(){return l.configurationMorpher}});var d=o(n(610));t.convertUtils=d.default;var f=o(n(611));t.debugUtils=f.default;var p=o(n(117));t.DeviceInfo=p.default;var h=o(n(84));t.drmUtils=h.default;var v=o(n(22));t.environmentUtils=v.default;var m=o(n(150));t.FocusManager=m.default;var g=o(n(312));t.imageUtils=g.default;var y=n(612);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return y.merge}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return y.validate}});var b=o(n(207));t.styleUtils=b.default;var _=o(n(647));t.textTrackUtils=_.default;var A=o(n(208));t.timeUtils=A.default;var S=o(n(23));t.uiUtils=S.default;var E=o(n(648));t.videoUtils=E.default;var w=o(n(52));t.webUtils=w.default},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.videoQoSRollupSelectors=t.uiSelectors=t.rootSelectors=t.playerSelectors=t.mediaSelectors=t.inputChannelSelectors=t.freewheelSelectors=t.ellationCoreSelectors=t.coreSelectors=t.controlsSelectors=t.configurationSelectors=t.configStackSelectors=t.analyticsSelectors=t.adsPlayerSelectors=t.adsManagerSelectors=t.a9Selectors=void 0;var o=a(n(409));t.a9Selectors=o;var s=a(n(410));t.adsManagerSelectors=s;var u=a(n(411));t.freewheelSelectors=u;var c=a(n(412));t.analyticsSelectors=c;var l=a(n(413));t.videoQoSRollupSelectors=l;var d=a(n(247));t.configStackSelectors=d;var f=a(n(248));t.configurationSelectors=f;var p=a(n(597));t.controlsSelectors=p;var h=a(n(309));t.coreSelectors=h;var v=a(n(598));t.ellationCoreSelectors=v;var m=a(n(599));t.inputChannelSelectors=m;var g=a(n(600));t.mediaSelectors=g;var y=a(n(601));t.adsPlayerSelectors=y;var b=a(n(602));t.playerSelectors=b;var _=a(n(603));t.uiSelectors=_;t.rootSelectors={all:function(e){return e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"actionChannel",(function(){return i.p})),n.d(t,"all",(function(){return i.B})),n.d(t,"apply",(function(){return i.a})),n.d(t,"call",(function(){return i.o})),n.d(t,"cancel",(function(){return i.n})),n.d(t,"cancelled",(function(){return i.H})),n.d(t,"cps",(function(){return i.D})),n.d(t,"delay",(function(){return i.v})),n.d(t,"effectTypes",(function(){return i.x})),n.d(t,"flush",(function(){return i.I})),n.d(t,"fork",(function(){return i.m})),n.d(t,"getContext",(function(){return i.J})),n.d(t,"join",(function(){return i.F})),n.d(t,"put",(function(){return i.z})),n.d(t,"putResolve",(function(){return i.A})),n.d(t,"race",(function(){return i.w})),n.d(t,"select",(function(){return i.G})),n.d(t,"setContext",(function(){return i.K})),n.d(t,"spawn",(function(){return i.E})),n.d(t,"take",(function(){return i.l})),n.d(t,"takeMaybe",(function(){return i.y})),n.d(t,"debounce",(function(){return _})),n.d(t,"retry",(function(){return b})),n.d(t,"takeEvery",(function(){return v})),n.d(t,"takeLatest",(function(){return m})),n.d(t,"takeLeading",(function(){return g})),n.d(t,"throttle",(function(){return y}));n(19),n(51);var r=n(15),i=n(5),a=(n(165),function(e){return{done:!0,value:e}}),o={};function s(e){return Object(r.b)(e)?"channel":Object(r.l)(e)?String(e):Object(r.d)(e)?e.name:String(e)}function u(e,t,n){var r,s,u,c=t;function l(t,n){if(c===o)return a(t);if(n&&!s)throw c=o,n;r&&r(t);var i=n?e[s](n):e[c]();return c=i.nextState,u=i.effect,r=i.stateUpdater,s=i.errorState,c===o?a(t):u}return Object(i.ab)(l,(function(e){return l(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c={done:!1,value:Object(i.l)(e)},l=function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}},d=function(e){return o=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:l(o)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function l(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c,l={done:!1,value:Object(i.l)(e)},d=function(e){return{done:!1,value:i.m.apply(void 0,[t].concat(r,[e]))}},f=function(e){return{done:!1,value:Object(i.n)(e)}},p=function(e){return o=e},h=function(e){return c=e};return u({q1:function(){return{nextState:"q2",effect:l,stateUpdater:h}},q2:function(){return o?{nextState:"q3",effect:f(o)}:{nextState:"q1",effect:d(c),stateUpdater:p}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:p}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var o,c={done:!1,value:Object(i.l)(e)},l=function(e){return{done:!1,value:i.o.apply(void 0,[t].concat(r,[e]))}},d=function(e){return o=e};return u({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:l(o)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function f(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];var c,l,d={done:!1,value:Object(i.p)(t,Object(i.r)(1))},f=function(){return{done:!1,value:Object(i.l)(l)}},p=function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(a,[e]))}},h={done:!1,value:Object(i.v)(e)},v=function(e){return c=e},m=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:m}},q2:function(){return{nextState:"q3",effect:f(),stateUpdater:v}},q3:function(){return{nextState:"q4",effect:p(c)}},q4:function(){return{nextState:"q2",effect:h}}},"q1","throttle("+s(t)+", "+n.name+")")}function p(e,t,n){for(var r=e,a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];var l={done:!1,value:i.o.apply(void 0,[n].concat(s))},d={done:!1,value:Object(i.v)(t)};return u({q1:function(){return{nextState:"q2",effect:l,errorState:"q10"}},q2:function(){return{nextState:o}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function h(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];var c,l,d={done:!1,value:Object(i.l)(t)},f={done:!1,value:Object(i.w)({action:Object(i.l)(t),debounce:Object(i.v)(e)})},p=function(e){return{done:!1,value:i.m.apply(void 0,[n].concat(a,[e]))}},h=function(e){return{done:!1,value:e}},v=function(e){return c=e},m=function(e){return l=e};return u({q1:function(){return{nextState:"q2",effect:d,stateUpdater:v}},q2:function(){return{nextState:"q3",effect:f,stateUpdater:m}},q3:function(){return l.debounce?{nextState:"q1",effect:p(c)}:{nextState:"q2",effect:h(l.action),stateUpdater:v}}},"q1","debounce("+s(t)+", "+n.name+")")}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.m.apply(void 0,[c,e,t].concat(r))}function m(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.m.apply(void 0,[l,e,t].concat(r))}function g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return i.m.apply(void 0,[d,e,t].concat(r))}function y(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.m.apply(void 0,[f,e,t,n].concat(a))}function b(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.o.apply(void 0,[p,e,t,n].concat(a))}function _(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return i.m.apply(void 0,[h,e,t,n].concat(a))}},function(e,t,n){"use strict";var r=n(106),i=n(30),a=n(0),o=n(36),s=n(64),u={accessibilityComponentType:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityStates:!0,accessibilityTraits:!0,accessible:!0,children:!0,disabled:!0,importantForAccessibility:!0,nativeID:!0,onBlur:!0,onContextMenu:!0,onFocus:!0,onMoveShouldSetResponder:!0,onMoveShouldSetResponderCapture:!0,onResponderEnd:!0,onResponderGrant:!0,onResponderMove:!0,onResponderReject:!0,onResponderRelease:!0,onResponderStart:!0,onResponderTerminate:!0,onResponderTerminationRequest:!0,onScrollShouldSetResponder:!0,onScrollShouldSetResponderCapture:!0,onSelectionChangeShouldSetResponder:!0,onSelectionChangeShouldSetResponderCapture:!0,onStartShouldSetResponder:!0,onStartShouldSetResponderCapture:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0,pointerEvents:!0,style:!0,testID:!0,onScroll:!0,onWheel:!0,onKeyDown:!0,onKeyPress:!0,onKeyUp:!0,onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0,className:!0,href:!0,itemID:!0,itemRef:!0,itemProp:!0,itemScope:!0,itemType:!0,onClick:!0,onClickCapture:!0,rel:!0,target:!0},c=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(u[n]||0===n.indexOf("aria-")||0===n.indexOf("data-"))&&(t[n]=e[n]);return t},l=(n(4),n(37),n(11)),d=n(1),f=n.n(d);var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.hitSlop,t=c(this.props);var n=this.context.isInAParentText;if(t.classList=[this.props.className,h.view],t.style=l.a.compose(n&&v.inline,this.props.style),e){var r=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]=r>0?-1*r:0}return t}(e),i=Object(o.a)("span",{classList:[h.hitSlop],style:r});t.children=f.a.Children.toArray([i,t.children])}return Object(o.a)("div",t)},r}(d.Component);p.displayName="View",p.contextTypes={isInAParentText:a.bool},p.propTypes={};var h=s.a.create({view:{alignItems:"stretch",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",zIndex:0},hitSlop:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-1}}),v=l.a.create({inline:{display:"inline-flex"}});t.a=Object(r.a)(Object(i.a)(p))},function(e,t,n){"use strict";var r=n(20),i=n(132),a=n(131),o={position:"absolute",left:0,right:0,top:0,bottom:0},s={absoluteFill:i.a.register(o),absoluteFillObject:o,compose:function(e,t){return e&&t?[e,t]:e||t},create:function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n]&&i.a.register(e[n]);t[n]=r})),t},flatten:a.a,hairlineWidth:1};r.canUseDOM&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=s.flatten);t.a=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(306),i=n(591),a=n(52),o={adsDebugDuration:30,adsPlayer:!1,adsUIDebugMode:!1,allowSavedEvents:!0,alwaysHoverSliderBar:!1,alwaysShowControls:!1,alwaysShowLoadingScreen:!1,brand:"Crunchyroll",hotReloading:!0,isNextEpisodeEnabled:!0,isPictureInPictureEnabled:!1,isYospaceDebugMode:!1,keyCodeOverlay:!1,logProgress:!1,logQoSUpdates:!1,logRemotely:!0,logSyntheticPlayhead:!1,playground:!1,plugins:[i.PLUGINS.ADS,i.PLUGINS.ANALYTICS,i.PLUGINS.TEXT_TRACKS,i.PLUGINS.VIDEO_PLAYER],ssaiDebugLogging:!1,startTime:0,tapToMute:!0,testIDs:r.testIDs,testState:r.testState,URL:a.getConfigURL(),volumeControlOpen:!1};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){void 0===t&&(t={}),this.getComponent=function(){return null},this.name=e,this.options=t};t.default=r},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return a})),n.d(t,"applyMiddleware",(function(){return m})),n.d(t,"bindActionCreators",(function(){return d})),n.d(t,"combineReducers",(function(){return c})),n.d(t,"compose",(function(){return v})),n.d(t,"createStore",(function(){return s}));var r=n(244),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function o(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function v(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(f)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),d.push(e),function(){if(t){if(f)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=d.indexOf(e);d.splice(n,1),l=null}}}function m(e){if(!o(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,c=u(c,e)}finally{f=!1}for(var t=l=d,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,m({type:a.REPLACE})}function y(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return m({type:a.INIT}),(i={dispatch:m,subscribe:v,getState:h,replaceReducer:g})[r.a]=y,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],d=e[c],f=l(d,t);if(void 0===f){var p=u(c,t);throw new Error(p)}i[c]=f,r=r||f!==d}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function d(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"==typeof i&&(n[r]=l(i,t))}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return h({},n,{dispatch:r=v.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return i}));var r=n(19),i=function(e){return null==e},a=function(e){return null!=e},o=function(e){return"function"==typeof e},s=function(e){return"string"==typeof e},u=Array.isArray,c=function(e){return e&&!u(e)&&"object"==typeof e},l=function(e){return e&&o(e.then)},d=function(e){return e&&o(e.next)&&o(e.throw)},f=function e(t){return t&&(s(t)||v(t)||o(t)||u(t)&&t.every(e))},p=function(e){return e&&o(e.take)&&o(e.close)},h=function(e){return o(e)&&e.hasOwnProperty("toString")},v=function(e){return Boolean(e)&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},m=function(e){return p(e)&&e[r.e]},g=function(e){return e&&e[r.c]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g}));var r,i=n(4),a=n.n(i),o=n(89),s=n(171),u=o.a.NativeAnimatedModule,c=1,l=1,d={opacity:!0,transform:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0},f={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,perspective:!0},p={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function h(){return l++}function v(){a()(u,"Native animated module is not available")}var m=!1;function g(e){return e.useNativeDriver&&!u?(m||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. More info: https://github.com/facebook/react-native/issues/11094#issuecomment-263240420"),m=!0),!1):e.useNativeDriver||!1}var y={API:{createAnimatedNode:function(e,t){v(),u.createAnimatedNode(e,t)},startListeningToAnimatedNodeValue:function(e){v(),u.startListeningToAnimatedNodeValue(e)},stopListeningToAnimatedNodeValue:function(e){v(),u.stopListeningToAnimatedNodeValue(e)},connectAnimatedNodes:function(e,t){v(),u.connectAnimatedNodes(e,t)},disconnectAnimatedNodes:function(e,t){v(),u.disconnectAnimatedNodes(e,t)},startAnimatingNode:function(e,t,n,r){v(),u.startAnimatingNode(e,t,n,r)},stopAnimation:function(e){v(),u.stopAnimation(e)},setAnimatedNodeValue:function(e,t){v(),u.setAnimatedNodeValue(e,t)},setAnimatedNodeOffset:function(e,t){v(),u.setAnimatedNodeOffset(e,t)},flattenAnimatedNodeOffset:function(e){v(),u.flattenAnimatedNodeOffset(e)},extractAnimatedNodeOffset:function(e){v(),u.extractAnimatedNodeOffset(e)},connectAnimatedNodeToView:function(e,t){v(),u.connectAnimatedNodeToView(e,t)},disconnectAnimatedNodeFromView:function(e,t){v(),u.disconnectAnimatedNodeFromView(e,t)},dropAnimatedNode:function(e){v(),u.dropAnimatedNode(e)},addAnimatedEventToView:function(e,t,n){v(),u.addAnimatedEventToView(e,t,n)},removeAnimatedEventFromView:function(e,t,n){v(),u.removeAnimatedEventFromView(e,t,n)}},addWhitelistedStyleProp:function(e){d[e]=!0},addWhitelistedTransformProp:function(e){f[e]=!0},addWhitelistedInterpolationParam:function(e){p[e]=!0},validateStyles:function(e){for(var t in e)if(!d.hasOwnProperty(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!f.hasOwnProperty(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!p.hasOwnProperty(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return c++},generateNewAnimationId:h,assertNativeAnimatedModule:v,shouldUseNativeDriver:g,get nativeEventEmitter(){return r||(r=new s.a(u)),r}};t.a=y},function(e,t,n){"use strict";var r=n(16),i=n(4),a=n.n(i),o=function(){function e(){}var t=e.prototype;return t.__attach=function(){},t.__detach=function(){this.__isNative&&null!=this.__nativeTag&&(r.a.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)},t.__getValue=function(){},t.__getAnimatedValue=function(){return this.__getValue()},t.__addChild=function(e){},t.__removeChild=function(e){},t.__getChildren=function(){return[]},t.__makeNative=function(){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node')},t.__getNativeTag=function(){if(r.a.assertNativeAnimatedModule(),a()(this.__isNative,'Attempt to get native tag from node not marked as "native"'),null==this.__nativeTag){var e=r.a.generateNewNodeTag();r.a.API.createAnimatedNode(e,this.__getNativeConfig()),this.__nativeTag=e}return this.__nativeTag},t.__getNativeConfig=function(){throw new Error("This JS animated node type cannot be used as native animated node")},t.toJSON=function(){return this.__getValue()},e}();t.a=o},function(e,t,n){"use strict";var r=n(71);t.a=function(e){var t;try{t=Object(r.findDOMNode)(e)}catch(e){}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return p}));var r=function(e){return"@@redux-saga/"+e},i=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),o=r("IO"),s=r("MATCH"),u=r("MULTICAST"),c=r("SAGA_ACTION"),l=r("SELF_CANCELLATION"),d=r("TASK"),f=r("TASK_CANCEL"),p=r("TERMINATE"),h=r("LOCATION")},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"createAction",(function(){return b})),n.d(t,"createReducer",(function(){return E})),n.d(t,"assignAll",(function(){return T})),n.d(t,"bindAll",(function(){return C})),n.d(t,"batch",(function(){return _})),n.d(t,"disbatch",(function(){return k})),n.d(t,"loggers",(function(){return N})),n.d(t,"asError",(function(){return j})),n.d(t,"types",(function(){return B}));var r={};n.r(r),n.d(r,"add",(function(){return s})),n.d(r,"remove",(function(){return u})),n.d(r,"has",(function(){return c})),n.d(r,"check",(function(){return l})),n.d(r,"all",(function(){return d})),n.d(r,"clear",(function(){return f})),n.d(r,"enableChecking",(function(){return p})),n.d(r,"disableChecking",(function(){return h}));var i={};n.r(i),n.d(i,"actionTransformer",(function(){return x})),n.d(i,"logger",(function(){return D}));var a={},o={checkExisting:!0};function s(e){a[e]=!0}function u(e){a[e]=!1}function c(e){return!!a[e]}function l(e){if(o.checkExisting&&c(e))throw new TypeError("Duplicate action type: ".concat(e))}function d(){return Object.keys(a).filter(c)}function f(){d().forEach(u)}function p(){o.checkExisting=!0}function h(){o.checkExisting=!1}var v=0,m=function(e){return e},g=function(e){return e&&"function"==typeof e.dispatch?e.dispatch:e},y=function(e){return Array.isArray(e)?e.map(g):g(e)};function b(e,t,n){"function"==typeof e&&(n=t,t=e,e=void 0),"function"!=typeof t&&(t=m),"function"!=typeof n&&(n=void 0);var r="string"==typeof e&&/^[0-9A-Z_]+$/.test(e);r?(l(e),s(e)):++v;var i=r?e:"[".concat(v,"]").concat(e?" "+e:""),a=void 0;function o(){var e=t.apply(void 0,arguments);return n?{type:i,payload:e,error:e instanceof Error,meta:n.apply(void 0,arguments)}:{type:i,payload:e,error:e instanceof Error}}var u=function(e,t){return function(){var n=o.apply(void 0,arguments);return n.error||(n.error=t),Array.isArray(e)?e.map((function(e){return e(n)})):e?e(n):n}};function c(){return u(a,!1).apply(void 0,arguments)}return c.asError=function(){return u(a,!0).apply(void 0,arguments)},c.getType=function(){return i},c.toString=function(){return i},c.raw=o,c.assignTo=function(e){return a=y(e),c},c.assigned=function(){return!!a},c.bound=function(){return!1},c.dispatched=c.assigned,c.bindTo=function(e){var t=u(y(e));return t.asError=u(y(e)),t.raw=o,t.getType=c.getType,t.toString=c.toString,t.assignTo=function(){return t},t.bindTo=function(){return t},t.assigned=function(){return!1},t.bound=function(){return!0},t.dispatched=t.bound,t},c}var _=b("Batch",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?t[0]:t}));function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e){return e&&e.getType?e.toString():e}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={payload:!0,fallback:null},r=A(c,{has:i,on:a,off:o,options:s});function i(t){return!!e[S(t)]}function a(t,n){return Array.isArray(t)?t.forEach((function(e){a(e,n)})):e[S(t)]=n,r}function o(t){return Array.isArray(t)?t.forEach(o):delete e[S(t)],r}function s(e){return Object.keys(e).forEach((function(t){return n[t]=e[t]})),r}if("function"==typeof e){var u=e;e={},u(a,o)}function c(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1?arguments[1]:void 0;if(!i||"string"!=typeof i.type)return r;if(i.type.startsWith("@@redux/"))return r;var a=e[i.type]||n.fallback;return a?n.payload?a(r,i.payload,i.meta):a(r,i):r}return i(_)||a(_,(function(e,t){return n.payload?t.reduce(c,e):t.payload.reduce(c,e)})),r}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){return Array.isArray(e)?e.map((function(e){return e.assignTo(t)})):Object.keys(e).reduce((function(n,r){return w(n,(i={},a=r,o=e[r].assignTo(t),a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i));var i,a,o}),{})}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){return Array.isArray(e)?e.map((function(e){return e.bindTo(t)})):Object.keys(e).reduce((function(n,r){return P(n,(i={},a=r,o=e[r].bindTo(t),a in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,i));var i,a,o}),{})}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n&&n.length>0){if(!e||"function"!=typeof e&&"function"!=typeof e.dispatch)throw new TypeError("disbatch must take either a valid Redux store or a dispatch function as first parameter");return"function"==typeof e.dispatch&&(e=e.dispatch),e(_.apply(void 0,n))}if(!e||"function"!=typeof e.dispatch)throw new TypeError("disbatch must take a valid Redux store with a dispatch function as first parameter");return O(e,{disbatch:k.bind(void 0,e)})}var I=_.getType();function x(e){return e&&e.type===I?(e.payload.type=I,e.payload):e}var D={},R=function(e){"function"==typeof console[e]&&(D[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.pop();Array.isArray(i)&&i.type===I?i.forEach((function(t){console[e].apply(console,[].concat(n,[t]))})):(n.push(i),console[e].apply(console,n))})};for(var M in console)R(M);var N={reduxLogger:i};function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return"object"===L(e)&&null!==e&&(e.error=!0),e}var B=r},function(e,t,n){"use strict";(function(e){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=this;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_MODE=void 0;var l,d,f=n(3),p=a(n(248)),h=u(n(117)),v=u(n(31)),m=n(58),g=u(n(68));!function(e){e.CHROME="chrome",e.FIREFOX="firefox",e.OPERA="opera",e.IE="ie",e.EDGE="edge",e.SAFARI="safari",e.UNKNOWN="unknown"}(l||(l={})),function(e){e.EXTERNAL="EXTERNAL",e.EMBEDDED="EMBEDDED",e.HARDCODED="HARDCODED",e.EXTERNAL_AND_HARDCODED="EXTERNAL_AND_HARDCODED"}(d=t.TEXT_MODE||(t.TEXT_MODE={}));var y=function(){return L()?m.Environment.ROKU:N()?m.Environment.TV:"web"===f.Platform.OS?m.Environment.WEB:m.Environment.MOBILE},b=function(){return N()?h.default.getSystemName():f.Platform.OS},_=function(){return!!window&&void 0!==window.WebAssembly},A=function(){return void 0!==e&&void 0!==e.env.JEST_WORKER_ID},S=function(){return!!(window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.match(/Android/))},E=function(){var e=h.default.getBrand,t=h.default.getModel,n=e()||"",r=t()||"";return"Amazon"===n&&"AFT"===r.slice(0,3)},w=function(){return"web"===f.Platform.OS},T=function(){return w()&&"object"==typeof window&&window.self!==window.top},P=function(){return C()||O()},C=function(){return!!(window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.match(/iPad/))},O=function(){return!!window&&!!window.navigator&&"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1},k=function(){return!(!window||!window.navigator||!window.navigator.userAgent||window.hasOwnProperty("MSStream")||!window.navigator.userAgent.match(/iPhone|iPod/))},I=function(){return P()||k()},x=function(){return y()===m.Environment.MOBILE},D=function(){return S()||I()},R=function(){return I()&&!_()},M=function(){return o(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e="ios"===b())?[4,h.default.isEmulator()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return[2,e]}}))}))},N=function(){return!A()&&(!!(null===f.NativeModules||void 0===f.NativeModules?void 0:f.NativeModules.PlatformConstants)&&"You.i Engine"===f.NativeModules.PlatformConstants.systemName)},L=function(){return h.default.getSystemName()===m.OS.ROKU},j=function(){return"undefined"!=typeof window},B=function(){return"undefined"!=typeof document},U=function(){return"undefined"!=typeof navigator},V=function(){return j()&&!!v.default.get(window,"opr.addons")||j()&&!!v.default.get(window,"opera")||U()&&v.default.get(navigator,"userAgent").indexOf(" OPR/")>=0},F=function(){return U()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},H=function(){return j()&&"undefined"!=typeof InstallTrigger},G=function(){/*@cc_on!@*/return B()&&!!v.default.get(document,"documentMode")},W=function(){return j()&&v.default.get(window,"navigator.userAgent","").includes("Edg")},z=function(){return j()&&!!v.default.get(window,"chrome")&&(!!v.default.get(window,"chrome.webstore")||!!v.default.get(window,"chrome.runtime"))};var K=j()&&v.default.get(window,"location.pathname");t.default={Browsers:l,detectBrowser:function(){return z()?l.CHROME:H()?l.FIREFOX:I()||F()?l.SAFARI:G()?l.IE:W()?l.EDGE:V()?l.OPERA:l.UNKNOWN},getEnvironment:y,getOS:b,getOSDeviceType:function(){var e,t,n,r,i,a,o,s=y(),u=b(),l=((e={})[m.Environment.MOBILE]=((t={})[m.OS.ANDROID]="Android",t[m.OS.IOS]="ios",t),e[m.Environment.ROKU]=((n={})[m.OS.ROKU]="Roku",n),e[m.Environment.TV]=((r={})[m.OS.ANDROID]="AndroidTV",r[m.OS.PS4]="PS4",r.FIRETV="FireTV",r),e[m.Environment.WEB]=((i={})[m.OS.WEB]="Web",i),e.DEFAULT=null===(a=h.default.getDeviceType)||void 0===a?void 0:a.call(c),e);return E()?l[m.Environment.TV].FIRETV:(null===(o=l[s])||void 0===o?void 0:o[u])||l.DEFAULT},getParentPath:function(){return T()&&window.parent.location.pathname},getScreenDimensions:function(){return w()?{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}:x()?{width:f.Dimensions.get("screen").width,height:f.Dimensions.get("screen").height}:{width:0,height:0}},getUserAgent:function(){var e;if(!w()){var t=h.default.getModel,n=h.default.getSystemName,r=h.default.getSystemVersion,i=t(),a=g.default(v.default.get(p,"user.uiLanguage","")).code;return"Crunchyroll Velocity/0.4.17 ("+v.default.capitalize(n())+" "+r()+"; "+a+"; "+i+")"}return(null===(e=window.navigator)||void 0===e?void 0:e.userAgent)||l.UNKNOWN},hasWebAssembly:_,isAndroidNativeMobile:function(){return x()&&b()===m.OS.ANDROID},isAndroidWeb:S,isChrome:z,isDesktopWeb:function(){return"web"===f.Platform.OS&&!D()},isDocumentAvailable:B,isEdge:W,isEmulator:function(){return o(void 0,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return(e=R())?[3,2]:[4,M()];case 1:e=t.sent(),t.label=2;case 2:return e||"android"===b()&&h.default.getDeviceId().startsWith("goldfish")?[2,!0]:[2,!1]}}))}))},isFetchAvailable:function(){return"undefined"!=typeof fetch},isFirefox:H,isFireTV:E,isHeadless:function(){var e,t;return x()&&(null===(t=null===(e=null===f.NativeModules||void 0===f.NativeModules?void 0:f.NativeModules.VelocityUtils)||void 0===e?void 0:e.getConstants())||void 0===t?void 0:t.isHeadless)},isIE:G,isIframe:T,isIosNativeMobile:function(){return x()&&b()===m.OS.IOS},isIosWeb:I,isIpadClassicWeb:C,isIpadOSWeb:O,isIpadWeb:P,isIphoneWeb:k,isJest:A,isMobile:function(){return x()||D()},isMobileNative:x,isMobileWeb:D,isOpera:V,isOSX:function(){return b()===m.OS.OSX},isPhone:function(){return f.Dimensions.get("screen").width<568},isPlaystation:function(){return[m.OS.PS4,m.OS.PS5].includes(b())},isRoku:L,isSafari:F,isSendBeaconAvailable:function(){return U()&&void 0!==(null===navigator||void 0===navigator?void 0:navigator.sendBeacon)},isSmallPhone:function(){return f.Dimensions.get("screen").width<=375},isWindowAvailable:j,isTV:function(){return y()===m.Environment.TV},isWeb:w,isYoui:N,path:K,TEXT_MODE:d}}).call(this,n(202))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.showAlert=t.getEpisodeNumberAndTitle=t.getCountdownMessage=t.percentage=t.isFutureDate=t.isNextSeriesDifferent=t.isNextContentDifferent=t.validateContentRestrictions=t.containsRestriction=t.checkDebugSequence=t.calculatePercentage=t.tabletWidth=t.mobileWidth=void 0;var i=n(3),a=n(2),o=n(43),s=r(n(26)),u=r(n(44)),c=r(n(76)),l=r(n(117)),d=r(n(22)),f=r(n(31));t.mobileWidth=375,t.tabletWidth=768,t.calculatePercentage=function(e,t){var n=e/t*100;return f.default.clamp(n,0,100)};var p=[],h=[[c.default.CHAR_SHIFT_D,c.default.CHAR_SHIFT_B,c.default.CHAR_SHIFT_G],[c.default.ARROW_UP,c.default.ARROW_UP,c.default.ARROW_DOWN,c.default.ARROW_DOWN,c.default.ARROW_LEFT,c.default.ARROW_LEFT,c.default.ARROW_DOWN,c.default.ARROW_LEFT,[c.default.GAMEPAD_0,c.default.SELECT]],[c.default.INFO,c.default.INFO,c.default.INFO],[c.default.ARROW_UP,c.default.ARROW_DOWN,c.default.ARROW_UP,c.default.ARROW_UP,c.default.ARROW_DOWN,c.default.ARROW_DOWN,c.default.ARROW_DOWN,c.default.ARROW_UP,c.default.ARROW_UP,c.default.ARROW_UP,c.default.ARROW_UP,c.default.ARROW_UP]];t.checkDebugSequence=function(e){var t=!1;p.push(e);var n=h.some((function(e){return e.every((function(n,r){if(r>=p.length)return!0;var i=f.default.flatten([n]).includes(p[r]);return i&&r===e.length-1?t=!0:i}))}));t&&(p.length=0,u.default.dispatch(a.mediaActionCreators.error({code:"DBG-1",message:"User log dump request"}))),n||(p.length=0)},t.containsRestriction=function(e,t){return null==e?void 0:e.includes(t)},t.validateContentRestrictions=function(e,n){var r=t.containsRestriction(null==e?void 0:e.restrictions,o.ContentRestriction.MATURE),i=t.containsRestriction(null==e?void 0:e.restrictions,o.ContentRestriction.PREMIUM),a=t.containsRestriction(null==n?void 0:n.allowedRestrictions,o.ContentRestriction.MATURE),s=t.containsRestriction(null==n?void 0:n.allowedRestrictions,o.ContentRestriction.PREMIUM),u=d.default.isWeb(),c=!u&&(i&&!s),l=!u&&(r&&!a),f=!u&&t.isFutureDate(null==e?void 0:e.releaseDate);return{isPremiumInvalid:c,isMatureInvalid:l,isNotAvailableYet:f,isInvalid:c||l||f}},t.isNextContentDifferent=function(e,t){return Boolean(e.id&&(null==t?void 0:t.id)&&e.id!==t.id)},t.isNextSeriesDifferent=function(e,t){if(null==t?void 0:t.seriesId){var n=e.seriesId,r=t.seriesId;if(!(n&&r)||!n||n!==r)return!0}return!1},t.isFutureDate=function(e){if(!e)return!1;var t="string"==typeof e||"number"==typeof e?new Date(e):e;return new Date<t};t.percentage=function(e,n){return t.calculatePercentage(e,n)+"%"},t.getCountdownMessage=function(e,t){var n=Math.ceil(t/1e3-e);return n<=1||isNaN(n)?s.default.t("upNext.countdown1SecondLeft"):s.default.t("upNext.countdownXSecondsLeft",{secondsLeft:n})},t.getEpisodeNumberAndTitle=function(e){if(!e||!e.seriesTitle)return null;var t=e.distributionNumber,n=e.seasonNumber,r=e.title;return(isNaN(n)?"E"+t:"S"+String(n)+" E"+t)+" - "+r},t.showAlert=function(e){d.default.isWeb()?alert(e):d.default.isYoui()?console.warn(e):i.Alert.alert(e)},t.default={calculatePercentage:t.calculatePercentage,checkDebugSequence:t.checkDebugSequence,containsRestriction:t.containsRestriction,getCountdownMessage:t.getCountdownMessage,getEpisodeNumberAndTitle:t.getEpisodeNumberAndTitle,isNextContentDifferent:t.isNextContentDifferent,isNextSeriesDifferent:t.isNextSeriesDifferent,isFutureDate:t.isFutureDate,isTrickScrubbingSupported:function(){var e=l.default.getModel();return!["AFTT","AFTM"].includes(e)},mobileWidth:t.mobileWidth,percentage:t.percentage,tabletWidth:t.tabletWidth}},function(e,t,n){"use strict";var r;n(108);r=function(){},t.a=r},function(e,t,n){"use strict";var r=n(82),i=n(130);var a=function(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||i.a.hasOwnProperty(e)&&i.a[e]?(""+t).trim():t+"px"},o=n(125);var s=function(e,t,n){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){var s=0===i.indexOf("--");0;var u=a(i,t[i],s);if("float"===i&&(i="cssFloat"),s){var c=s?i:Object(o.default)(i);r.setProperty(c,u)}else r[i]=u}},u=function(e){var t=Object(r.a)(e),n=t.x,i=t.y,a=t.top,o=t.left;return{x:n,y:i,width:e.offsetWidth,height:e.offsetHeight,top:a,left:o}},c=function(e,t,n){var i=t||e&&e.parentNode;e&&i&&setTimeout((function(){var t=Object(r.a)(i),a=u(e),o=a.height,s=a.left,c=a.top,l=a.width,d=s-t.left,f=c-t.top;n(d,f,l,o,s,c)}),0)},l={A:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},d={blur:function(e){try{e.blur()}catch(e){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&null==l[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(e){}},measure:function(e,t){c(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=u(e),r=n.height,i=n.left,a=n.top,o=n.width;t(i,a,o,r)}),0)},measureLayout:function(e,t,n,r){c(e,t,r)},updateView:function(e,t,n){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];switch(r){case"style":s(e,i,n._reactInternalInstance);break;case"class":case"className":e.setAttribute("class",i);break;case"text":case"value":e.value=i;break;default:e.setAttribute(r,i)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}};t.a=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(44)),s=a(n(13)),u=n(35),c=a(n(68)),l=function(e){function t(){var t=e.call(this,"Localize")||this;return t.getOptions=function(){return null},t.isSingleton=function(){return!0},t}return i(t,e),t.registerTranslations=function(e){t.translations=e},t.t=function(e,n){var r,i,a,s,l,d;void 0===n&&(n={});var f=o.default.getState(),p=c.default(null===(i=null===(r=f.configuration)||void 0===r?void 0:r.user)||void 0===i?void 0:i.uiLanguage),h=null!==(d=null!==(s=null===(a=t.translations[p.code])||void 0===a?void 0:a[e])&&void 0!==s?s:null===(l=t.translations[u.DEFAULT_LOCALE])||void 0===l?void 0:l[e])&&void 0!==d?d:"Not Set";return Object.keys(n).reduce((function(e,t){return e.replace("%{"+t+"}",n[t])}),h).replace(/%{[^}]+}/g,"not set")},t.translations={},t}(s.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamType=t.PlayerType=t.PlayerTechType=t.TextTrackType=t.TextTrackKind=t.MimeType=t.PlayResult=t.InitialPlayType=t.VIDEO_QUALITY_AUTO=t.TEXT_TRACK_NONE=t.PLAYER_ENDED_TASK=t.LOADED_DATA_TASK=t.INITIAL_TEXT_TRACK_TASK=t.HLS_MIME_TYPE=void 0,t.HLS_MIME_TYPE="application/vnd.apple.mpegurl",t.INITIAL_TEXT_TRACK_TASK="Initial text track ready",t.LOADED_DATA_TASK="Player loaded data",t.PLAYER_ENDED_TASK="Player ended",t.TEXT_TRACK_NONE=-1,t.VIDEO_QUALITY_AUTO="Auto",function(e){e.AUTOPLAY="autoplay",e.PLAY="play",e.SKIP="skip"}(t.InitialPlayType||(t.InitialPlayType={})),function(e){e.SUCCEEDED="SUCCEEDED",e.NOT_ALLOWED="NOT_ALLOWED",e.NOT_SUPPORTED="NOT_SUPPORTED"}(t.PlayResult||(t.PlayResult={})),function(e){e.DASH="application/dash+xml",e.DEFAULT="application/octet-stream",e.HLS="application/vnd.apple.mpegurl"}(t.MimeType||(t.MimeType={})),function(e){e.CAPTIONS="captions",e.CHAPTERS="chapters",e.DESCRIPTIONS="descriptions",e.METADATA="metadata",e.SUBTITLES="subtitles"}(t.TextTrackKind||(t.TextTrackKind={})),function(e){e.ASS="ass",e.DISABLED="disabled",e.SCC="scc",e.SRT="srt",e.VTT="vtt"}(t.TextTrackType||(t.TextTrackType={})),function(e){e.HLS="hls.js",e.SAFARI_FAIRPLAY="safari_fairplay",e.SHAKA="shaka",e.VIDEO="video"}(t.PlayerTechType||(t.PlayerTechType={})),function(e){e.MAIN="main",e.ADS="ads"}(t.PlayerType||(t.PlayerType={})),function(e){e.DASH="DASH",e.HLS="HLS",e.MP4="MP4"}(t.StreamType||(t.StreamType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIPEvent=t.PresentationMode=t.SwitchType=t.TextTrackType=t.TextTrackKind=t.AssetDownloadStatus=t.LocationType=t.PLAYER_ENDED_TASK=t.LOADED_DATA_TASK=t.INITIAL_TEXT_TRACK_TASK=t.DOWNLOAD_LIBASS_ASSETS=t.HLS_MIME_TYPE=t.VIDEO_QUALITY_AUTO=t.TEXT_TRACK_LANGUAGE_OFF=t.TEXT_TRACK_NONE=void 0,t.TEXT_TRACK_NONE=-1,t.TEXT_TRACK_LANGUAGE_OFF="off",t.VIDEO_QUALITY_AUTO="Auto",t.HLS_MIME_TYPE="application/vnd.apple.mpegurl",t.DOWNLOAD_LIBASS_ASSETS="Libass assets downloaded",t.INITIAL_TEXT_TRACK_TASK="Initial text track ready",t.LOADED_DATA_TASK="Player loaded data",t.PLAYER_ENDED_TASK="Player ended",function(e){e.LOCAL="local",e.NETWORK="network"}(t.LocationType||(t.LocationType={})),function(e){e.COMPLETE="COMPLETE",e.IN_PROGRESS="IN_PROGRESS",e.ERROR="ERROR"}(t.AssetDownloadStatus||(t.AssetDownloadStatus={})),function(e){e.CAPTIONS="captions",e.CHAPTERS="chapters",e.DESCRIPTIONS="descriptions",e.METADATA="metadata",e.SUBTITLES="subtitles"}(t.TextTrackKind||(t.TextTrackKind={})),function(e){e.ASS="ass",e.DISABLED="disabled",e.SCC="scc",e.SRT="srt",e.VTT="vtt"}(t.TextTrackType||(t.TextTrackType={})),function(e){e.INITIAL_SOURCE="initial source",e.HARDSUB="hardsub",e.QUALITY_SELECTION="quality selection"}(t.SwitchType||(t.SwitchType={})),function(e){e.FULLSCREEN="fullscreen",e.INLINE="inline",e.PICTURE_IN_PICTURE="picture-in-picture"}(t.PresentationMode||(t.PresentationMode={})),function(e){e.enterpictureinpicture="enterpictureinpicture",e.leavepictureinpicture="leavepictureinpicture"}(t.PIPEvent||(t.PIPEvent={}))},function(e,t,n){"use strict";var r=n(47),i=n(34),a=n(66),o=n(16);var s=o.a.API,u=1;var c=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this)._startingValue=n._value=t,n._offset=0,n._animation=null,n._listeners={},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.__detach=function(){this.stopAnimation(),e.prototype.__detach.call(this)},c.__getValue=function(){return this._value+this._offset},c.__makeNative=function(){e.prototype.__makeNative.call(this),Object.keys(this._listeners).length&&this._startListeningToNativeValueUpdates()},c.setValue=function(e){this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&s.setAnimatedNodeValue(this.__getNativeTag(),e)},c.setOffset=function(e){this._offset=e,this.__isNative&&s.setAnimatedNodeOffset(this.__getNativeTag(),e)},c.flattenOffset=function(){this._value+=this._offset,this._offset=0,this.__isNative&&s.flattenAnimatedNodeOffset(this.__getNativeTag())},c.extractOffset=function(){this._offset+=this._value,this._value=0,this.__isNative&&s.extractAnimatedNodeOffset(this.__getNativeTag())},c.addListener=function(e){var t=String(u++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t},c.removeListener=function(e){delete this._listeners[e],this.__isNative&&0===Object.keys(this._listeners).length&&this._stopListeningForNativeValueUpdates()},c.removeAllListeners=function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()},c._startListeningToNativeValueUpdates=function(){var e=this;this.__nativeAnimatedValueListener||(s.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=o.a.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e._updateValue(t.value,!1)})))},c._stopListeningForNativeValueUpdates=function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,s.stopListeningToAnimatedNodeValue(this.__getNativeTag()))},c.stopAnimation=function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&e(this.__getValue())},c.resetAnimation=function(e){this.stopAnimation(e),this._value=this._startingValue},c.interpolate=function(e){return new r.a(this,e)},c.animate=function(e,t){var n=this,r=null;e.__isInteraction&&(r=a.a.createInteractionHandle());var i=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&a.a.clearInteractionHandle(r),t&&t(e)}),i,this)},c.stopTracking=function(){this._tracking&&this._tracking.__detach(),this._tracking=null},c.track=function(e){this.stopTracking(),this._tracking=e},c._updateValue=function(e,t){var n,r;for(var i in this._value=e,t&&(n=this,r=new Set,function e(t){"function"==typeof t.update?r.add(t):t.__getChildren().forEach(e)}(n),r.forEach((function(e){return e.update()}))),this._listeners)this._listeners[i]({value:this.__getValue()})},c.__getNativeConfig=function(){return{type:"value",value:this._value,offset:this._offset}},i}(i.a);t.a=c},function(e,t,n){"use strict";var r=n(168),i=n(18),a=n(81),o=n(25),s={blur:function(){o.a.blur(Object(i.a)(this))},focus:function(){o.a.focus(Object(i.a)(this))},measure:function(e){o.a.measure(Object(i.a)(this),e)},measureInWindow:function(e){o.a.measureInWindow(Object(i.a)(this),e)},measureLayout:function(e,t,n){o.a.measureLayout(Object(i.a)(this),e,n,t)},setNativeProps:function(e){if(e){var t=Object(i.a)(this);if(t){var n=Object(r.a)(null,e,(function(e){return a.a.resolveWithNode(e,t)}));o.a.updateView(t,n,this)}}}};t.a=function(e){return Object.keys(s).forEach((function(t){e.prototype[t]||(e.prototype[t]=s[t])})),e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(414)),a=r(n(424)),o=r(n(426)),s=r(n(270)),u=r(n(268)),c=r(n(485)),l=r(n(486)),d=r(n(487)),f=r(n(488)),p=r(n(271)),h=r(n(489)),v=r(n(492)),m=r(n(525)),g=r(n(534)),y=r(n(538)),b=r(n(541)),_=r(n(542)),A=r(n(545)),S=r(n(546)),E=r(n(554));t.default={capitalize:i.default,clamp:a.default,findIndex:o.default,flatten:s.default,get:u.default,head:c.default,isEmpty:l.default,isEqual:d.default,isNil:f.default,isPlainObject:p.default,maxBy:h.default,omit:v.default,orderBy:m.default,partition:g.default,pick:y.default,set:b.default,throttle:_.default,toPlainObject:A.default,uniqBy:S.default,uniqWith:E.default}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(2),l=n(8),d=o(n(44)),f=o(n(13)),p=n(7).environmentUtils.isYoui()?5e3:2500,h=function(e){function t(){var t=e.call(this,"InactivityManagerPlugin")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.register=t.register.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t}return i(t,e),t.initialize=function(e){void 0===e&&(e={timeout:p}),v.timeout=e.timeout||p,v.isLocked=!1,v.isSuspended=!1},t.destroy=function(){v.removeTimer(),t.initialize()},t.lock=function(){v.isLocked=!0,v.removeTimer(),v.activate()},t.unlock=function(){v.isLocked=!1,v.startTimer()},t.start=function(){v.isLocked||v.isSuspended||(v.startTimer(),v.activate())},t.stop=function(e){v.removeTimer(),v.isLocked||v.deactivate(e)},t.resume=function(){v.isSuspended=!1,v.isLocked||v.startTimer()},t.suspend=function(){v.isSuspended=!0,v.removeTimer(),v.activate()},t.prototype.activate=function(){var e;(null===(e=d.default.getState().controls)||void 0===e?void 0:e.isActive)||d.default.dispatch(c.controlsActionCreators.activateControls())},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.contentLifecycleActionCreators.loadConfig,this.handleLoadConfig)])];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadConfig=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(l.configurationSelectors.self)];case 1:return e=r.sent(),v.timeout=null!==(n=null===(t=null==e?void 0:e.controls)||void 0===t?void 0:t.inactivityTimeout)&&void 0!==n?n:v.timeout,[2]}}))},t.prototype.deactivate=function(e){var t;(null===(t=d.default.getState().controls)||void 0===t?void 0:t.isActive)&&d.default.dispatch(c.controlsActionCreators.deactivateControls(e))},t.prototype.removeTimer=function(){v.timer&&(clearTimeout(v.timer),v.timer=void 0)},t.prototype.startTimer=function(){this.removeTimer(),v.timer=setTimeout((function(){t.stop(!0)}),v.timeout)},t}(f.default),v=new h;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toRelativeScale=void 0;var r=n(3),i=n(7).environmentUtils.isYoui()?r.Dimensions.get("screen").width/1920:1;t.toRelativeScale=function(e){return e*i}},function(e,t,n){"use strict";var r=n(17),i=n(16);var a=function(e){var t,n;function r(){var t;return(t=e.call(this)||this)._children=[],t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.__makeNative=function(){if(!this.__isNative){this.__isNative=!0;var e=this._children,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var a=r;a.__makeNative(),i.a.API.connectAnimatedNodes(this.__getNativeTag(),a.__getNativeTag())}}},a.__addChild=function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(),i.a.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))},a.__removeChild=function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&i.a.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")},a.__getChildren=function(){return this._children},r}(r.a);t.a=a},function(e,t,n){"use strict";var r,i,a,o,s,u,c,l,d;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LOCALE=t.UNKNOWN_LOCALE_LABEL=t.STATIC_ASSET_DOMAIN=t.rokuJSUI=t.DRM_CERTIFICATE_ENDPOINT=t.DRM_AUTH_ENDPOINT=t.DRMLicenseEndpoints=t.DRMLicenseHosts=t.CRLegacyClientID=t.YospaceVmapConfigId=t.TurnerAdServer=t.DLVRHostname=t.LocalCSMEndpoints=t.PlaybackLambdaCSMEndpoints=t.YospaceCSMEndpoints=t.PlaybackLambdaDomains=t.TokenClientId=t.Ratings=t.EllationAPIEndpoints=t.APIDomains=t.CrunchyrollEnv=void 0;var f,p=n(58),h=n(84);!function(e){e.PROD="prod",e.STAGING="staging",e.PROTO="proto0"}(f=t.CrunchyrollEnv||(t.CrunchyrollEnv={})),function(e){e.BETA_PROTO="beta-api.etp-proto0.com",e.BETA_STAGING="beta-stage-api.crunchyroll.com",e.BETA_PROD="beta-api.crunchyroll.com",e.VRV_PROTO="api.cx-proto0.com",e.VRV_STAGING="api.cx-staging.com",e.VRV_PROD="api.vrv.co"}(t.APIDomains||(t.APIDomains={})),function(e){e.TOKEN="/auth/v1/token",e.ACCOUNT_ME="/accounts/v1/me",e.ACCOUNT_ME_PROFILE="/accounts/v1/me/profile",e.PLAYHEAD="/content/v1/playheads/"}(t.EllationAPIEndpoints||(t.EllationAPIEndpoints={})),t.Ratings={PG13:"PG-13",R:"R",TVMA:"TV-MA",TV14:"TV-14"},t.TokenClientId=((r={})[f.PROD]="hvot-h-mkkpjauwd3ynw",r[f.PROTO]="secfz562xeffaaq0fltk",r[f.STAGING]="he5oyozlozxze2sjxg0d",r),t.PlaybackLambdaDomains=((i={})[f.PROD]="pl.crunchyroll.com",i[f.PROTO]="pl.etp-proto0.com",i[f.STAGING]="pl.etp-staging.com",i),t.YospaceCSMEndpoints=((a={})[f.PROD]="https://csm-e-ellation-eb.geoloc.yospace.com/csm/access",a[f.PROTO]="https://csm-e-ceoctestuswxaws101j8-1o1h0ly7wnsu.tls1.yospace.com/csm/access",a[f.STAGING]="https://csm-e-ceoctestuswxaws101j8-1o1h0ly7wnsu.tls1.yospace.com/csm/access",a),t.PlaybackLambdaCSMEndpoints=((o={})[f.PROD]="https://pl.crunchyroll.com/csm/access",o[f.PROTO]="https://pl.etp-proto0.com/csm/access",o[f.STAGING]="https://pl.etp-staging.com/csm/access",o),t.LocalCSMEndpoints=((s={})[f.PROD]="https://localhost:3000/csm/access",s[f.PROTO]="https://localhost:3000/csm/access",s[f.STAGING]="https://localhost:3000/csm/access",s),t.DLVRHostname=((u={})[f.PROD]="b54c47d547074946ba83b33087208830.dlvr1.net",u[f.PROTO]="1147428c5740439da6cdc47b71c2e1ef.dlvr1.net",u[f.STAGING]="05371d4345e747858a86380eb9a9fe7c.dlvr1.net",u),t.TurnerAdServer=((c={})[f.PROD]=48804,c[f.PROTO]=42448,c[f.STAGING]=42448,c),t.YospaceVmapConfigId=((l={houseOnly:"180817600",demoVpaid:"174777500"})[p.Environment.MOBILE]="180817600",l[p.Environment.ROKU]="212711864",l[p.Environment.TV]="201190098",l[p.Environment.WEB]="190224740",l),t.CRLegacyClientID="crunchyroll-web",function(e){e.STAGING="https://lic.staging.drmtoday.com",e.PROD="https://lic.drmtoday.com"}(t.DRMLicenseHosts||(t.DRMLicenseHosts={})),t.DRMLicenseEndpoints=((d={})[h.DRM.FAIRPLAY]="/license-server-fairplay/",d[h.DRM.PLAYREADY]="/license-proxy-headerauth/drmtoday/RightsManager.asmx",d[h.DRM.WIDEVINE]="/license-proxy-widevine/cenc/",d),t.DRM_AUTH_ENDPOINT="/drm/v1/auth",t.DRM_CERTIFICATE_ENDPOINT="/license-server-fairplay/cert/",t.rokuJSUI=!1,t.STATIC_ASSET_DOMAIN="https://static.crunchyroll.com/vilos-v2/web/vilos",t.UNKNOWN_LOCALE_LABEL="Unknown",t.DEFAULT_LOCALE="en-US"},function(e,t,n){"use strict";var r=n(67),i=n(168),a=n(129),o=n.n(a),s=n(82),u=[],c=function(){},l=function(e){return e?Array.prototype.slice.call(e).map((function(e){var t,n=e.identifier>20?e.identifier%20:e.identifier;return{_normalized:!0,clientX:e.clientX,clientY:e.clientY,force:e.force,get locationX(){if(t=t||Object(s.a)(e.target))return e.pageX-t.left},get locationY(){if(t=t||Object(s.a)(e.target))return e.pageY-t.top},identifier:n,pageX:e.pageX,pageY:e.pageY,radiusX:e.radiusX,radiusY:e.radiusY,rotationAngle:e.rotationAngle,screenX:e.screenX,screenY:e.screenY,target:e.target,timestamp:Date.now()}})):u};var d=function(e){return!e||e._normalized?e:(e.type||"").indexOf("mouse")>=0?function(e){var t,n=[{_normalized:!0,clientX:e.clientX,clientY:e.clientY,force:e.force,identifier:0,get locationX(){if(t=t||Object(s.a)(e.target))return e.pageX-t.left},get locationY(){if(t=t||Object(s.a)(e.target))return e.pageY-t.top},pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,target:e.target,timestamp:Date.now()}],r="function"==typeof e.preventDefault?e.preventDefault.bind(e):c,i="function"==typeof e.stopImmediatePropagation?e.stopImmediatePropagation.bind(e):c,a="function"==typeof e.stopPropagation?e.stopPropagation.bind(e):c;return{_normalized:!0,bubbles:e.bubbles,cancelable:e.cancelable,changedTouches:n,defaultPrevented:e.defaultPrevented,identifier:n[0].identifier,get locationX(){return n[0].locationX},get locationY(){return n[0].locationY},pageX:e.pageX,pageY:e.pageY,preventDefault:r,stopImmediatePropagation:i,stopPropagation:a,target:e.target,timestamp:n[0].timestamp,touches:"mouseup"===e.type?u:n,type:e.type,which:e.which}}(e):function(e){var t=l(e.changedTouches),n=l(e.touches),r="function"==typeof e.preventDefault?e.preventDefault.bind(e):c,i="function"==typeof e.stopImmediatePropagation?e.stopImmediatePropagation.bind(e):c,a="function"==typeof e.stopPropagation?e.stopPropagation.bind(e):c,o=t[0];return{_normalized:!0,bubbles:e.bubbles,cancelable:e.cancelable,changedTouches:t,defaultPrevented:e.defaultPrevented,identifier:o?o.identifier:void 0,get locationX(){return o?o.locationX:void 0},get locationY(){return o?o.locationY:void 0},pageX:o?o.pageX:e.pageX,pageY:o?o.pageY:e.pageY,preventDefault:r,stopImmediatePropagation:i,stopPropagation:a,target:e.target,timestamp:Date.now(),touches:n,type:e.type,which:e.which}}(e)},f=n(1),p=n.n(f),h=o.a.ResponderEventPlugin,v=o.a.ResponderTouchHistoryStore;if(!h.eventTypes.responderMove.dependencies){var m=["topTouchCancel","topTouchEnd","topMouseUp"],g=["topTouchMove","topMouseMove"],y=["topTouchStart","topMouseDown"];h.eventTypes.responderMove.dependencies=g,h.eventTypes.responderEnd.dependencies=m,h.eventTypes.responderStart.dependencies=y,h.eventTypes.responderRelease.dependencies=m,h.eventTypes.responderTerminationRequest.dependencies=[],h.eventTypes.responderGrant.dependencies=[],h.eventTypes.responderReject.dependencies=[],h.eventTypes.responderTerminate.dependencies=[],h.eventTypes.moveShouldSetResponder.dependencies=g,h.eventTypes.selectionChangeShouldSetResponder.dependencies=["topSelectionChange"],h.eventTypes.scrollShouldSetResponder.dependencies=["topScroll"],h.eventTypes.startShouldSetResponder.dependencies=y}var b=null,_=h.extractEvents;h.extractEvents=function(e,t,n,r){var i=v.touchHistory.numberActiveTouches>0,a=n.type,o=!1;if(a.indexOf("touch")>-1)b=Date.now();else if(b&&a.indexOf("mouse")>-1){o=Date.now()-b<1e3}if(("mousemove"!==a&&"mouseup"!==a||i)&&1!==n.button&&2!==n.button&&!o){var s=d(n);return _.call(h,e,t,s,r)}};var A=h;Object(a.injectEventPluginsByName)({ResponderEventPlugin:A});var S={onBlur:!0,onClick:!0,onClickCapture:!0,onContextMenu:!0,onFocus:!0,onResponderRelease:!0,onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},E=function(e){var t=e.onClick,n=e.onResponderRelease,i=e.role,a=r.a.buttonLikeRoles[i],o=r.a.isDisabled(e),s="link"===i;Object.keys(e).forEach((function(t){var n=e[t];"function"==typeof n&&S[t]&&(e[t]=a&&o?void 0:function(e){return e.nativeEvent=d(e.nativeEvent),n(e)})})),s&&n&&(e.onClick=function(t){var n;t.isDefaultPrevented()||((n=t.nativeEvent).metaKey||n.altKey||n.ctrlKey||n.shiftKey)||e.target||t.preventDefault()}),a&&!o&&(e.onKeyPress=function(e){e.isDefaultPrevented()||13!==e.which&&32!==e.which||(e.preventDefault(),t&&t(e))})};t.a=function(e,t){var n;e&&e.constructor===String&&(n=r.a.propsToAccessibilityComponent(t));var a=n||e,o=Object(i.a)(a,t);E(o);for(var s=arguments.length,u=new Array(s>2?s-2:0),c=2;c<s;c++)u[c-2]=arguments[c];return p.a.createElement.apply(p.a,[a,o].concat(u))}},function(e,t,n){"use strict";var r=n(73);e.exports=r},function(e,t,n){var r=n(897);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.removeAdBreakReferences=t.getIsInYospaceAdBreak=t.isUsingSSAI=t.isUsingYospace=t.isUsingKatana=t.yospaceSsaiSeek=t.getNextAdBreak=t.getPreviousAdBreak=t.determineTextTrackOffset=t.determineContentOffSetWithContentTime=t.determineContentOffSet=t.convertYospaceTimelineToAdBreaks=t.getTrimFromVMAP=t.convertSourceToYospaceSource=t.getYoSpaceParams=t.getUniversalAdId=t.getLimitAdTracking=t.getDeviceId=t.getContentRating=t.getConfigId=t.isNoYoEnabled=void 0;var a=n(310),o=n(9),s=n(2),u=n(8),c=n(59),l=n(40),d=n(77),f=n(35),p=n(35),h=n(27),v=n(58),m=n(7),g=n(148),y=n(52);t.isNoYoEnabled=function(e){var t;return y.getQueryParamValue(d.QueryParamName.NOYO)||(null===(t=null==e?void 0:e.yospace)||void 0===t?void 0:t.noYoMode)};var b=function(){if(m.environmentUtils.isFireTV())return"216841551";if(m.environmentUtils.isPlaystation())return"250959156";switch(m.environmentUtils.getEnvironment()){case v.Environment.MOBILE:return m.environmentUtils.isAndroidNativeMobile()?"239408648":"190224740";case v.Environment.ROKU:return"212711864";case v.Environment.TV:return"201190098";case v.Environment.WEB:default:return"190224740"}};function _(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return e=r.sent(),t=null===(n=e.ads)||void 0===n?void 0:n.configId,[2,y.getQueryParamValue(d.QueryParamName.YOSPACE_CID)||t||b()]}}))}function A(){var e;return i(this,(function(t){switch(t.label){case 0:return m.environmentUtils.isRoku()?[2,"<roku-is-lat>"]:[4,o.select(u.configurationSelectors.self)];case 1:return e=t.sent(),[2,e.ads.limitAdTracking?"1":"0"]}}))}function S(){var e=m.environmentUtils.isWeb()?null:m.DeviceInfo.getUniqueId(),t=m.environmentUtils.getOS();if(m.environmentUtils.isFireTV())return"amazon_advertising_id:"+e;switch(t){case v.OS.ANDROID:return"google_advertising_id:"+e;case v.OS.OSX:case v.OS.IOS:return"idfa:"+e;case v.OS.ROKU:return"rida:<roku-device-id>";case v.OS.WINDOWS:case v.OS.XBOX:return"windows_advertising_id:"+e;default:return""}}function E(){var e,n,c,l,p,h,v,g,b,_,A,S,E,w,T,P;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return e=i.sent(),n=e.client,c=e.yospace,l=(null==n?void 0:n.environment)||f.CrunchyrollEnv.PROD,p=l===f.CrunchyrollEnv.PROD?0:1,h=(null==c?void 0:c.params)||{},[4,o.put(s.freewheelActionCreators.prepareFreewheelParams())];case 2:return i.sent(),[4,o.take(s.freewheelActionCreators.setFreewheelParams)];case 3:return i.sent(),b=(g=u.freewheelSelectors).freewheelParams,[4,o.select()];case 4:return v=b.apply(g,[i.sent()]),S=(A=u.a9Selectors).a9params,[4,o.select()];case 5:return _=S.apply(A,[i.sent()]),function(e){var t;return m.environmentUtils.isFireTV()||m.environmentUtils.isRoku()||y.getQueryParamValue(d.QueryParamName.A9)||(null===(t=e.a9)||void 0===t?void 0:t.enabled)}(e)?[4,o.put(s.a9ActionCreators.prepareA9Params())]:[3,9];case 6:return i.sent(),"string"==typeof(null===(T=null==_?void 0:_.device)||void 0===T?void 0:T.ifa)?[3,9]:[4,o.take(s.a9ActionCreators.setA9Params)];case 7:return i.sent(),w=(E=u.a9Selectors).a9params,[4,o.select()];case 8:_=w.apply(E,[i.sent()]),i.label=9;case 9:return[2,r(r(r(r(r(r({},v),(null===(P=null==e?void 0:e.yospace)||void 0===P?void 0:P.debugAdFill)&&{"yo.ad":!0}),{"yo.p.fo":!0,"yo.p.oc":!0}),h),_&&{a9Params:a.Buffer.from(JSON.stringify(_)).toString("base64"),metrics:p}),t.isNoYoEnabled(e)&&{noYo:1})]}}))}function w(e){var t="0",n=m._.get(e,"extensions.extensions[0].extensionXml.parentNode.children");if(n&&n.length>0)for(var r=0;r<=n.length-1;r++){var i=n[r];if("duration"===m._.get(i,"childNodes[1].attributes.duration.nodeName")){t=m._.get(i,"childNodes[1].attributes.duration.nodeValue");break}}return t}function T(e,t){return e.filter((function(e){return e.offset<t})).reduce((function(e,t){var n=t.duration;return e+(void 0===n?0:n)}),0)}function P(e,t){return e.filter((function(e){return e.contentTimeOffset<=t})).reduce((function(e,t){var n=t.duration;return e+(void 0===n?0:n)}),0)}function C(e,t){return e.filter((function(e){return e.offset<t})).reduce((function(e,t){var n=t.trim;return e+(void 0===n?0:n)/1e3}),0)}function O(e,t){return e.slice().reverse().find((function(e){return e.offset<=t}))||null}function k(e,t){return e.find((function(e){return e.offset>=t}))||null}function I(e){return i(this,(function(t){switch(t.label){case 0:return[4,o.take(s.adsManagerActionCreators.endedAdBreak)];case 1:return t.sent(),[4,o.put(s.playerActionCreators.requestSeekToStreamTime(e))];case 2:return t.sent(),[2]}}))}function x(e){return l.getAdTech(e)===c.AdTech.KATANA}function D(e){var t,n,r=l.getAdTech(e),i=r===c.AdTech.YOSPACE||r===c.AdTech.KATANA,a=l.isUserPremium(e),o=1e3*(null===(t=e.ads)||void 0===t?void 0:t.minimumDurationThreshold)||42e4,s=(null===(n=e.metadata)||void 0===n?void 0:n.duration)||0;return i&&!a&&s>o}t.getConfigId=_,t.getContentRating=function(e,t){return e?"episode"===t?p.Ratings.TVMA:p.Ratings.R:"episode"===t?p.Ratings.TV14:p.Ratings.PG13},t.getDeviceId=function(){var e;return i(this,(function(t){switch(t.label){case 0:return e=S(),m.environmentUtils.isRoku()?[2,e]:[4,A()];case 1:return[2,t.sent()?"":e]}}))},t.getLimitAdTracking=A,t.getUniversalAdId=S,t.getYoSpaceParams=E,t.convertSourceToYospaceSource=function(e){var n,r,a,c,l,p,h,v,m,b,A,S,w,T;return i(this,(function(i){switch(i.label){case 0:return n=e.source,r=e.type,a=e.drm,c=e.startTime,[4,o.select(u.configurationSelectors.self)];case 1:l=i.sent(),p=l.client,h=(null==p?void 0:p.environment)||f.CrunchyrollEnv.PROD,i.label=2;case 2:return i.trys.push([2,6,,7]),v=g.encode(n),[4,E()];case 3:return m=i.sent(),[4,o.put(s.adsManagerActionCreators.updateBidNetworkParameters(m))];case 4:return i.sent(),b=y.objectToQueryParams(m),[4,_()];case 5:return A=i.sent(),S=y.getQueryParamValue(d.QueryParamName.LOCAL_NOYO)?f.LocalCSMEndpoints[h]:f.PlaybackLambdaCSMEndpoints[h],w=x(l)||t.isNoYoEnabled(l)?S:f.YospaceCSMEndpoints[h],[2,{source:w+"/"+A+"/"+v+b,type:r,drm:a,startTime:c}];case 6:return T=i.sent(),console.warn("Unable to create Yospace source"),console.error(T),[2,e];case 7:return[2]}}))},t.getTrimFromVMAP=w,t.convertYospaceTimelineToAdBreaks=function(e){var t=e.elements.filter((function(e){return e.type===d.YospaceTimelineElementType.ADVERT})).map((function(e,t){var n=e.duration,r=e.offset,i=e.adBreak,a=i.adverts,o=w(i.vmapBreak);return{index:t,adSlots:a.map((function(e){var t=e.advert,n=t.linear,r=n.getDuration();return{adSystem:t.AdSystem,adTitle:t.AdTitle,clickThroughUrl:n.clickThrough,description:t.Description,duration:r,id:t.id,sequence:t.sequence}})),duration:n,isPlayed:!1,offset:r,trim:parseInt(o,10),type:0===r?c.AdBreakType.PREROLL:c.AdBreakType.MIDROLL}}));return t.map((function(e){return r(r({},e),{contentTimeOffset:e.offset-T(t,e.offset)})}))},t.determineContentOffSet=T,t.determineContentOffSetWithContentTime=P,t.determineTextTrackOffset=C,t.getPreviousAdBreak=O,t.getNextAdBreak=k,t.yospaceSsaiSeek=function(e,t){var n,r,a,c,l,d,f,p,v,g,y,b;return void 0===t&&(t=!1),i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.adsManagerSelectors.all)];case 1:return n=i.sent().adBreaks,r=P(n,e),c=O(n,a=e+r),(null==(l=k(n,a))?void 0:l.isPlayed)&&(d=l.offset-a<=5,0===l.offset?(f=m.environmentUtils.isYoui()?.1:0,a=l.duration+f):a=d?a-2:a),[4,o.select(u.mediaSelectors.all)];case 2:return(null==(p=i.sent().processedSource)?void 0:p.type)!==h.StreamType.DASH?[3,4]:(v=C(n,a),[4,o.put(s.mediaActionCreators.updateTextTrackOffset(v))]);case 3:i.sent(),i.label=4;case 4:return!c||c.isPlayed?[3,9]:(y=T(n,c.offset),[4,o.put(s.mediaActionCreators.updateContentOffset(y))]);case 5:return i.sent(),b=h.StreamType.HLS===(null==p?void 0:p.type)?.1:0,g=c.offset-b,t?[3,7]:[4,o.put(s.playerActionCreators.requestSeekToStreamTime(g))];case 6:i.sent(),i.label=7;case 7:return[4,o.spawn(I,a)];case 8:return i.sent(),[3,12];case 9:return[4,o.put(s.mediaActionCreators.updateContentOffset(r))];case 10:return i.sent(),g=a,t?[3,12]:[4,o.put(s.playerActionCreators.requestSeekToStreamTime(a))];case 11:i.sent(),i.label=12;case 12:return[2,g]}}))},t.isUsingKatana=x,t.isUsingYospace=function(e){return l.getAdTech(e)===c.AdTech.YOSPACE},t.isUsingSSAI=D,t.getIsInYospaceAdBreak=function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return e=t.sent(),[4,o.select(u.adsManagerSelectors.all)];case 2:return[2,t.sent().isInAdBreak&&D(e)]}}))},t.removeAdBreakReferences=function e(t,n){return void 0===n&&(n=1),Object.keys(t).reduce((function(r,i){return t[i]?Array.isArray(t[i])?r[i]=n>1?t[i].map((function(t){return e(t,n-1)})):[]:"object"==typeof t[i]?r[i]=n>1?e(t[i],n-1):{}:"function"!=typeof t[i]&&(r[i]=t[i]):r[i]=null,r}),{})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.isViableAdBreak=t.hasPrerollAdBreak=t.getNextAdBreak=t.getPreviousAdBreak=t.convertToStandardAdBreaks=t.calculateHasPreroll=t.adBreakSortingFunc=t.getGDPRValue=t.getDoNotTrackValue=t.getCCPADoNotSellMacro=t.getIsInVendriAdBreak=t.isUsingVendri=t.isUserPremium=t.isUsingKatana=t.getPubId=t.getCurrentAdPod=t.getCurrentAdSlot=t.isUsingAdsPlayer=t.getAdTech=t.generateAdMarkers=void 0;var a=n(9),o=n(8),s=n(59),u=n(203),c=n(77),l=n(39),d=n(43),f=n(7),p=n(23),h=n(52);function v(e,t){return e.type===t.type?e.offset<t.offset?-1:e.offset>t.offset?1:(e.offset!==t.offset||f.environmentUtils.isJest()||console.warn("Found 2 identical "+e.type+"s!!",e,t),0):"preroll"===e.type||"preroll"===t.type?"preroll"===e.type?-1:"preroll"===t.type?1:(console.error("Could not compare preroll & adbreak",e,t),0):"postroll"===e.type||"postroll"===t.type?"postroll"===e.type?1:"postroll"===t.type?-1:(console.error("Could not compare postroll & adbreak",e,t),0):(console.error("Could not compare malformed adbreak(s)",e,t),0)}function m(e){return e&&!e.isPlayed&&!e.hasFetchFailed}function g(e,t,n){var r=n-13,i=e.slice().reverse().find((function(e){switch(e.type){case"preroll":return!0;case"midroll":return e.offset<=t&&e.offset<r;case"postroll":return!1}}));return m(i)?i:null}function y(e){var t;return h.getQueryParamValue(c.QueryParamName.AD_TECH)||(null===(t=e.ads)||void 0===t?void 0:t.adTech)}function b(e){var t;if(!e)return null;var n=e.adBreaks,r=e.targetAdBreakIndex;return null!==(t=null==n?void 0:n[r])&&void 0!==t?t:null}function _(e){var t,n,r=h.getQueryParamValue(u.VendriQueryParamName.PID),i=(null===(t=e.ads)||void 0===t?void 0:t.pubId)||(null===(n=e.client)||void 0===n?void 0:n.id)||"";return r||i}function A(e){return y(e)===s.AdTech.KATANA}function S(e){return y(e)===s.AdTech.VENDRI&&""!==_(e)&&!l.isUsingSSAI(e)}t.adBreakSortingFunc=v,t.isViableAdBreak=m,t.generateAdMarkers=function(e,t,n,r){if(!e)return null;var i=e.filter((function(e){return e.type!==s.AdBreakType.PREROLL})).filter((function(e){return!e.isPlayed}));return i.map((function(e,n){var a=e.contentTimeOffset||e.offset,o=n-1;return o>=0&&(a-=i[o].contentTimeOffset||i[o].offset),{width:f._.get(r,"width"),backgroundColor:f._.get(r,"backgroundColor"),style:r,percentage:a/t*100}}))},t.getPreviousAdBreak=g,t.getNextAdBreak=function(e,t,n){var r=n-13,i=e.find((function(e){switch(e.type){case"preroll":return!1;case"midroll":return e.offset>t&&e.offset<r;case"postroll":return!0}}));return m(i)?i:null},t.calculateHasPreroll=function(e,t,n){var r=g(e,t,n);return r&&r.type===s.AdBreakType.PREROLL&&!r.isPlayed},t.convertToStandardAdBreaks=function(e,t,n){void 0===n&&(n=0);var i=t;return e&&e.endsWith("-nopreroll")&&(i=i.filter((function(e){return"preroll"!==e.type}))),i.map((function(e,t){return function(e,t,n){return void 0===t&&(t=0),r(r({},e),{index:n,bankedAds:[],hasFetchFailed:!1,isFetched:!1,isPlayed:!1,prefetchStart:e.offset-t})}(e,n,t)})).sort(v)},t.hasPrerollAdBreak=function(e){var t;return!!(null!==(t=(null==e?void 0:e.length)>0)&&void 0!==t?t:0)&&"preroll"===e[0].type},t.getAdTech=y,t.isUsingAdsPlayer=function(e){return e.adsPlayer&&!0==!A(e)},t.getCurrentAdSlot=function(e){var t,n;if(!e)return null;var r=e.targetAdSlotIndex,i=b(e);return null!==(n=null===(t=null==i?void 0:i.adSlots)||void 0===t?void 0:t[r])&&void 0!==n?n:null},t.getCurrentAdPod=b,t.getPubId=_,t.isUsingKatana=A,t.isUserPremium=function(e){var t;return p.containsRestriction(null===(t=e.user)||void 0===t?void 0:t.allowedRestrictions,d.ContentRestriction.PREMIUM)},t.isUsingVendri=S,t.getIsInVendriAdBreak=function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,a.select(o.configurationSelectors.self)];case 1:return e=t.sent(),[4,a.select(o.adsManagerSelectors.all)];case 2:return[2,t.sent().isInAdBreak&&S(e)]}}))},t.getCCPADoNotSellMacro=function(e){var t,n,r=(null===(t=e.privacy)||void 0===t?void 0:t.ccpaDoNotSell)||(null===(n=e.privacy)||void 0===n?void 0:n.ccpa_do_not_sell);return!0===r?s.CCPADoNotSell.YES:!1===r?s.CCPADoNotSell.NO:s.CCPADoNotSell.NOT_SET},t.getDoNotTrackValue=function(e){var t,n;return(null===(t=e.privacy)||void 0===t?void 0:t.ccpaDoNotSell)||(null===(n=e.privacy)||void 0===n?void 0:n.ccpa_do_not_sell)?"1":"0"},t.getGDPRValue=function(e){var t,n,r=null===(t=e.privacy)||void 0===t?void 0:t.isGDPR;switch(r){case"1":return r+","+(null===(n=e.privacy)||void 0===n?void 0:n.gdprConsentString);case"0":default:return"0"}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.defaultAnime4kState=t.AlternativeRendererType=t.FocusIDs=t.LayoutDesign=void 0,function(e){e.TV_DESIGN_1="TV_DESIGN_1",e.TV_DESIGN_2="TV_DESIGN_2"}(t.LayoutDesign||(t.LayoutDesign={})),function(e){e.largePlayPauseButton="vilos-large_play_pause_button",e.nextContentButton="vilos-next_content_button",e.playPauseButton="vilos-play_pause_button",e.scrubBar="vilos-scrub_bar",e.settingsButton="vilos-settings_button",e.upNextResumePlayerButton="vilos-upnext-resume-player-button",e.upNextButton="vilos-upnext-button",e.upNextThumbnailButton="vilos-upnext-thumbnail-button"}(t.FocusIDs||(t.FocusIDs={})),function(e){e.anime4k="Anime4k"}(r=t.AlternativeRendererType||(t.AlternativeRendererType={})),t.defaultAnime4kState={type:r.anime4k,attributes:{bold:6,blur:2}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s}));var r="react-native-stylesheet",i={reset:0,modality:.1,classicReset:.5,classic:1,atomic:2.2,custom:{borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,marginHorizontal:2.1,marginVertical:2.1,paddingHorizontal:2.1,paddingVertical:2.1}},a={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],margin:["marginTop","marginRight","marginBottom","marginLeft"],marginHorizontal:["marginRight","marginLeft"],marginVertical:["marginTop","marginBottom"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"],paddingHorizontal:["paddingRight","paddingLeft"],paddingVertical:["paddingTop","paddingBottom"]},o="monospace,monospace",s='system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",sans-serif'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentRestriction=void 0,function(e){e.MATURE="mature",e.PREMIUM="premium"}(t.ContentRestriction||(t.ContentRestriction={}))},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(302),o=n(586),s=i(n(75)),u=n(589),c=function(){function e(){}return e.dispatch=function(t){var n;null===(n=e.store)||void 0===n||n.dispatch(t)},e.getState=function(){var t;return(null===(t=e.store)||void 0===t?void 0:t.getState())||{}},e.initialize=function(t,n){void 0===n&&(n=!1);var i=[o.getSagaExtension()],c=u.getMiddleware(n);c.length&&i.push({middleware:c}),e.store=a.createStore.apply(void 0,r([{initialState:t,enhancers:[],extensions:i}],s.default.getModules()))},e}();t.default=c},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";var r=n(34),i=n(4),a=n.n(i),o=n(126),s=n.n(o);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return e};function l(e){if(e.outputRange&&"string"==typeof e.outputRange[0])return function(e){var t=e.outputRange;a()(t.length>=2,"Bad output range"),function(e){for(var t=e[0].replace(f,""),n=1;n<e.length;++n)a()(t===e[n].replace(f,""),"invalid pattern "+e[0]+" and "+e[n])}(t=t.map(d));var n=t[0].match(f).map((function(){return[]}));t.forEach((function(e){e.match(f).forEach((function(e,t){n[t].push(+e)}))}));var r=t[0].match(f).map((function(t,r){return l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},e,{outputRange:n[r]}))})),i=(o=t[0],"string"==typeof o&&o.startsWith("rgb"));var o;return function(e){var n=0;return t[0].replace(f,(function(){var t=+r[n++](e),a=i&&n<4?Math.round(t):Math.round(1e3*t)/1e3;return String(a)}))}}(e);var t=e.outputRange;p("outputRange",t);var n=e.inputRange;p("inputRange",n),function(e){a()(e.length>=2,"inputRange must have at least 2 elements");for(var t=1;t<e.length;++t)a()(e[t]>=e[t-1],"inputRange must be monotonically increasing "+e)}(n),a()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length");var r=e.easing||c,i="extend";void 0!==e.extrapolateLeft?i=e.extrapolateLeft:void 0!==e.extrapolate&&(i=e.extrapolate);var o="extend";return void 0!==e.extrapolateRight?o=e.extrapolateRight:void 0!==e.extrapolate&&(o=e.extrapolate),function(e){a()("number"==typeof e,"Cannot interpolation an input which is not a number");var s=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,a,o,s){var u=e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=a(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,n[s],n[s+1],t[s],t[s+1],r,i,o)}}function d(e){var t=s()(e);return null===t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var f=/[0-9\.-]+/g;function p(e,t){a()(t.length>=2,e+" must have at least 2 elements"),a()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var h=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this)._parent=t,r._config=n,r._interpolation=l(n),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.__makeNative=function(){this._parent.__makeNative(),e.prototype.__makeNative.call(this)},i.__getValue=function(){var e=this._parent.__getValue();return a()("number"==typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)},i.interpolate=function(e){return new r(this,e)},i.__attach=function(){this._parent.__addChild(this)},i.__detach=function(){this._parent.__removeChild(this),e.prototype.__detach.call(this)},i.__transformDataType=function(e){return e.map((function(e){return"string"!=typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:parseFloat(e)||0}))},i.__getNativeConfig=function(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}},r}(r.a);h.__createInterpolation=l,t.a=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(130),i=n(108),a={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function o(e,t){var n=e;return null!=t&&r.a[t]||"number"!=typeof e?null!=t&&a[t]&&(n=Object(i.a)(e)):n=e+"px",n}},function(e,t,n){"use strict";var r=n(335),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CANCEL",(function(){return r.a})),n.d(t,"SAGA_LOCATION",(function(){return r.g})),n.d(t,"buffers",(function(){return s.i})),n.d(t,"detach",(function(){return s.j})),n.d(t,"END",(function(){return T})),n.d(t,"channel",(function(){return C})),n.d(t,"eventChannel",(function(){return O})),n.d(t,"isEnd",(function(){return P})),n.d(t,"multicastChannel",(function(){return k})),n.d(t,"runSaga",(function(){return z})),n.d(t,"stdChannel",(function(){return I}));var r=n(19),i=n(51),a=n(80),o=n(15),s=n(5),u=n(14);function c(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var l=c,d=(n(165),[]),f=0;function p(e){try{m(),e()}finally{g()}}function h(e){d.push(e),f||(m(),y())}function v(e){try{return m(),e()}finally{y()}}function m(){f++}function g(){f--}function y(){var e;for(g();!f&&void 0!==(e=d.shift());)p(e)}var b=function(e){return function(t){return e.some((function(e){return w(e)(t)}))}},_=function(e){return function(t){return e(t)}},A=function(e){return function(t){return t.type===String(e)}},S=function(e){return function(t){return t.type===e}},E=function(){return s.U};function w(e){var t="*"===e?E:Object(o.k)(e)?A:Object(o.a)(e)?b:Object(o.l)(e)?A:Object(o.d)(e)?_:Object(o.m)(e)?S:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var T={type:r.b},P=function(e){return e&&e.type===r.b};function C(e){void 0===e&&(e=Object(s.O)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(T):e.isEmpty()?(n.push(r),r.cancel=function(){Object(s.bb)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(T):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,i=e.length;r<i;r++){(0,e[r])(T)}}}}}function O(e,t){void 0===t&&(t=Object(s.X)());var n,r=!1,i=C(t),a=function(){r||(r=!0,Object(o.d)(n)&&n(),i.close())};return n=e((function(e){P(e)?a():i.put(e)})),n=Object(s.Y)(n),r&&n(),{take:i.take,flush:i.flush,close:a}}function k(){var e,t=!1,n=[],i=n;var a=function(){i===n&&(i=n.slice())},o=function(){t=!0;var e=n=i;i=[],e.forEach((function(e){e(T)}))};return(e={})[r.e]=!0,e.put=function(e){if(!t)if(P(e))o();else for(var a=n=i,s=0,u=a.length;s<u;s++){var c=a[s];c[r.d](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=E),t?e(T):(e[r.d]=n,a(),i.push(e),e.cancel=Object(s.Y)((function(){a(),Object(s.bb)(i,e)})))},e.close=o,e}function I(){var e=k(),t=e.put;return e.put=function(e){e[r.f]?t(e):h((function(){t(e)}))},e}function x(e,t){var n=e[r.a];Object(o.d)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var D,R=0,M=function(){return++R};function N(e){e.isRunning()&&e.cancel()}var L=((D={})[s.u]=function(e,t,n){var i=t.channel,a=void 0===i?e.channel:i,s=t.pattern,u=t.maybe,c=function(e){e instanceof Error?n(e,!0):!P(e)||u?n(e):n(r.k)};try{a.take(c,Object(o.g)(s)?w(s):null)}catch(e){return void n(e,!0)}n.cancel=c.cancel},D[s.q]=function(e,t,n){var r=t.channel,i=t.action,a=t.resolve;h((function(){var t;try{t=(r?r.put:e.dispatch)(i)}catch(e){return void n(e,!0)}a&&Object(o.j)(t)?x(t,n):n(t)}))},D[s.b]=function(e,t,n,r){var i=r.digestEffect,a=R,u=Object.keys(t);if(0!==u.length){var c=Object(s.V)(t,n);u.forEach((function(e){i(t[e],a,c[e],e)}))}else n(Object(o.a)(t)?[]:{})},D[s.s]=function(e,t,n,r){var i=r.digestEffect,a=R,u=Object.keys(t),c=Object(o.a)(t)?Object(s.W)(u.length):{},l={},d=!1;u.forEach((function(e){var t=function(t,r){d||(r||Object(s.cb)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.db,l[e]=t})),n.cancel=function(){d||(d=!0,u.forEach((function(e){return l[e].cancel()})))},u.forEach((function(e){d||i(t[e],a,l[e],e)}))},D[s.d]=function(e,t,n,r){var i=t.context,a=t.fn,u=t.args,c=r.task;try{var l=a.apply(i,u);if(Object(o.j)(l))return void x(l,n);if(Object(o.e)(l))return void W(e,l,c.context,R,Object(s.T)(a),!1,n);n(l)}catch(e){n(e,!0)}},D[s.C]=function(e,t,n){var r=t.context,i=t.fn,a=t.args;try{var s=function(e,t){Object(o.n)(e)?n(t):n(e,!0)};i.apply(r,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(e){n(e,!0)}},D[s.g]=function(e,t,n,r){var i=t.context,a=t.fn,u=t.args,c=t.detached,l=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var i=n.apply(t,r);if(Object(o.e)(i))return i;var a=!1;return Object(s.ab)((function(e){return a?{value:e,done:!0}:(a=!0,{value:i,done:!Object(o.j)(i)})}))}catch(e){return Object(s.ab)((function(){throw e}))}}({context:i,fn:a,args:u}),f=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Object(s.T)(t)}(d,a);v((function(){var t=W(e,d,l.context,R,f,c,void 0);c?n(t):t.isRunning()?(l.queue.addTask(t),n(t)):t.isAborted()?l.queue.abort(t.error()):n(t)}))},D[s.k]=function(e,t,n,r){var i=r.task,a=function(e,t){if(e.isRunning()){var n={task:i,cb:t};t.cancel=function(){e.isRunning()&&Object(s.bb)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(Object(o.a)(t)){if(0===t.length)return void n([]);var u=Object(s.V)(t,n);t.forEach((function(e,t){a(e,u[t])}))}else a(t,n)},D[s.L]=function(e,t,n,i){var a=i.task;t===r.h?N(a):Object(o.a)(t)?t.forEach(N):N(t),n()},D[s.t]=function(e,t,n){var r=t.selector,i=t.args;try{n(r.apply(void 0,[e.getState()].concat(i)))}catch(e){n(e,!0)}},D[s.N]=function(e,t,n){var r=t.pattern,i=C(t.buffer),a=w(r),o=function t(n){P(n)||e.channel.take(t,a),i.put(n)},s=i.close;i.close=function(){o.cancel(),s()},e.channel.take(o,a),n(i)},D[s.P]=function(e,t,n,r){n(r.task.isCancelled())},D[s.Q]=function(e,t,n){t.flush(n)},D[s.h]=function(e,t,n,r){n(r.task.context[t])},D[s.R]=function(e,t,n,r){var i=r.task;Object(s.Z)(i.context,t),n()},D);function j(e,t){return e+"?"+t}function B(e){var t=e.name,n=e.location;return n?t+"  "+j(n.fileName,n.lineNumber):t}var U=null,V=[],F=function(){U=null,V.length=0},H=function(){var e,t,n=V[0],r=V.slice(1),i=n.crashedEffect?function(e){var t=Object(s.fb)(e);return t?t.code+"  "+j(t.fileName,t.lineNumber):""}(n.crashedEffect):null;return["The above error occurred in task "+B(n.meta)+(i?" \n when executing effect "+i:"")].concat(r.map((function(e){return"    created by "+B(e.meta)})),[(e=V,t=Object(s.eb)((function(e){return e.cancelledTasks}),e),t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):"")]).join("\n")};function G(e,t,n,i,a,o,u){var c;void 0===u&&(u=s.db);var d,f,p=0,h=null,v=[],m=Object.create(n),g=function(e,t,n){var r,i=[],a=!1;function o(e){t(),c(),n(e,!0)}function u(t){i.push(t),t.cont=function(u,c){a||(Object(s.bb)(i,t),t.cont=s.db,c?o(u):(t===e&&(r=u),i.length||(a=!0,n(r))))}}function c(){a||(a=!0,i.forEach((function(e){e.cont=s.db,e.cancel()})),i=[])}return u(e),{addTask:u,cancelAll:c,abort:o,getTasks:function(){return i}}}(t,(function(){v.push.apply(v,g.getTasks().map((function(e){return e.meta.name})))}),y);function y(t,n){if(n){if(p=2,(o={meta:a,cancelledTasks:v}).crashedEffect=U,V.push(o),b.isRoot){var i=H();F(),e.onError(t,{sagaStack:i})}f=t,h&&h.reject(t)}else t===r.j?p=1:1!==p&&(p=3),d=t,h&&h.resolve(t);var o;b.cont(t,n),b.joiners.forEach((function(e){e.cb(t,n)})),b.joiners=null}var b=((c={})[r.i]=!0,c.id=i,c.meta=a,c.isRoot=o,c.context=m,c.joiners=[],c.queue=g,c.cancel=function(){0===p&&(p=1,g.cancelAll(),y(r.j,!1))},c.cont=u,c.end=y,c.setContext=function(e){Object(s.Z)(m,e)},c.toPromise=function(){return h||(h=l(),2===p?h.reject(f):0!==p&&h.resolve(d)),h.promise},c.isRunning=function(){return 0===p},c.isCancelled=function(){return 1===p||0===p&&1===t.status},c.isAborted=function(){return 2===p},c.result=function(){return d},c.error=function(){return f},c);return b}function W(e,t,n,i,a,u,c){var l=e.finalizeRunEffect((function(t,n,i){if(Object(o.j)(t))x(t,i);else if(Object(o.e)(t))W(e,t,f.context,n,a,!1,i);else if(t&&t[r.c]){(0,L[t.type])(e,t.payload,i,p)}else i(t)}));h.cancel=s.db;var d={meta:a,cancel:function(){0===d.status&&(d.status=1,h(r.j))},status:0},f=G(e,d,n,i,a,u,c),p={task:f,digestEffect:v};return c&&(c.cancel=f.cancel),h(),f;function h(e,n){try{var a;n?(a=t.throw(e),F()):Object(s.gb)(e)?(d.status=1,h.cancel(),a=Object(o.d)(t.return)?t.return(r.j):{done:!0,value:r.j}):a=Object(s.hb)(e)?Object(o.d)(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==d.status&&(d.status=3),d.cont(a.value)):v(a.value,i,h)}catch(e){if(1===d.status)throw e;d.status=2,d.cont(e,!0)}}function v(t,n,r,i){void 0===i&&(i="");var a,o=M();function u(n,i){a||(a=!0,r.cancel=s.db,e.sagaMonitor&&(i?e.sagaMonitor.effectRejected(o,n):e.sagaMonitor.effectResolved(o,n)),i&&function(e){U=e}(t),r(n,i))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:o,parentEffectId:n,label:i,effect:t}),u.cancel=s.db,r.cancel=function(){a||(a=!0,u.cancel(),u.cancel=s.db,e.sagaMonitor&&e.sagaMonitor.effectCancelled(o))},l(t,o,u)}}function z(e,t){var n=e.channel,r=void 0===n?I():n,i=e.dispatch,a=e.getState,o=e.context,c=void 0===o?{}:o,l=e.sagaMonitor,d=e.effectMiddlewares,f=e.onError,p=void 0===f?s.c:f;for(var h=arguments.length,m=new Array(h>2?h-2:0),g=2;g<h;g++)m[g-2]=arguments[g];var y=t.apply(void 0,m);var b,_=M();if(l&&(l.rootSagaStarted=l.rootSagaStarted||s.db,l.effectTriggered=l.effectTriggered||s.db,l.effectResolved=l.effectResolved||s.db,l.effectRejected=l.effectRejected||s.db,l.effectCancelled=l.effectCancelled||s.db,l.actionDispatched=l.actionDispatched||s.db,l.rootSagaStarted({effectId:_,saga:t,args:m})),d){var A=u.compose.apply(void 0,d);b=function(e){return function(t,n,r){return A((function(t){return e(t,n,r)}))(t)}}}else b=s.f;var S={channel:r,dispatch:Object(s.e)(i),getState:a,sagaMonitor:l,onError:p,finalizeRunEffect:b};return v((function(){var e=W(S,y,c,_,Object(s.T)(t),!0,void 0);return l&&l.effectResolved(_,e),e}))}var K=function(e){var t,n=void 0===e?{}:e,r=n.context,o=void 0===r?{}:r,u=n.channel,c=void 0===u?I():u,l=n.sagaMonitor,d=Object(a.a)(n,["context","channel","sagaMonitor"]);function f(e){var n=e.getState,r=e.dispatch;return t=z.bind(null,Object(i.a)({},d,{context:o,channel:c,dispatch:r,getState:n,sagaMonitor:l})),function(e){return function(t){l&&l.actionDispatched&&l.actionDispatched(t);var n=e(t);return c.put(t),n}}}return f.run=function(){return t.apply(void 0,arguments)},f.setContext=function(e){Object(s.Z)(o,e)},f};t.default=K},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debugSSAI=t.objectToQueryParams=t.getRootDomain=t.getConfigURL=t.getQueryParamValue=void 0;var i=r(n(12)),a=r(n(22));function o(){var e=window.location.href;if("http://localhost:8080/index.html"===e)return"http://localhost:8080/";var t=e.match(/^(.+\/web\/vilos)/);return t?t[0]:e}function s(e){var t=e.split(":")[0];return t.match(/^[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}$/)?t:t.split(".").slice(-2).join(".")}t.getQueryParamValue=function(e){if(!a.default.isWeb())return null;var t=new URLSearchParams(window.location.search),n=!!t.has(e)&&t.get(e);return""===n||n},t.getConfigURL=o,t.getRootDomain=s,t.objectToQueryParams=function(e){return Object.keys(e).reduce((function(t,n){var r=encodeURIComponent(e[n]);return null!=r&&""!==r&&(t+=(""===t?"?":"&")+n+"="+r),t}),"")},t.debugSSAI=function(e,t,n){null===i.default||void 0===i.default||i.default.ssaiDebugLogging},t.default={getConfigURL:o,getRootDomain:s,hasSetPresentationMode:function(e){return e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigStackTask=t.ConfigStackLayer=void 0,function(e){e.A_B_TEST="a/b test",e.ANALYTICS="analytics",e.BRAND="brand",e.CLIENT="client",e.DEFAULT="default",e.DEVELOPER="developer",e.ENVIRONMENT="environment",e.PLATFORM="platform",e.STREAMS="streams"}(t.ConfigStackLayer||(t.ConfigStackLayer={})),function(e){e.PARSE_SCHEMA_TASK="Parse Schema Task"}(t.ConfigStackTask||(t.ConfigStackTask={}))},function(e,t,n){"use strict";var r=n(1),i=n(566);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,a)},function(e,t,n){"use strict";var r=n(20),i=n.n(r),a=!0,o=!1,s=!0,u=!1,c=function(){return!!u||s&&o},l=function(){i.a.canUseDOM&&document.documentElement&&document.documentElement.setAttribute&&document.documentElement.setAttribute("dir",c()?"rtl":"ltr")},d={allowRTL:function(e){s=e,l()},forceRTL:function(e){u=e,l()},setPreferredLanguageRTL:function(e){o=e,l()},swapLeftAndRightInRTL:function(e){a=e},get doLeftAndRightSwapInRTL(){return a},get isRTL(){return c()}};t.a=d},function(e,t,n){var r=n(249),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GateTaskStatus=t.GateStatus=t.Preference=t.IssueId=t.CastingTech=void 0,function(e){e.GOOGLE_CAST="GOOGLE_CAST"}(t.CastingTech||(t.CastingTech={})),function(e){e.SUBTITLE_PROBLEM="subtitle_problem",e.ADS_ARE_ANNOYING="ads_are_annoying",e.VIDEO_PROBLEM="video_problem",e.BUFFERING_PROBLEM="buffering_problem",e.OTHER_PLAYBACK_ISSUE="other_playback_issue",e.SUBS_VIDEO_NOT_SYNCED="subs_video_not_synced",e.AUDIO_VIDEO_NOT_SYNCED="audio_video_not_synced"}(t.IssueId||(t.IssueId={})),function(e){e.IS_UP_NEXT_AUTOPLAY_ENABLED="isUpNextAutoplayEnabled",e.SELECTED_QUALITY="selectedQuality",e.IS_MUTED="isMuted",e.VOLUME="volume"}(t.Preference||(t.Preference={})),function(e){e.INITIALIZING="INITIALIZING",e.WAITING="WAITING",e.PASSED="PASSED"}(t.GateStatus||(t.GateStatus={})),function(e){e.INCOMPLETE="INCOMPLETE",e.COMPLETE="COMPLETE"}(t.GateTaskStatus||(t.GateTaskStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OS=t.Layout=t.FormFactor=t.Environment=void 0,function(e){e.MOBILE="mobile",e.ROKU="roku",e.TV="tv",e.WEB="web"}(t.Environment||(t.Environment={})),function(e){e.PHONE="phone",e.TABLET="tablet",e.DESKTOP="desktop",e.TV="tv"}(t.FormFactor||(t.FormFactor={})),function(e){e.DESKTOP="Desktop",e.PHONE="Phone",e.ROKU="Roku",e.TABLET="Tablet",e.TV="TV"}(t.Layout||(t.Layout={})),function(e){e.ANDROID="android",e.IOS="ios",e.OSX="OSX",e.PS4="ORBIS",e.PS5="Prospero",e.ROKU="RokuOS",e.WEB="web",e.WINDOWS="Windows.Desktop",e.XBOX="Windows.Xbox"}(t.OS||(t.OS={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCPADoNotSell=t.AdTech=t.AdSystem=t.AdBreakType=void 0,function(e){e.PREROLL="preroll",e.MIDROLL="midroll",e.POSTROLL="postroll"}(t.AdBreakType||(t.AdBreakType={})),function(e){e.FREEWHEEL="FreeWheel",e.TRUEX="trueX",e.YOSPACE="YospaceInternal"}(t.AdSystem||(t.AdSystem={})),function(e){e.KATANA="Katana",e.VENDRI="Vendri",e.YOSPACE="Yospace"}(t.AdTech||(t.AdTech={})),function(e){e.NO="1YNN",e.NOT_SET="1NYN",e.YES="1YYN"}(t.CCPADoNotSell||(t.CCPADoNotSell={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationDestination=t.MessageType=void 0,function(e){e.CLIENT_RETRIEVED_CONFIG="CLIENT_RETRIEVED_CONFIG",e.CLIENT_DISMISS_ERROR_SCREEN="CLIENT_DISMISS_ERROR_SCREEN",e.CLIENT_FAILED_CONFIG="CLIENT_FAILED_CONFIG",e.CLIENT_NAVIGATE_TO="CLIENT_NAVIGATE_TO",e.CLIENT_PLAYER_EXIT="CLIENT_PLAYER_EXIT",e.CLIENT_PLAYHEAD_UPDATE="CLIENT_PLAYHEAD_UPDATE",e.CLIENT_SKIP_TO_NEXT="CLIENT_SKIP_TO_NEXT",e.ASSET_DOWNLOAD_PROGRESS="ASSET_DOWNLOAD_PROGRESS",e.ENTER_FULLSCREEN="ENTER_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.MUTE="MUTE",e.PLAYER_ERROR="PLAYER_ERROR",e.FATAL_ERROR="FATAL_ERROR",e.PLAYER_START="PLAYER_START",e.READY_TO_PLAY="READY_TO_PLAY",e.RETRY_CONFIG="RETRY_CONFIG",e.STARTED_PLAYING="STARTED_PLAYING",e.STOPPED_PLAYING="STOPPED_PLAYING",e.SEEKED="SEEKED",e.UNLOAD_CONTENT="UNLOAD_CONTENT",e.UPDATE_VOLUME="UPDATE_VOLUME",e.UNMUTE="UNMUTE",e.UPDATE_TIME="UPDATE_TIME",e.UPDATE_TEXT_TRACK_LANGUAGE="UPDATE_TEXT_TRACK_LANGUAGE",e.ACTION_ACTIVATE_CONTROLS="ACTION_ACTIVATE_CONTROLS",e.ACTION_ENTER_FULLSCREEN="ACTION_ENTER_FULLSCREEN",e.ACTION_EXIT_FULLSCREEN="ACTION_EXIT_FULLSCREEN",e.ACTION_FETCH_CONFIG="ACTION_FETCH_CONFIG",e.ACTION_MUTE="ACTION_MUTE",e.ACTION_NAVIGATE_RETURN="ACTION_NAVIGATE_RETURN",e.ACTION_PAUSE="ACTION_PAUSE",e.ACTION_PLAY="ACTION_PLAY",e.ACTION_PLAY_PAUSE="ACTION_PLAY_PAUSE",e.ACTION_SEEK="ACTION_SEEK",e.ACTION_SET_CAPTIONING_ENABLED="ACTION_SET_CAPTIONING_ENABLED",e.ACTION_SET_VOLUME="ACTION_SET_VOLUME",e.ACTION_UNMUTE="ACTION_UNMUTE",e.ACTION_LOAD_CONFIG="ACTION_LOAD_CONFIG",e.GET_ETP_TOKEN="GET_ETP_TOKEN",e.SEND_ETP_TOKEN="SEND_ETP_TOKEN",e.FAILED_ETP_TOKEN="FAILED_ETP_TOKEN"}(t.MessageType||(t.MessageType={})),function(e){e.ENABLE_CELLULAR_STREAMING="ENABLE_CELLULAR_STREAMING",e.ENABLE_MATURE_CONTENT="ENABLE_MATURE_CONTENT",e.PREMIUM_UPSELL="PREMIUM_UPSELL"}(t.NavigationDestination||(t.NavigationDestination={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=a.default.forwardRef((function(e,t){return a.default.createElement(o.TouchableOpacity,r({activeOpacity:1},e,{ref:t}))}));t.default=s},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l,d=u(n(1)),f=n(3),p=n(6),h=n(14),v=n(2),m=c(n(121)),g=c(n(122)),y=n(7),b=c(n(32));!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.HOVERED=1]="HOVERED",e[e.ACTIVE=2]="ACTIVE"}(l||(l={}));var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isActive:!1,isHovered:!1,isFocused:!1,fadeAnim:new f.Animated.Value(l.DEFAULT)},t.onBlur=function(){var e=t.props,n=e.inputActions;e.nextToScrubBar&&n.navigateViaLeftAndRightArrow(),t.setState({isFocused:!1})},t.onFocus=function(){var e=t.props,n=e.inputActions;e.nextToScrubBar?n.scrubViaLeftAndRightArrow():n.navigateViaLeftAndRightArrow(),t.setState({isFocused:!0}),b.default.start()},t.onHoverIn=function(){t.setState({isHovered:!0}),b.default.suspend();var e=t.state.isActive||t.props.isActive;t.props.hoverable&&!e&&t.animate(l.HOVERED)},t.onHoverOut=function(){t.setState({isHovered:!1}),b.default.resume();var e=t.state.isActive||t.props.isActive;!t.props.hoverable||e||t.props.isHovered||t.animate(l.DEFAULT)},t.onPress=function(e){t.viewRef&&y.FocusManager.focus(t.viewRef),t.props.onPress&&t.props.onPress(e),y.environmentUtils.isMobileNative()&&b.default.start()},t.onPressIn=function(){t.setState({isActive:!0}),t.props.hasActiveEffect&&t.animate(l.ACTIVE)},t.onPressOut=function(){t.setState({isActive:!1});var e=t.state.isHovered||t.props.isHovered;t.props.hasActiveEffect&&!e&&t.animate(l.DEFAULT)},t.animate=function(e){f.Animated.timing(t.state.fadeAnim,{toValue:e,duration:y.environmentUtils.isMobile()?0:150,useNativeDriver:!1}).start()},t}return i(t,e),t.prototype.componentDidMount=function(){g.default.add(this.props.focusID,this.viewRef),this.props.isHovered?this.animate(l.HOVERED):this.props.isActive&&this.animate(l.ACTIVE),this.viewRef&&y.FocusManager.enableFocus(this.viewRef),this.setState({isFocusEnabled:!0}),this.viewRef&&this.props.focusOnMount&&y.FocusManager.focus(this.viewRef)},t.prototype.componentWillUnmount=function(){g.default.remove(this.props.focusID),this.viewRef&&y.FocusManager.disableFocus(this.viewRef),this.state.isHovered&&b.default.resume()},t.prototype.componentWillReceiveProps=function(e){var t=e.hasActiveEffect,n=e.hoverable,r=e.isActive,i=e.isHovered,a=this.state.fadeAnim._value;t&&r&&a!==l.ACTIVE?this.animate(l.ACTIVE):n&&i&&a!==l.HOVERED?this.animate(l.HOVERED):!1===i&&a!==l.DEFAULT&&this.animate(l.DEFAULT)},t.prototype.render=function(){var e=this,t=this.props,n=t.containerSize,r=t.activeOpacity,i=t.controls,a=t.hasActiveEffect,o=t.iconName,s=t.imageSize,u=t.opacity,c=t.source,p=t.profile,h=t.style,v=t.theme,g=this.state.isFocused,b=this.state.isActive||this.props.isActive,_=i.isAccessible,S=v.icons,E=p.pluginButton,w=E.activeBackgroundColor,T=E.backgroundColor,P=E.hoverBackgroundColor,C=E.focusedContainer,O={height:n,width:n},k={height:n,maxHeight:n,width:n,minWidth:n,maxWidth:n,backgroundColor:this.state.fadeAnim.interpolate({inputRange:[l.DEFAULT,l.HOVERED,l.ACTIVE],outputRange:[T,y.environmentUtils.isMobile()?w:P,w]})},I={height:s,width:s,opacity:a&&b?r:u,resizeMode:"contain"},x=this.state.isFocused?C:{},D=c;if(!D){var R=o;y.environmentUtils.isYoui()&&g&&(R+="Focused"),D=S[R]}var M=this.state.isFocused&&y.environmentUtils.isYoui()&&!!this.props.focusedLabel;return d.default.createElement(d.default.Fragment,null,d.default.createElement(m.default,{onHoverIn:this.onHoverIn,onHoverOut:this.onHoverOut,onPressIn:this.onPressIn,onPressOut:this.onPressOut},d.default.createElement(f.TouchableOpacity,{accessible:_,activeOpacity:1,onPress:this.onPress,style:O,testID:this.props.testID,accessibilityLabel:this.props.testID,"data-test-state":this.props.testState,onBlur:this.onBlur,onFocus:this.onFocus,ref:function(t){return e.viewRef=t}},d.default.createElement(f.Animated.View,{style:[A.container,k,h,x]},d.default.createElement(f.Image,{style:I,source:D})))),M&&d.default.createElement(f.View,{style:p.pluginButton.labelContainer},d.default.createElement(f.Text,{style:p.pluginButton.labelText},this.props.focusedLabel)))},t.defaultProps={activeOpacity:1,hoverColor:"transparent",hoverOpacity:1,isFocusedOnMount:!1,nextToScrubBar:!1,opacity:.85},t}(d.Component),A=f.StyleSheet.create({container:a({alignItems:"center",flex:1,justifyContent:"center"},y.styleUtils.outlineStyle("none"))});t.default=p.connect((function(e){return{controls:e.controls,profile:e.theme.profiles[e.theme.activeProfile],theme:e.theme,focus:e.focus}}),(function(e){return{controlsActions:h.bindActionCreators(v.controlsActionCreators,e),inputActions:h.bindActionCreators(v.inputActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r=n(81),i={create:function(e,t){return r.a.createCSS(e,t)}};t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(20),i=n(107),a=n.n(i),o=n(4),s=n.n(o),u=r.canUseDOM?window:{devicePixelRatio:void 0,innerHeight:void 0,innerWidth:void 0,screen:{height:void 0,width:void 0}},c={},l={},d=function(){function e(){}return e.get=function(e){return s()(c[e],"No dimension set for key "+e),c[e]},e.set=function(e){e&&(r.canUseDOM?s()(!1,"Dimensions cannot be set in the browser"):(c.screen=e.screen,c.window=e.window))},e._update=function(){c.window={fontScale:1,height:u.innerHeight,scale:u.devicePixelRatio||1,width:u.innerWidth},c.screen={fontScale:1,height:u.screen.height,scale:u.devicePixelRatio||1,width:u.screen.width},Array.isArray(l.change)&&l.change.forEach((function(e){return e(c)}))},e.addEventListener=function(e,t){l[e]=l[e]||[],l[e].push(t)},e.removeEventListener=function(e,t){Array.isArray(l[e])&&(l[e]=l[e].filter((function(e){return e!==t})))},e}();d._update(),r.canUseDOM&&window.addEventListener("resize",a()(d._update,16),!1)},function(e,t,n){"use strict";var r=n(4),i=n.n(r),a=n(20).canUseDOM&&void 0!==window.requestIdleCallback,o=a?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},s=a?window.cancelIdleCallback:function(e){clearTimeout(e)},u=o,c={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t,n=new Promise((function(n){t=u((function(){e&&n(e())}))}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){s(t)}}},createInteractionHandle:function(){return 1},clearInteractionHandle:function(e){i()(!!e,"Must provide a handle to clear.")},addListener:function(){}};t.a=c},function(e,t,n){"use strict";var r={button:"button",none:"presentation"},i={adjustable:"slider",button:"button",header:"heading",image:"img",link:"link",none:"presentation",search:"search",summary:"region"},a={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},o=function(e){var t=e.accessibilityComponentType,n=e.accessibilityRole,o=e.accessibilityTraits;if(n){var s=a[n];if(null!==s)return s||n}if(o){var u=Array.isArray(o)?o[0]:o;return i[u]}if(t)return r[t]},s={article:"article",banner:"header",complementary:"aside",contentinfo:"footer",form:"form",link:"a",list:"ul",listitem:"li",main:"main",navigation:"nav",region:"section"},u={},c={buttonLikeRoles:{button:!0,menuitem:!0},isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=u),"label"===e.accessibilityRole)return"label";var t=o(e);return t?"heading"===t?"h"+(e["aria-level"]||1):s[t]:void 0},propsToAriaRole:o};t.a=c},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(307)),a=n(35),o=r(n(593)),s=function(){return{code:i.default.mapping[a.DEFAULT_LOCALE].to,desc:o.default[a.DEFAULT_LOCALE.toLowerCase()],fallbacks:null}};t.default=function e(t,n){var r,a,u;if(!t)return s();var c=Object.keys(i.default.mapping),l=c.find((function(e){return e.toLowerCase()===t.toLowerCase()})),d=c.includes(t),f=c.filter((function(e){return!e.includes("-")})).find((function(e){return t.startsWith(e)})),p=i.default.mapping[f],h=t.match(/[A-Z]/);if(h&&!t.includes("-"))return e(t.substring(0,h.index)+"-"+t.substring(h.index));var v=i.default.supported_fallbacks[l];if(n&&!n.includes(l)&&v){var m=v.find((function(e){return n.includes(e)}));if(m)return e(m.toLowerCase())}if(!d&&l){var g=i.default.mapping[l];return{code:g.to,desc:o.default[g.to.toLowerCase()],fallbacks:i.default.supported_fallbacks[g.to]}}if(!d&&!p)return s();if(!d&&p)return{code:p.to,desc:o.default[p.to.toLowerCase()],fallbacks:i.default.supported_fallbacks[p.to]};var y=i.default.mapping[t];return{code:y.to,desc:null!==(r=o.default[y.to.toLowerCase()])&&void 0!==r?r:null,fallbacks:null!==(u=null!==(a=i.default.supported_fallbacks[t])&&void 0!==a?a:i.default.supported_fallbacks[y.to])&&void 0!==u?u:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationMode=void 0,function(e){e.FOCUS="FOCUS",e.KEYBOARD="KEYBOARD",e.SCRUBBING="SCRUBBING"}(t.NavigationMode||(t.NavigationMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpNextState=void 0,function(e){e.STANDBY="standby",e.VISIBLE="visible",e.DISMISSED="dismissed",e.DISABLED="disabled"}(t.UpNextState||(t.UpNextState={}))},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(556)},function(e,t,n){"use strict";t.a={OS:"web",select:function(e){return"web"in e?e.web:e.default}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.findInstance=function(t){var n=e.registry.find((function(e){return e.instance instanceof t}));return n?n.instance:null},e.getModules=function(){return e.registry.filter((function(e){return e.module})).map((function(e){return e.module}))},e.register=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach((function(t){var n=new t;e.registry.push({id:n.name,instance:n,module:e.getModule(n)})}))},e.getModule=function(e){var t=e.getOptions();if(!t)return null;var n=t.reducerMap||{},r=t.sagas||[];return{id:e.name,reducerMap:n,sagas:r}},e.registry=[],e}();t.default=r},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ARROW_DOWN="ARROW_DOWN",e.ARROW_LEFT="ARROW_LEFT",e.ARROW_RIGHT="ARROW_RIGHT",e.ARROW_UP="ARROW_UP",e.BACK="BACK",e.CANCEL="CANCEL",e.CAPTIONS="CAPTIONS",e.CHAR_0="CHAR_0",e.CHAR_1="CHAR_1",e.CHAR_2="CHAR_2",e.CHAR_3="CHAR_3",e.CHAR_4="CHAR_4",e.CHAR_5="CHAR_5",e.CHAR_6="CHAR_6",e.CHAR_7="CHAR_7",e.CHAR_8="CHAR_8",e.CHAR_9="CHAR_9",e.CHAR_C="CHAR_C",e.CHAR_F="CHAR_F",e.CHAR_I="CHAR_I",e.CHAR_J="CHAR_J",e.CHAR_L="CHAR_L",e.CHAR_K="CHAR_K",e.CHAR_M="CHAR_M",e.CHAR_O="CHAR_O",e.CHAR_P="CHAR_P",e.CHAR_Q="CHAR_Q",e.CHAR_T="CHAR_T",e.CHAR_U="CHAR_U",e.CHAR_W="CHAR_W",e.CHAR_X="CHAR_X",e.CHAR_Y="CHAR_Y",e.CHAR_SHIFT_B="CHAR_SHIFT_B",e.CHAR_SHIFT_D="CHAR_SHIFT_D",e.CHAR_SHIFT_F="CHAR_SHIFT_F",e.CHAR_SHIFT_G="CHAR_SHIFT_G",e.CHAR_SHIFT_N="CHAR_SHIFT_N",e.CHAR_SHIFT_S="CHAR_SHIFT_S",e.CHAR_SHIFT_T="CHAR_SHIFT_T",e.COMMA="COMMA",e.END="END",e.ENTER="ENTER",e.ESCAPE="ESCAPE",e.FAST_FORWARD="FAST_FORWARD",e.HARDWARE_BACK="HARDWARE_BACK",e.HOME="HOME",e.INFO="INFO",e.MENU="MENU",e.NEXT_TRACK="NEXT_TRACK",e.PAUSE="PAUSE",e.PERIOD="PERIOD",e.PLAY="PLAY",e.PLAY_PAUSE="PLAY_PAUSE",e.PREVIOUS_TRACK="PREVIOUS_TRACK",e.REWIND="REWIND",e.SPACE="SPACE",e.STOP="STOP",e.TAB="TAB",e.GAMEPAD_LEFT_TRIGGER="GAMEPAD_LEFT_TRIGGER",e.GAMEPAD_RIGHT_TRIGGER="GAMEPAD_RIGHT_TRIGGER",e.GAMEPAD_LEFT_BUMPER="GAMEPAD_LEFT_BUMPER",e.GAMEPAD_RIGHT_BUMPER="GAMEPAD_RIGHT_BUMPER",e.GAMEPAD_0="GAMEPAD_0",e.GAMEPAD_1="GAMEPAD_1",e.GAMEPAD_2="GAMEPAD_2",e.GAMEPAD_3="GAMEPAD_3",e.SELECT="SELECT"}(r||(r={})),t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_SEEK_AFTER_AD_BREAK=t.END_AD_BREAK_SSAI_TASK=t.PROCESS_SOURCE_YOSPACE_TASK=t.QueryParamName=t.YospaceEvent=t.YospaceAnalyticsType=t.YospaceTimelineElementType=t.YospaceCreateType=void 0,function(e){e.VOD="VOD",e.NON_LINEAR="NON_LINEAR",e.NON_LINEAR_START_OVER="NON_LINEAR_START_OVER",e.LIVE="LIVE",e.LIVE_PAUSE="LIVE_PAUSE"}(t.YospaceCreateType||(t.YospaceCreateType={})),function(e){e.VOD="vod",e.ADVERT="advert"}(t.YospaceTimelineElementType||(t.YospaceTimelineElementType={})),function(e){e.COMPLETE="complete",e.COMPLETED_QUARTILE_25="firstQuartile",e.COMPLETED_QUARTILE_50="midpoint",e.COMPLETED_QUARTILE_75="thirdQuartile",e.CREATIVE_VIEW="creativeView",e.START="start",e.PAUSE="pause",e.RESUME="resume"}(t.YospaceAnalyticsType||(t.YospaceAnalyticsType={})),function(e){e.AD_START="AD_START",e.AD_STOP="AD_STOP",e.ADBREAK_START="ADBREAK_START",e.ADBREAK_STOP="ADBREAK_STOP",e.ANALYTICS="AD_ANALTYICS",e.FAILURE="FAILURE",e.INITIALISED="INITIALISED",e.NO_ANALYTICS="NO_ANALYTICS",e.UPDATE_TIMELINE="UPDATE_TIMELINE",e.TRUEX_AD_COMPLETED="TRUEX_AD_COMPLETED",e.TRUEX_AD_FREE_POD="TRUEX_AD_FREE_POD",e.TRUEX_GET_INTERACTIVE_UNIT="TRUEX_GET_INTERACTIVE_UNIT",e.TRUEX_NO_ADS_AVAILABLE="TRUEX_NO_ADS_AVAILABLE",e.TRUEX_OPT_IN="TRUEX_OPT_IN",e.TRUEX_OPT_OUT="TRUEX_OPT_OUT",e.TRUEX_USER_CANCEL="TRUEX_USER_CANCEL",e.TRUEX_USER_CANCEL_STREAM="TRUEX_USER_CANCEL_STREAM",e.VPAID_AD_CLICK_THROUGH="VPAID_AD_CLICK_THROUGH",e.VPAID_AD_ERROR="VPAID_AD_ERROR",e.VPAID_AD_EXPANDED_CHANGE="VPAID_AD_EXPANDED_CHANGE",e.VPAID_AD_INTERACTION="VPAID_AD_INTERACTION",e.VPAID_AD_LOADED="VPAID_AD_LOADED",e.VPAID_AD_SKIPPED="VPAID_AD_SKIPPED",e.VPAID_AD_START="VPAID_AD_START",e.VPAID_AD_STOP="VPAID_AD_STOP",e.VPAID_AD_USER_ACCEPT_INVITATION="VPAID_AD_USER_ACCEPT_INVITATION",e.VPAID_AD_USER_CLOSE="VPAID_AD_USER_CLOSE",e.VPAID_AD_USER_MINIMIZE="VPAID_AD_USER_MINIMIZE",e.VPAID_GET_INTERACTIVE_UNIT="VPAID_GET_INTERACTIVE_UNIT",e.VPAID_UNLOAD_AD_UNIT="VPAID_UNLOAD_AD_UNIT"}(t.YospaceEvent||(t.YospaceEvent={})),function(e){e.A9="a9",e.AD_TECH="adTech",e.DEBUG_YOSDK="debugYoSdk",e.LOCAL_NOYO="localNoYo",e.NOYO="noYo",e.SSAI="ssai",e.YOSPACE_CID="yospaceCid"}(t.QueryParamName||(t.QueryParamName={})),t.PROCESS_SOURCE_YOSPACE_TASK="Process source Yospace task",t.END_AD_BREAK_SSAI_TASK="End ad break Yospace SSAI task",t.NO_SEEK_AFTER_AD_BREAK=-1},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=n(8),v=c(n(12)),m=n(27),g=n(41),y=n(7),b=c(n(63)),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDefaultPress=function(){var e=t.props,n=e.adsPlayerActions,r=e.playerActions,i=e.isPaused,a=e.size,o=e.ui,s=e.playerType;if(!o.isSettingsMenuVisible||"large"!==a){var u=s===m.PlayerType.ADS?n:r;i?u.requestPlay("PlayPauseButton"):u.requestPause("PlayPauseButton")}},t}return i(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.hasActiveEffect,i=n.hoverable,o=n.isPaused,s=n.nextToScrubBar,u=n.onPress,c=n.profile,d=n.size,f=n.style,p=n.ui.isSettingsMenuVisible;"small"===d?(e=o?"playSmall":"pauseSmall",t=c.smallIcons):(e=o?"playLarge":"pauseLarge",t=c.largeIcons);var h="large"===d&&p?"default":"pointer",m=y.styleUtils.webStyle({cursor:h}),_=u||this.onDefaultPress;return l.default.createElement(b.default,a({},t,{focusOnMount:!0,hoverable:i,hasActiveEffect:r,iconName:e,nextToScrubBar:s,onPress:_,style:[f,m],focusID:"large"===d?g.FocusIDs.largePlayPauseButton:g.FocusIDs.playPauseButton,testID:"large"===d?v.default.testIDs.largePlayPauseButton:v.default.testIDs.playPauseButton,accessibilityLabel:"large"===d?v.default.testIDs.largePlayPauseButton:v.default.testIDs.playPauseButton,testState:o?v.default.testState.playPauseButton.paused:v.default.testState.playPauseButton.playing}))},t}(l.Component);t.default=d.connect((function(e){var t;return{isPaused:h.coreSelectors.activePlayer(e).isPaused,profile:e.theme.profiles[e.theme.activeProfile],ui:e.ui,playerType:null===(t=h.coreSelectors.activePlayer(e))||void 0===t?void 0:t.playerType}}),(function(e){return{adsPlayerActions:f.bindActionCreators(p.adsPlayerActionCreators,e),playerActions:f.bindActionCreators(p.playerActionCreators,e)}}))(_)},function(e,t,n){"use strict";(function(t){var n="undefined"==typeof window?t:window,r=function(e,t,n){return function(r,i){var a=e(function(){t.call(this,a),r.apply(this,arguments)}.bind(this),i);return this[n]?this[n].push(a):this[n]=[a],a}},i=function(e,t){return function(n){if(this[t]){var r=this[t].indexOf(n);-1!==r&&this[t].splice(r,1)}e(n)}},a="TimerMixin_timeouts",o=i(n.clearTimeout,a),s=r(n.setTimeout,o,a),u="TimerMixin_intervals",c=i(n.clearInterval,u),l=r(n.setInterval,(function(){}),u),d="TimerMixin_immediates",f=i(n.clearImmediate,d),p=r(n.setImmediate,f,d),h="TimerMixin_rafs",v=i(n.cancelAnimationFrame,h),m={componentWillUnmount:function(){this[a]&&this[a].forEach((function(e){n.clearTimeout(e)})),this[a]=null,this[u]&&this[u].forEach((function(e){n.clearInterval(e)})),this[u]=null,this[d]&&this[d].forEach((function(e){n.clearImmediate(e)})),this[d]=null,this[h]&&this[h].forEach((function(e){n.cancelAnimationFrame(e)})),this[h]=null},setTimeout:s,clearTimeout:o,setInterval:l,clearInterval:c,setImmediate:p,clearImmediate:f,requestAnimationFrame:r(n.requestAnimationFrame,v,h),cancelAnimationFrame:v};e.exports=m}).call(this,n(45))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(20);var i=n(48),a=n(169);var o={height:0,width:0};var s=function(e){var t,n,r,s,u=e.shadowColor,c=e.shadowOffset,l=e.shadowOpacity,d=e.shadowRadius,f=e.textShadowColor,p=e.textShadowOffset,h=e.textShadowRadius,v=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["shadowColor","shadowOffset","shadowOpacity","shadowRadius","textShadowColor","textShadowOffset","textShadowRadius"]);return null==u&&null==c&&null==l&&null==d||(t=v,r=(n=e).boxShadow,null!=(s=Object(a.a)(n))&&(t.boxShadow=r?r+", "+s:s)),null==f&&null==p&&null==h||function(e,t){var n=t.textShadowColor,r=t.textShadowOffset,a=t.textShadowRadius,s=r||o,u=s.height,c=s.width,l=a||0,d=Object(i.a)(c),f=Object(i.a)(u),p=Object(i.a)(l),h=Object(i.a)(n,"textShadowColor");!h||0===u&&0===c&&0===l||null==d||null==f||null==p||(e.textShadow=d+" "+f+" "+p+" "+h)}(v,e),v},u=Array.prototype.slice;function c(e){var t,n={},r={};null!=e&&u.call(e.cssRules).forEach((function(e,i){var a=e.cssText;if(a.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split('"')[1])}(e),n[t]={start:i,rules:[a]};else{var o=f(a);null!=o&&(r[o]=!0,n[t].rules.push(a))}}));function i(e,t,r){var i=l(n),a=i.indexOf(t)+1,o=i[a],s=null!=o&&null!=n[o].start?n[o].start:e.cssRules.length,u=function(e,t,n){try{return e.insertRule(t,n),!0}catch(e){return!1}}(e,r,s);if(u){null==n[t].start&&(n[t].start=s);for(var c=a;c<i.length;c+=1){var d=i[c],f=n[d].start;n[d].start=f+1}}return u}return{getTextContent:function(){return l(n).map((function(e){return n[e].rules.join("\n")})).join("\n")},insert:function(t,a){var o=Number(a);if(null==n[o]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(o);n[o]={start:null,rules:[s]},null!=e&&i(e,o,s)}var u=f(t);null!=u&&null==r[u]&&(r[u]=!0,n[o].rules.push(t),null!=e&&(i(e,o,t)||n[o].rules.pop()))}}}function l(e){return Object.keys(e).sort().map((function(e){return Number(e)}))}var d=/\s*([,])\s*/g;function f(e){var t=e.split("{")[0].trim();return""!==t?t.replace(d,"$1"):null}var p=function(e){return function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?e(i,n):null!=i&&!1!==i&&n.push(i)}return n}(e,[])},h=n(131),v=n(55),m=n(109),g={},y={borderTopLeftRadius:"borderTopRightRadius",borderTopRightRadius:"borderTopLeftRadius",borderBottomLeftRadius:"borderBottomRightRadius",borderBottomRightRadius:"borderBottomLeftRadius",borderLeftColor:"borderRightColor",borderLeftStyle:"borderRightStyle",borderLeftWidth:"borderRightWidth",borderRightColor:"borderLeftColor",borderRightStyle:"borderLeftStyle",borderRightWidth:"borderLeftWidth",left:"right",marginLeft:"marginRight",marginRight:"marginLeft",paddingLeft:"paddingRight",paddingRight:"paddingLeft",right:"left"},b={borderTopStartRadius:"borderTopLeftRadius",borderTopEndRadius:"borderTopRightRadius",borderBottomStartRadius:"borderBottomLeftRadius",borderBottomEndRadius:"borderBottomRightRadius",borderStartColor:"borderLeftColor",borderStartStyle:"borderLeftStyle",borderStartWidth:"borderLeftWidth",borderEndColor:"borderRightColor",borderEndStyle:"borderRightStyle",borderEndWidth:"borderRightWidth",end:"right",marginStart:"marginLeft",marginEnd:"marginRight",paddingStart:"paddingLeft",paddingEnd:"paddingRight",start:"left"},_={clear:!0,float:!0,textAlign:!0},A=function(e){return Object(m.a)(e,-1)},S=function(e){var t=v.a.doLeftAndRightSwapInRTL,n=v.a.isRTL,r=e||g,i={},a={};for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var s=r[o],u=o,c=s;if(b.hasOwnProperty(o)){var l=b[o];u=n?y[l]:l}else n&&t&&y[o]&&(u=y[o]);if(_.hasOwnProperty(o)&&("start"===s?c=n?"right":"left":"end"===s?c=n?"left":"right":n&&t&&("left"===s?c="right":"right"===s&&(c="left"))),"transitionProperty"===u)if(b.hasOwnProperty(c)){var d=b[s];c=n?y[d]:d}else n&&t&&y[s]&&(c=y[s]);n&&"textShadowOffset"===u?(a[u]=c,a[u].width=A(c.width)):i[u]||(a[u]=c),b[o]&&(i[u]=!0)}return a},E=n(42),w={},T=function(e){var t=Object.keys(e)[0];return t+"("+Object(i.a)(e[t],t)+")"},P=function(e){if(!e)return w;var t={};return Object.keys(e).sort().forEach((function(n){var r=Object(i.a)(e[n],n);if(null!=r)switch(n){case"aspectRatio":case"elevation":case"overlayColor":case"resizeMode":case"tintColor":break;case"backgroundClip":"text"===r&&(t.backgroundClip=r,t.WebkitBackgroundClip=r);break;case"flex":r>0?(t.flexGrow=r,t.flexShrink=1,t.flexBasis="0%"):0===r?(t.flexGrow=0,t.flexShrink=0,t.flexBasis="0%"):-1===r&&(t.flexGrow=0,t.flexShrink=1,t.flexBasis="auto");break;case"font":t[n]=r.replace("System",E.e);break;case"fontFamily":if(r.indexOf("System")>-1){var a=r.split(/,\s*/);a[a.indexOf("System")]=E.e,t[n]=a.join(",")}else t[n]="monospace"===r?E.a:r;break;case"fontVariant":Array.isArray(r)&&r.length>0&&(t.fontVariant=r.join(" "));break;case"textAlignVertical":t.verticalAlign="center"===r?"middle":r;break;case"textDecorationLine":t.textDecoration=r;break;case"transform":case"transformMatrix":!function(e,t){var n=t.transform;Array.isArray(t.transform)?n=t.transform.map(T).join(" "):t.transformMatrix&&(n="matrix3d("+t.transformMatrix.join(",")+")"),e.transform=n}(t,e);break;case"writingDirection":t.direction=r;break;default:var o=E.d[n];o?o.forEach((function(n,i){void 0===e[n]&&(t[n]=r)})):t[n]=Array.isArray(r)?r.join(","):r}})),t};var C=function(e){return function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36)},O=n(125),k=n(383),I=n.n(k),x=n(384),D=n.n(x),R=n(385),M=n.n(R),N=n(386),L=n.n(N),j=n(387),B=n.n(j),U=n(388),V=n.n(U),F=n(389),H=n.n(F),G=n(390),W=n.n(G),z=n(391),K=n.n(z),Y=n(392),q=n.n(Y),X=n(393),Z=n.n(X),Q=n(394),J=n.n(Q),$=n(395),ee=n.n($),te=["Webkit"],ne=["Moz"],re=["ms"],ie=["Webkit","Moz"],ae=["Webkit","ms"],oe=["Webkit","Moz","ms"],se={plugins:[D.a,M.a,L.a,B.a,V.a,H.a,W.a,K.a,q.a,Z.a,J.a,ee.a],prefixMap:{animation:te,animationDelay:te,animationDirection:te,animationFillMode:te,animationDuration:te,animationIterationCount:te,animationName:te,animationPlayState:te,animationTimingFunction:te,appearance:ie,userSelect:oe,textEmphasisPosition:te,textEmphasis:te,textEmphasisStyle:te,textEmphasisColor:te,boxDecorationBreak:te,clipPath:te,maskImage:te,maskMode:te,maskRepeat:te,maskPosition:te,maskClip:te,maskOrigin:te,maskSize:te,maskComposite:te,mask:te,maskBorderSource:te,maskBorderMode:te,maskBorderSlice:te,maskBorderWidth:te,maskBorderOutset:te,maskBorderRepeat:te,maskBorder:te,maskType:te,textDecorationStyle:te,textDecorationSkip:te,textDecorationLine:te,textDecorationColor:te,filter:te,fontFeatureSettings:te,breakAfter:oe,breakBefore:oe,breakInside:oe,columnCount:ie,columnFill:ie,columnGap:ie,columnRule:ie,columnRuleColor:ie,columnRuleStyle:ie,columnRuleWidth:ie,columns:ie,columnSpan:ie,columnWidth:ie,writingMode:ae,flex:ae,flexBasis:te,flexDirection:ae,flexGrow:te,flexFlow:ae,flexShrink:te,flexWrap:ae,alignContent:te,alignItems:te,alignSelf:te,justifyContent:te,order:te,transform:te,transformOrigin:te,transformOriginX:te,transformOriginY:te,backfaceVisibility:te,perspective:te,perspectiveOrigin:te,transformStyle:te,transformOriginZ:te,backdropFilter:te,fontKerning:te,scrollSnapType:ae,scrollSnapPointsX:ae,scrollSnapPointsY:ae,scrollSnapDestination:ae,scrollSnapCoordinate:ae,shapeImageThreshold:te,shapeImageMargin:te,shapeImageOutside:te,hyphens:oe,flowInto:ae,flowFrom:ae,regionFragment:ae,textOrientation:te,textAlignLast:ne,tabSize:ne,wrapFlow:re,wrapThrough:re,wrapMargin:re,touchAction:re,gridTemplateColumns:re,gridTemplateRows:re,gridTemplateAreas:re,gridTemplate:re,gridAutoColumns:re,gridAutoRows:re,gridAutoFlow:re,grid:re,gridRowStart:re,gridColumnStart:re,gridRowEnd:re,gridRow:re,gridColumn:re,gridColumnEnd:re,gridColumnGap:re,gridRowGap:re,gridArea:re,gridGap:re,textSizeAdjust:["ms","Webkit"],borderImage:te,borderImageOutset:te,borderImageRepeat:te,borderImageSlice:te,borderImageSource:te,borderImageWidth:te,transitionDelay:te,transitionDuration:te,transitionProperty:te,transitionTimingFunction:te}},ue=I()(se),ce=ue;function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de={get:function(e,t){if(null!=de[e]&&de[e].hasOwnProperty(t)&&null!=de[e][t])return de[e][t]},set:function(e,t,n){return null==de[e]&&(de[e]={}),de[e][t]=n}};function fe(e){return Object.keys(e).sort().reduce((function(t,n){var r=e[n];if(null!=r){var i=ve(r,n),a=de.get(n,i);if(null!=a){t[a.identifier]=a}else{var o=ge("r",n,r),s=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var a=ye(n),o=a.animationNames,s=a.rules,u=me({animationName:o.join(",")});r.push.apply(r,[""+i+u].concat(s));break;case"placeholderTextColor":var c=me({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+c,i+"::-moz-placeholder"+c,i+":-ms-input-placeholder"+c,i+"::placeholder"+c);break;case"pointerEvents":var l,d=n;if("auto"===n||"box-only"===n){if(d="auto!important","box-only"===n){var f,p=me(((f={})[t]="none",f));r.push(i+">*"+p)}}else if(("none"===n||"box-none"===n)&&(d="none!important","box-none"===n)){var h,v=me(((h={})[t]="auto",h));r.push(i+">*"+v)}var m=me(((l={})[t]=d,l));r.push(""+i+m);break;default:var g,y=me(((g={})[t]=n,g));r.push(""+i+y)}return r}(o,n,r),u=de.set(n,i,{property:n,value:ve(r,n),identifier:o,rules:s});t[o]=u}}return t}),{})}function pe(e,t){var n,r,i=ge("css",t,e),a=e.animationKeyframes,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["animationKeyframes"]),s=[],u="."+i;if(null!=a){var c=ye(a),l=c.animationNames,d=c.rules;r=l.join(","),s.push.apply(s,d)}var f=me(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){le(e,t,n[t])}))}return e}({},o,{animationName:r}));return s.push(""+u+f),(n={})[i]={identifier:i,rules:s},n}function he(e){return function(e){var t=ue(e);return Object.keys(t).forEach((function(e){var n=t[e];Array.isArray(n)&&(t[e]=n[n.length-1])})),t}(P(e))}function ve(e,t){var n=Object(i.a)(e,t);return"string"!=typeof n?JSON.stringify(n||""):n}function me(e){var t=ce(P(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=Object(O.default)(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function ge(e,t,n){return e+"-"+C(t+ve(n,t))}function ye(e){if("number"==typeof e)throw new Error("Invalid CSS keyframes type");var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"==typeof e)t.push(e);else{var r=function(e){var t=ge("r","animation",e),n="{"+Object.keys(e).map((function(t){return""+t+me(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return{identifier:t,rules:r}}(e),i=r.identifier,a=r.rules;t.push(i),n.push.apply(n,a)}})),{animationNames:t,rules:n}}var be=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-inner-spin-button,input::-webkit-outer-spin-button,input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"],_e=function(e){if(e(":focus:not([data-focusvisible-polyfill]){outline: none;}"),r.canUseDOM){var t=!0,n=!1,i=null,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};document.addEventListener("keydown",(function(e){"Tab"!==e.key&&(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)||(o(document.activeElement)&&s(document.activeElement),t=!0)}),!0),document.addEventListener("mousedown",c,!0),document.addEventListener("pointerdown",c,!0),document.addEventListener("touchstart",c,!0),document.addEventListener("focus",(function(e){var n,r,i,u;o(e.target)&&(t||(n=e.target,r=n.type,i=n.tagName,u=n.readOnly,"INPUT"===i&&a[r]&&!u||"TEXTAREA"===i&&!u||n.isContentEditable))&&s(e.target)}),!0),document.addEventListener("blur",(function(e){o(e.target)&&e.target.hasAttribute("data-focusvisible-polyfill")&&(n=!0,window.clearTimeout(i),i=window.setTimeout((function(){n=!1,window.clearTimeout(i)}),100),u(e.target))}),!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),l())}),!0),l()}function o(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.hasAttribute("data-focusvisible-polyfill")||e.setAttribute("data-focusvisible-polyfill",!0)}function u(e){e.removeAttribute("data-focusvisible-polyfill")}function c(e){!0===t&&function(){for(var e=document.querySelectorAll("[data-focusvisible-polyfill]"),t=0;t<e.length;t+=1)u(e[t])}(),t=!1}function l(){document.addEventListener("mousemove",d),document.addEventListener("mousedown",d),document.addEventListener("mouseup",d),document.addEventListener("pointermove",d),document.addEventListener("pointerdown",d),document.addEventListener("pointerup",d),document.addEventListener("touchmove",d),document.addEventListener("touchstart",d),document.addEventListener("touchend",d)}function d(e){"HTML"!==e.target.nodeName&&(t=!1,document.removeEventListener("mousemove",d),document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",d),document.removeEventListener("pointermove",d),document.removeEventListener("pointerdown",d),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",d),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",d))}};function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se={};var Ee=function(e){return"rn-"+e},we=function(e){return e.join(" ").trim()},Te=/-([a-z])/g,Pe=function(e){for(var t,n=e.style,r=Array.prototype.slice.call(e.classList),i={},a=0;a<n.length;a+=1){var o=n.item(a);o&&(i[(t=o,t.replace(Te,(function(e){return e[1].toUpperCase()})))]=n.getPropertyValue(o))}return{classList:r,style:i}},Ce=function(){var e,t,n,i={css:{},ltr:{},rtl:{},rtlNoSwap:{}},a=function(){e={css:{},ltr:{},rtl:{},rtlNoSwap:{}},t=c(function(e){if(r.canUseDOM){var t=document.getElementById(e);if(null!=t)return t.sheet;var n=document.createElement("style");n.setAttribute("id",e);var i=document.head;return i&&i.insertBefore(n,i.firstChild),n.sheet}return null}(E.b)),n={byClassName:{},byProp:{}},_e((function(e){return t.insert(e,E.c.modality)})),be.forEach((function(e){t.insert(e,E.c.reset)}))};function o(r){var i=v.a.doLeftAndRightSwapInRTL,a=v.a.isRTL?i?"rtl":"rtlNoSwap":"ltr";if(!e[a][r]){var o=fe(s(S(Object(h.a)(r))));Object.values(o).forEach((function(e){var r=e.identifier,i=e.property,a=e.rules,o=e.value;!function(e,t,r){n.byProp[t]||(n.byProp[t]={}),n.byProp[t][r]=e,n.byClassName[e]={prop:t,value:r}}(r,i,o),a.forEach((function(e){var n=E.c.custom[i]||E.c.atomic;t.insert(e,n)}))})),e[a][r]=!0}}function u(n,r){var a=[],s={};if(!n&&!r)return s;if(Array.isArray(r)&&p(r).forEach((function(n){if(n){if(null==e.css[n]&&null!=i.css[n]){var r=i.css[n];r.rules.forEach((function(e){t.insert(e,r.group)})),e.css[n]=!0}a.push(n)}})),"number"==typeof n)o(n),s=l(n,Ee(n));else if(Array.isArray(n)){for(var u=p(n),c=!0,d="",f=0;f<u.length;f++){var h=u[f];"number"!=typeof h?c=!1:(c&&(d+=h+"-"),o(h))}s=l(u,c?Ee(d):null)}else s=l(n);a.push.apply(a,s.classList);var v={className:we(a),classList:a};return s.style&&(v.style=s.style),v}function l(e,r){var a=v.a.doLeftAndRightSwapInRTL,o=v.a.isRTL?a?"rtl":"rtlNoSwap":"ltr";if(null!=r&&null!=i[o][r])return i[o][r];var u=Object(h.a)(e),c=s(S(u)),l=Object.keys(c).sort().reduce((function(e,r){var i=c[r];if(null!=i){var a=function(e,t){var r=ve(t,e),i=n.byProp;return i[e]&&i[e].hasOwnProperty(r)&&i[e][r]}(r,i);if(a)e.classList.push(a);else if("pointerEvents"===r||"placeholderTextColor"===r||"animationKeyframes"===r){var o,s=fe(((o={})[r]=i,o));Object.values(s).forEach((function(n){var r=n.identifier,i=n.rules;e.classList.push(r),i.forEach((function(e){t.insert(e,E.c.atomic)}))}))}else e.style||(e.style={}),e.style[r]=i}return e}),{classList:[]});return l.style&&(l.style=he(l.style)),null!=r&&(i[o][r]=l),l}return a(),{getStyleSheet:function(){var e=t.getTextContent();return r.canUseDOM||a(),{id:E.b,textContent:e}},createCSS:function(e,t){var n={};return Object.keys(e).forEach((function(r){var a=pe(e[r],r);Object.values(a).forEach((function(e){var a=e.identifier,o=e.rules;i.css[a]={group:t||E.c.classic,rules:o},n[r]=a}))})),n},resolve:u,sheet:t,resolveWithNode:function(e,t){function r(e){return n.byClassName[e]||Se}var i=Pe(t),a=i.classList,o=i.style,s=a.reduce((function(e,t){var n=r(t),i=n.prop,a=n.value;return i?e.style[i]=a:e.classList.push(t),e}),{classList:[],style:{}}),c=s.classList,l=s.style,d=u([S(l),e]),f=d.classList,p=d.style,h=we(f.concat(c)),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ae(e,t,n[t])}))}return e}({},o);return f.forEach((function(e){var t=r(e).prop;v[t]&&(v[t]="")})),Object.assign(v,p),{className:h,style:v}}}}();t.a=Ce},function(e,t,n){"use strict";t.a=function(e){if(e&&(1===e.nodeType&&"function"==typeof e.getBoundingClientRect))return e.getBoundingClientRect()}},function(e,t,n){var r=n(439),i=n(442);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DrmStreamType=t.DRMPolicy=t.WidevineRobustness=t.KeySystems=t.DrmError=t.DRM=void 0;var a,o,s=n(27);!function(e){e.WIDEVINE="WIDEVINE",e.PLAYREADY="PLAYREADY",e.FAIRPLAY="FAIRPLAY",e.CLEARKEY="CLEARKEY",e.NONE="NONE"}(a=t.DRM||(t.DRM={})),function(e){e.AUTH_TOKEN_RETRIEVAL="AUTH_TOKEN_RETRIEVAL",e.CERTIFICATE_RETRIEVAL="CERTIFICATE_RETRIEVAL",e.LICENSE_FORBIDDEN="LICENSE_FORBIDDEN",e.LICENSE_NOT_FOUND="LICENSE_NOT_FOUND"}(t.DrmError||(t.DrmError={})),t.KeySystems=((r={})[a.WIDEVINE]="com.widevine.alpha",r[a.PLAYREADY]="com.microsoft.playready",r[a.FAIRPLAY]="com.apple.fps.1_0",r[a.CLEARKEY]="org.w3.clearkey",r),function(e){e.SW_SECURE_CRYPTO="SW_SECURE_CRYPTO",e.SW_SECURE_DECODE="SW_SECURE_DECODE",e.HW_SECURE_CRYPTO="HW_SECURE_CRYPTO",e.HW_SECURE_DECODE="HW_SECURE_DECODE",e.HW_SECURE_ALL="HW_SECURE_ALL"}(o=t.WidevineRobustness||(t.WidevineRobustness={})),function(e){e.ALWAYS="always",e.IF_AVAILABLE="if-available",e.NEVER="never"}(t.DRMPolicy||(t.DRMPolicy={})),t.DrmStreamType=((i={})[a.WIDEVINE]=s.StreamType.DASH,i[a.PLAYREADY]=s.StreamType.DASH,i[a.FAIRPLAY]=s.StreamType.HLS,i),t.default={DrmStreamType:t.DrmStreamType,DRM:a,WidevineRobustness:o}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ssaiSeek=t.playAdBreakThenSeek=t.getNextAdBreak=t.getPreviousAdBreak=t.isUsingSSAI=t.determineTextTrackOffset=t.getStreamOffsetFromContentTime=t.determineContentOffSet=void 0;var s=n(9),u=n(2),c=n(8),l=n(59),d=n(40),f=o(n(714)),p=n(715),h=n(43),v=o(n(13)),m=n(27),g=n(28),y=n(152),b=n(7),_=n(23);function A(e){return a(this,(function(t){switch(t.label){case 0:return[4,s.take(u.adsManagerActionCreators.endedAdBreak)];case 1:return t.sent(),[4,s.put(u.playerActionCreators.requestSeekToStreamTime(e))];case 2:return t.sent(),[2]}}))}t.determineContentOffSet=function(e,t){return e.filter((function(e){return e.offset<t})).reduce((function(e,t){var n=t.duration;return e+(void 0===n?0:n)}),0)},t.getStreamOffsetFromContentTime=function(e,t){return e.filter((function(e){return e.contentTimeOffset<=t})).reduce((function(e,t){var n=t.duration;return e+(void 0===n?0:n)}),0)},t.determineTextTrackOffset=function(e,t){return e.filter((function(e){return e.offset<t})).reduce((function(e,t){var n=t.trim;return e+(void 0===n?0:n)/1e3}),0)},t.isUsingSSAI=function(e){var t,n,r,i=d.getAdTech(e)===l.AdTech.KATANA,a=_.containsRestriction(null===(t=e.user)||void 0===t?void 0:t.allowedRestrictions,h.ContentRestriction.PREMIUM),o=1e3*(null===(n=e.ads)||void 0===n?void 0:n.minimumDurationThreshold),s=(null===(r=e.metadata)||void 0===r?void 0:r.duration)||0;return!a&&i&&s>o},t.getPreviousAdBreak=function(e,t){return e.slice().reverse().find((function(e){return e.offset<=t}))||null},t.getNextAdBreak=function(e,t){return e.find((function(e){return e.offset>t}))||null},t.playAdBreakThenSeek=A,t.ssaiSeek=function(e,n){var r,i,o,l,d,f,p,h,v,g,y;return void 0===n&&(n=!1),a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.adsManagerSelectors.all)];case 1:return r=a.sent().adBreaks,i=t.getStreamOffsetFromContentTime(r,e),o=e+i,l=t.getPreviousAdBreak(r,o),d=t.getNextAdBreak(r,o),2,(null==d?void 0:d.isPlayed)&&(f=d.offset-o<=2,0===d.offset?(p=b.environmentUtils.isYoui()?.1:0,o=d.duration+p):o=f?o-2:o),[4,s.select(c.mediaSelectors.all)];case 2:return(null==(h=a.sent().processedSource)?void 0:h.type)!==m.StreamType.DASH?[3,4]:(v=t.determineTextTrackOffset(r,o),[4,s.put(u.mediaActionCreators.updateTextTrackOffset(v))]);case 3:a.sent(),a.label=4;case 4:return!l||l.isPlayed?[3,9]:(y=t.determineContentOffSet(r,l.offset),[4,s.put(u.mediaActionCreators.updateContentOffset(y))]);case 5:return a.sent(),g=l.offset,n?[3,7]:[4,s.put(u.playerActionCreators.requestSeekToStreamTime(g))];case 6:a.sent(),a.label=7;case 7:return[4,s.spawn(A,o)];case 8:return a.sent(),[3,12];case 9:return[4,s.put(u.mediaActionCreators.updateContentOffset(i))];case 10:return a.sent(),g=o,n?[3,12]:[4,s.put(u.playerActionCreators.requestSeekToStreamTime(o))];case 11:a.sent(),a.label=12;case 12:return[2,g]}}))};var S=function(e){function n(){var t=e.call(this,"SSAI")||this;return t.mainSsaiSagasTask=null,t.isGeneratingAdSlotEvents=!0,t.getOptions=function(){return{reducerMap:{ssai:f.default},sagas:[t.register]}},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.initializeSsaiSagas=t.initializeSsaiSagas.bind(t),t.handleLoadContent=t.handleLoadContent.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.handleUpdateTime=t.handleUpdateTime.bind(t),t.handleAdsPlayerPause=t.handleAdsPlayerPause.bind(t),t.handleAdsPlayerPlay=t.handleAdsPlayerPlay.bind(t),t.handleParsedVmap=t.handleParsedVmap.bind(t),t.handleEndedAdBreak=t.handleEndedAdBreak.bind(t),t.handleStartedAdBreak=t.handleStartedAdBreak.bind(t),t.handleStartedAdSlot=t.handleStartedAdSlot.bind(t),t.handleEndedAdSlot=t.handleEndedAdSlot.bind(t),t.getAdSlotEndTimes=t.getAdSlotEndTimes.bind(t),t.updateOffsets=t.updateOffsets.bind(t),t.seekPastPlayedAdBreak=t.seekPastPlayedAdBreak.bind(t),t.detectPlayedAdBreak=t.detectPlayedAdBreak.bind(t),t}return i(n,e),n.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.contentLifecycleActionCreators.loadContent,this.handleLoadContent),s.takeEvery(u.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent)])];case 1:return e.sent(),b.environmentUtils.isJest()&&this.initializeSsaiSagas(),[2]}}))},n.prototype.initializeSsaiSagas=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery([u.mediaActionCreators.updateTime,u.mediaActionCreators.updateStreamTime],this.handleUpdateTime),s.takeEvery(u.lambdaResponseActions.parsedVMAP,this.handleParsedVmap),s.takeEvery(u.adsManagerActionCreators.endedAdBreak,this.handleEndedAdBreak),s.takeEvery(u.adsManagerActionCreators.startedAdBreak,this.handleStartedAdBreak),s.takeEvery(u.adsManagerActionCreators.startedAdSlot,this.handleStartedAdSlot),s.takeEvery(u.adsManagerActionCreators.endedAdSlot,this.handleEndedAdSlot)])];case 1:return e.sent(),[2]}}))},n.prototype.handleLoadContent=function(){var e,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=r.sent(),t.isUsingSSAI(e)?[4,b.gateUtils.addTask(u.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_SSAI_TASK)]:[3,4];case 2:return r.sent(),n=this,[4,s.fork(this.initializeSsaiSagas)];case 3:n.mainSsaiSagasTask=r.sent(),r.label=4;case 4:return[2]}}))},n.prototype.handleUnloadContent=function(){return a(this,(function(e){switch(e.label){case 0:return this.mainSsaiSagasTask?[4,s.cancel(this.mainSsaiSagasTask)]:[3,2];case 1:e.sent(),this.mainSsaiSagasTask=null,e.label=2;case 2:return[4,b.gateUtils.removeTask(u.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_SSAI_TASK)];case 3:return e.sent(),[2]}}))},n.prototype.handleUpdateTime=function(){var e,t,n,r,i,o,l,d,f,p,h;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.adsManagerSelectors.property,"isInAdBreak")];case 1:return a.sent()?[3,4]:[4,s.select(c.mediaSelectors.all)];case 2:return e=a.sent().streamTime,[4,s.call(this.detectPlayedAdBreak,e)];case 3:return[2,a.sent()];case 4:return this.isGeneratingAdSlotEvents?(l=(o=c.adsManagerSelectors).all,[4,s.select()]):[2];case 5:return t=l.apply(o,[a.sent()]),n=t.adBreaks,r=t.targetAdBreakIndex,i=t.targetAdSlotIndex,d=n[r].adSlots[i],[4,this.getAdSlotEndTimes()];case 6:return f=a.sent(),p=f[i],[4,s.select(c.mediaSelectors.all)];case 7:return(h=a.sent().streamTime)>=p&&!d.isPlayed?(this.isGeneratingAdSlotEvents=!1,[4,s.put(u.adsManagerActionCreators.endedAdSlot(d))]):[3,9];case 8:return[2,a.sent()];case 9:return[4,this.detectQuartileEvent(h)];case 10:return a.sent(),[2]}}))},n.prototype.seekPastPlayedAdBreak=function(e){var t,n,r;return a(this,(function(i){switch(i.label){case 0:return[4,s.select(c.playerSelectors.all)];case 1:return t=i.sent(),n=y.getCurrentVideoTrack(t),r=(null==n?void 0:n.frameRate)||23.97,[4,s.put(u.playerActionCreators.requestSeekToContentTime(e.contentTimeOffset+1/r))];case 2:return i.sent(),[2]}}))},n.prototype.detectPlayedAdBreak=function(e){var t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.adsManagerSelectors.all)];case 1:return t=r.sent().adBreaks,1,(n=t.find((function(t){return t.offset<e+1&&t.offset>e})))&&n.isPlayed?[4,s.call(this.seekPastPlayedAdBreak,n)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))},n.prototype.handleEndedAdBreak=function(){var e,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.mediaSelectors.all)];case 1:return e=a.sent().streamTime,[4,s.select(c.adsManagerSelectors.all)];case 2:return n=a.sent().adBreaks,r=t.determineContentOffSet(n,e),i=t.determineTextTrackOffset(n,e),[4,s.call(this.updateOffsets,r,i)];case 3:return a.sent(),[4,b.gateUtils.completeTask(u.adsManagerActionCreators.completeEndedAdBreak,p.END_AD_BREAK_SSAI_TASK)];case 4:return a.sent(),[2]}}))},n.prototype.handleStartedAdBreak=function(e){var t=e.payload;return a(this,(function(e){switch(e.label){case 0:return this.isGeneratingAdSlotEvents=!0,[4,s.put(u.adsManagerActionCreators.startedAdSlot(t.adSlots[0]))];case 1:return e.sent(),[2]}}))},n.prototype.updateOffsets=function(e,t){return a(this,(function(n){switch(n.label){case 0:return[4,s.select(c.mediaSelectors.all)];case 1:return n.sent().processedSource.type!==m.StreamType.DASH?[3,3]:[4,s.put(u.mediaActionCreators.updateTextTrackOffset(t))];case 2:n.sent(),n.label=3;case 3:return[4,s.put(u.mediaActionCreators.updateContentOffset(e))];case 4:return n.sent(),[2]}}))},n.prototype.handleParsedVmap=function(e){var t,n,r,i,o,l,d,f,h,v,m=e.payload;return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.adsManagerSelectors.all)];case 1:return t=e.sent().adBreaks,n=0,t.forEach((function(e){n+=e.duration})),r=m.duration-n,[4,s.put(u.mediaActionCreators.setContentDuration(r))];case 2:return e.sent(),[4,s.select(c.configurationSelectors.self)];case 3:return i=e.sent(),o=null!==(v=null===(h=i.player)||void 0===h?void 0:h.startTime)&&void 0!==v?v:0,[4,s.select(c.mediaSelectors.all)];case 4:return l=e.sent().orderedVideoTrackList,d=l[0],f={drm:d.drm,source:m.processedStreamUrl,startTime:o,switchType:g.SwitchType.INITIAL_SOURCE,type:d.mime_type},[4,s.put(u.mediaActionCreators.setProcessedSource(f))];case 5:return e.sent(),[4,b.gateUtils.completeTask(u.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_SSAI_TASK)];case 6:return e.sent(),[2]}}))},n.prototype.handleStartedAdSlot=function(e){e.payload;return a(this,(function(e){switch(e.label){case 0:return this.isGeneratingAdSlotEvents=!0,[4,s.put(u.adsManagerActionCreators.sawAdImpression(null))];case 1:return[2,e.sent()]}}))},n.prototype.getAdSlotEndTimes=function(){var e,t,n,r,i,o,u,l,d;return a(this,(function(a){switch(a.label){case 0:return e=[],[4,s.select(c.adsManagerSelectors.all)];case 1:return t=a.sent().adBreaks,[4,s.select(c.adsManagerSelectors.property,"targetAdBreakIndex")];case 2:for(n=a.sent(),r=t[n].adSlots.length,i=0,o=0;o<n;++o)i+=t[o].duration;for(u=t[n].contentTimeOffset+i,l=0;l<r;l++)d=t[n].adSlots[l].duration,u+=d,e.push(u);return[2,e]}}))},n.prototype.detectQuartileEvent=function(e){var t,n,r,i,o,l,d,f,p,h,v,m,g;return a(this,(function(a){switch(a.label){case 0:return d=(l=c.adsManagerSelectors).all,[4,s.select()];case 1:if(t=d.apply(l,[a.sent()]),n=t.adBreaks,r=t.quartile,i=t.targetAdBreakIndex,o=t.targetAdSlotIndex,r>=3)return[2];for(f=n[i].adSlots[o].duration,p=n[i].contentTimeOffset,v=f/4*(h=r+1),m=0,g=0;g<o;++g)m+=n[i].adSlots[g].duration;for(g=0;g<i;++g)m+=n[g].duration;if(!(e-p-m>=v))return[3,8];switch(h){case 1:return[3,2];case 2:return[3,4];case 3:return[3,6]}return[3,8];case 2:return[4,s.put(u.adsManagerActionCreators.finishedQuartile25())];case 3:return[2,a.sent()];case 4:return[4,s.put(u.adsManagerActionCreators.finishedQuartile50())];case 5:return[2,a.sent()];case 6:return[4,s.put(u.adsManagerActionCreators.finishedQuartile75())];case 7:return[2,a.sent()];case 8:return[2]}}))},n.prototype.handleEndedAdSlot=function(){var e,t,n,r,i,o,l,d;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.adsManagerSelectors.all)];case 1:return e=a.sent().adBreaks,o=(i=c.adsManagerSelectors).all,[4,s.select()];case 2:return t=o.apply(i,[a.sent()]),n=t.targetAdBreakIndex,r=t.targetAdSlotIndex,l=e[n].adSlots[r],d=l.sequence,d<e[n].adSlots.length?[4,s.put(u.adsManagerActionCreators.startedAdSlot(l))]:[3,4];case 3:a.sent(),a.label=4;case 4:return[2]}}))},n.prototype.handleAdsPlayerPlay=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.adsManagerSelectors.property,"isInAdBreak")];case 1:return e.sent()?[4,s.put(u.adsManagerActionCreators.resumedAdSlot(null))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},n.prototype.handleAdsPlayerPause=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.adsManagerSelectors.property,"isInAdBreak")];case 1:return e.sent()?[4,s.put(u.adsManagerActionCreators.pausedAdSlot(null))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},n}(v.default);t.default=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionMethod=void 0,function(e){e.Screen="screen",e.Group="group",e.Page="page",e.Identify="identify",e.Alias="alias",e.Track="track"}(t.ActionMethod||(t.ActionMethod={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(6),s=n(14),u=n(2),c=i(n(12)),l=i(n(76)),d=i(n(63));t.default=o.connect((function(e){var t=e.theme;return{profile:t.profiles[t.activeProfile]}}),(function(e){return{inputActions:s.bindActionCreators(u.inputActionCreators,e)}}))((function(e){var t=e.profile,n=e.style,i=void 0===n?{}:n,o=e.inputActions;return a.default.createElement(d.default,r({},t.smallIcons,{hasActiveEffect:!0,hoverable:!0,iconName:"back",onPress:function(){return o.inputNormalized(l.default.BACK)},style:i,testID:c.default.testIDs.backButton,accessibilityLabel:c.default.testIDs.backButton}))}))},function(e,t,n){"use strict";var r=n(104),i=n(11);t.a=function(e){var t=Object(r.a)(e);return function(e,n,r,a){var o=e;if(e[n]){o={};var s=i.a.flatten(e[n]),u=Object.keys(s).reduce((function(e,t){return 0!==t.indexOf("--")&&(e[t]=s[t]),e}),{});o[n]=u}for(var c=arguments.length,l=new Array(c>4?c-4:0),d=4;d<c;d++)l[d-4]=arguments[d];return t.apply(void 0,[o,n,r,a].concat(l))}}},function(e,t,n){"use strict";var r={UIManager:n(25).a};t.a=r},function(e,t,n){"use strict";var r=n(104),i=n(0),a=Object(r.a)({top:i.number,left:i.number,bottom:i.number,right:i.number});t.a=a},function(e,t,n){var r=n(56).Symbol;e.exports=r},function(e,t,n){var r=n(93),i=n(74);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(91),i=n(416),a=n(417),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},function(e,t,n){var r=n(427),i=n(472),a=n(193),o=n(46),s=n(478);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(46),i=n(192),a=n(473),o=n(177);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t,n){var r=n(92);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){var r=n(195),i=n(196);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=a?a(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),o?i(n,c,l):r(n,c,l)}return n}},function(e,t,n){"use strict";function r(e,t,n,r){var i=r?" !== ":" === ",a=r?" || ":" && ",o=r?"!":"",s=r?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+a+"typeof "+t+i+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+a+s+"("+t+" % 1)"+a+t+i+t+(n?a+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+i+'"'+e+'"'+(n?a+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:r,checkDataTypes:function(e,t,n){switch(e.length){case 1:return r(e[0],t,n,!0);default:var i="",o=a(e);for(var s in o.array&&o.object&&(i=o.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)i+=(i?" && ":"")+r(s,t,n,!0);return i}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++){var a=t[r];(i[a]||"array"===e&&"array"===a)&&(n[n.length]=a)}if(n.length)return n}else{if(i[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:a,getProperty:u,escapeQuotes:c,equal:n(205),ucs2length:n(615),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var r in e)if(r!=n&&t[r])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var n in e)if(!t[n])return n},toQuotedString:l,getPathExpr:function(e,t,n,r){return p(e,n?"'/' + "+t+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var r=l(n?"/"+h(t):u(t));return p(e,r)},getData:function(e,t,n){var r,i,a,o;if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,a="rootData"}else{if(!(o=e.match(f)))throw new Error("Invalid JSON-pointer: "+e);if(r=+o[1],"#"==(i=o[2])){if(r>=t)throw new Error("Cannot access property/index "+r+" levels up, current level is "+t);return n[t-r]}if(r>t)throw new Error("Cannot access data "+r+" levels up, current level is "+t);if(a="data"+(t-r||""),!i)return a}for(var s=a,c=i.split("/"),l=0;l<c.length;l++){var p=c[l];p&&(a+=u(v(p)),s+=" && "+a)}return s},unescapeFragment:function(e){return v(decodeURIComponent(e))},unescapeJsonPointer:v,escapeFragment:function(e){return encodeURIComponent(h(e))},escapeJsonPointer:h};var i=a(["string","number","integer","boolean","null"]);function a(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var o=/^[a-z$_][a-z$_0-9]*$/i,s=/'|\\/g;function u(e){return"number"==typeof e?"["+e+"]":o.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(s,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function l(e){return"'"+c(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,f=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function h(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function v(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e){e.exports=JSON.parse('{"adsId":"velocity-ads-package","canvasId":"velocity-canvas","controlsId":"velocity-controls-package","overlayId":"velocity-overlay-package","playerId":"velocity-player-package"}')},function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUrl=t.basePatchOptions=t.basePostOptions=t.baseGetOptions=t.CallStatus=void 0,function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR"}(r=t.CallStatus||(t.CallStatus={})),t.baseGetOptions={method:"GET",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}},t.basePostOptions={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}},t.basePatchOptions={method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"}},t.fetchUrl=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={plainText:!1}),i(this,void 0,void 0,(function(){var i,o,s;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,fetch(e,t)];case 1:if(!(i=a.sent()).ok)throw new Error("Status code "+i.status);return o=void 0,204===i.status?[3,5]:(null==n?void 0:n.plainText)?[4,i.text()]:[3,3];case 2:return o=a.sent(),[3,5];case 3:return[4,i.json()];case 4:o=a.sent(),a.label=5;case 5:return[2,{type:r.SUCCESS,data:o}];case 6:return s=a.sent(),console.warn("Unable to "+t.method+" to "+e,s),[2,{type:r.ERROR,error:s}];case 7:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAction=void 0;var r=n(753),i=n(103),a=n(213),o=function(){function e(e,t,n){void 0===n&&(n=new a.Options),this.type=e,this.userId=t,this.sentAt=new Date,this.messageId=r.Guid.raw(),this.context=i.convertMapToObject(n.getContext()),this.integrations=i.convertMapToObject(n.getIntegrations()),this.anonymousId=n.getAnonymousId(),this.timestamp=n.getTimestamp()}return e.prototype.getUserId=function(){return this.userId},e.prototype.getAnonymousId=function(){return this.anonymousId},e.prototype.getType=function(){return this.type},e.prototype.setApiKey=function(e){this.writeKey=e},e.prototype.setSentAt=function(e){this.sentAt=e},e}();t.BaseAction=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertMapToObject=void 0,t.convertMapToObject=function e(t){var n=Object.create(null);return t&&t instanceof Map?(t.forEach((function(t,r){t instanceof Map?n[r]=e(t):n[r]=t})),n):n}},function(e,t,n){"use strict";var r=n(4),i=n.n(r);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){function t(t,n,r,o,s){if(n[r]){var u=n[r],c=typeof u,l=s||"(unknown)";"object"!==c&&i()(!1,"Invalid "+l+" `"+r+"` of type `"+c+"` supplied to `"+o+"`, expected `object`.");for(var d=a({},n[r],e),f=arguments.length,p=new Array(f>5?f-5:0),h=5;h<f;h++)p[h-5]=arguments[h];for(var v in d){var m=e[v];m||i()(!1,"Invalid props."+r+" key `"+v+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(n[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var g=m.apply(void 0,[u,v,o,s].concat(p));g&&i()(!1,g.message+"\nBad object: "+JSON.stringify(n[r],null,"  "))}}else t&&i()(!1,"Required object `"+r+"` was not specified in `"+o+"`.")}function n(e,n,r,i){for(var a=arguments.length,o=new Array(a>4?a-4:0),s=4;s<a;s++)o[s-4]=arguments[s];return t.apply(void 0,[!1,e,n,r,i].concat(o))}return n.isRequired=t.bind(null,!0),n}},function(e,t,n){"use strict";var r=n(16),i=function(){function e(){}var t=e.prototype;return t.start=function(e,t,n,r,i){},t.stop=function(){this.__nativeId&&r.a.API.stopAnimation(this.__nativeId)},t.__getNativeAnimationConfig=function(){throw new Error("This animation type cannot be offloaded to native")},t.__debouncedOnEnd=function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)},t.__startNativeAnimation=function(e){e.__makeNative(),this.__nativeId=r.a.generateNewAnimationId(),r.a.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),this.__getNativeAnimationConfig(),this.__debouncedOnEnd.bind(this))},e}();t.a=i},function(e,t,n){"use strict";var r,i=n(20),a=n(107),o=n.n(a),s=n(18),u={},c={},l=1,d=function(){return"r-"+l++};if(i.canUseDOM)if(void 0!==window.ResizeObserver)r=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=c[t._layoutId];n&&n._handleLayout()}))}));else{0;window.addEventListener("resize",o()((function(){Object.keys(c).forEach((function(e){c[e]._handleLayout()}))}),16),!1)}var f=function(e){var t=d();if(c[t]=e,r){var n=Object(s.a)(e);n&&(n._layoutId=t,r.observe(n))}else e._layoutId=t,e._handleLayout()},p=function(e){if(r){var t=Object(s.a)(e);t&&(delete c[t._layoutId],delete t._layoutId,r.unobserve(t))}else delete c[e._layoutId],delete e._layoutId},h=function(e,t){return e?function(){e.call(this,arguments),t.call(this,arguments)}:t};t.a=function(e){var t=e.prototype.componentDidMount,n=e.prototype.componentDidUpdate,r=e.prototype.componentWillUnmount;return e.prototype.componentDidMount=h(t,(function(){this._layoutState=u,this._isMounted=!0,this.props.onLayout&&f(this)})),e.prototype.componentDidUpdate=h(n,(function(e){this.props.onLayout&&!e.onLayout?f(this):!this.props.onLayout&&e.onLayout&&p(this)})),e.prototype.componentWillUnmount=h(r,(function(){this._isMounted=!1,this.props.onLayout&&p(this)})),e.prototype._handleLayout=function(){var e=this,t=this._layoutState,n=this.props.onLayout;n&&this.measure((function(r,i,a,o){if(e._isMounted&&(t.x!==r||t.y!==i||t.width!==a||t.height!==o)){e._layoutState={x:r,y:i,width:a,height:o};var u={layout:e._layoutState};Object.defineProperty(u,"target",{enumerable:!0,get:function(){return Object(s.a)(e)}}),n({nativeEvent:u,timeStamp:Date.now()})}}))},e}},function(e,t){function n(e,t,n){var r,i,a,o,s;function u(){var c=Date.now()-o;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,i),a=i=null))}null==t&&(t=100);var c=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},function(e,t,n){"use strict";var r=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")},i=n(166);t.a=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"==typeof e&&r(e))return e;var n=Object(i.a)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},function(e,t,n){"use strict";var r=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/;t.a=function(e,t){var n;return"string"==typeof e?""+parseFloat(e)*t+e.match(r)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){var r=n(262),i=n(263),a=n(112);e.exports=function(e){return a(e)?r(e):i(e)}},function(e,t,n){var r=n(253),i=n(190);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(468),i=n(182),a=n(469),o=n(265),s=n(470),u=n(93),c=n(254),l=c(r),d=c(i),f=c(a),p=c(o),h=c(s),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=v(new i)||a&&"[object Promise]"!=v(a.resolve())||o&&"[object Set]"!=v(new o)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(96),i=n(97);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receiveEvent=t.sendMessageToClient=void 0;var r=n(21);t.sendMessageToClient=r.createAction("V/MESSAGE_BUS/SEND_MESSAGE"),t.receiveEvent=r.createAction("V/MESSAGE_BUS/RECEIVE_MESSAGE")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(382));t.default=r(r({},a.default),{getDeviceLocale:function(){var e,t;return null!==(t=null===(e=null===navigator||void 0===navigator?void 0:navigator.languages)||void 0===e?void 0:e.length)&&void 0!==t&&t?navigator.languages[0]:navigator.language||"en-US"}})},function(e,t){},function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(e){return s(c(e),arguments)}function o(e,t){return a.apply(null,[e].concat(t||[]))}function s(e,t){var n,r,o,s,u,c,l,d,f,p=1,h=e.length,v="";for(r=0;r<h;r++)if("string"==typeof e[r])v+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[p],o=0;o<s.keys.length;o++){if(null==n)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[o],s.keys[o-1]));n=n[s.keys[o]]}else n=s.param_no?t[s.param_no]:t[p++];if(i.not_type.test(s.type)&&i.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(a("[sprintf] expecting number but found %T",n));switch(i.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(s.type)?v+=n:(!i.number.test(s.type)||d&&!s.sign?f="":(f=d?"+":"-",n=n.toString().replace(i.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(f+n).length,u=s.width&&l>0?c.repeat(l):"",v+=s.align?f+n+u:"0"===c?f+u+n:u+f+n)}return v}var u=Object.create(null);function c(e){if(u[e])return u[e];for(var t,n=e,r=[],a=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],s=t[2],c=[];if(null===(c=i.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(s=s.substring(c[0].length));)if(null!==(c=i.key_access.exec(s)))o.push(c[1]);else{if(null===(c=i.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return u[e]=r}t.sprintf=a,t.vsprintf=o,"undefined"!=typeof window&&(window.sprintf=a,window.vsprintf=o,void 0===(r=function(){return{sprintf:a,vsprintf:o}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(211)),u=o(n(44)),c=a(n(116)),l=function(){function e(){}return e.destroy=function(){e.emitter.removeAllListeners()},e.sendMessageToClient=function(t){e.emitter.emit("vilos-message",t)},e.sendMessage=function(t){e.emitter.emit("client-message",t)},e.onMessage=function(t){e.emitter.on("vilos-message",t)},e.handleEvent=function(e){u.default.dispatch(c.receiveEvent(e))},e.initialize=function(){e.emitter.on("client-message",e.handleEvent)},e.emitter=new s.default,e}();t.default=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(1)),l=n(792),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovered:!1,showHover:!0},t.handleMouseEnter=function(e){if(l.isHoverEnabled()&&!t.state.isHovered){var n=t.props.onHoverIn;n&&n(),t.setState((function(e){return a(a({},e),{isHovered:!0})}))}},t.handleMouseLeave=function(e){if(t.state.isHovered){var n=t.props.onHoverOut;n&&n(),t.setState((function(e){return a(a({},e),{isHovered:!1})}))}},t.handleGrant=function(){var e=t.props.onPressIn;e&&e(),t.setState((function(e){return a(a({},e),{showHover:!1})}))},t.handleRelease=function(){var e=t.props.onPressOut;e&&e(),t.setState((function(e){return a(a({},e),{showHover:!0})}))},t}return i(t,e),t.prototype.render=function(){var e=this.props.children,t="function"==typeof e?e(this.state.showHover&&this.state.isHovered):e;return c.default.cloneElement(c.default.Children.only(t),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onResponderGrant:this.handleGrant,onResponderRelease:this.handleRelease,onPressIn:this.handleGrant,onPressOut:this.handleRelease})},t}(c.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.add=function(t,n){n&&(e.refs[t]=n)},e.get=function(t){return e.refs[t]},e.remove=function(t){e.refs[t]&&delete e.refs[t]},e.refs={},e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=c(n(12)),v=c(n(32)),m=c(n(63)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpen=!1,t.onPress=function(e){v.default.resume(),e.preventDefault(),t.props.coreActions.toggleFullScreen()},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.isFullscreen,n=e.profile,r=e.style,i=t?"fullscreenExit":"fullscreenEnter";return l.default.createElement(m.default,a({},n.smallIcons,{hasActiveEffect:!0,hoverable:!0,iconName:i,onPress:this.onPress,style:r,testID:h.default.testIDs.fullscreenButton,accessibilityLabel:h.default.testIDs.fullscreenButton,testState:t?h.default.testState.fullscreenButton.open:h.default.testState.fullscreenButton.closed}))},t}(l.Component);t.default=d.connect((function(e){return{containerId:e.core.containerId,isFullscreen:e.core.isFullscreen,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{coreActions:f.bindActionCreators(p.coreActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenuLocation=void 0;var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(12)),m=n(7),g=c(n(32)),y=c(n(63)),b=c(n(812));!function(e){e[e.BOTTOM_LEFT=0]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=1]="BOTTOM_RIGHT",e[e.UPPER_LEFT=2]="UPPER_LEFT",e[e.UPPER_RIGHT=3]="UPPER_RIGHT"}(t.SettingsMenuLocation||(t.SettingsMenuLocation={}));var _={isHidingMenu:!1,hideAnimation:new d.Animated.Value(0),isOpen:!1,isMenuVisible:!1},A=m.environmentUtils.isRoku(),S=m.environmentUtils.isYoui(),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=_,t.onPress=function(){var e=t.props,n=e.isSettingsMenuVisible,r=e.uiActions,i=e.isCasting;n?(r.hideSettingsMenu(),!i&&!S&&g.default.unlock()):(r.showSettingsMenu(),!i&&!S&&g.default.lock())},t.hideMenu=function(){t.setState({isHidingMenu:!0}),d.Animated.timing(t.state.hideAnimation,{toValue:0,duration:75,useNativeDriver:!0}).start((function(){return t.setState({isHidingMenu:!1})}))},t.showMenu=function(){d.Animated.timing(t.state.hideAnimation,{toValue:1,duration:75,useNativeDriver:!0}).start()},t}return i(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this;e.isSettingsMenuVisible&&!this.props.isSettingsMenuVisible?(setTimeout((function(){return t.setState({isMenuVisible:!0})}),500),this.showMenu()):!e.isSettingsMenuVisible&&this.props.isSettingsMenuVisible&&(setTimeout((function(){return t.setState({isMenuVisible:!1})}),500),this.hideMenu())},t.prototype.render=function(){var e=this.props,t=e.appears,n=e.isSettingsMenuVisible,r=e.profile,i=e.style,o=this.state.isHidingMenu;if(!r)return null;var s=A?this.state.isMenuVisible:n||o,u=A?1:this.state.hideAnimation;return l.default.createElement(d.View,{nativeID:"settingsControl",style:w.container},!S&&l.default.createElement(y.default,a({},r.smallIcons,{hasActiveEffect:!0,hoverable:!0,iconName:"settings",isHovered:s,onPress:this.onPress,isActive:s,style:i,testID:v.default.testIDs.settingsButton,accessibilityLabel:v.default.testIDs.settingsButton})),s&&l.default.createElement(b.default,{appears:t,opacity:u}))},t}(l.Component),w=d.StyleSheet.create({container:{alignItems:"flex-end"}});t.default=f.connect((function(e){return{isCasting:e.core.castingState.isCasting,isSettingsMenuVisible:e.ui.isSettingsMenuVisible,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))(E)},function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,a={};function o(e){return"-"+e.toLowerCase()}t.default=function(e){if(a.hasOwnProperty(e))return a[e];var t=e.replace(r,o);return a[e]=i.test(t)?"-"+t:t}},function(e,t){function n(e){var t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=u.hex6.exec(e))?parseInt(t[1]+"ff",16)>>>0:p.hasOwnProperty(e)?p[e]:(t=u.rgb.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|255)>>>0:(t=u.rgba.exec(e))?(c(t[1])<<24|c(t[2])<<16|c(t[3])<<8|d(t[4]))>>>0:(t=u.hex3.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=u.hex8.exec(e))?parseInt(t[1],16)>>>0:(t=u.hex4.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=u.hsl.exec(e))?(255|i(l(t[1]),f(t[2]),f(t[3])))>>>0:(t=u.hsla.exec(e))?(i(l(t[1]),f(t[2]),f(t[3]))|d(t[4]))>>>0:null}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function i(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,a=2*n-i,o=r(a,i,e+1/3),s=r(a,i,e),u=r(a,i,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*u)<<8}var a="[-+]?\\d*\\.?\\d+";function o(e){return Array.prototype.slice.call(e,0)}function s(){return"\\(\\s*("+o(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}var u={rgb:new RegExp("rgb"+s(a,a,a)),rgba:new RegExp("rgba"+s(a,a,a,a)),hsl:new RegExp("hsl"+s(a,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),hsla:new RegExp("hsla"+s(a,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",a)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};function c(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function l(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=parseFloat(e,10);return t<0?0:t>100?1:t/100}var p={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};n.rgba=function(e){return{r:Math.round((4278190080&e)>>>24),g:Math.round((16711680&e)>>>16),b:Math.round((65280&e)>>>8),a:((255&e)>>>0)/255}},e.exports=n},function(e,t,n){"use strict";var r=n(29),i=n(34),a=n(4),o=n.n(a);var s=1,u=function(e){var t,n;function i(t){var n;n=e.call(this)||this;var i=t||{x:0,y:0};return"number"==typeof i.x&&"number"==typeof i.y?(n.x=new r.a(i.x),n.y=new r.a(i.y)):(o()(i.x instanceof r.a&&i.y instanceof r.a,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),n.x=i.x,n.y=i.y),n._listeners={},n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=i.prototype;return a.setValue=function(e){this.x.setValue(e.x),this.y.setValue(e.y)},a.setOffset=function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)},a.flattenOffset=function(){this.x.flattenOffset(),this.y.flattenOffset()},a.extractOffset=function(){this.x.extractOffset(),this.y.extractOffset()},a.__getValue=function(){return{x:this.x.__getValue(),y:this.y.__getValue()}},a.resetAnimation=function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())},a.stopAnimation=function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())},a.addListener=function(e){var t=this,n=String(s++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n},a.removeListener=function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]},a.removeAllListeners=function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}},a.getLayout=function(){return{left:this.x,top:this.y}},a.getTranslateTransform=function(){return[{translateX:this.x},{translateY:this.y}]},i}(i.a);t.a=u},function(e,t,n){"use strict";var r=n(0),i=["alternate","alternate-reverse","normal","reverse"],a=["none","forwards","backwards","both"],o=["paused","running"],s={animationDelay:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),animationDirection:Object(r.oneOfType)([Object(r.oneOf)(i),Object(r.arrayOf)(i)]),animationDuration:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),animationFillMode:Object(r.oneOfType)([Object(r.oneOf)(a),Object(r.arrayOf)(a)]),animationIterationCount:Object(r.oneOfType)([r.number,Object(r.oneOf)(["infinite"]),Object(r.arrayOf)(Object(r.oneOfType)([r.number,Object(r.oneOf)(["infinite"])]))]),animationKeyframes:Object(r.oneOfType)([r.string,r.object,Object(r.arrayOf)(Object(r.oneOfType)([r.string,r.object]))]),animationPlayState:Object(r.oneOfType)([Object(r.oneOf)(o),Object(r.arrayOf)(o)]),animationTimingFunction:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),transitionDelay:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),transitionDuration:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),transitionProperty:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)]),transitionTimingFunction:Object(r.oneOfType)([r.string,Object(r.arrayOf)(r.string)])},u=n(24),c=Object(r.oneOfType)([r.number,r.string]),l=Object(r.oneOf)(["solid","dotted","dashed"]),d={borderColor:u.a,borderBottomColor:u.a,borderEndColor:u.a,borderLeftColor:u.a,borderRightColor:u.a,borderStartColor:u.a,borderTopColor:u.a,borderRadius:c,borderBottomEndRadius:c,borderBottomLeftRadius:c,borderBottomRightRadius:c,borderBottomStartRadius:c,borderTopEndRadius:c,borderTopLeftRadius:c,borderTopRightRadius:c,borderTopStartRadius:c,borderStyle:l,borderBottomStyle:l,borderEndStyle:l,borderLeftStyle:l,borderRightStyle:l,borderStartStyle:l,borderTopStyle:l},f={cursor:r.string,touchAction:Object(r.oneOf)(["auto","inherit","manipulation","none","pan-down","pan-left","pan-right","pan-up","pan-x","pan-y","pinch-zoom"]),userSelect:r.string,willChange:r.string},p=Object(r.oneOf)(["auto","hidden","scroll","visible"]),h=Object(r.oneOf)(["hidden","visible"]),v=Object(r.oneOfType)([r.number,r.string]),m={alignContent:Object(r.oneOf)(["center","flex-end","flex-start","space-around","space-between","stretch"]),alignItems:Object(r.oneOf)(["baseline","center","flex-end","flex-start","stretch"]),alignSelf:Object(r.oneOf)(["auto","baseline","center","flex-end","flex-start","stretch"]),backfaceVisibility:h,borderWidth:v,borderBottomWidth:v,borderEndWidth:v,borderLeftWidth:v,borderRightWidth:v,borderStartWidth:v,borderTopWidth:v,bottom:v,boxSizing:r.string,direction:Object(r.oneOf)(["inherit","ltr","rtl"]),display:r.string,end:v,flex:r.number,flexBasis:v,flexDirection:Object(r.oneOf)(["column","column-reverse","row","row-reverse"]),flexGrow:r.number,flexShrink:r.number,flexWrap:Object(r.oneOf)(["nowrap","wrap","wrap-reverse"]),height:v,justifyContent:Object(r.oneOf)(["center","flex-end","flex-start","space-around","space-between","space-evenly"]),left:v,margin:v,marginBottom:v,marginHorizontal:v,marginEnd:v,marginLeft:v,marginRight:v,marginStart:v,marginTop:v,marginVertical:v,maxHeight:v,maxWidth:v,minHeight:v,minWidth:v,order:r.number,overflow:p,overflowX:p,overflowY:p,padding:v,paddingBottom:v,paddingHorizontal:v,paddingEnd:v,paddingLeft:v,paddingRight:v,paddingStart:v,paddingTop:v,paddingVertical:v,position:Object(r.oneOf)(["absolute","fixed","relative","static","sticky"]),right:v,start:v,top:v,visibility:h,width:v,zIndex:r.number,aspectRatio:r.number,gridAutoColumns:r.string,gridAutoFlow:r.string,gridAutoRows:r.string,gridColumnEnd:r.string,gridColumnGap:r.string,gridColumnStart:r.string,gridRowEnd:r.string,gridRowGap:r.string,gridRowStart:r.string,gridTemplateColumns:r.string,gridTemplateRows:r.string,gridTemplateAreas:r.string},g=Object(r.oneOfType)([r.number,r.string]),y={shadowColor:u.a,shadowOffset:Object(r.shape)({width:g,height:g}),shadowOpacity:r.number,shadowRadius:g,shadowSpread:g},b=Object(r.oneOfType)([r.number,r.string]),_={perspective:Object(r.oneOfType)([r.number,r.string]),perspectiveOrigin:r.string,transform:Object(r.arrayOf)(Object(r.oneOfType)([Object(r.shape)({perspective:b}),Object(r.shape)({rotate:r.string}),Object(r.shape)({rotateX:r.string}),Object(r.shape)({rotateY:r.string}),Object(r.shape)({rotateZ:r.string}),Object(r.shape)({scale:r.number}),Object(r.shape)({scaleX:r.number}),Object(r.shape)({scaleY:r.number}),Object(r.shape)({scaleZ:r.number}),Object(r.shape)({scale3d:r.string}),Object(r.shape)({skewX:r.string}),Object(r.shape)({skewY:r.string}),Object(r.shape)({translateX:b}),Object(r.shape)({translateY:b}),Object(r.shape)({translateZ:b}),Object(r.shape)({translate3d:r.string})])),transformOrigin:r.string,transformStyle:Object(r.oneOf)(["flat","preserve-3d"])};function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=Object(r.oneOfType)([r.string,r.number]),E=Object(r.oneOf)(["auto","contain","none"]),w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}({},s,d,f,m,y,_,{backgroundColor:u.a,opacity:r.number,elevation:r.number,backdropFilter:r.string,backgroundAttachment:r.string,backgroundBlendMode:r.string,backgroundClip:r.string,backgroundImage:r.string,backgroundOrigin:Object(r.oneOf)(["border-box","content-box","padding-box"]),backgroundPosition:r.string,backgroundRepeat:r.string,backgroundSize:r.string,boxShadow:r.string,clip:r.string,filter:r.string,outlineColor:u.a,outlineOffset:S,outlineStyle:r.string,outlineWidth:S,overscrollBehavior:E,overscrollBehaviorX:E,overscrollBehaviorY:E,scrollSnapAlign:r.string,scrollSnapType:r.string,WebkitMaskImage:r.string,WebkitOverflowScrolling:Object(r.oneOf)(["auto","touch"])});t.a=w},function(e,t,n){"use strict";e.exports=n(555)},function(e,t,n){"use strict";var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridColumn:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){i.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))})),t.a=r},function(e,t,n){"use strict";var r=n(132);n(4);t.a=function e(t){if(t){if(!Array.isArray(t))return function(e){return"number"==typeof e?r.a.getByID(e):e}(t);for(var n={},i=0,a=t.length;i<a;++i){var o=e(t[i]);if(o)for(var s in o){var u=o[s];n[s]=u}}return n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r={},i={},a=1,o=function(e){return"r-"+e},s=function(){function e(){}return e.register=function(e){var t=a++;var n=o(t);return i[n]=e,t},e.getByID=function(e){if(!e)return r;var t=o(e),n=i[t];return n||(console.warn("Invalid style with id `"+e+"`. Skipping ..."),r)},e}()},function(e,t,n){"use strict";var r,i=n(396),a=n.n(i),o=function(){function e(){}return e.step0=function(e){return e>0?1:0},e.step1=function(e){return e>=1?1:0},e.linear=function(e){return e},e.ease=function(t){return r||(r=e.bezier(.42,0,1,1)),r(t)},e.quad=function(e){return e*e},e.cubic=function(e){return e*e*e},e.poly=function(e){return function(t){return Math.pow(t,e)}},e.sin=function(e){return 1-Math.cos(e*Math.PI/2)},e.circle=function(e){return 1-Math.sqrt(1-e*e)},e.exp=function(e){return Math.pow(2,10*(e-1))},e.elastic=function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}},e.back=function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}},e.bounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bezier=function(e,t,n,r){return a()(e,t,n,r)},e.in=function(e){return e},e.out=function(e){return function(t){return 1-e(1-t)}},e.inOut=function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}},e}();t.a=o},function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.findIndex)return e.findIndex(t,n);if("function"!=typeof t)throw new TypeError("predicate must be a function");var r=Object(e),i=r.length;if(0===i)return-1;for(var a=0;a<i;a++)if(t.call(n,r[a],a,r))return a;return-1}},function(e,t,n){e.exports=n(898)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){var r=n(429),i=n(430),a=n(431),o=n(432),s=n(433);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(181);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(83)(Object,"create");e.exports=r},function(e,t,n){var r=n(451);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(464),i=n(74),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t,n){(function(e){var r=n(56),i=n(465),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(95)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(262),i=n(497),a=n(112);e.exports=function(e){return a(e)?r(e,!0):i(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.upsellSelected=t.updateVideoMedia=t.updateInitialPlayType=t.stopHeartbeatTimer=t.reportHeartbeat=t.startHeartbeatTimer=t.startSession=t.incrementVideosStarted=t.updateExperiementData=void 0;var i=n(21);t.updateExperiementData=i.createAction("V/ellation_analytics/UPDATE_EXPERIMENT_DATA"),t.incrementVideosStarted=i.createAction("V/ellation_analytics/INCREMENT_VIDEOS_STARTED"),t.startSession=i.createAction("V/ellation_analytics/START_SESSION"),t.startHeartbeatTimer=i.createAction("V/ellation_analytics/START_HEARTBEAT"),t.reportHeartbeat=i.createAction("V/ellation_analytics/REPORT_HEARTBEAT"),t.stopHeartbeatTimer=i.createAction("V/ellation_analytics/STOP_HEARTBEAT"),t.updateInitialPlayType=i.createAction("V/ellation_analytics/UPDATE_INITIAL_PLAY_TYPE"),t.updateVideoMedia=i.createAction("V/ellation_analytics/UPDATE_VIDEO_MEDIA"),t.upsellSelected=i.createAction("V/ellation_analytics/UPSELL_SELECTED");var a=i.createReducer({},{initialPlayType:null,experiment:null,lastHeartbeat:null,previousVideoMedia:null,videoMedia:null,videosStarted:0});a.on(t.incrementVideosStarted,(function(e){return r(r({},e),{videosStarted:e.videosStarted+1})})),a.on(t.startSession,(function(e){return r(r({},e),{lastHeartbeat:null,playRequestType:null,previousVideoMedia:e.videoMedia,videoMedia:null})})),a.on(t.reportHeartbeat,(function(e,t){return r(r({},e),{lastHeartbeat:t})})),a.on(t.updateInitialPlayType,(function(e,t){return r(r({},e),{initialPlayType:t})})),a.on(t.updateVideoMedia,(function(e,t){return r(r({},e),{videoMedia:t})})),a.on(t.updateExperiementData,(function(e,t){return r(r({},e),{experiment:t})})),t.default=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(576)),r(n(582)),r(n(201)),r(n(303)),r(n(304))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){return btoa(e)},t.decode=function(e){return atob(e)}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.reset=t.activate=t.create=t.resetTask=t.removeTask=t.completeTask=t.isComplete=t.hasTask=t.addTask=void 0;var i=n(9),a=n(2),o=n(8),s=n(57);t.addTask=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.select(o.coreSelectors.hasGateTask,{actionType:n,name:t})];case 1:return r.sent()?[3,3]:[4,i.put(a.coreActionCreators.addGateTask({actionType:n,name:t}))];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t.hasTask=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.select(o.coreSelectors.hasGateTask,{actionType:n,name:t})];case 1:return[2,r.sent()]}}))},t.isComplete=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.select(o.coreSelectors.gateTaskStatus,{actionType:n,name:t})];case 1:return[2,r.sent()===s.GateTaskStatus.COMPLETE]}}))},t.completeTask=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.put(a.coreActionCreators.completeGateTask({actionType:n,name:t}))];case 1:return r.sent(),[2]}}))},t.removeTask=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.select(o.coreSelectors.hasGateTask,{actionType:n,name:t})];case 1:return r.sent()?[4,i.put(a.coreActionCreators.removeGateTask({actionType:n,name:t}))]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t.resetTask=function(e,t){var n;return r(this,(function(r){switch(r.label){case 0:return n=e.toString(),[4,i.select(o.coreSelectors.hasGateTask,{actionType:n,name:t})];case 1:return r.sent()?[4,i.put(a.coreActionCreators.resetGateTask({actionType:n,name:t}))]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t.create=function(e){var t;return r(this,(function(n){switch(n.label){case 0:return t=e.toString(),[4,i.put(a.coreActionCreators.createGate(t))];case 1:return n.sent(),[2]}}))},t.activate=function(e){var t;return r(this,(function(n){switch(n.label){case 0:return t=e.toString(),[4,i.put(a.coreActionCreators.activateGate(t))];case 1:return n.sent(),[2]}}))},t.reset=function(e){var t;return r(this,(function(n){switch(n.label){case 0:return t=e.toString(),[4,i.put(a.coreActionCreators.resetGate(t))];case 1:return n.sent(),[2]}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={disableFocus:function(e){},enableFocus:function(e){},focus:function(e){},setFocusable:function(e,t){},setFocusRoot:function(e,t){},setNextFocus:function(e,t,n){}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o,s,u=n(2),c=a(n(44)),l=n(35),d=n(7);!function(e){e.user_id="default-user",e.session_id="default0"}(o||(o={})),function(e){e.user_id="vilos-dev",e.session_id="dev0"}(s||(s={}));var f=function(){function e(){}return e.getAssetId=function(e){var t=new RegExp(/\/p\/([a-zA-Z0-9]+)_/);return e.match(t)&&e.match(t)[1]||""},e.getDrmParams=function(e,t){var n,r;return{user_id:e.user.id||(null===(n=e.segment)||void 0===n?void 0:n.anonymousId)||(null===(r=e.eec)||void 0===r?void 0:r.anonymousId)||o.user_id,session_id:(new Date).getUTCMilliseconds().toString()+(new Date).getTime().toString(),asset_id:t,accounting_id:e.client.accountingId}},e.getAuthToken=function(t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,s;return i(this,(function(i){switch(i.label){case 0:r=n.unprocessedSource,a=e.getAssetId(r.source),c.default.dispatch(u.playerActionCreators.requestDrmAuthorization()),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.fetchAuthToken(t,a)];case 2:return o=i.sent(),c.default.dispatch(u.playerActionCreators.loadedDrmAuthorization()),[2,o];case 3:return s=i.sent(),console.warn("Unable to get auth token",s),[2,null];case 4:return[2]}}))}))},e.fetchAuthToken=function(t,n){return r(void 0,void 0,void 0,(function(){var r,a,o,s,u,c,f;return i(this,(function(i){switch(i.label){case 0:r=e.getDrmParams(t,n),a={method:"POST",cache:"no-cache",redirect:"follow",referrer:"no-referrer",body:JSON.stringify(r)},o=t.client,s=d._.get(o,"environment",l.CrunchyrollEnv.PROD),u="https://"+l.PlaybackLambdaDomains[s]+l.DRM_AUTH_ENDPOINT,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(u,a)];case 2:if(!(c=i.sent()).ok)throw new Error("Auth token retrieval error "+c.status);return[4,c.json()];case 3:return[2,i.sent()];case 4:throw f=i.sent(),console.warn("Auth token retrieval error",f),f;case 5:return[2]}}))}))},e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentVideoTrack=void 0;var r=n(28);t.getCurrentVideoTrack=function(e){var t=e.abrIndex,n=e.activeVideoTrackQuality,i=e.videoTracks;return n===r.VIDEO_QUALITY_AUTO&&(null==i?void 0:i.length)?i[t||0]:null==i?void 0:i.find((function(e){return e.height===n}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.setItemInAsyncStorage=t.getItemFromAsyncStorage=void 0;var a=n(3),o=n(101),s=function(e){return r(void 0,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t="Vilos:"+e,[4,a.AsyncStorage.getAllKeys()];case 1:if(!i.sent().includes(t))return[2,{type:o.CallStatus.ERROR,error:"Key not found"}];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,a.AsyncStorage.getItem("Vilos:"+e)];case 3:return n=i.sent(),[2,{type:o.CallStatus.SUCCESS,value:JSON.parse(n)}];case 4:return r=i.sent(),[2,{type:o.CallStatus.ERROR,error:r}];case 5:return[2]}}))}))};t.getItemFromAsyncStorage=function(e,t){return r(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return[4,s(e)];case 1:n=r.sent();try{return[2,n.type===o.CallStatus.SUCCESS?n.value:t]}catch(e){return[2,{type:o.CallStatus.ERROR,error:e}]}return[2]}}))}))},t.setItemInAsyncStorage=function(e,t){return r(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,a.AsyncStorage.setItem("Vilos:"+e,JSON.stringify(t))];case 1:return r.sent(),[2,{type:o.CallStatus.SUCCESS}];case 2:return n=r.sent(),[2,{type:o.CallStatus.ERROR,error:n}];case 3:return[2]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_OF_CONTENT=t.SkipSource=t.SkipType=void 0,function(e){e.CREDITS="credits",e.INTRO="intro",e.OUTRO="outro",e.RECAP="recap"}(t.SkipType||(t.SkipType={})),function(e){e.AI="ai",e.LOCAL="local",e.PRODUCTION="production"}(t.SkipSource||(t.SkipSource={})),t.END_OF_CONTENT="EOC"},function(e,t,n){"use strict";e.exports=n(788)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(1)),l=n(3);t.default=function(e){return function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){return c.default.createElement(l.View,{onStartShouldSetResponder:function(){return!0}},c.default.createElement(e,a({},this.props)))},n}(c.Component)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CastLayouts=t.AdsLayouts=t.CastPrefix=t.AdsPrefix=void 0;var i=n(58),a=r(n(795)),o=r(n(809)),s=r(n(351)),u=r(n(832)),c=r(n(833)),l=r(n(837)),d=r(n(840));t.AdsPrefix="Ads",t.CastPrefix="Cast",t.AdsLayouts={AdsPhone:t.AdsPrefix+"Phone",AdsTablet:t.AdsPrefix+"Tablet",AdsDesktop:t.AdsPrefix+"Desktop",AdsTV:t.AdsPrefix+"TV"},t.CastLayouts={CastPhone:t.CastPrefix+"Phone"},t.default={AdsTV:{layout:s.default,environment:[i.Environment.TV,i.Environment.ROKU],formFactor:i.FormFactor.TV},TV:{layout:d.default,environment:[i.Environment.TV,i.Environment.ROKU],formFactor:i.FormFactor.TV},AdsDesktop:{layout:a.default,environment:i.Environment.WEB,formFactor:i.FormFactor.DESKTOP},Desktop:{layout:c.default,environment:i.Environment.WEB,formFactor:i.FormFactor.DESKTOP},CastTablet:{layout:u.default,maxWidth:800,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.TABLET},AdsTablet:{layout:o.default,maxWidth:800,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.TABLET},Tablet:{layout:l.default,maxWidth:800,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.TABLET},CastPhone:{layout:u.default,maxWidth:568,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.PHONE},AdsPhone:{layout:o.default,maxWidth:568,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.PHONE},Phone:{layout:l.default,maxWidth:568,environment:[i.Environment.MOBILE,i.Environment.WEB],formFactor:i.FormFactor.PHONE}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=a.StyleSheet.create({container:{marginTop:0,marginBottom:20}});t.default=o.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}),null)((function(e){var t,n=e.text,r=e.profile;return i.default.createElement(a.View,{style:s.container},i.default.createElement(a.Text,{style:null===(t=r.settingsMenu)||void 0===t?void 0:t.menuTitle},n))}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(n(1)),f=n(3),p=l(n(121));t.default=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={isActive:!1,isHovered:!1},e.onHoverIn=function(){return e.setState({isHovered:!0})},e.onHoverOut=function(){return e.setState({isHovered:!1})},e.onPressIn=function(){return e.setState({isActive:!0})},e.onPressOut=function(){return e.setState({isActive:!1})},e}return i(n,t),n.prototype.render=function(){var t,n=this.props,r=n.icons,i=n.onPress,o=n.profile,s=n.style,u=n.passPressToItem,l=n.testID,v=c(n,["icons","onPress","profile","style","passPressToItem","testID"]),m=o.settingsControl,g=this.state,y=g.isActive,b=g.isHovered;return y?t={backgroundColor:m.activeBackgroundColor}:b&&(t={backgroundColor:m.hoverBackgroundColor}),d.default.createElement(p.default,{onHoverIn:this.onHoverIn,onHoverOut:this.onHoverOut,onPressIn:this.onPressIn,onPressOut:this.onPressOut},d.default.createElement(f.TouchableWithoutFeedback,{onPress:function(e){return u?null:i(e)},testID:l,accessibilityLabel:l},d.default.createElement(f.View,{style:[h.entry,t,s]},d.default.createElement(e,a({icons:r,profile:o,isActive:y,isHovered:b,onPress:function(e){return u?i(e):null}},v)))))},n}(d.Component)};var h=f.StyleSheet.create({entry:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",height:40,paddingRight:20,paddingLeft:20}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=c(n(159)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.isActive,r=e.isHovered,i=e.label,o=e.profile,s=o.settingsControl,u=o.text,c=a(a({},u),{color:s.labelColor});return l.default.createElement(d.View,{style:h.container},l.default.createElement(d.Text,{style:c},i),l.default.createElement(d.View,{style:h.valueContainer},l.default.Children.map(this.props.children,(function(e){return l.default.cloneElement(e,{isActive:n,isHovered:r,mainMenu:!0})})),l.default.createElement(d.Image,{style:h.chevron,source:t.rightChevron})))},t}(l.Component);t.default=f.default(p);var h=d.StyleSheet.create({container:{alignItems:"center",flex:1,flexDirection:"row",justifyContent:"space-between"},valueContainer:{alignItems:"center",flexDirection:"row",marginRight:-2},chevron:{width:24,height:24}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(3),l=n(162),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.descriptionText,r=e.flagText,i=e.mainMenu,a=e.profile,o=e.style,s={maxWidth:i?l.SETTINGS_MENU_WIDTH-2*l.SETTINGS_MENU_PADDING-l.SETTINGS_MENU_MAX_LABEL_WIDTH-6:l.SETTINGS_MENU_WIDTH-2*l.SETTINGS_MENU_PADDING-30},d={color:this.getColor()},p={color:a.settingsControl.menuValueDescriptionColor};return u.default.createElement(c.Text,{style:[f.container,s,o],numberOfLines:1,ellipsizeMode:"tail"},u.default.createElement(c.Text,{style:[a.text,d]},t),!!n&&u.default.createElement(c.Text,{style:[a.text,p]}," "+n),!!r&&u.default.createElement(c.Text,{style:[a.text,f.flag,a.settingsFlag]},r))},t.prototype.getColor=function(){var e=this.props,t=e.isActive,n=e.isHovered,r=e.isSelected,i=e.mainMenu,a=e.profile.settingsControl;return r?a.selectedColor:t?a.activeColor:n?a.hoverColor:i?a.menuValueColor:a.submenuItemColor},t}(u.Component);t.default=d;var f=c.StyleSheet.create({container:{flexDirection:"row"},flag:{marginLeft:4}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryType=t.QueryParamName=t.UNLOAD_SETTINGS_MENU_TASK=t.SETTINGS_MENU_MAX_LABEL_WIDTH=t.SETTINGS_MENU_PADDING=t.SETTINGS_MENU_WIDTH=void 0,t.SETTINGS_MENU_WIDTH=320,t.SETTINGS_MENU_PADDING=20,t.SETTINGS_MENU_MAX_LABEL_WIDTH=120,t.UNLOAD_SETTINGS_MENU_TASK="Close settings menu",function(e){e.ADVANCED_SETTINGS="advancedsettings"}(t.QueryParamName||(t.QueryParamName={})),function(e){e.AUTOPLAY_TOGGLE="autoplayToggle",e.QUALITY="quality",e.TEXT_TRACKS="textTracks",e.DESIGN="design",e.FILTER="filter",e.REPORT_A_PROBLEM="reportProblem"}(t.EntryType||(t.EntryType={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=n(14),c=n(2),l=i(n(12)),d=i(n(26)),f=n(41),p=n(7),h=i(n(63));t.default=s.connect((function(e){return{upNextMetadata:e.configuration.upNextMetadata,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{contentLifecycleActions:u.bindActionCreators(c.contentLifecycleActionCreators,e)}}))((function(e){var t,n=e.contentLifecycleActions,i=e.profile,s=e.style,u=void 0===s?{}:s,c=e.upNextMetadata;if(!l.default.isNextEpisodeEnabled||!(null==c?void 0:c.id))return null;var v=p.environmentUtils.isYoui()?i.largeIcons:i.smallIcons;return a.default.createElement(o.View,{style:{flexDirection:"column",height:"100%"}},a.default.createElement(h.default,r({},v,{hasActiveEffect:!0,hoverable:!0,isActive:!1,isHovered:!1,backgroundColor:null===(t=i.skipButton)||void 0===t?void 0:t.backgroundColor,activeOpacity:1,iconName:"nextEpisode",onPress:function(){return n.requestSkipToNext(!1)},style:u,focusedLabel:d.default.t("button.skipToNext"),focusID:f.FocusIDs.nextContentButton,testID:l.default.testIDs.nextEpisodeButton,accessibilityLabel:l.default.testIDs.nextEpisodeButton})))}))},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pausePlayer=t.handleTogglePlayPause=t.playPlayer=t.startScrubbing=t.updateScrubTime=t.throttledUpdateScrubTime=t.handleHeldEvent=void 0;var a=n(9),o=n(2),s=n(8),u=n(40),c=i(n(32)),l=n(27),d=n(70),f=i(n(31)),p=n(69),h="";t.handleHeldEvent=function(e){var t,n;return r(this,(function(r){switch(r.label){case 0:return t=e.eventType,n=e.keyCode,h===t?[2]:(h=t,"down"!==t?[3,2]:[4,a.put(o.processInputActionCreators.startHeldEvent(n))]);case 1:return r.sent(),[3,4];case 2:return[4,a.put(o.processInputActionCreators.endHeldEvent(n))];case 3:r.sent(),r.label=4;case 4:return[2]}}))};var v=!1,m=0;function g(e){var t,n,i,u,c,l;return void 0===e&&(e=10),r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return t=r.sent().scrubTime,[4,a.select(s.mediaSelectors.all)];case 2:return n=r.sent(),i=n.contentDuration,u=n.contentTime,c=(l=null===t?u:t)+e-l%10,c=f.default.clamp(c,0,i),[4,a.put(o.playerActionCreators.updateScrub(c))];case 3:return[2,r.sent()]}}))}function y(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e.sent().isPaused?[2]:[4,u.getIsInVendriAdBreak()];case 2:return e.sent()?[4,a.put(o.adsManagerActionCreators.requestPauseAdSlot())]:[3,4];case 3:return e.sent(),[3,6];case 4:return[4,a.put(o.playerActionCreators.requestPause("processInputSagas"))];case 5:e.sent(),e.label=6;case 6:return[2]}}))}t.throttledUpdateScrubTime=function(e,t){return r(this,(function(n){switch(n.label){case 0:return m=f.default.clamp(m+e,-t,t),v?[3,3]:(v=!0,[4,a.delay(0)]);case 1:return n.sent(),[4,a.call(g,m)];case 2:n.sent(),m=0,v=!1,n.label=3;case 3:return[2]}}))},t.updateScrubTime=g,t.startScrubbing=function(){var e,t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.uiSelectors.all)];case 1:return e=r.sent().upNextState,[4,a.select(s.adsManagerSelectors.all)];case 2:return r.sent().isInAdBreak||e===d.UpNextState.VISIBLE?[2]:[4,a.select(s.playerSelectors.all)];case 3:return t=r.sent().isPaused,[4,a.select(s.mediaSelectors.all)];case 4:return n=r.sent().contentTime,[4,a.put(o.processInputActionCreators.setNavigationMode(p.NavigationMode.SCRUBBING))];case 5:return r.sent(),[4,a.put(o.playerActionCreators.startScrub(n))];case 6:return r.sent(),t?[3,8]:[4,y()];case 7:r.sent(),r.label=8;case 8:return c.default.lock(),[2]}}))},t.playPlayer=function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return(e=t.sent())?[4,u.getIsInVendriAdBreak()]:[2];case 2:return t.sent()?[4,a.select(s.adsManagerSelectors.all)]:[3,6];case 3:return t.sent().isAdSlotPaused?[4,a.put(o.adsManagerActionCreators.requestResumeAdSlot())]:[3,5];case 4:t.sent(),t.label=5;case 5:return[3,8];case 6:return e.isPaused?[4,a.put(o.playerActionCreators.requestPlay("processInputSagas"))]:[3,8];case 7:t.sent(),t.label=8;case 8:return[2]}}))},t.handleTogglePlayPause=function(){var e,t,n,i;return r(this,(function(r){switch(r.label){case 0:return[4,a.select()];case 1:return e=r.sent(),t=s.playerSelectors.all(e),n=s.adsPlayerSelectors.all(e),i=s.coreSelectors.activePlayer(e).playerType,[4,u.getIsInVendriAdBreak()];case 2:return r.sent()?[4,a.select(s.adsManagerSelectors.all)]:[3,8];case 3:return r.sent().isAdSlotPaused?[4,a.put(o.adsManagerActionCreators.requestResumeAdSlot())]:[3,5];case 4:return r.sent(),[3,7];case 5:return[4,a.put(o.adsManagerActionCreators.requestPauseAdSlot())];case 6:r.sent(),r.label=7;case 7:return[3,17];case 8:return i!==l.PlayerType.ADS?[3,13]:n.isPaused?[4,a.put(o.adsPlayerActionCreators.requestPlay("processInputSagas"))]:[3,10];case 9:return r.sent(),[3,12];case 10:return[4,a.put(o.adsPlayerActionCreators.requestPause("processInputSagas"))];case 11:r.sent(),r.label=12;case 12:return[3,17];case 13:return t.isPaused?[4,a.put(o.playerActionCreators.requestPlay("processInputSagas"))]:[3,15];case 14:return r.sent(),[3,17];case 15:return[4,a.put(o.playerActionCreators.requestPause("processInputSagas"))];case 16:r.sent(),r.label=17;case 17:return[2]}}))},t.pausePlayer=y},function(e,t,n){"use strict";var r=n(19);t.a=function(e,t){var n;void 0===t&&(t=!0);var i=new Promise((function(r){n=setTimeout(r,e,t)}));return i[r.a]=function(){clearTimeout(n)},i}},function(e,t,n){"use strict";var r=n(126),i=n.n(r);t.a=function(e){if(null==e)return e;var t=i()(e);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},function(e,t,n){"use strict";var r=n(71);t.a=r.unmountComponentAtNode},function(e,t,n){"use strict";var r=n(67),i=n(64),a=n(11),o=n(81),s=n(42);var u={},c=i.a.create({reset:{backgroundColor:"transparent",color:"inherit",font:"inherit",listStyle:"none",margin:0,textAlign:"inherit",textDecoration:"none"},cursor:{cursor:"pointer"}},s.c.classicReset),l=a.a.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),d=function(e,t){return o.a.resolve(e,t)};t.a=function(e,t,n){n||(n=d),t||(t=u);var i=t,o=i.accessibilityLabel,s=i.accessibilityLiveRegion,f=i.accessibilityStates,p=i.classList,h=i.className,v=i.importantForAccessibility,m=i.nativeID,g=i.placeholderTextColor,y=i.pointerEvents,b=i.style,_=i.testID,A=i.accessible,S=(i.accessibilityComponentType,i.accessibilityRole,i.accessibilityTraits,function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(i,["accessibilityLabel","accessibilityLiveRegion","accessibilityStates","classList","className","importantForAccessibility","nativeID","placeholderTextColor","pointerEvents","style","testID","accessible","accessibilityComponentType","accessibilityRole","accessibilityTraits"])),E=r.a.isDisabled(t),w=r.a.propsToAriaRole(t);if("no-hide-descendants"===v&&(S["aria-hidden"]=!0),o&&o.constructor===String&&(S["aria-label"]=o),s&&s.constructor===String&&(S["aria-live"]="none"===s?"off":s),Array.isArray(f))for(var T=0;T<f.length;T+=1)S["aria-"+f[T]]=!0;w&&w.constructor===String&&(S.role=w),E&&(S["aria-disabled"]=E,S.disabled=E);var P=!E&&"no"!==v&&"no-hide-descendants"!==v;"link"===w||"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==A&&P?S["data-focusable"]=!0:S.tabIndex="-1":r.a.buttonLikeRoles[w]||"textbox"===w?!1!==A&&P&&(S["data-focusable"]=!0,S.tabIndex="0"):!0===A&&P&&(S["data-focusable"]=!0,S.tabIndex="0");var C=("button"===w||"link"===w)&&!E,O=n(a.a.compose(y&&l[y],a.a.compose(b,g&&{placeholderTextColor:g})),[h,("a"===e||"button"===e||"li"===e||"ul"===e||"heading"===w)&&c.reset,C&&c.cursor,p]),k=O.className,I=O.style;return null!=k&&""!==k&&(S.className=k),I&&(S.style=I),m&&m.constructor===String&&(S.id=m),"a"===e&&"_blank"===S.target&&(S.rel=(S.rel||"")+" noopener noreferrer"),_&&_.constructor===String&&(S["data-testid"]=_),S}},function(e,t,n){"use strict";var r=n(108),i=n(48),a={height:0,width:0};t.a=function(e){var t=e.shadowColor,n=e.shadowOffset,o=e.shadowOpacity,s=e.shadowRadius,u=n||a,c=u.height,l=u.width,d=Object(i.a)(l),f=Object(i.a)(c),p=Object(i.a)(s||0),h=Object(r.a)(t||"black",o);if(null!=h&&null!=d&&null!=f&&null!=p)return d+" "+f+" "+p+" "+h}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";var r=n(4),i=n.n(r);var a=function(e){var t,n;function r(t,n,r,i){var a;return(a=e.call(this,n)||this).emitter=t,a.listener=r,a.context=i,a}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.remove=function(){this.emitter.removeSubscription(this)},r}(function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber.removeSubscription(this)},e}()),o=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){i()(t.subscriber===this,"The subscriber of the subscription is incorrectly set."),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,r=this._subscriptionsForType[t];r&&delete r[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}(),s=n(73),u=n.n(s),c=function(){function e(e){this._subscriber=e||new o}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new a(this,this._subscriber,t,n))},t.once=function(e,t,n){var r=this;return this.addListener(e,(function(){r.removeCurrentListener();for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];t.apply(n,i)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){i()(!!this._currentSubscription,"Not in an emitting cycle; there is no current subscription"),this.removeSubscription(this._currentSubscription)},t.removeSubscription=function(e){i()(e.emitter===this,"Subscription does not belong to this emitter."),this._subscriber.removeSubscription(e)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(u.a.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];i&&(this._currentSubscription=i,i.listener.apply(i.context,Array.prototype.slice.call(arguments,1)))}this._currentSubscription=null}},t.removeListener=function(e,t){var n=this._subscriber.getSubscriptionsForType(e);if(n)for(var r=0,i=n.length;r<i;r++){var a=n[r];a&&a.listener===t&&a.remove()}},e}();var l=new(function(e){var t,n;function r(){var t,n=new o;return(t=e.call(this,n)||this).sharedSubscriber=n,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.addListener=function(t,n,r){return e.prototype.addListener.call(this,t,n,r)},i.removeAllListeners=function(t){e.prototype.removeAllListeners.call(this,t)},i.removeSubscription=function(t){t.emitter!==this?t.emitter.removeSubscription(t):e.prototype.removeSubscription.call(this,t)},r}(c));var d=function(e){var t,n;function r(t){return e.call(this,l.sharedSubscriber)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.addListener=function(t,n,r){return null!=this._nativeModule&&this._nativeModule.addListener(t),e.prototype.addListener.call(this,t,n,r)},a.removeAllListeners=function(t){i()(t,"eventType argument is required.");var n=this.listeners(t).length;null!=this._nativeModule&&this._nativeModule.removeListeners(n),e.prototype.removeAllListeners.call(this,t)},a.removeSubscription=function(t){null!=this._nativeModule&&this._nativeModule.removeListeners(1),e.prototype.removeSubscription.call(this,t)},r}(c);t.a=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var r=n(4),i=n.n(r),a=n(167),o=n(11),s=n(10),u=n(0),c=n(1),l=n.n(c);var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={mainKey:1},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getChildContext=function(){return{rootTag:this.props.rootTag}},i.render=function(){var e=this.props,t=e.children,n=e.WrapperComponent,r=l.a.createElement(s.a,{children:t,key:this.state.mainKey,pointerEvents:"box-none",style:f.appContainer});return n&&(r=l.a.createElement(n,null,r)),l.a.createElement(s.a,{pointerEvents:"box-none",style:f.appContainer},r)},r}(c.Component);d.childContextTypes={rootTag:u.any},d.propTypes={};var f=o.a.create({appContainer:{flex:1}}),p=n(71).hydrate,h=n(81);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=p;var g,y={},b={},_=function(e){return e()},A=function(){function e(){}return e.getAppKeys=function(){return Object.keys(b)},e.getApplication=function(e,t){return i()(b[e]&&b[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),b[e].getApplication(t)},e.registerComponent=function(e,t){return b[e]={getApplication:function(e){return n=_(t),r=e?e.initialProps:y,i=g&&g(e),{element:l.a.createElement(d,{WrapperComponent:i,rootTag:{}},l.a.createElement(n,r)),getStyleElement:function(e){var t=h.a.getStyleSheet();return l.a.createElement("style",v({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,i},run:function(e){return n=_(t),r=e.initialProps||y,a=e.rootTag,o=g&&g(e),s=e.callback,i()(a,"Expect to have a valid rootTag, instead got ",a),void m(l.a.createElement(d,{WrapperComponent:o,rootTag:a},l.a.createElement(n,r)),a,s);var n,r,a,o,s}},e},e.registerConfig=function(t){t.forEach((function(t){var n=t.appKey,r=t.component,a=t.run;a?e.registerRunnable(n,a):(i()(r,"No component provider passed in"),e.registerComponent(n,r))}))},e.registerRunnable=function(e,t){return b[e]={run:t},e},e.runApplication=function(e,t){i()(b[e]&&b[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),b[e].run(t)},e.setComponentProviderInstrumentationHook=function(e){_=e},e.setWrapperComponentProvider=function(e){g=e},e.unmountApplicationComponentAtRootTag=function(e){Object(a.a)(e)},e}()},function(e,t,n){"use strict";var r,i=n(568);r=i.now?function(){return i.now()}:function(){return Date.now()},e.exports=r},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(407));n(649);var a=r(n(655)),o=r(n(658)),s=r(n(660));t.default={icons:s.default,profiles:{Desktop:i.default,Phone:a.default,Tablet:o.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSwitch=t.skipButton=t.volumeSlider=t.trickscrubImages=t.tooltipText=t.tooltipContainer=t.errorScreen=t.adMarkers=t.volumeControl=t.text=t.settingsMenu=t.settingsControl=t.adsScrubBar=t.scrubBar=t.radioButton=t.pluginButton=t.smallIcons=void 0,t.smallIcons={containerSize:40,activeOpacity:1,hoverOpacity:1,imageSize:20,opacity:.85},t.pluginButton={activeBackgroundColor:"#141519",backgroundColor:"transparent",hoverBackgroundColor:"rgba(0, 0, 0, 0.6)"},t.radioButton={size:20},t.scrubBar={},t.adsScrubBar={primaryColor:"#fff",containerHeight:4,height:4,borderRadius:0,rounded:!1,knobSize:0},t.settingsControl={activeBackgroundColor:"black",activeColor:"white",backgroundColor:"#141519",fontSize:14,hoverBackgroundColor:"#23252b",hoverColor:"white",labelColor:"white",menuValueColor:"#dadada",menuValueDescriptionColor:"#a0a0a0",selectedColor:"white",submenuItemColor:"#a0a0a0",titleColor:"white",titleFontSize:18},t.settingsMenu={rootMenu:{paddingTop:10,paddingBottom:10}},t.text={color:"#f9f9fa"},t.volumeControl={height:4,knobSize:16,width:60},t.adMarkers={backgroundColor:"#4A4E58"},t.errorScreen={alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",fontSize:22,iconSize:60,justifyContent:"center",lineHeight:28,sessionId:{position:"absolute",bottom:10,right:10,fontSize:12}},t.tooltipContainer={width:47,height:22,position:"absolute",backgroundColor:"#23252b",alignItems:"center",justifyContent:"center"},t.tooltipText={fontSize:12,color:"#fff"},t.trickscrubImages={emptyImageBackgroundColor:"black",numberOfImages:1,shadowRadius:4,shadowOpacity:.5,shadowColor:"black"},t.volumeSlider={activeBackgroundColor:"#000",backgroundColor:"rgba(0, 0, 0, 0.6)"},t.skipButton={backgroundColor:"#23252b",borderColor:"#777",borderWidth:1,bottom:106,height:36,hoverBackgroundColor:"#272727",hoverBottom:105,hoverColor:"#fcfcfc",hoverFontSize:15,hoverHeight:38,hoverRight:34,hoverWidth:125,right:35,width:123},t.toggleSwitch={container:{paddingLeft:20,paddingRight:20}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetInfoStateType=void 0,function(e){e.unknown="unknown",e.none="none",e.cellular="cellular",e.wifi="wifi",e.bluetooth="bluetooth",e.ethernet="ethernet",e.wimax="wimax",e.vpn="vpn",e.other="other"}(t.NetInfoStateType||(t.NetInfoStateType={}))},function(e,t,n){var r=n(415);e.exports=function(e){return null==e?"":r(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(62),i=n(92),a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},function(e,t,n){var r=n(137),i=n(434),a=n(435),o=n(436),s=n(437),u=n(438);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=u,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(83)(n(56),"Map");e.exports=r},function(e,t,n){var r=n(443),i=n(450),a=n(452),o=n(453),s=n(454);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(455),i=n(74);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,a,o,e,s))}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(462),i=n(261),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(466),i=n(143),a=n(191),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){(function(e){var r=n(249),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(95)(e))},function(e,t,n){var r=n(46),i=n(92),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(264)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(196),i=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(272);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(258);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";var r=n(71);t.a=r.render},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestPermissions=t.requestSkipToNext=t.completeUnloadContent=t.unloadContent=t.loadContent=t.loadConfig=t.updateConfig=t.stoppedPlaying=t.startedPlaying=t.readyToPlay=t.readyToPlayPrerolls=t.completedPrerolls=t.initiatedPlaybackFromBeginning=t.requestUnpause=t.requestPause=t.initiatedPlayback=t.completedEnded=void 0;var r=n(21);t.completedEnded=r.createAction("V/content_lifecycle/COMPLETED_ENDED"),t.initiatedPlayback=r.createAction("V/content_lifecycle/INITIATED_PLAYBACK"),t.requestPause=r.createAction("V/content_lifecycle/REQUEST_PAUSE"),t.requestUnpause=r.createAction("V/content_lifecycle/REQUEST_UNPAUSE"),t.initiatedPlaybackFromBeginning=r.createAction("V/content_lifecycle/INITIATED_PLAYBACK_FROM_BEGINNING"),t.completedPrerolls=r.createAction("V/content_lifecycle/COMPLETED_PREROLLS"),t.readyToPlayPrerolls=r.createAction("V/content_lifecycle/READY_TO_PLAY_PREROLLS"),t.readyToPlay=r.createAction("V/content_lifecycle/READY_TO_PLAY"),t.startedPlaying=r.createAction("V/content_lifecycle/STARTED_PLAYING"),t.stoppedPlaying=r.createAction("V/content_lifecycle/STOPPED_PLAYING"),t.updateConfig=r.createAction("V/content_lifecycle/UPDATE_CONFIG"),t.loadConfig=r.createAction("V/content_lifecycle/LOAD_CONFIG"),t.loadContent=r.createAction("V/content_lifecycle/LOAD_CONTENT"),t.unloadContent=r.createAction("V/content_lifecycle/UNLOAD_CONTENT"),t.completeUnloadContent=r.createAction("V/content_lifecycle/COMPLETE_UNLOAD_CONTENT"),t.requestSkipToNext=r.createAction("V/content_lifecycle/REQUEST_SKIP_TO_NEXT"),t.requestPermissions=r.createAction("V/content_lifecycle/REQUEST_PERMISSIONS")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.textTrackMenuEntryUpdated=t.setReportProblemDescription=t.setReportProblemTopic=t.resetReportProblem=t.reportProblem=t.updateVolume=t.setUnmuteVolume=t.resetUnmuteVolume=t.unmute=t.mute=t.stopIntervalTask=t.fireInterval=t.startIntervalTask=t.toggleAdvancedQualityControls=t.updateGateStatus=t.resetGate=t.passGate=t.activateGate=t.createGate=t.completeGateTask=t.resetGateTask=t.removeGateTask=t.addGateTask=t.detectedDrms=t.rejectSeek=t.enableSeeking=t.disableSeeking=t.loadScript=t.loadedScript=t.failedScript=t.grantGesturePermission=t.updateThumbnailSource=t.finishReadyGate=t.resetReadyGate=t.acceptReadyPlugin=t.updatePreference=t.loadPreference=t.setAppToActive=t.setAppToBackground=t.requestCellularAccess=t.setNetworkTypeToCellular=t.setNetworkTypeToWifi=t.lostNetworkAccess=t.gainedNetworkAccess=t.updatePictureInPictureSupported=t.updateIsRunningInWebview=t.updateIsRunningInIFrame=t.detectStreamType=t.prepareLogDump=t.dumpLogs=t.updateCastingMediaProgress=t.setCastingDeviceName=t.clientReturn=t.awaitClientReturn=t.readyToPlay=t.stopCasting=t.startCasting=t.startApp=t.requestRetryConfig=t.requestExit=t.reloadApp=t.forceExit=t.exit=t.error=t.activatePlayer=t.unlockOrientation=t.toggleFullScreen=t.requestExitFullscreen=t.requestEnterFullscreen=t.exitFullscreen=t.enterFullscreen=t.noop=void 0;var u=n(21),c=o(n(199)),l=n(176),d=n(57);t.noop=u.createAction("core/NOOP"),t.enterFullscreen=u.createAction("V/core/ENTER_FULLSCREEN"),t.exitFullscreen=u.createAction("V/core/EXIT_FULLSCREEN"),t.requestEnterFullscreen=u.createAction("V/core/REQUEST_ENTER_FULLSCREEN"),t.requestExitFullscreen=u.createAction("V/core/REQUEST_EXIT_FULLSCREEN"),t.toggleFullScreen=u.createAction("V/core/TOGGLE_FULL_SCREEN"),t.unlockOrientation=u.createAction("V/core/UNLOCK_ORIENTATION"),t.activatePlayer=u.createAction("V/core/ACTIVATE_PLAYER"),t.error=u.createAction("core/ERROR"),t.exit=u.createAction("V/core/EXIT"),t.forceExit=u.createAction("V/core/FORCE_EXIT"),t.reloadApp=u.createAction("V/core/RELOAD_APP"),t.requestExit=u.createAction("V/core/REQUEST_EXIT"),t.requestRetryConfig=u.createAction("V/core/REQUEST_RETRY_CONFIG"),t.startApp=u.createAction("V/core/START_APP"),t.startCasting=u.createAction("V/core/START_CASTING"),t.stopCasting=u.createAction("V/core/STOP_CASTING"),t.readyToPlay=u.createAction("V/core/READY_TO_PLAY"),t.awaitClientReturn=u.createAction("V/core/AWAIT_CLIENT_RETURN"),t.clientReturn=u.createAction("V/core/CLIENT_RETURN"),t.setCastingDeviceName=u.createAction("V/core/SET_CASTING_DEVICE_NAME"),t.updateCastingMediaProgress=u.createAction("V/core/UPDATE_CASTING_MEDIA_PROGRESS"),t.dumpLogs=u.createAction("core/DUMP_LOGS"),t.prepareLogDump=u.createAction("core/PREPARE_LOG_DUMP"),t.detectStreamType=u.createAction("V/core/DETECT_STREAM_TYPE"),t.updateIsRunningInIFrame=u.createAction("V/core/UPDATE_IS_RUNNING_IN_IFRAME"),t.updateIsRunningInWebview=u.createAction("V/core/UPDATE_IS_RUNNING_IN_WEBVIEW"),t.updatePictureInPictureSupported=u.createAction("V/core/UPDATE_PIP_SUPPORTED"),t.gainedNetworkAccess=u.createAction("V/core/GAINED_NETWORK_ACCESS"),t.lostNetworkAccess=u.createAction("V/core/LOST_NETWORK_ACCESS"),t.setNetworkTypeToWifi=u.createAction("V/core/SET_NETWORK_TYPE_TO_WIFI"),t.setNetworkTypeToCellular=u.createAction("V/core/SET_NETWORK_TYPE_TO_CELLULAR"),t.requestCellularAccess=u.createAction("V/core/REQUEST_CELLULAR_ACCESS"),t.setAppToBackground=u.createAction("V/core/SET_APP_TO_BACKGROUND"),t.setAppToActive=u.createAction("V/core/SET_APP_TO_ACTIVE"),t.loadPreference=u.createAction("V/core/LOAD_PREFERENCE"),t.updatePreference=u.createAction("V/core/UPDATE_PREFERENCE"),t.acceptReadyPlugin=u.createAction("V/CORE/ACCEPT_READY_PLUGIN"),t.resetReadyGate=u.createAction("V/CORE/RESET_READY_GATE"),t.finishReadyGate=u.createAction("V/CORE/FINISH_READY_GATE"),t.updateThumbnailSource=u.createAction("V/core/UPDATE_THUMBNAIL_SOURCE"),t.grantGesturePermission=u.createAction("V/core/GRANT_GESTURE_PERMISSION"),t.failedScript=u.createAction("V/core/FAILED_SCRIPT"),t.loadedScript=u.createAction("V/core/LOADED_SCRIPT"),t.loadScript=u.createAction("V/core/LOAD_SCRIPT"),t.disableSeeking=u.createAction("V/core/DISABLE_SEEKING"),t.enableSeeking=u.createAction("V/core/ENABLE_SEEKING"),t.rejectSeek=u.createAction("V/core/REJECT_SEEK"),t.detectedDrms=u.createAction("V/core/DETECTED_DRMS"),t.addGateTask=u.createAction("V/core/ADD_GATE_TASK"),t.removeGateTask=u.createAction("V/core/REMOVE_GATE_TASK"),t.resetGateTask=u.createAction("V/core/RESET_GATE_TASK"),t.completeGateTask=u.createAction("V/core/COMPLETE_GATE_TASK"),t.createGate=u.createAction("V/core/CREATE_GATE"),t.activateGate=u.createAction("V/core/ACTIVATE_GATE"),t.passGate=u.createAction("V/core/PASS_GATE"),t.resetGate=u.createAction("V/core/RESET_GATE"),t.updateGateStatus=u.createAction("core/UPDATE_GATE_STATUS"),t.toggleAdvancedQualityControls=u.createAction("V/core/TOGGLE_ADVANCED_QUALITY_CONTROLS"),t.startIntervalTask=u.createAction("V/core/START_INTERVAL_TASK"),t.fireInterval=u.createAction("V/core/FIRE_INTERVAL"),t.stopIntervalTask=u.createAction("V/core/STOP_INTERVAL_TASK"),t.mute=u.createAction("V/core/MUTE"),t.unmute=u.createAction("V/core/UNMUTE"),t.resetUnmuteVolume=u.createAction("V/core/RESET_UNMUTE_VOLUME"),t.setUnmuteVolume=u.createAction("V/core/SET_UNMUTE_VOLUME"),t.updateVolume=u.createAction("V/core/UPDATE_VOLUME"),t.reportProblem=u.createAction("V/core/REPORT_PROBLEM"),t.resetReportProblem=u.createAction("V/core/RESET_REPORT_PROBLEM"),t.setReportProblemTopic=u.createAction("V/core/SET_REPORT_PROBLEM_TOPIC"),t.setReportProblemDescription=u.createAction("V/core/SET_REPORT_PROBLEM_DESCRIPTION"),t.textTrackMenuEntryUpdated=u.createAction("V/core/TEXT_TRACK_MENU_ENTRY_UPDATED");var f={appState:null,awaitingClientReturn:!1,containerId:"vilosRoot",castingState:{isCasting:!1},detectedDrms:[],detectedStreamTypes:[],dumpId:null,dumpPayload:null,error:null,gateStatus:{},gateTasks:{},intervalTasks:{},isAdvancedQualityControlsEnabled:!1,isAnalyticsReady:!1,isContentPlaying:!1,isExitForced:!1,isExitRequested:!1,isFullscreen:!1,isMobileNetworkAvailable:!1,isMuted:!1,isOrientationLocked:!1,isPictureInPictureSupported:!1,isRunningInWebview:!1,isRunningInIFrame:!1,isSeekingDisabled:!1,isStarted:!1,isUnloadingContent:!1,networkType:l.NetInfoStateType.unknown,noopMessage:"",preferences:{isUpNextAutoplayEnabled:!1,isMuted:!1,volume:1},reportProblem:{issueId:null,issueText:"",issueTitle:null},sessionUUID:Math.random().toString(36)+Math.random().toString(36),scriptsLoaded:[],thumbnailSource:null,unmuteVolume:null,volume:1},p=u.createReducer({},f);p.on(c.startedPlaying,(function(e){return r(r({},e),{isContentPlaying:!0})})),p.on(c.stoppedPlaying,(function(e){return r(r({},e),{isContentPlaying:!1})})),p.on(c.unloadContent,(function(e){return r(r({},e),{isUnloadingContent:!0})})),p.on(c.completeUnloadContent,(function(e){return r(r({},e),{isUnloadingContent:!1})})),p.on(t.mute,(function(e){return r(r({},e),{isMuted:!0})})),p.on(t.unmute,(function(e){return r(r({},e),{isMuted:!1})})),p.on(t.resetUnmuteVolume,(function(e){return r(r({},e),{unmuteVolume:null})})),p.on(t.setUnmuteVolume,(function(e,t){return r(r({},e),{unmuteVolume:t})})),p.on(t.updateVolume,(function(e,t){return r(r({},e),{volume:t})})),p.on(t.noop,(function(e,t){return r(r({},e),{noopMessage:e.noopMessage+", "+t})})),p.on(t.detectedDrms,(function(e,t){return r(r({},e),{detectedDrms:t})})),p.on(t.detectStreamType,(function(e,t){return r(r({},e),{detectedStreamTypes:t})})),p.on(t.disableSeeking,(function(e){return r(r({},e),{isSeekingDisabled:!0})})),p.on(t.dumpLogs,(function(e,t){return r(r({},e),{dumpPayload:t})})),p.on(t.enableSeeking,(function(e){return r(r({},e),{isSeekingDisabled:!1})})),p.on(t.enterFullscreen,(function(e,t){return void 0===t&&(t=!1),r(r({},e),{isFullscreen:!0,isOrientationLocked:t})})),p.on(t.error,(function(e,t){return r(r({},e),{error:t})})),p.on(t.exit,(function(e){return r(r({},e),{isExitRequested:!1})})),p.on(t.exitFullscreen,(function(e,t){return void 0===t&&(t=!1),r(r({},e),{isFullscreen:!1,isOrientationLocked:t})})),p.on(t.unlockOrientation,(function(e){return r(r({},e),{isOrientationLocked:!1})})),p.on(t.forceExit,(function(e){return r(r({},e),{isExitForced:!0})})),p.on(t.loadedScript,(function(e,t){return r(r({},e),{scriptsLoaded:s(e.scriptsLoaded,[t])})})),p.on(t.prepareLogDump,(function(e,t){return r(r({},e),{dumpId:t})})),p.on(t.reloadApp,(function(e){return e})),p.on(t.requestEnterFullscreen,(function(e){return e})),p.on(t.requestExit,(function(e){return r(r({},e),{isExitRequested:!0})})),p.on(t.requestExitFullscreen,(function(e){return e})),p.on(t.setCastingDeviceName,(function(e,t){return r(r({},e),{castingState:r(r({},e.castingState),{deviceName:t})})})),p.on(t.startApp,(function(e,t){return r(r({},e),{isStarted:t})})),p.on(t.startCasting,(function(e){return r(r({},e),{castingState:r(r({},e.castingState),{isCasting:!0})})})),p.on(t.startIntervalTask,(function(e,t){var n,i=t.name,a=t.interval;return r(r({},e),{intervalTasks:r(r({},e.intervalTasks),(n={},n[i]=a,n))})})),p.on(t.stopCasting,(function(e){return r(r({},e),{castingState:r(r({},e.castingState),{isCasting:!1})})})),p.on(t.stopIntervalTask,(function(e,t){var n;return r(r({},e),{intervalTasks:r(r({},e.intervalTasks),(n={},n[t]=void 0,n))})})),p.on(t.setNetworkTypeToWifi,(function(e){return r(r({},e),{networkType:l.NetInfoStateType.wifi})})),p.on(t.setNetworkTypeToCellular,(function(e){return r(r({},e),{networkType:l.NetInfoStateType.cellular})})),p.on(t.gainedNetworkAccess,(function(e){return r(r({},e),{isMobileNetworkAvailable:!0})})),p.on(t.lostNetworkAccess,(function(e){return r(r({},e),{isMobileNetworkAvailable:!1})})),p.on(t.requestCellularAccess,(function(e){return e})),p.on(t.setAppToActive,(function(e){return r(r({},e),{appState:"active"})})),p.on(t.setAppToBackground,(function(e){return r(r({},e),{appState:"background"})})),p.on(t.updateCastingMediaProgress,(function(e,t){return r(r({},e),{castingState:r(r({},e.castingState),{mediaProgress:t})})})),p.on(t.updateIsRunningInIFrame,(function(e,t){return r(r({},e),{isRunningInIFrame:t})})),p.on(t.updateIsRunningInWebview,(function(e,t){return r(r({},e),{isRunningInWebview:t})})),p.on(t.updatePictureInPictureSupported,(function(e,t){return r(r({},e),{isPictureInPictureSupported:t})})),p.on(t.updateThumbnailSource,(function(e,t){return r(r({},e),{thumbnailSource:t})})),p.on(t.toggleAdvancedQualityControls,(function(e){return r(r({},e),{isAdvancedQualityControlsEnabled:!e.isAdvancedQualityControlsEnabled})})),p.on(t.addGateTask,(function(e,t){var n,i=t.actionType,a=t.name,o=e.gateTasks[i]||[];return r(r({},e),{gateTasks:r(r({},e.gateTasks),(n={},n[i]=s(o,[{name:a,status:d.GateTaskStatus.INCOMPLETE}]),n))})})),p.on(t.removeGateTask,(function(e,t){var n,i=(e.gateTasks[t.actionType]||[]).filter((function(e){return e.name!==t.name}));return r(r({},e),{gateTasks:r(r({},e.gateTasks),(n={},n[t.actionType]=i,n))})})),p.on(t.resetGateTask,(function(e,t){var n,i=(e.gateTasks[t.actionType]||[]).map((function(e){var n=e.name,r=e.status;return n===t.name?{name:n,status:d.GateTaskStatus.INCOMPLETE}:{name:n,status:r}}));return r(r({},e),{gateTasks:r(r({},e.gateTasks),(n={},n[t.actionType]=i,n))})})),p.on(t.completeGateTask,(function(e,t){var n,i=(e.gateTasks[t.actionType]||[]).map((function(e){var n=e.name,r=e.status;return n===t.name?{name:n,status:d.GateTaskStatus.COMPLETE}:{name:n,status:r}}));return r(r({},e),{gateTasks:r(r({},e.gateTasks),(n={},n[t.actionType]=i,n))})})),p.on(t.createGate,(function(e,t){var n;return r(r({},e),{gateStatus:r(r({},e.gateStatus),(n={},n[t]=d.GateStatus.INITIALIZING,n))})})),p.on(t.activateGate,(function(e,t){var n;return r(r({},e),{gateStatus:r(r({},e.gateStatus),(n={},n[t]=d.GateStatus.WAITING,n))})})),p.on(t.passGate,(function(e,t){var n;return r(r({},e),{gateStatus:r(r({},e.gateStatus),(n={},n[t]=d.GateStatus.PASSED,n))})})),p.on(t.loadPreference,(function(e,t){var n,i=t.preference,a=t.value;return r(r({},e),{preferences:r(r({},e.preferences),(n={},n[""+i]=a,n))})})),p.on(t.updatePreference,(function(e,t){var n,i=t.preference,a=t.value;return r(r({},e),{preferences:r(r({},e.preferences),(n={},n[""+i]=a,n))})})),p.on(t.resetGate,(function(e,t){var n,i,a=(e.gateTasks[t]||[]).map((function(e){return{name:e.name,status:d.GateTaskStatus.INCOMPLETE}}));return r(r({},e),{gateStatus:r(r({},e.gateStatus),(n={},n[t]=d.GateStatus.INITIALIZING,n)),gateTasks:r(r({},e.gateTasks),(i={},i[t]=a,i))})})),p.on(t.updateGateStatus,(function(e,t){var n,i=t.actionType,a=t.status;return r(r({},e),{gateStatus:r(r({},e.gateStatus),(n={},n[i]=a,n))})})),p.on(t.awaitClientReturn,(function(e){return r(r({},e),{awaitingClientReturn:!0})})),p.on(t.clientReturn,(function(e){return r(r({},e),{awaitingClientReturn:!1})})),p.on(t.reportProblem,(function(e){return e})),p.on(t.setReportProblemTopic,(function(e,t){var n=t.issueId,i=t.issueTitle;return r(r({},e),{reportProblem:r(r({},e.reportProblem),{issueId:n,issueTitle:i})})})),p.on(t.setReportProblemDescription,(function(e,t){return r(r({},e),{reportProblem:r(r({},e.reportProblem),{issueText:t})})})),p.on(t.resetReportProblem,(function(e){return r(r({},e),{reportProblem:f.reportProblem})})),t.default=p},function(e,t,n){"use strict";t.__esModule=!0,t.getObjectRefCounter=function(e,t){e||(e=function(e,t){return e===t}),t||(t=function(){return!1});var n=[],r=[];return{getCount:function(t){if(null==t)return 0;var i=n.findIndex((function(n){return n&&e(n,t)}));return-1===i?0:r[i]},add:function(i){if(null!=i){var a=n.findIndex((function(t){return t&&e(t,i)})),o=1;-1===a?(a=n.length,n.push(i)):o=r[a]+1,t(i)&&(o=1/0),r[a]=o}},remove:function(i){if(t(i))return!1;var a=n.findIndex((function(t){return t&&e(t,i)}));return-1!==a&&(1===r[a]?(delete n[a],delete r[a],!0):(r[a]=r[a]-1,!1))}}},t.getStringRefCounter=function(){var e={};return{getCount:function(t){return null==t?0:e[t]||0},add:function(t){null!=t&&(e[t]?e[t]++:e[t]=1)},remove:function(t){return null!=t&&(!!e[t]&&(1===e[t]?(delete e[t],!0):(e[t]--,!1)))}}}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VendriEvents=t.allowedQueryParams=t.VendriQueryParamName=void 0,function(e){e.PID="pid"}(t.VendriQueryParamName||(t.VendriQueryParamName={})),t.allowedQueryParams=["crunchyroll-web-2","crunchyroll-web-nopreroll","crunchyroll-web-3","crunchyroll-web-4"],function(e){e.AdBreakFinished="adBreakFinished",e.AdClick="clickThru",e.AdError="error",e.AdFinished="adFinished",e.AdImpression="impression",e.AdLoading="adLoading",e.AdPaused="adPaused_success",e.AdResumed="adResumed_success",e.AdSkip="skip",e.AdStarted="adStarted",e.AutoplayDisabled="adPlayRejected",e.PidFailure="vevt_pidfailure",e.Ready="vevt_ready"}(t.VendriEvents||(t.VendriEvents={}))},function(e,t,n){"use strict";var r=n(614),i=n(205),a=n(99),o=n(314),s=n(616);function u(e,t,n){var r=this._refs[n];if("string"==typeof r){if(!this._refs[r])return u.call(this,e,t,r);r=this._refs[r]}if((r=r||this._schemas[n])instanceof o)return h(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i,a,s,l=c.call(this,t,n);return l&&(i=l.schema,t=l.root,s=l.baseId),i instanceof o?a=i.validate||e.call(this,i.schema,t,void 0,s):void 0!==i&&(a=h(i,this._opts.inlineRefs)?i:e.call(this,i,t,void 0,s)),a}function c(e,t){var n=r.parse(t),i=m(n),a=v(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==a){var s=y(i),u=this._refs[s];if("string"==typeof u)return l.call(this,e,u,n);if(u instanceof o)u.validate||this._compile(u),e=u;else{if(!((u=this._schemas[s])instanceof o))return;if(u.validate||this._compile(u),s==y(t))return{schema:u,root:e,baseId:a};e=u}if(!e.schema)return;a=v(this._getId(e.schema))}return f.call(this,n,a,e.schema,e)}function l(e,t,n){var r=c.call(this,e,t);if(r){var i=r.schema,a=r.baseId;e=r.root;var o=this._getId(i);return o&&(a=b(a,o)),f.call(this,n,a,i,e)}}e.exports=u,u.normalizeId=y,u.fullPath=v,u.url=b,u.ids=function(e){var t=y(this._getId(e)),n={"":t},o={"":v(t,!1)},u={},c=this;return s(e,{allKeys:!0},(function(e,t,s,l,d,f,p){if(""!==t){var h=c._getId(e),v=n[l],m=o[l]+"/"+d;if(void 0!==p&&(m+="/"+("number"==typeof p?p:a.escapeFragment(p))),"string"==typeof h){h=v=y(v?r.resolve(v,h):h);var g=c._refs[h];if("string"==typeof g&&(g=c._refs[g]),g&&g.schema){if(!i(e,g.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=y(m))if("#"==h[0]){if(u[h]&&!i(e,u[h]))throw new Error('id "'+h+'" resolves to more than one schema');u[h]=e}else c._refs[h]=m}n[t]=v,o[t]=m}})),u},u.inlineRef=h,u.schema=c;var d=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(e,t,n,r){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),o=1;o<i.length;o++){var s=i[o];if(s){if(void 0===(n=n[s=a.unescapeFragment(s)]))break;var u;if(!d[s]&&((u=this._getId(n))&&(t=b(t,u)),n.$ref)){var l=b(t,n.$ref),f=c.call(this,r,l);f&&(n=f.schema,r=f.root,t=f.baseId)}}}return void 0!==n&&n!==r.schema?{schema:n,root:r,baseId:t}:void 0}}var p=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function h(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&!e(n))return!1}else for(var i in t){if("$ref"==i)return!1;if("object"==typeof(n=t[i])&&!e(n))return!1}return!0}(e):t?function e(t){var n,r=0;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&(r+=e(n)),r==1/0)return 1/0}else for(var a in t){if("$ref"==a)return 1/0;if(p[a])r++;else if("object"==typeof(n=t[a])&&(r+=e(n)+1),r==1/0)return 1/0}return r}(e)<=t:void 0)}function v(e,t){return!1!==t&&(e=y(e)),m(r.parse(e))}function m(e){return r.serialize(e).split("#")[0]+"#"}var g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function b(e,t){return t=y(t),r.resolve(e,t)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";var r=n(204);function i(e,t,n){this.message=n||i.message(e,t),this.missingRef=r.url(e,t),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function a(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:a((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:a(i)},i.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(22));t.default={cursorStyle:function(e){return i.default.isWeb()&&!i.default.isJest()?{cursor:e}:null},outlineStyle:function(e){return i.default.isWeb()&&!i.default.isJest()?{outline:e}:null},pointerEventsStyle:function(e){return i.default.isWeb()&&!i.default.isJest()?{pointerEvents:e}:null},webStyle:function(e){return i.default.isWeb()&&!i.default.isJest()?e:null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(119);t.default={formatDisplayTime:function(e){var t=Math.floor(e),n=Math.floor(t/3600),i=Math.floor(t%3600/60),a=t%60;return n?r.sprintf("%d:%02d:%02d",n,i,a):r.sprintf("%d:%02d",i,a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settingsSubmenu=t.volumeControl=t.adMarkers=t.configErrorScreen=t.errorScreen=t.text=t.scrubBar=t.settingsFlag=t.radioButton=void 0;t.radioButton={backgroundColor:"#192e38",disabledColor:"#a0a0a0",disabledOpacity:.5,hoverColor:"white",selectedColor:"#44c3ab",unselectedColor:"#a0a0a0"},t.settingsFlag={color:"#f47521"},t.scrubBar={backgroundColor:"#a0a0a0",knobColor:"#f47521",primaryColor:"#f47521",secondaryColor:"#d8d8d8",tooltipY:32},t.text={fontFamily:"Lato",fontWeight:"500"},t.errorScreen={iconSize:60,fontSize:18,lineHeight:22},t.configErrorScreen={primaryColor:"#f47521"},t.adMarkers={backgroundColor:"#fff"},t.volumeControl={backgroundColor:"#a0a0a0",primaryColor:"#c6c6cd",knobColor:"#f47521"},t.settingsSubmenu={backgroundColor:"#a0a0a0",primaryColor:"#c6c6cd",secondaryColor:"#f47521"}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(688);var d=u(n(1)),f=n(6),p=n(302),h=l(n(32)),v=l(n(26)),m=l(n(75)),g=l(n(44)),y=l(n(689)),b=l(n(713)),_=l(n(120)),A=l(n(776)),S=l(n(787)),E=l(n(890)),w=l(n(916));c(n(60),t),m.default.register.apply(m.default,w.default),m.default.register.apply(m.default,E.default),m.default.register.apply(m.default,b.default),m.default.register.apply(m.default,y.default);var T=function(e){function t(t){var n=e.call(this,t)||this,r={};return t.theme&&(r.theme=a(a({},t.theme),{activeProfile:null})),g.default.initialize(r,n.props.debug),v.default.registerTranslations(t.translations||A.default),h.default.initialize(),_.default.initialize(),t.messageBus&&t.messageBus(_.default),n.createWindowState(),n.createWindowLogging(),n}return i(t,e),t.prototype.render=function(){return d.default.createElement(f.Provider,{store:g.default.store},d.default.createElement(p.DynamicModuleLoader,{modules:m.default.getModules()},d.default.createElement(S.default,a({},this.props))))},t.prototype.createWindowState=function(){"object"!=typeof window||window.state||Object.defineProperty(window,"state",{get:function(){return g.default.getState()}})},t.prototype.createWindowLogging=function(){"object"==typeof window&&(window.logging=function(e){localStorage.VILOS_LOGGER=String(e)})},t.defaultProps={debug:!1},t}(d.Component);t.default=T},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,a),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,a),!0;case 6:return l.fn.call(l.context,t,n,r,a,o),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||r&&!o.once||n&&o.context!==n||u(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==t||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:u(this,a)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.getOptions=function(){return{sagas:[n.register]}},n.isSingleton=function(){return!0},n.getToken=n.getToken.bind(n),n.register=n.register.bind(n),n}return i(t,e),t}(a(n(13)).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Options=void 0;var r=n(214),i=function(){function e(){this.context=new r.Context,this.integrations=new Map,this.timestamp=new Date}return e.prototype.setContext=function(e){return this.context=e,this},e.prototype.setAnonymousId=function(e){return this.anonymousId=e,this},e.prototype.setIntegrations=function(e){return this.integrations=e,this},e.prototype.setTimestamp=function(e){return this.timestamp=e,this},e.prototype.setUserAgent=function(e){return this.userAgent=e,this},e.prototype.getContext=function(){return this.context.context},e.prototype.getAnonymousId=function(){return this.anonymousId},e.prototype.getIntegrations=function(){return this.integrations},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.getUserAgent=function(){return this.userAgent},e}();t.Options=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;var i=r(n(22)),a=function(){function e(){this.context=new Map,i.default.isWeb()&&this.set("userAgent",i.default.getUserAgent()),this.set("library",(new Map).set("name","eec").set("version","0.0.1").set("userAgent",i.default.getUserAgent()))}return e.prototype.set=function(e,t){return this.context.set(e,t),this},e}();t.Context=a},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoMediaData=t.getHeartbeatData=void 0;var u=n(9),c=n(2),l=n(8),d=s(n(31)),f=a(n(146)),p=a(n(767)),h=n(311),v=n(349);function m(e){var t,n,r=e.payload;return o(this,(function(e){switch(e.label){case 0:return[4,u.select(l.playerSelectors.all)];case 1:return e.sent().isInitialPlayGranted?[2]:[4,u.select(p.all)];case 2:return n=e.sent().videosStarted,t="ReadyGate"===r?n>1?h.EllationInitialPlayType.SKIP:h.EllationInitialPlayType.AUTOPLAY:h.EllationInitialPlayType.PLAY,[4,u.put(f.updateInitialPlayType(t))];case 3:return e.sent(),[2]}}))}function g(){return o(this,(function(e){switch(e.label){case 0:return[4,u.put(f.incrementVideosStarted())];case 1:return e.sent(),[2]}}))}t.getHeartbeatData=function(){var e,t,n,r,i,a,s,c,f,p;return o(this,(function(o){switch(o.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=o.sent().ellationAnalytics,[4,u.select(l.mediaSelectors.all)];case 2:return t=o.sent(),n=t.contentTime,r=t.contentDuration,[4,u.select(l.analyticsSelectors.organization)];case 3:return i=o.sent().lastHeartbeat,[4,u.select(l.coreSelectors.isTaskActive,v.ELLATION_HEARTBEAT_TASK)];case 4:return a=o.sent(),s=a&&i?n-i.playheadTime:0,c=d.default.get(e,"heartbeatInterval",30),f=i?i.secondsViewed:0,((p={secondsViewed:f+s,elapsedDelta:s,playheadTime:n,playbackSource:h.EllationHeartbeatSource.NETWORK}).playheadTime<0||p.playheadTime>r)&&console.warn("Invalid playhead time",p.playheadTime),p.elapsedDelta>=c+3&&0!==c&&console.warn("Invalid elapsed delta",p.elapsedDelta,c),(p.secondsViewed<0||p.secondsViewed<f)&&console.warn("Invalid seconds viewed",p.secondsViewed),[2,p]}}))},t.getVideoMediaData=function(){var e,t,n,r,i,a,s,c,f,p,v,m,g,y,b,_,A,S,E,w,T,P,C,O,k,I,x,D,R,M,N,L,j,B;return o(this,(function(o){switch(o.label){case 0:return[4,u.select(l.playerSelectors.activeTextTrack)];case 1:return e=o.sent(),[4,u.select(l.configurationSelectors.self)];case 2:if(t=o.sent(),n=t.ads,r=t.analytics,i=void 0===r?{}:r,a=t.media,s=t.metadata,t.user,!a||!s||!a.reportingParent)return console.warn("Config metadata not available"),[2];switch(c=i.legacy,f=void 0===c?{}:c,p=a.reportingParent,v=s.channelId,m=void 0===v?"":v,g=s.duration,y=s.distributionNumber,b=void 0===y?null:y,_=s.id,A=void 0===_?"":_,S=s.seasonTitle,E=void 0===S?"":S,w=s.seriesTitle,T=s.title,P=s.type,C=void 0===P?"":P,O=p.id,k=void 0===O?"":O,I=p.title,C){case h.EllationMediaType.EXTRA:case h.EllationMediaType.EXTRA_VIDEO:case h.EllationMediaType.EXTRA_VIDEO_MOVIE:case h.EllationMediaType.EXTRA_VIDEO_SERIES:x=I,D=T;break;case h.EllationMediaType.MOVIE:x=T,D=T;break;case h.EllationMediaType.EPISODE:x=E?w+"|"+E+"|"+b+"|"+T:I+"|"+b+"|"+T,D=w||I;break;default:x=""}return R=d.default.get(f,"media_id",""),M=d.default.get(f,"video_encode_id",""),N=C===h.EllationMediaType.EPISODE||C===h.EllationMediaType.EXTRA_VIDEO_SERIES,[2,{channelName:m,mediaType:C,externalMediaId:R,mediaId:A,topLevelExternalMediaId:M,topLevelMediaId:k,concatenatedTitle:x,mediaTitle:D,seasonTitle:E,episodeTitle:N?T:"",episodeNumber:N?b:null,mediaSubtitleLanguage:e?e.language:"",mediaAudioLanguage:null===(j=null===(L=a.playlists)||void 0===L?void 0:L[0])||void 0===j?void 0:j.language,mediaDuration:g&&g>0?g/1e3:0,mediaAdSupported:!!n.adTech&&(null===(B=n.adBreaks)||void 0===B?void 0:B.length)>0}]}}))},t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.playerActionCreators.requestPlay,m),u.takeEvery(c.playerActionCreators.setSource,g)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);t.default=function(e,t,n){return void 0===n&&(n={}),r(void 0,void 0,void 0,(function(){return i(this,(function(r){return[2,new Promise((function(r,i){var o=new XMLHttpRequest;o.open(e,t,!0),o.setRequestHeader("User-Agent",a.environmentUtils.getUserAgent()),n.headers instanceof Object&&Object.keys(n.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),n.responseType&&(o.responseType=n.responseType),o.onload=function(){o.status>=200&&o.status<300?r(o.response):i({status:o.status,statusText:o.statusText})},o.onerror=function(){i({status:o.status,statusText:o.statusText})};var s=n.body||null;o.send(s)}))]}))}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3);t.default=function(e){var t=e.children,n=[o.component];return i.default.createElement(a.View,{style:n},t)};var o=a.StyleSheet.create({component:{flex:1,height:"100%",flexDirection:"row",alignItems:"center"}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3);t.default=function(e){return a.default.createElement(o.View,r({onStartShouldSetResponder:function(){return!0}},e))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenuLocation=void 0;var d=u(n(1)),f=n(3),p=n(6),h=n(14),v=n(2),m=n(8),g=l(n(121)),y=l(n(12)),b=l(n(799)),_=n(7),A=l(n(32)),S=l(n(63));!function(e){e[e.BOTTOM_LEFT=0]="BOTTOM_LEFT",e[e.BOTTOM_RIGHT=1]="BOTTOM_RIGHT",e[e.UPPER_LEFT=2]="UPPER_LEFT",e[e.UPPER_RIGHT=3]="UPPER_RIGHT"}(t.SettingsMenuLocation||(t.SettingsMenuLocation={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastVolume:1,isActive:!1,isHovered:!1,isPressed:!1,fadeAnim:new f.Animated.Value(0)},t.onHoverIn=function(){_.environmentUtils.isDesktopWeb()&&(A.default.suspend(),t.setState({isHovered:!0}),t.show())},t.onHoverOut=function(){_.environmentUtils.isDesktopWeb()&&(t.setState({isHovered:!1}),t.state.isPressed||t.hide(),A.default.resume()),_.environmentUtils.isMobileWeb()&&t.setState({isActive:!1})},t.onPressIn=function(){t.setState({isPressed:!0}),A.default.lock()},t.onPressOut=function(){t.setState({isPressed:!1}),t.state.isHovered||t.hide(),A.default.unlock()},t.onPress=function(){var e=t.props,n=e.coreActions,r=e.isMuted,i=t.state.isActive;_.environmentUtils.isDesktopWeb()||y.default.tapToMute?r?n.unmute():n.mute():(i?A.default.lock():A.default.unlock(),t.setState({isActive:!i}))},t.show=function(){f.Animated.timing(t.state.fadeAnim,{toValue:1,duration:150,useNativeDriver:!0}).start()},t.hide=function(){f.Animated.timing(t.state.fadeAnim,{toValue:0,duration:150,useNativeDriver:!0}).start()},t.getImageSource=function(e,t){return e*=100,t||0===e?"audioMute":e<=33?"audioLow":e>33&&e<=66?"audioMedium":"audioHigh"},t.isSliderOpen=function(e,t,n){return e||n||t},t.renderVolumeSlider=function(e){return d.default.createElement(b.default,{isActive:e,onPressIn:t.onPressIn,onPressOut:t.onPressOut})},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.profile,n=e.volume,r=e.isMuted,i=this.state,o=i.isActive,s=i.isHovered,u=i.isPressed,l=i.fadeAnim,p=this.isSliderOpen(o,s,u),h=this.getImageSource(n,r),v=this.state.fadeAnim.interpolate({inputRange:[0,1],outputRange:[0,91]}),m=_.environmentUtils.isFirefox()?w.firefoxAnimatedWrapper:w.animatedWrapper,b=y.default.volumeControlOpen?[]:[m,{opacity:l,width:v}];return d.default.createElement(g.default,{onHoverIn:this.onHoverIn,onHoverOut:this.onHoverOut},d.default.createElement(f.TouchableWithoutFeedback,{accessible:!1},d.default.createElement(f.View,{style:w.container,testID:y.default.testIDs.volumeContainer,accessibilityLabel:y.default.testIDs.volumeContainer},d.default.createElement(S.default,a({},t.smallIcons,{hoverable:!0,iconName:h,isHovered:y.default.volumeControlOpen||p,onPress:this.onPress,testID:y.default.testIDs.volumeButton,accessibilityLabel:y.default.testIDs.volumeButton})),_.environmentUtils.isMobileWeb()&&p&&d.default.createElement(f.View,{style:w.wrapper,testID:y.default.testIDs.volumeContainer,accessibilityLabel:y.default.testIDs.volumeContainer},this.renderVolumeSlider(o)),_.environmentUtils.isDesktopWeb()&&d.default.createElement(f.Animated.View,{style:c([w.wrapper],b)},this.renderVolumeSlider(o)))))},t}(d.Component),w=f.StyleSheet.create({animatedWrapper:a(a({},_.styleUtils.webStyle({overflow:"hidden"})),{width:0}),firefoxAnimatedWrapper:a(a({},_.styleUtils.webStyle({overflowX:"hidden"})),{width:0}),wrapper:{height:"100%"},container:{alignItems:"center",flex:1,flexDirection:"row",height:"100%"}});t.default=p.connect((function(e){var t=m.coreSelectors.activePlayer(e);return{isMuted:e.core.isMuted,playerType:t.playerType,profile:e.theme.profiles[e.theme.activeProfile],volume:e.core.volume}}),(function(e){return{coreActions:h.bindActionCreators(v.coreActionCreators,e)}}))(E)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c,l=s(n(1)),d=n(3),f=u(n(12)),p=u(n(32)),h=u(n(122)),v=n(7),m=u(n(800)),g=u(n(804)),y=u(n(355)),b=u(n(356)),_=u(n(806)),A=u(n(807));!function(e){e[e.START_STATE=0]="START_STATE",e[e.END_STATE=1]="END_STATE"}(c||(c={}));var S=function(e,t,n){var r=n/2;return v._.clamp((e-r)/(t-n)*100,0,100)},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={active:!1,computedPrimaryPercentage:t.props.primaryPercentage||0,computedSecondaryPercentage:t.props.secondaryPercentage,hoverAnimated:new d.Animated.Value(0),isFocused:!1},t.isDragging=!1,t.isHovering=!1,t.activeHeight=t.props.activeHeight||t.props.height,t.onFocus=function(){t.setState({isFocused:!0}),t.props.scrubbable&&t.props.inputActions.scrubViaLeftAndRightArrow(),p.default.start(),t.props.onFocus()},t.onBlur=function(){var e;t.setState({isFocused:!1}),t.props.onBlur(),t.props.scrubbable&&(null===(e=t.props.playerActions)||void 0===e||e.endScrub())},t.onPressIn=function(e,n,r,i){var a=t.props,o=a.flush,s=a.knobSize;t.isDragging=!0,t.isHovering||(t.hoverAnimation(),t.isHovering=!0);var u=o?S(r,i,s):n;t.props.onPressIn?t.props.onPressIn(e,u,{isDragging:t.isDragging,isHovering:t.isHovering}):t.setState({computedPrimaryPercentage:u})},t.onPressOut=function(e,n,r,i){var a=t.props,o=a.flush,s=a.knobSize;t.isDragging=!1,t.isHovering||t.noHoverAnimation();var u=o?S(r,i,s):n;t.props.onPressOut?t.props.onPressOut(e,u,{isDragging:t.isDragging,isHovering:t.isHovering}):t.setState({computedPrimaryPercentage:u})},t.onMouseMove=function(e){v.environmentUtils.isDesktopWeb()&&t.props.hoverable&&!t.isHovering&&t.onMouseEnter(e),t.props.onMouseMove&&t.props.onMouseMove(e,{isDragging:t.isDragging,isHovering:t.isHovering})},t.onMouseEnter=function(e){v.environmentUtils.isDesktopWeb()&&t.props.hoverable&&(t.isHovering=!0,t.hoverAnimation(),t.props.onMouseEnter&&t.props.onMouseEnter(e,{isDragging:t.isDragging,isHovering:t.isHovering}))},t.onMouseLeave=function(e){v.environmentUtils.isDesktopWeb()&&(t.isHovering=!1,t.isDragging||t.noHoverAnimation(),t.props.onMouseEnter&&t.props.onMouseLeave(e,{isDragging:t.isDragging,isHovering:t.isHovering}))},t.onMove=function(e,n,r,i){var a=t.props,o=a.flush,s=a.knobSize,u=o?S(r,i,s):n;t.props.onMove?t.props.onMove(e,u,{isDragging:t.isDragging,isHovering:t.isHovering}):t.setState({computedPrimaryPercentage:u})},t}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.scaleKnob,r=t.backgroundColor,i=t.containerHeight,a=t.scrubbable,o=t.flush,s=t.height,u=t.hoverable,c=t.knobSize,p=t.primaryColor,h=t.secondaryColor,v=t.knobColor,S=t.activeOpacity,E=t.opacity,T=t.testID,P=(t.accessibilityLabel,t.markers),C=t.rounded,O=this.state,k=O.active,I=O.computedPrimaryPercentage,x=O.computedSecondaryPercentage,D=this.activeHeight,R={height:k&&D?D:s,animHeight:this.getAnimatedValue(s,D),animBorderRadius:C?this.getAnimatedValue(s/2,D/2):0,opacity:k?S:E,animOpacity:this.getAnimatedValue(E,S),borderRadius:C?s/2:0},M={scale:n?this.getAnimatedValue(0,1):1},N=d.StyleSheet.flatten([w.absolute,{width:c/2,height:c}]);return l.default.createElement(A.default,{onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,onFocus:this.onFocus,containerRef:function(t){return e.focusRef=t,e.props.containerRef&&e.props.containerRef(t)},height:i,animOpacity:R.animOpacity,opacity:R.opacity,hoverable:u,testID:T,accessibilityLabel:T},l.default.createElement(b.default,null,l.default.createElement(y.default,{backgroundColor:r,componentStyle:R,flush:o,primaryColor:p,primaryPercentage:I,secondaryColor:h,secondaryPercentage:x})),P.length>0&&l.default.createElement(b.default,null,l.default.createElement(g.default,{active:k,height:R.height,animHeight:R.animHeight,activeHeight:D,markers:P,testID:f.default.testIDs.markersContainer})),l.default.createElement(b.default,null,l.default.createElement(m.default,{componentStyle:M,flush:o,knobSize:c,knobColor:v,knobPosition:I})),l.default.createElement(b.default,null,l.default.createElement(_.default,{onPressIn:a?this.onPressIn:null,onMove:a?this.onMove:null,onPressOut:a?this.onPressOut:null},!o&&l.default.createElement(d.View,{style:[N,{left:-c/2}]}),!o&&l.default.createElement(d.View,{style:[N,{right:-c/2}]}))))},t.prototype.componentDidMount=function(){h.default.add(this.props.focusID,this.focusRef),v.FocusManager.enableFocus(this.focusRef),f.default.alwaysHoverSliderBar&&this.hoverAnimation(),this.setState({isFocused:!0}),this.focusRef&&this.props.focusOnMount&&v.FocusManager.focus(this.focusRef)},t.prototype.componentWillUnmount=function(){h.default.remove(this.props.focusID),v.FocusManager.disableFocus(this.focusRef),this.isHovering&&p.default.resume()},t.prototype.componentWillReceiveProps=function(e){this.setState({computedPrimaryPercentage:e.primaryPercentage,computedSecondaryPercentage:e.secondaryPercentage})},t.prototype.hoverAnimation=function(){d.Animated.timing(this.state.hoverAnimated,{toValue:c.END_STATE,duration:this.props.animationDuration,useNativeDriver:!1}).start(),this.setState({active:!0})},t.prototype.noHoverAnimation=function(){f.default.alwaysShowControls||(d.Animated.timing(this.state.hoverAnimated,{toValue:c.START_STATE,duration:this.props.animationDuration,useNativeDriver:!1}).start(),this.setState({active:!1}))},t.prototype.getAnimatedValue=function(e,t){var n=this.state.hoverAnimated,r=[c.START_STATE,c.END_STATE];return n.interpolate({inputRange:r,outputRange:[e,t]})},t.defaultProps={animationDuration:0,primaryPercentage:0,secondaryPercentage:0,opacity:1,activeOpacity:1,hoverable:!0,knobSize:0,scaleKnob:!1,markers:[],scrubbable:!0,focusOnMount:!1,rounded:!1},t}(l.Component);t.default=E;var w=d.StyleSheet.create({absolute:{position:"absolute"}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(811),p=u(n(32)),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.profile;return c.default.createElement(l.TouchableWithoutFeedback,{onPress:p.default.start},c.default.createElement(f.CastButton,{style:e.chromecastButton}))},t}(c.Component);t.default=d.connect((function(e){return{mediaMetadata:e.configuration.metadata,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{}}))(h)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(26)),o=n(28),s=n(7);t.default=function(e,t){void 0===e&&(e=[]);var n={text:a.default.t("settings.autoQualityOption"),flagText:null,isSelected:t===o.VIDEO_QUALITY_AUTO,value:o.VIDEO_QUALITY_AUTO},i=s._.uniqBy(e,"height").sort((function(e,t){return t.height-e.height})).map((function(e){return{text:s.videoUtils.formatHeight(e.height),flagText:s.videoUtils.resolutionTag(e.height),isSelected:t===e.height,value:e.height}})).filter((function(e){return e.text&&e.value}));return i.length?r([n],i):[]}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=u(n(815)),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyExtractor=function(e){return"value"+e.value},t.onSelectItem=function(e){return function(){t.props.onSelectItem(e),t.props.onBackPress()}},t.renderItem=function(e){var n=e.item,r=(e.index,t.props),i=r.icons,a=r.testID;r.accessibilityLabel;return c.default.createElement(d.default,{icons:i,onPress:t.onSelectItem(n.value),title:n.text,isSelected:n.isSelected,testID:a,accessibilityLabel:a})},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.data;e.testID;return c.default.createElement(c.default.Fragment,null,c.default.createElement(l.FlatList,{data:t,keyExtractor:this.keyExtractor,nativeID:"vilosRadioSubmenu",renderItem:this.renderItem}))},t}(c.Component);t.default=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenuToggleSwitch=void 0;var l,d=u(n(1)),f=n(3),p=c(n(159)),h=n(7);!function(e){e[e.START_POSITION=4]="START_POSITION",e[e.END_POSITION=24]="END_POSITION"}(l||(l={}));var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={xPosition:new f.Animated.Value(t.props.isToggled?l.END_POSITION:l.START_POSITION)},t.onPress=function(){var e=t.props.isToggled?l.START_POSITION:l.END_POSITION;t.ballPositionAnimation(e)},t.ballPositionAnimation=function(e){var n=t.props.onPress,r=t.state.xPosition;f.Animated.timing(r,{toValue:e,duration:75,useNativeDriver:!1}).start((function(){n&&n()}))},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=(e.isActive,e.isToggled),n=e.isHovered,r=e.containerStyles,i=e.ballStyles,a=e.toggledColor,o=e.baseColor,s=e.hoverColor,u=e.text,c=e.textStyles,l={left:this.state.xPosition},p=o;return t?p=a:n&&(p=s),d.default.createElement(f.TouchableWithoutFeedback,{onPress:this.onPress},d.default.createElement(f.View,{style:[m.container,r],"data-test-state":t},d.default.createElement(f.Text,{style:[c,m.text]},u),d.default.createElement(f.View,{style:[{borderColor:p},m.switchContainer]},d.default.createElement(f.Animated.View,{style:[{backgroundColor:p},l,i,m.ball]}))))},t.defaultProps={containerStyles:{},ballStyles:{},textStyles:{},toggledColor:"#28BDBB",hoverColor:"#FFFFFF",baseColor:"#A0A0A0",text:"",isToggled:!1,isActive:!1,isHovered:!1},t}(d.Component),m=f.StyleSheet.create({container:{flex:1,flexDirection:"row",justifyContent:"space-between",height:40,alignItems:"center"},switchContainer:a({flex:0,flexDirection:"column",justifyContent:"space-evenly",minWidth:40,minHeight:20,borderRadius:10,borderWidth:2,backgroundColor:"#192e38"},h.styleUtils.webStyle({cursor:"pointer"})),ball:{position:"relative",width:8,height:8,borderRadius:8},text:{color:"#FFFFFF"}});t.SettingsMenuToggleSwitch=p.default((function(e){var t=e.profile,n=a({fontSize:t.settingsControl.fontSize},t.text);return d.default.createElement(v,a({textStyles:n,containerStyles:t.toggleSwitch.container},e))})),t.default=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=c(n(361)),p=c(n(12)),h=c(n(159)),v=c(n(360)),m=c(n(161)),g=h.default((function(e){var t=e.isActive,n=e.isHovered,r=e.item,i=e.profile;return l.default.createElement(d.View,{style:b.entryContainer},l.default.createElement(f.default,{isHovered:n,isSelected:r.isSelected}),l.default.createElement(m.default,a({style:b.entryText,isActive:t,isHovered:n,profile:i},r)))})),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyExtractor=function(e){return"value"+e.value},t.onSelectItem=function(e){t.props.onSelectItem(e)},t.renderFooter=function(){return l.default.createElement(d.View,{style:b.listFooter})},t.renderItem=function(e){var n=e.item,r=t.props.profile,i=n.isSelected?p.default.testState.settingsMenuRadioItem.active:p.default.testState.settingsMenuRadioItem.inactive;return l.default.createElement(g,{onPress:function(){return t.onSelectItem(n.value)},profile:r,testID:p.default.testIDs.settingsMenuRadioItem,accessibilityLabel:p.default.testIDs.settingsMenuRadioItem,"data-test-state":i,item:n})},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.icons,r=e.onBackPress,i=e.profile,a=e.testID,o=e.title;return l.default.createElement(l.default.Fragment,null,l.default.createElement(d.View,{style:b.spacer}),l.default.createElement(v.default,{accessibilityLabel:p.default.testIDs.settingsBackButton,icons:n,onPress:r,profile:i,testID:p.default.testIDs.settingsBackButton,title:o}),l.default.createElement(d.FlatList,{ListFooterComponent:this.renderFooter,data:t,keyExtractor:this.keyExtractor,nativeID:"vilosRadioSubmenu",renderItem:this.renderItem,testID:a,accessibilityLabel:a}))},t}(l.Component);t.default=y;var b=d.StyleSheet.create({spacer:{height:10},entryContainer:{alignItems:"center",flexDirection:"row"},listFooter:{paddingBottom:10},titleText:{marginLeft:6,lineHeight:26},leftChevron:{marginLeft:-2,width:24,height:24},entryText:{marginLeft:8}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=c(n(358)),g=c(n(835)),y=c(n(12)),b=u(n(40)),_=n(39),A=n(69),S=n(41),E=n(58),w=c(n(22)),T=c(n(150)),P=c(n(208)),C=n(23),O=c(n(836)),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={clientX:0,isFocused:!1,pageX:0,previewTime:null,relativeX:0,width:0},t.componentDidUpdate=function(e){if(t.props.navigationMode===A.NavigationMode.SCRUBBING&&e.navigationMode!==A.NavigationMode.SCRUBBING)try{t.focusRef&&T.default.focus(t.focusRef)}catch(e){}},t.onLayout=function(e){w.default.isWeb()||e.persist(),t.viewRef.measure((function(n,r,i,a,o,s){var u=e.nativeEvent.layout.width;t.setState({pageX:o,width:u},(function(){t.awaitingLayoutEvt&&(t.updatePreviewPosition(t.awaitingLayoutEvt),t.awaitingLayoutEvt=null)}))}))},t.updatePreviewPosition=function(e,n){var r=t.props,i=r.isPreviewing,a=r.playerActions,o=t.state,s=o.pageX,u=o.width,c=e.nativeEvent?e.nativeEvent.pageX:e.clientX,l=c-s,d=C.calculatePercentage(l,u),f=null!=n?n:t.calculateContentTime(d);t.setState({clientX:c,previewTime:f,relativeX:l}),i||a.startPreview(f)},t.onMouseEnter=function(e,n){n.isDragging||(t.state.width?t.updatePreviewPosition(e):(e.persist(),t.awaitingLayoutEvt=e))},t.onMouseMove=function(e,n){var r=n.isDragging;t.state.width&&!r&&t.updatePreviewPosition(e)},t.onMouseLeave=function(e,n){n.isDragging||(t.setState({previewTime:null}),t.props.playerActions.endPreview())},t.onPressIn=function(e,n,r){r.isDragging,r.isHovering;t.props.playerActions.startScrub(t.calculateContentTime(n))},t.onDrag=function(e,n,r){r.isDragging,r.isHovering;var i=t.calculateContentTime(n);t.props.playerActions.updateScrub(i),t.updatePreviewPosition(e,i)},t.onPressOut=function(e,n,r){r.isDragging;var i=r.isHovering,a=t.props.playerActions;a.endScrub(),a.requestSeekToContentTime(t.calculateContentTime(n)),i||a.endPreview()},t.onFocusChange=function(e){return t.setState({isFocused:e})},t.onFocus=function(){return t.setState({isFocused:!0})},t.onBlur=function(){return t.setState({isFocused:!1})},t.renderPreviewImage=function(){var e=t.state,n=e.clientX,r=e.pageX,i=e.previewTime,a=e.relativeX;return l.default.createElement(O.default,{absoluteX:n,containerLeft:r,relativeX:a,time:i})},t.calculateContentTime=function(e){return e/100*t.props.contentDuration},t}return i(t,e),t.prototype.renderTooltip=function(){var e=this.props.profile,t=this.state,n=t.clientX,r=t.pageX,i=t.previewTime,a=t.relativeX,o=P.default.formatDisplayTime(i);return l.default.createElement(g.default,{absoluteX:n,containerLeft:r,padding:100,relativeX:a,relativeY:e.scrubBar.tooltipY},o)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.adBreaks,i=n.buffered,o=n.configuration,s=n.contentDuration,u=n.contentOffset,c=n.contentTime,f=n.isPreviewing,p=n.isScrubbing,h=n.isTrickScrubArchiveLoaded,v=n.layoutName,g=n.profile,A=n.scaleKnob,T=n.seekTime,P=n.scrubTime,C=_.isUsingSSAI(o),O="number"==typeof T?T-u:null!==P?P:c;e=p?P?P/s*100:0:O?O/s*100:0;for(var k=0,x=0;x<i.length;++x)if(c>=i[x].start-u&&c<=i[x].end-u){k=(i[x].end-u)/s*100;break}var D={};D=v===E.Layout.PHONE?I.mobileContainer:v===E.Layout.TABLET?I.tabletContainer:I.container;var R=this.state.isFocused?{knobSize:g.scrubBar.knobSizeFocused,knobActiveSize:g.scrubBar.knobActiveSizeFocused,height:g.scrubBar.heightFocused,activeHeight:g.scrubBar.activeHeightFocused,knobColor:g.scrubBar.knobColorFocused,primaryColor:g.scrubBar.primaryColorFocused,secondaryColor:g.scrubBar.secondaryColorFocused}:{},M=a(a({},g.scrubBar),R),N=b.generateAdMarkers(r,s,C,g.adMarkers),L={};p&&(L={opacity:1});var j=h,B=!j;return(y.default.adsUIDebugMode||!f||w.default.isYoui())&&(B=!1,j=!1),l.default.createElement(d.View,{ref:function(e){return t.viewRef=e},style:[I.default,D,L],onLayout:this.onLayout},l.default.createElement(l.default.Fragment,null,j&&this.renderPreviewImage(),B&&this.renderTooltip(),l.default.createElement(m.default,{flush:M.flush,scaleKnob:A,knobSize:M.knobSize,height:M.height,activeHeight:M.activeHeight,opacity:M.opacity,activeOpacity:M.activeOpacity,containerHeight:M.containerHeight,backgroundColor:M.backgroundColor,primaryColor:M.primaryColor,secondaryColor:M.secondaryColor,knobColor:M.knobColor,primaryPercentage:e,secondaryPercentage:k,animationDuration:M.animationDuration,onMove:this.onDrag,onPressIn:this.onPressIn,onPressOut:this.onPressOut,onMouseMove:this.onMouseMove,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,focusID:S.FocusIDs.scrubBar,testID:y.default.testIDs.scrubBar,accessibilityLabel:y.default.testIDs.scrubBar,onFocus:this.onFocus,onBlur:this.onBlur,markers:N,inputActions:this.props.inputActions,containerRef:function(e){return t.focusRef=e},playerActions:this.props.playerActions,uiActions:this.props.uiActions,rounded:!0})))},t.defaultProps={flush:!1},t}(l.Component),I=d.StyleSheet.create({default:{position:"relative",zIndex:1},container:{flex:1,height:"100%",width:"100%"},mobileContainer:{flex:0,minHeight:24,width:"100%"},tabletContainer:{flex:0,minHeight:46,width:"100%"}});t.default=f.connect((function(e){return{adBreaks:e.adsManager.adBreaks,buffered:v.playerSelectors.all(e).buffered,configuration:e.configuration,contentDuration:e.media.contentDuration,contentOffset:e.media.contentOffset,contentTime:e.media.contentTime,isPreviewing:v.playerSelectors.all(e).isPreviewing,isScrubbing:v.playerSelectors.all(e).isScrubbing,isTrickScrubArchiveLoaded:e.media.isTrickScrubArchiveLoaded,profile:e.theme.profiles[e.theme.activeProfile],navigationMode:e.navigationManager.navigationMode,scrubTime:v.playerSelectors.all(e).scrubTime,seekTime:v.playerSelectors.all(e).seekTime}}),(function(e){return{controlsActions:p.bindActionCreators(h.controlsActionCreators,e),playerActions:p.bindActionCreators(h.playerActionCreators,e),inputActions:p.bindActionCreators(h.inputActionCreators,e),uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))(k)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(8),p=u(n(156)),h=u(n(12)),v=n(7),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.media,r=t.profile,i=t.scrubTime,a=t.seekTime,o=t.style,s=n.contentOffset,u=n.contentTime,d=r.text;return e=v._.isNil(i)?v._.isNil(a)?u:a-s:i,c.default.createElement(l.Text,{style:[d,o],testID:h.default.testIDs.currentTimeLabel,accessibilityLabel:h.default.testIDs.currentTimeLabel},v.timeUtils.formatDisplayTime(e))},t}(c.Component);t.default=d.connect((function(e){var t=f.playerSelectors.all(e);return{media:e.media,profile:e.theme.profiles[e.theme.activeProfile],scrubTime:t.scrubTime,seekTime:t.seekTime}}))(p.default(m))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(14),p=n(2),h=u(n(156)),v=u(n(12)),m=n(7),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.duration,n=e.profile,r=e.style,i=n.text;return c.default.createElement(l.Text,{style:[i,r],testID:v.default.testIDs.durationLabel,accessibilityLabel:v.default.testIDs.durationLabel},m.timeUtils.formatDisplayTime(t))},t}(c.Component);t.default=d.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile],duration:e.media.contentDuration}}),(function(e){return{playerActions:f.bindActionCreators(p.playerActionCreators,e)}}))(h.default(g))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VOLUME_ADJUSTMENT=t.DEFAULT_SCRUB_INCREMENT=void 0;var r=n(7);t.DEFAULT_SCRUB_INCREMENT=r.environmentUtils.isYoui()?10:5,t.DEFAULT_VOLUME_ADJUSTMENT=.05},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(a(n(13)).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getImageUri=t.Orientation=void 0;var s=o(n(1)),u=n(3),c=n(6),l=n(33),d=o(n(880)),f=o(n(881)),p=o(n(883));!function(e){e.landscape="landscape",e.portrait="portrait"}(t.Orientation||(t.Orientation={})),t.getImageUri=function(e,t){var n=e.id,r=e.height,i=e.orientation;return t&&(t.find((function(e){return e.mediaId===n&&e.height===r&&e.orientation===i}))||{}).src||""};var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUpNextTitle=function(){},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.children;return e.profile?s.default.createElement(u.View,{style:v.container},s.default.createElement(d.default,null),s.default.createElement(f.default,null,s.default.createElement(s.default.Fragment,null,t)),s.default.createElement(p.default,null)):null},t}(s.default.Component),v=u.StyleSheet.create({container:a(a({},u.StyleSheet.absoluteFillObject),{flexDirection:"row",padding:l.toRelativeScale(100)})});t.default=c.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}),null)(h)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=u(n(122)),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focused:!1},t.button=void 0,t.handleRef=function(e){t.button||(t.button=e,d.default.add(t.props.focusID,e),t.props.shouldFocusOnMount&&t.button.focus())},t.handleFocus=function(){return t.setState({focused:!0})},t.handleBlur=function(){return t.setState({focused:!1})},t.renderButton=function(){var e=t.props,n=e.children,r=e.style,i=e.focusedStyle,a=e.focusedBackgroundColor,o=e.disabled,s=e.onPress,u=e.testID,d=t.state.focused?i:r;return c.default.createElement(l.TouchableHighlight,{activeOpacity:1,underlayColor:a,style:d,ref:t.handleRef,onFocus:t.handleFocus,onBlur:t.handleBlur,onPress:s,disabled:o,testID:u,accessibilityLabel:u},c.default.createElement(c.default.Fragment,null,n))},t}return i(t,e),t.prototype.componentWillUnmount=function(){d.default.remove(this.props.focusID)},t.prototype.render=function(){var e=this.state.focused?this.props.focusedBackgroundColor:this.props.backgroundColor;return this.props.backgroundColor?c.default.createElement(l.View,{style:{backgroundColor:e}},this.renderButton()):this.renderButton()},t}(c.Component);t.default=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.handleSetSource=void 0;var a=n(21),o=n(2);t.handleSetSource=function(e,t){var n=t.drm,i=t.source,a=t.type,o=t.startTime,s=void 0===o?0:o;return r(r({},e),{drm:n,startTime:s,seekTime:null,source:i,type:a,activeAudioTrack:null,buffered:[],cdnMetrics:{affinityHost:null,cdnAvgRate:null,hosts:{},manifestHost:null},contentSeekTime:null,duration:null,error:null,isDrmAuthorizationLoaded:!1,isDrmAuthorizationRequested:!1,isDrmCertificateLoaded:!1,isDrmCertificateRequested:!1,isDrmFailed:!1,isDrmLicenseLoaded:!1,isDrmLicenseRequested:!1,isDrmLicenseRequestFailed:!1,isEnded:!1,isInitialPlayGranted:!1,isLoaded:!1,isMetadataLoaded:!1,isPauseRequested:!1,isPaused:!0,isPlayRejected:!1,isPlayRequested:!1,isSeeking:!1,isSeekRequested:!1,isStopped:!1,isWaiting:!1,playPauseCaller:null,warnings:[]})};t.default=function(e,n){var s=a.createReducer({},n);return s.on(o.coreActionCreators.activatePlayer,(function(e,t){return r(r({},e),{isActive:e.playerType===t})})),s.on(e.abrAdapted,(function(e,t){return r(r({},e),{abrIndex:t})})),s.on(e.addWarning,(function(e,t){return r(r({},e),{warnings:i(e.warnings,[t])})})),s.on(e.attachedTech,(function(e,t){var n=t.attachedTech,i=t.attachedTechVersion;return r(r({},e),{attachedTech:n,attachedTechVersion:i})})),s.on(e.detachedTech,(function(e){return r(r({},e),{attachedTech:null,attachedTechVersion:null})})),s.on(e.disableBuffering,(function(e){return r(r({},e),{isBufferingDisabled:!0})})),s.on(e.enableBuffering,(function(e){return r(r({},e),{isBufferingDisabled:!1})})),s.on(e.ended,(function(e){return r(r({},e),{ended:!0})})),s.on(e.endSeek,(function(e){return r(r({},e),{isSeeking:!1,contentSeekTime:null,seekTime:null})})),s.on(e.endWaiting,(function(e){return r(r({},e),{isWaiting:!1})})),s.on(e.error,(function(e,t){return r(r({},e),{error:t})})),s.on(e.failedDrmLoad,(function(e){return r(r({},e),{isDrmFailed:!0})})),s.on(e.failedDrmLicenseRequest,(function(e){return r(r({},e),{isDrmLicenseRequestFailed:!0})})),s.on(e.grantInitialPlay,(function(e){return r(r({},e),{isInitialPlayGranted:!0})})),s.on(e.hideControls,(function(e){return r(r({},e),{areControlsVisible:!1})})),s.on(e.initialPlayStarted,(function(e){return r(r({},e),{hasStartedInitialPlay:!0})})),s.on(e.loadStart,(function(e,t){return r(r({},e),t)})),s.on(e.loadedAudioTracks,(function(e,t){return r(r({},e),{audioTracks:t})})),s.on(e.loadedData,(function(e){return r(r({},e),{isLoaded:!0})})),s.on(e.loadedDrmAuthorization,(function(e){return r(r({},e),{isDrmAuthorizationRequested:!1,isDrmAuthorizationLoaded:!0})})),s.on(e.loadedDrmCertificate,(function(e){return r(r({},e),{isDrmCertificateRequested:!1,isDrmCertificateLoaded:!0})})),s.on(e.loadedDrmLicense,(function(e){return r(r({},e),{isDrmLicenseRequested:!1,isDrmLicenseLoaded:!0})})),s.on(e.loadedMetadata,(function(e){return r(r({},e),{isMetadataLoaded:!0})})),s.on(e.loadedVideoTracks,(function(e,t){return r(r({},e),{videoTracks:t})})),s.on(e.pause,(function(e){return r(r({},e),{isPauseRequested:!1,isPaused:!0})})),s.on(e.play,(function(e){return r(r({},e),{isEnded:!1,isPaused:!1,isPlayRequested:!1})})),s.on(e.playing,(function(e){return r(r({},e),{isEnded:!1,isPaused:!1,isPlayRequested:!1,isWaiting:!1})})),s.on(e.progress,(function(e,t){return r(r({},e),{buffered:t})})),s.on(e.rejectPlay,(function(e,t){return r(r({},e),{isPlayRejected:!0,isPlayRequested:!1})})),s.on(e.readyForLicenseByCdm,(function(e){return r(r({},e),{isDrmCdmReadyForLicense:!0})})),s.on(e.readyToPlay,(function(e){return r(r({},e),{isReadyToPlay:!0})})),s.on(e.requestDrmAuthorization,(function(e){return r(r({},e),{isDrmAuthorizationRequested:!0})})),s.on(e.requestDrmCertificate,(function(e){return r(r({},e),{isDrmCertificateRequested:!0})})),s.on(e.requestDrmLicense,(function(e){return r(r({},e),{isDrmLicenseRequested:!0})})),s.on(e.requestPause,(function(e,t){return r(r({},e),{playPauseCaller:t,isPauseRequested:!0})})),s.on(e.requestPlay,(function(e,t){return r(r({},e),{playPauseCaller:t,isPlayRequested:!0})})),s.on(e.requestSeekToContentTime,(function(e,t){return r(r({},e),{contentSeekTime:t})})),s.on(e.requestSeekToStreamTime,(function(e,t){return r(r({},e),{isSeekRequested:!0,seekTime:t})})),s.on(e.resolvePlay,(function(e){return r(r({},e),{isPlayRejected:!1,isPlayRequested:!1})})),s.on(e.setDuration,(function(e,t){return r(r({},e),{duration:t})})),s.on(e.setSource,t.handleSetSource),s.on(e.setStartTime,(function(e,t){return r(r({},e),{startTime:t})})),s.on(e.setVideoTrackQuality,(function(e,t){return r(r({},e),{activeVideoTrackQuality:t,abrIndex:null})})),s.on(e.showControls,(function(e){return r(r({},e),{areControlsVisible:!0})})),s.on(e.startSeek,(function(e){return r(r({},e),{isSeekRequested:!1,isSeeking:!0})})),s.on(e.stopped,(function(e){return r(r({},e),{isStopped:!0})})),s.on(o.contentLifecycleActionCreators.completeUnloadContent,(function(e){return r(r({},n),{isActive:e.isActive,assetDownloads:e.assetDownloads})})),s.on(e.updateCdnMetrics,(function(e,t){return r(r({},e),{cdnMetrics:t})})),s.on(e.waiting,(function(e){return r(r({},e),{isWaiting:!0})})),s.on(o.coreActionCreators.rejectSeek,(function(e){return r(r({},e),{isSeekRequested:!1,contentSeekTime:null,seekTime:null})})),s.on(e.disableAutoPlay,(function(e){return r(r({},e),{isAutoPlayEnabled:!1})})),s.on(e.enableAutoPlay,(function(e){return r(r({},e),{isAutoPlayEnabled:!0})})),s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationMode=void 0,t.getNavigationMode=function(e){return e.navigationManager.navigationMode}},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){"use strict";var r=n(90),i=n(88),a=n(128),o=n(0),s=Object(i.a)(a.a),u={accessibilityComponentType:o.string,accessibilityLabel:o.string,accessibilityLiveRegion:Object(o.oneOf)(["assertive","none","polite"]),accessibilityRole:o.string,accessibilityStates:Object(o.arrayOf)(Object(o.oneOf)(["disabled","selected","busy","checked","expanded","grabbed","invalid","pressed"])),accessibilityTraits:Object(o.oneOfType)([o.array,o.string]),accessible:o.bool,children:o.any,hitSlop:r.a,importantForAccessibility:Object(o.oneOf)(["auto","no","no-hide-descendants","yes"]),nativeID:o.string,onBlur:o.func,onClick:o.func,onClickCapture:o.func,onFocus:o.func,onLayout:o.func,onMoveShouldSetResponder:o.func,onMoveShouldSetResponderCapture:o.func,onResponderGrant:o.func,onResponderMove:o.func,onResponderReject:o.func,onResponderRelease:o.func,onResponderTerminate:o.func,onResponderTerminationRequest:o.func,onStartShouldSetResponder:o.func,onStartShouldSetResponderCapture:o.func,onTouchCancel:o.func,onTouchCancelCapture:o.func,onTouchEnd:o.func,onTouchEndCapture:o.func,onTouchMove:o.func,onTouchMoveCapture:o.func,onTouchStart:o.func,onTouchStartCapture:o.func,pointerEvents:Object(o.oneOf)(["auto","box-none","box-only","none"]),style:s,testID:o.string,onContextMenu:o.func,itemID:o.string,itemRef:o.string,itemProp:o.string,itemScope:o.string,itemType:o.string,accessibilityViewIsModal:o.bool,collapsable:o.bool,needsOffscreenAlphaCompositing:o.bool,onAccessibilityTap:o.func,onMagicTap:o.func,removeClippedSubviews:o.bool,renderToHardwareTextureAndroid:o.bool,shouldRasterizeIOS:o.bool,tvParallaxProperties:o.object};t.a=u},function(e,t,n){"use strict";var r=n(171);t.a=r.a},function(e,t,n){"use strict";e.exports=n(585)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=u(n(174)),d=u(n(210)),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.config,n=e.debug,r=e.theme;return c.default.createElement(d.default,{config:t,debug:n||!1,theme:r||l.default})},t}(c.Component);t.default=f},function(e,t,n){"use strict";(function(e){var r=n(105),i=n(241),a=n(4),o=n.n(a),s=n(16);function u(e,t){return null==e?t:e}var c=function(t){var n,r;function a(e){var n;if((n=t.call(this)||this)._overshootClamping=u(e.overshootClamping,!1),n._restDisplacementThreshold=u(e.restDisplacementThreshold,.001),n._restSpeedThreshold=u(e.restSpeedThreshold,.001),n._initialVelocity=u(e.velocity,0),n._lastVelocity=u(e.velocity,0),n._toValue=e.toValue,n._delay=u(e.delay,0),n._useNativeDriver=Object(s.c)(e),n.__isInteraction=void 0===e.isInteraction||e.isInteraction,n.__iterations=void 0!==e.iterations?e.iterations:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)o()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),n._stiffness=u(e.stiffness,100),n._damping=u(e.damping,10),n._mass=u(e.mass,1);else if(void 0!==e.bounciness||void 0!==e.speed){o()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var r=i.a.fromBouncinessAndSpeed(u(e.bounciness,8),u(e.speed,12));n._stiffness=r.stiffness,n._damping=r.damping,n._mass=1}else{var a=i.a.fromOrigamiTensionAndFriction(u(e.tension,40),u(e.friction,7));n._stiffness=a.stiffness,n._damping=a.damping,n._mass=1}return o()(n._stiffness>0,"Stiffness value must be greater than 0"),o()(n._damping>0,"Damping value must be greater than 0"),o()(n._mass>0,"Mass value must be greater than 0"),n}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var c=a.prototype;return c.__getNativeAnimationConfig=function(){return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:u(this._initialVelocity,this._lastVelocity),toValue:this._toValue,iterations:this.__iterations}},c.start=function(e,t,n,r,i){var o=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,r instanceof a){var s=r.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var u=function(){o._useNativeDriver?o.__startNativeAnimation(i):o.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()},c.getInternalState=function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}},c.onUpdate=function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,a=-this._initialVelocity,o=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),u=s*Math.sqrt(1-o*o),c=this._toValue-this._startPosition,l=0,d=0,f=this._frameTime;if(o<1){var p=Math.exp(-o*s*f);l=this._toValue-p*((a+o*s*c)/u*Math.sin(u*f)+c*Math.cos(u*f)),d=o*s*p*(Math.sin(u*f)*(a+o*s*c)/u+c*Math.cos(u*f))-p*(Math.cos(u*f)*(a+o*s*c)-u*c*Math.sin(u*f))}else{var h=Math.exp(-s*f);l=this._toValue-h*(c+(a+s*c)*f),d=h*(a*(f*s-1)+f*c*(s*s))}if(this._lastTime=e,this._lastPosition=l,this._lastVelocity=d,this._onUpdate(l),this.__active){var v=!1;this._overshootClamping&&0!==this._stiffness&&(v=this._startPosition<this._toValue?l>this._toValue:l<this._toValue);var m=Math.abs(d)<=this._restSpeedThreshold,g=!0;if(0!==this._stiffness&&(g=Math.abs(this._toValue-l)<=this._restDisplacementThreshold),v||m&&g)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},c.stop=function(){t.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),e.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},a}(r.a);t.a=c}).call(this,n(45))},function(e,t,n){"use strict";function r(e){return 3.62*(e-30)+194}function i(e){return 3*(e-8)+25}t.a={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:r(e),damping:i(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function a(e,t,n){return t+e*(n-t)}var o=n(e/1.7,0,20);o=a(o,0,.8);var s,u,c,l,d=a(n(t/1.7,0,20),.5,200),f=(s=o,u=(c=d)<=18?(l=c,7e-4*Math.pow(l,3)-.031*Math.pow(l,2)+.64*l+1.28):c>18&&c<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(c):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(c),function(e,t,n){return e*n+(1-e)*t}(2*s-s*s,u,.01));return{stiffness:r(d),damping:i(f)}}}},function(e,t,n){"use strict";(function(e){var r,i=n(105),a=n(133),o=n(16);var s=function(t){var n,i;function s(e){var n;return(n=t.call(this)||this)._toValue=e.toValue,n._easing=void 0!==e.easing?e.easing:(r||(r=a.a.inOut(a.a.ease)),r),n._duration=void 0!==e.duration?e.duration:500,n._delay=void 0!==e.delay?e.delay:0,n.__iterations=void 0!==e.iterations?e.iterations:1,n.__isInteraction=void 0===e.isInteraction||e.isInteraction,n._useNativeDriver=Object(o.c)(e),n}i=t,(n=s).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var u=s.prototype;return u.__getNativeAnimationConfig=function(){for(var e=[],t=0;t<this._duration;t+=1e3/60)e.push(this._easing(t/this._duration));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations}},u.start=function(e,t,n,r,i){var a=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=function(){0!==a._duration||a._useNativeDriver?(a._startTime=Date.now(),a._useNativeDriver?a.__startNativeAnimation(i):a._animationFrame=requestAnimationFrame(a.onUpdate.bind(a))):(a._onUpdate(a._toValue),a.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()},u.onUpdate=function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))},u.stop=function(){t.prototype.stop.call(this),this.__active=!1,clearTimeout(this._timeout),e.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},s}(i.a);t.a=s}).call(this,n(45))},function(e,t,n){"use strict";e.exports={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e}}},function(e,t,n){"use strict";(function(e,r){var i,a=n(399);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.a=o}).call(this,n(45),n(570)(e))},function(e,t,n){"use strict";var r=n(238),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!(a[g]||r&&r[g]||v&&v[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}},function(e){e.exports=JSON.parse('{"a":"VelocityPlayer"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLayer=t.all=void 0,t.all=function(e){return e.configStack},t.getLayer=function(e,t){var n;return null===(n=e.configStack.layers[t])||void 0===n?void 0:n.config}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.allowsCellular=t.isPremium=t.self=void 0;var i=n(176),a=r(n(31)),o=n(43),s=n(23);t.self=function(e){return e.configuration},t.isPremium=function(e){var t;return s.containsRestriction(null===(t=e.configuration.user)||void 0===t?void 0:t.allowedRestrictions,o.ContentRestriction.PREMIUM)},t.allowsCellular=function(e){var t=e.configuration;return a.default.get(t,"user.allowedRestrictions",[]).includes(i.NetInfoStateType.cellular)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},function(e,t,n){var r=n(93),i=n(62);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(256),i=n(458),a=n(257);e.exports=function(e,t,n,o,s,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e),p=u.get(t);if(f&&p)return f==t&&p==e;var h=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var g=e[h],y=t[h];if(o)var b=c?o(y,g,h,t,e,u):o(g,y,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!a(m,t)&&(g===e||s(g,e,n,o,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,o,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},function(e,t,n){var r=n(183),i=n(456),a=n(457);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(56).Uint8Array;e.exports=r},function(e,t,n){var r=n(260),i=n(187),a=n(111);e.exports=function(e){return r(e,a,i)}},function(e,t,n){var r=n(186),i=n(46);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(463),i=n(141),a=n(46),o=n(142),s=n(188),u=n(189),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),d=!n&&!l&&o(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(e,t,n){var r=n(144),i=n(467),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(83)(n(56),"Set");e.exports=r},function(e,t,n){var r=n(62);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(114);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(476),i=n(477);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t,n){var r=n(483);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},function(e,t,n){var r=n(93),i=n(194),a=n(74),o=Function.prototype,s=Object.prototype,u=o.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},function(e,t,n){var r=n(83),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(186),i=n(194),a=n(187),o=n(261),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},function(e,t,n){var r=n(260),i=n(273),a=n(145);e.exports=function(e){return r(e,a,i)}},function(e,t,n){var r=n(270),i=n(519),a=n(521);e.exports=function(e){return a(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(277),i=n(530)(r);e.exports=i},function(e,t,n){var r=n(528),i=n(111);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(195),i=n(96),a=n(188),o=n(62),s=n(97);e.exports=function(e,t,n,u){if(!o(e))return e;for(var c=-1,l=(t=i(t,e)).length,d=l-1,f=e;null!=f&&++c<l;){var p=s(t[c]),h=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var v=f[p];void 0===(h=u?u(v,p,f):void 0)&&(h=o(v)?v:a(t[c+1])?[]:{})}r(f,p,h),f=f[p]}return e}},function(e,t,n){var r=n(256),i=n(547),a=n(551),o=n(257),s=n(552),u=n(185);e.exports=function(e,t,n){var c=-1,l=i,d=e.length,f=!0,p=[],h=p;if(n)f=!1,l=a;else if(d>=200){var v=t?null:s(e);if(v)return u(v);f=!1,l=o,h=new r}else h=t?[]:p;e:for(;++c<d;){var m=e[c],g=t?t(m):m;if(m=n||0!==m?m:0,f&&g==g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),p.push(m)}else l(h,g,n)||(h!==p&&h.push(g),p.push(m))}return p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setA9Params=t.prepareA9Params=void 0;var r=n(21);t.prepareA9Params=r.createAction("A/a9/PREPARE_A9_PARAMS"),t.setA9Params=r.createAction("A/a9/SET_A9_PARAMS")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.handleStartedAdBreak=t.beaconError=t.beaconSuccess=t.completeEndedAdBreak=t.receivedAllAdBidInfo=t.setAdBidPluginOptions=t.registerAdBidPlugin=t.vpaidUnloadAdUnit=t.vpaidStartedAdSlot=t.vpaidGetInteractiveUnit=t.vpaidEndedAdSlot=t.vpaidAdUserMinimize=t.vpaidAdUserClose=t.vpaidAdUserAcceptInvitation=t.vpaidAdSkipped=t.vpaidAdInteraction=t.vpaidAdExpandedChange=t.vpaidAdError=t.vpaidAdClickThrough=t.truexUserCancelStream=t.truexUserCancel=t.truexOptOut=t.truexOptIn=t.truexNoAdsAvailable=t.truexGetInteractiveUnit=t.truexAdFreePod=t.truexAdCompleted=t.startedAdSlot=t.startedAdBreak=t.skippedAdSlot=t.sawAdImpression=t.resumedAdSlot=t.requestResumeAdSlot=t.requestPauseAdSlot=t.pausedAdSlot=t.loadingAdSlot=t.finishedQuartile75=t.finishedQuartile50=t.finishedQuartile25=t.endedAdSlot=t.endedAdBreak=t.clickedThrough=t.clickedAd=t.caughtAdSlotError=t.gesturePermissionGranted=t.attemptedAutoPlay=t.requestAdBreakStart=t.grantAdBreakStart=t.reset=t.receivedVendriEvent=t.setHasPreroll=t.setAdsReady=t.setVendriIsReady=t.sentPidToVendri=t.loadedPID=t.initializedVendri=t.failedToLoadPID=t.rejectAdsAutoPlay=t.updateTotalDurationOfAdsConsumed=t.updateBidNetworkParameters=t.updateAdBreaks=t.updateAdBreak=t.setTargetAdBreakIndex=t.setIsInAdBreak=t.setIsAutoPlayAllowed=t.resetTotalDurationOfAdsConsumed=t.resetAdBreaks=void 0;var u=n(21),c=o(n(283)),l=o(n(199)),d=n(40);t.resetAdBreaks=u.createAction("A/RESET_AD_BREAKS"),t.resetTotalDurationOfAdsConsumed=u.createAction("A/RESET_TOTAL_DURATION_OF_ADS_CONSUMED"),t.setIsAutoPlayAllowed=u.createAction("A/SET_IS_AUTOPLAY_ALLOWED"),t.setIsInAdBreak=u.createAction("A/SET_IS_IN_AD_BREAK"),t.setTargetAdBreakIndex=u.createAction("A/SET_TARGET_AD_BREAK_INDEX"),t.updateAdBreak=u.createAction("A/UPDATE_AD_BREAK"),t.updateAdBreaks=u.createAction("A/UPDATE_AD_BREAKS"),t.updateBidNetworkParameters=u.createAction("A/UPDATE_BID_NETWORK_PARAMETERS"),t.updateTotalDurationOfAdsConsumed=u.createAction("A/UPDATE_TOTAL_DURATION_OF_ADS_CONSUMED"),t.rejectAdsAutoPlay=u.createAction("A/REJECT_ADS_AUTOPLAY"),t.failedToLoadPID=u.createAction("A/FAILED_TO_LOAD_PID"),t.initializedVendri=u.createAction("A/INITIALIZED_VENDRI"),t.loadedPID=u.createAction("A/LOADED_PID"),t.sentPidToVendri=u.createAction("A/Vendri/SENT_PID_TO_VENDRI"),t.setVendriIsReady=u.createAction("A/Vendri/SET_IS_READY"),t.setAdsReady=u.createAction("A/SET_ADS_READY"),t.setHasPreroll=u.createAction("A/SET_HAS_PREROLL"),t.receivedVendriEvent=u.createAction("A/RECEIVED_VENDRI_EVENT"),t.reset=u.createAction("A/vendri/RESET"),t.grantAdBreakStart=u.createAction("A/GRANT_AD_BREAK_START"),t.requestAdBreakStart=u.createAction("A/REQUEST_AD_BREAK_START"),t.attemptedAutoPlay=u.createAction("A/ATTEMPTED_AUTOPLAY"),t.gesturePermissionGranted=u.createAction("A/GESTURE_PERMISSION_GRANTED"),t.caughtAdSlotError=u.createAction("A/CAUGHT_AD_SLOT_ERROR"),t.clickedAd=u.createAction("A/CLICKED_AD"),t.clickedThrough=u.createAction("A/CLICKEDTHROUGH_AD"),t.endedAdBreak=u.createAction("A/ENDED_AD_BREAK"),t.endedAdSlot=u.createAction("A/ENDED_AD_SLOT"),t.finishedQuartile25=u.createAction("A/FINISHED_QUARTILE_25"),t.finishedQuartile50=u.createAction("A/FINISHED_QUARTILE_50"),t.finishedQuartile75=u.createAction("A/FINISHED_QUARTILE_75"),t.loadingAdSlot=u.createAction("A/LOADING_AD_SLOT"),t.pausedAdSlot=u.createAction("A/PAUSED_AD_SLOT"),t.requestPauseAdSlot=u.createAction("A/REQUEST_PAUSE_AD_SLOT"),t.requestResumeAdSlot=u.createAction("A/REQUEST_RESUME_AD_SLOT"),t.resumedAdSlot=u.createAction("A/RESUMED_AD_SLOT"),t.sawAdImpression=u.createAction("A/SAW_AD_IMPRESSION"),t.skippedAdSlot=u.createAction("A/SKIPPED_AD_SLOT"),t.startedAdBreak=u.createAction("A/STARTED_AD_BREAK"),t.startedAdSlot=u.createAction("A/STARTED_AD_SLOT");t.truexAdCompleted=u.createAction("A/TRUEX/AD_COMPLETED"),t.truexAdFreePod=u.createAction("A/TRUEX/AD_FREE_POD"),t.truexGetInteractiveUnit=u.createAction("A/TRUEX/GET_INTERACTIVE_UNIT"),t.truexNoAdsAvailable=u.createAction("A/TRUEX/NO_ADS_AVAILABLE"),t.truexOptIn=u.createAction("A/TRUEX/OPT_IN"),t.truexOptOut=u.createAction("A/TRUEX/OPT_OUT"),t.truexUserCancel=u.createAction("A/TRUEX/USER_CANCEL"),t.truexUserCancelStream=u.createAction("A/TRUEX/USER_CANCEL_STREAM");var f="A/VPAID/";t.vpaidAdClickThrough=u.createAction(f+"AD_CLICK_THROUGH"),t.vpaidAdError=u.createAction(f+"AD_ERROR"),t.vpaidAdExpandedChange=u.createAction(f+"AD_EXPANDED_CHANGE"),t.vpaidAdInteraction=u.createAction(f+"AD_INTERACTION"),t.vpaidAdSkipped=u.createAction(f+"AD_SKIPPED"),t.vpaidAdUserAcceptInvitation=u.createAction(f+"AD_USER_ACCEPT_INVITATION"),t.vpaidAdUserClose=u.createAction(f+"AD_CLOSED"),t.vpaidAdUserMinimize=u.createAction(f+"AD_USER_MINIMIZE"),t.vpaidEndedAdSlot=u.createAction(f+"ENDED_AD_SLOT"),t.vpaidGetInteractiveUnit=u.createAction(f+"GET_INTERACTIVE_UNIT"),t.vpaidStartedAdSlot=u.createAction(f+"STARTED_AD_SLOT"),t.vpaidUnloadAdUnit=u.createAction(f+"UNLOAD_AD_UNIT"),t.registerAdBidPlugin=u.createAction("A/AD_BID_PLUGIN"),t.setAdBidPluginOptions=u.createAction("A/AD_BID_PLUGIN_OPTIONS"),t.receivedAllAdBidInfo=u.createAction("A/RECEIVED_ALL_AD_BID_INFO"),t.completeEndedAdBreak=u.createAction("A/COMPLETE_ENDED_AD_BREAK"),t.beaconSuccess=u.createAction("A/BEACON_SUCCESS"),t.beaconError=u.createAction("A/BEACON_ERROR");var p={adBreaks:[],adBreakType:null,adBidPlugins:{},bidNetworkParameters:null,currentPID:null,hasPreroll:!1,isAdSlotEnded:!1,isAdSlotLoaded:!1,isAdSlotPaused:!1,isAdSlotVPAID:!1,isAutoPlayAllowed:!0,isInAdBreak:!1,isPidSentToVendri:!1,isTruexAdFreePod:!1,isVendriInitialized:!1,isVPAIDLoading:!1,isVendriReady:!1,numberOfAdsInBreak:null,quartile:null,targetAdBreakIndex:null,targetAdSlotAdNetwork:null,targetAdSlotDuration:null,targetAdSlotIndex:null,totalDurationOfAdsConsumed:0,vendriEvent:null,vmap:null,wasAutoPlayAttempted:!1,wasGesturePermissionGranted:!1,wasPreviousAdSkipped:!1,wasPIDLoadSucessful:!1};t.handleStartedAdBreak=function(e,t){var n,i,a,o=e.adBreaks.findIndex((function(e){return e.offset===t.offset}));return r(r({},e),{numberOfAdsInBreak:null===(i=null===(n=e.adBreaks[o])||void 0===n?void 0:n.adSlots)||void 0===i?void 0:i.length,adBreakType:null===(a=e.adBreaks[o])||void 0===a?void 0:a.type,isAdSlotVPAID:t.isVPAID,isInAdBreak:!0,targetAdSlotIndex:null,targetAdBreakIndex:o})};var h=function(e){return r({},p)},v=u.createReducer({},p);v.on(t.vpaidGetInteractiveUnit,(function(e){return r(r({},e),{isVPAIDLoading:!0})})),v.on(t.vpaidUnloadAdUnit,(function(e){return r(r({},e),{isVPAIDLoading:!1})})),v.on(t.resetAdBreaks,(function(e){return r(r({},e),{adBreaks:[],hasPreroll:!1})})),v.on(t.resetTotalDurationOfAdsConsumed,(function(e){return r(r({},e),{totalDurationOfAdsConsumed:0})})),v.on(t.setIsAutoPlayAllowed,(function(e,t){return r(r({},e),{isAutoPlayAllowed:t})})),v.on(t.setIsInAdBreak,(function(e,t){return r(r({},e),{isInAdBreak:t})})),v.on(t.setTargetAdBreakIndex,(function(e,t){var n;return r(r({},e),{adBreakType:null===(n=e.adBreaks[t])||void 0===n?void 0:n.type,targetAdBreakIndex:t})})),v.on(t.updateAdBreak,(function(e,t){return r(r({},e),{adBreaks:s(e.adBreaks.slice(0,t.index),[t],e.adBreaks.slice(t.index+1))})})),v.on(t.updateAdBreaks,(function(e,t){return r(r({},e),{adBreaks:t.sort(d.adBreakSortingFunc)})})),v.on(t.updateTotalDurationOfAdsConsumed,(function(e,t){return r(r({},e),{totalDurationOfAdsConsumed:t})})),v.on(t.failedToLoadPID,(function(e){return r(r({},e),{wasPIDLoadSucessful:!1})})),v.on(t.initializedVendri,(function(e){return r(r({},e),{isVendriInitialized:!0})})),v.on(t.loadedPID,(function(e){return r(r({},e),{wasPIDLoadSucessful:!0})})),v.on(t.sentPidToVendri,(function(e,t){return r(r({},e),{currentPID:t,isPidSentToVendri:!0})})),v.on(t.setHasPreroll,(function(e,t){return r(r({},e),{hasPreroll:t})})),v.on(t.setVendriIsReady,(function(e){return r(r({},e),{isVendriReady:!0})})),v.on(t.truexAdFreePod,(function(e){return r(r({},e),{isTruexAdFreePod:!0})})),v.on(t.updateBidNetworkParameters,(function(e,t){return r(r({},e),{bidNetworkParameters:t})})),v.on(t.grantAdBreakStart,(function(e){return r(r({},e),{isInAdBreak:!0,isAdSlotEnded:!1,isAdSlotLoaded:!1,isAdSlotPaused:!1,totalDurationOfAdsConsumed:0})})),v.on(t.attemptedAutoPlay,(function(e){return r(r({},e),{attemptedAutoPlay:!0})})),v.on(t.gesturePermissionGranted,(function(e){return r(r({},e),{wasGesturePermissionGranted:!0})})),v.on(t.caughtAdSlotError,(function(e,t){return r(r({},e),{vendriEvent:null,isAdSlotEnded:!1,isAdSlotLoaded:!1,isAdSlotPaused:!1,quartile:null})})),v.on(t.clickedAd,(function(e,t){return r(r({},e),{vendriEvent:t,isAdSlotPaused:!0})})),v.on(t.clickedThrough,(function(e){return r(r({},e),{isAdSlotPaused:!0})})),v.on(t.endedAdBreak,(function(e,t){var n=e.targetAdBreakIndex;return r(r({},e),{adBreaks:s(e.adBreaks.slice(0,n),[r(r({},e.adBreaks[n]),{isPlayed:!0})],e.adBreaks.slice(n+1)),vendriEvent:t,isInAdBreak:!1,isAdSlotEnded:!0,isAdSlotLoaded:!1,isAdSlotPaused:!1,targetAdBreakIndex:null,adBreakType:null,targetAdSlotAdNetwork:null,targetAdSlotDuration:null})})),v.on(t.endedAdSlot,(function(e,t){return r(r({},e),{isAdSlotLoaded:!1,quartile:null,vendriEvent:t})})),v.on(t.finishedQuartile25,(function(e){return r(r({},e),{quartile:1})})),v.on(t.finishedQuartile50,(function(e){return r(r({},e),{quartile:2})})),v.on(t.finishedQuartile75,(function(e){return r(r({},e),{quartile:3})})),v.on(t.pausedAdSlot,(function(e,t){return r(r({},e),{vendriEvent:t,isAdSlotPaused:!0})})),v.on(t.reset,h),v.on(t.resumedAdSlot,(function(e,t){return r(r({},e),{vendriEvent:t,isAdSlotPaused:!1})})),v.on(t.sawAdImpression,(function(e,t){return r(r({},e),{vendriEvent:t})})),v.on(t.skippedAdSlot,(function(e,t){return r(r({},e),{vendriEvent:t,wasPreviousAdSkipped:!0})})),v.on(t.startedAdBreak,t.handleStartedAdBreak),v.on(t.startedAdSlot,(function(e,t){return r(r(r({},e),(null==t?void 0:t.numberOfAdsInBreak)&&{numberOfAdsInBreak:t.numberOfAdsInBreak}),{isAdSlotLoaded:!0,isAdSlotEnded:!1,isAdSlotVPAID:Boolean(t.isVPAID),quartile:0,targetAdSlotAdNetwork:t.AdSystem||t.adNetworkName,targetAdSlotDuration:t.duration||t.adDuration,targetAdSlotIndex:null===e.targetAdSlotIndex?0:e.targetAdSlotIndex+1,isTruexAdFreePod:!1,wasPreviousAdSkipped:!1})})),v.on(t.registerAdBidPlugin,(function(e,t){var n;return r(r({},e),{adBidPlugins:r(r({},e.adBidPlugins),(n={},n[t]=r(r({},e.adBidPlugins[t]),{adCallParams:{},isResetOnNewContent:!1}),n))})})),v.on(t.setAdBidPluginOptions,(function(e,t){var n,i=t.pluginName,a=t.adCallParams,o=t.isResetOnNewContent,s=void 0!==o&&o;return r(r({},e),{adBidPlugins:r(r({},e.adBidPlugins),(n={},n[i]=r(r({},e.adBidPlugins[i]),{adCallParams:a,isResetOnNewContent:s}),n))})})),v.on(c.receivedVmap,(function(e,t){return r(r({},e),{vmap:t})})),v.on(l.completeUnloadContent,h),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestVmap=t.receivedVmap=void 0;var r=n(21);t.receivedVmap=r.createAction("ssai/RECEIVED_VMAP"),t.requestVmap=r.createAction("ssai/REQUEST_VMAP")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFreewheelParams=t.prepareFreewheelParams=void 0;var r=n(21);t.prepareFreewheelParams=r.createAction("A/freewheel/PREPARE_FREEWHEEL_PARAMS"),t.setFreewheelParams=r.createAction("A/freewheel/SET_FREEWHEEL_PARAMS")},function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setAnalyticsPluginToReady=t.updatePluginStatus=t.reportEvent=t.loadPlugin=void 0;var a=n(14),o=n(21),s=n(571),u=n(286);t.loadPlugin=o.createAction("V/analytics/LOAD_PLUGIN"),t.reportEvent=o.createAction("V/analytics/REPORT_EVENT"),t.updatePluginStatus=o.createAction("V/analytics/UPDATE_PLUGIN_STATUS"),t.setAnalyticsPluginToReady=o.createAction("V/analytics/SET_ANALYTICS_PLUGIN_TO_READY");var c={pluginStatus:(r={},r[u.AnalyticsPlugin.SEGMENT]=s.PluginStatus.NOT_LOADED,r)},l=o.createReducer({},c);l.on(t.updatePluginStatus,(function(e,t){var n,r=t.plugin,a=t.status;return i(i({},e),{pluginStatus:i(i({},e.pluginStatus),(n={},n[r]=a,n))})})),t.default=function(e){return a.combineReducers({general:l,organization:e||function(){}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsPlugin=void 0,function(e){e.EEC="eec",e.SEGMENT="segment"}(t.AnalyticsPlugin||(t.AnalyticsPlugin={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.videoQoSSessionComplete=t.updateReachedContentEnd=t.updateQoSProperties=t.updateInitialStartupTime=t.updateAutoPlayed=t.reset=void 0;var i=n(21);t.reset=i.createAction("V/video_QoS/RESET"),t.updateAutoPlayed=i.createAction("V/video_QoS/UPDATE_AUTOPLAYED"),t.updateInitialStartupTime=i.createAction("V/video_QoS/UPDATE_INITIAL_STARTUP_TIME"),t.updateQoSProperties=i.createAction("V/video_QoS/UPDATE_PROPERTY"),t.updateReachedContentEnd=i.createAction("V/video_QoS/UPDATE_REACHED_CONTENT_END"),t.videoQoSSessionComplete=i.createAction("V/video_QoS/VIDEO_SESSION_COMPLETE");var a={abandonDuringStallTime:-1,abandonLoadingTime:null,adBreakCountError:null,adBreakDurationError:null,adsConfigId:null,adSlotCountError:null,adTech:null,autoPlayed:null,cdnAffinity:null,cdnInitialManifestUrl:null,initialStartupTime:0,mediaId:null,playbackAudioBitrateAvgKbps:null,playbackStallCount:0,playbackStallDuration:0,playbackStartBitrateKbps:null,playbackStartResolution:null,playbackTotalBitrateAvgKbps:null,playbackVideoBitrateAvgKbps:null,ppAdStreamLoadStart:null,ppAdStreamLoadTime:null,ppDRMAuthLoadStart:null,ppDRMAuthLoadTime:null,ppDRMLicenseRequestStart:null,ppDRMLicenseRequestTime:null,ppInitialBufferStart:null,ppInitialBufferTime:null,ppManifestRequestStart:null,ppManifestRequestTime:null,ppTimeToConfig:null,reachedContentEnd:!1,seekBufferCount:0,seekBufferDuration:0,sessionStartTime:null,userAdvancedControlsEnabled:!1,userAnime4KEnabled:!1,userAnime4kChangedValues:!1,userAnime4kLastBlurValue:null,userAnime4kLastBoldValue:null,userAnime4kWatchedTime:0,userStatsNerdsEnabled:!1,userTargetResolution:null,watchedTime:0},o=i.createReducer({},a);o.on(t.reset,(function(e){return r({},a)})),o.on(t.updateQoSProperties,(function(e,t){return r(r({},e),t)})),o.on(t.updateAutoPlayed,(function(e,t){return r(r({},e),{autoPlayed:t})})),o.on(t.updateReachedContentEnd,(function(e,t){return r(r({},e),{reachedContentEnd:t})})),o.on(t.updateInitialStartupTime,(function(e,t){return r(r({},e),{initialStartupTime:t})})),t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setSchema=t.setLayerOptions=t.setLayerConfig=t.resetLayerConfig=t.receivedClientConfig=t.combineConfigLayers=t.failedSchemaValidation=void 0;var i=n(21);t.failedSchemaValidation=i.createAction("config_stack/FAILED_SCHEMA_VALIDATION"),t.combineConfigLayers=i.createAction("config_stack/COMBINE_CONFIG_LAYERS"),t.receivedClientConfig=i.createAction("config_stack/RECEIVED_CLIENT_CONFIG"),t.resetLayerConfig=i.createAction("config_stack/RESET_LAYER_CONFIG"),t.setLayerConfig=i.createAction("config_stack/SET_LAYER_CONFIG"),t.setLayerOptions=i.createAction("config_stack/SET_LAYER_PRIORITY"),t.setSchema=i.createAction("config_stack/SET_SCHEMA");var a=i.createReducer({},{layers:{},priorities:{},schema:null});a.on(t.resetLayerConfig,(function(e,t){var n;return r(r({},e),{layers:r(r({},e.layers),(n={},n[t]=r(r({},e.layers[t]),{config:{}}),n))})})),a.on(t.setLayerConfig,(function(e,t){var n,i=t.layer,a=t.config;return r(r({},e),{layers:r(r({},e.layers),(n={},n[i]=r(r({},e.layers[i]),{config:a}),n))})})),a.on(t.setLayerOptions,(function(e,t){var n,i,a=t.isResetOnNewContent,o=t.layer,s=t.priority;return r(r({},e),{layers:r(r({},e.layers),(n={},n[o]=r(r({},e.layers[o]),{isResetOnNewContent:a}),n)),priorities:r(r({},e.priorities),(i={},i[s]=o,i))})})),a.on(t.setSchema,(function(e,t){return r(r({},e),{schema:t})})),t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.extendConfig=t.loadConfig=void 0;var a=n(21),o=a.createReducer({},{previous:{}});t.loadConfig=a.createAction("V/configuration/LOAD_CONFIG_OBJECT"),t.extendConfig=a.createAction("V/configuration/EXTEND_CONFIG_OBJECT");var s=function(e,t){e.previous;var n=i(e,["previous"]);return r(r({},t),{previous:n})};o.on(t.loadConfig,s),o.on(t.extendConfig,s),t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.refreshFocus=t.deactivateControls=t.activateControls=t.deactivateAccessibility=t.activateAccessibility=void 0;var i=n(21);t.activateAccessibility=i.createAction("V/controls/ACTIVATE_ACCESSIBILITY"),t.deactivateAccessibility=i.createAction("V/controls/DEACTIVATE_ACCESSIBILITY"),t.activateControls=i.createAction("V/controls/ACTIVATE_CONTROLS"),t.deactivateControls=i.createAction("V/controls/DEACTIVATE_CONTROLS"),t.refreshFocus=i.createAction("V/controls/REFRESH_FOCUS");var a=i.createReducer({},{isAccessible:!1,isActive:!1,isHideAnimated:!1});a.on(t.activateAccessibility,(function(e){return r(r({},e),{isAccessible:!0})})),a.on(t.deactivateAccessibility,(function(e){return r(r({},e),{isAccessible:!1})})),a.on(t.activateControls,(function(e){return r(r({},e),{isActive:!0,isHideAnimated:!1})})),a.on(t.deactivateControls,(function(e,t){return r(r({},e),{isActive:!1,isHideAnimated:t})})),t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.hideUpsellCTA=t.showUpsellCTA=t.failTokenRequests=t.resolveTokenRequests=t.completeRetrieveToken=t.retrieveToken=t.updateToken=t.updateAccountId=t.readyToken=t.loadedSavedExperiments=t.fetchedExperiments=t.failedToGetExperiments=void 0;var i=n(21);t.failedToGetExperiments=i.createAction("ellation_core/FAILED_TO_GET_EXPERIMENTS"),t.fetchedExperiments=i.createAction("ellation_core/FETCHED_EXPERIMENTS"),t.loadedSavedExperiments=i.createAction("ellation_core/LOADED_SAVED_EXPERIMENTS"),t.readyToken=i.createAction("V/ellation_core/READY_TOKEN"),t.updateAccountId=i.createAction("V/ellation_core/UPDATE_ACCOUNT_ID"),t.updateToken=i.createAction("V/Ellation_Core/UPDATE_TOKEN"),t.retrieveToken=i.createAction("V/ellation_token/RETRIEVE_TOKEN"),t.completeRetrieveToken=i.createAction("V/ellation_token/COMPLETE_RETRIEVE_TOKEN"),t.resolveTokenRequests=i.createAction("V/ellation_token/RESOLVE_TOKEN_REQUEST"),t.failTokenRequests=i.createAction("V/ellation_token/FAIL_TOKEN_REQUEST"),t.showUpsellCTA=i.createAction("V/ellation_core/SHOW_UPSELL_CTA"),t.hideUpsellCTA=i.createAction("V/ellation_core/HIDE_UPSELL_CTA");var a=i.createReducer({},{accountId:null,experimentError:null,fetchedExperiments:null,savedExperiments:null,tokenExpires:null,token:null,isPremiumUpsellCTAVisible:!1});a.on(t.failedToGetExperiments,(function(e,t){return r(r({},e),{experimentError:t})})),a.on(t.fetchedExperiments,(function(e,t){return r(r({},e),{fetchedExperiments:t})})),a.on(t.loadedSavedExperiments,(function(e,t){return r(r({},e),{savedExperiments:t})})),a.on(t.updateAccountId,(function(e,t){return r(r({},e),{accountId:t})})),a.on(t.updateToken,(function(e,t){var n=t.token,i=t.tokenExpires;return r(r({},e),{token:n,tokenExpires:i})})),a.on(t.showUpsellCTA,(function(e){return r(r({},e),{isPremiumUpsellCTAVisible:!0})})),a.on(t.hideUpsellCTA,(function(e){return r(r({},e),{isPremiumUpsellCTAVisible:!1})})),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EllationPlayheadFailedType=void 0,function(e){e.MISSING_JWT="missing_jwt",e.NO_USER_ID="no_user_id",e.NONE="none"}(t.EllationPlayheadFailedType||(t.EllationPlayheadFailedType={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.scrubViaLeftAndRightArrow=t.navigateViaLeftAndRightArrow=t.inputRawEvent=t.inputNotSupported=t.inputNormalized=void 0;var i=n(21),a=n(294);t.inputNormalized=i.createAction("V/input/INPUT_NORMALIZED"),t.inputNotSupported=i.createAction("V/input/INPUT_NOT_SUPPORTED"),t.inputRawEvent=i.createAction("V/input/INPUT_RAW_YOUI"),t.navigateViaLeftAndRightArrow=i.createAction("V/input/INPUT_NAVIGATE_VIA_LR_ARROW"),t.scrubViaLeftAndRightArrow=i.createAction("V/input/INPUT_SCRUB_VIA_LR_ARROW");var o={keyCode:null,leftRightArrowMode:a.LeftRightArrowMode.NAVIGATE,rawInputEvent:null,timestamp:null},s=i.createReducer({},o);s.on(t.inputNormalized,(function(e,t){return r(r({},e),{keyCode:t,timestamp:(new Date).getTime()})})),s.on(t.inputNotSupported,(function(e,t){return r(r({},e),{keyCode:t,timestamp:(new Date).getTime()})})),s.on(t.inputRawEvent,(function(e,t){return r(r({},e),{rawInputEvent:t})})),s.on(t.navigateViaLeftAndRightArrow,(function(e){return r(r({},e),{leftRightArrowMode:a.LeftRightArrowMode.NAVIGATE})})),s.on(t.scrubViaLeftAndRightArrow,(function(e){return r(r({},e),{leftRightArrowMode:a.LeftRightArrowMode.ENTER_SCRUB})})),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftRightArrowMode=void 0,function(e){e.NAVIGATE="navigate",e.ENTER_SCRUB="enter_scrub"}(t.LeftRightArrowMode||(t.LeftRightArrowMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endHeldEvent=t.startHeldEvent=t.setNavigationMode=t.togglePlayPause=t.toggleMute=t.seekBy=t.adjustVolumeBy=void 0;var r=n(21);t.adjustVolumeBy=r.createAction("V/process_input/ADJUST_VOLUME_BY"),t.seekBy=r.createAction("V/process_input/SEEK_BY"),t.toggleMute=r.createAction("V/process_input/TOGGLE_MUTE"),t.togglePlayPause=r.createAction("V/process_input/TOGGLE_PLAY_PAUSE"),t.setNavigationMode=r.createAction("V/process_input/SET_NAVIGATION_MODE"),t.startHeldEvent=r.createAction("V/process_input/START_HELD_EVENT"),t.endHeldEvent=r.createAction("V/process_input/END_HELD_EVENT")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.retryTextTrackPlugin=t.registerTextTrackPlugin=t.readyTextTrackPlugin=t.initializeTextTrackPlugin=t.errorTextTrackPlugin=t.deactivateTextTrackPlugin=t.activateTextTrackPlugin=t.unloadTrickScrubArchive=t.loadTrickScrubArchive=t.updateStreamTime=t.updateTime=t.updateTextTrackOffset=t.updateContentOffset=t.finishProcessingSource=t.setProcessedSource=t.setUnprocessedSource=t.storePriorMedia=t.setContentDuration=t.setStreamDuration=t.setMedia=t.error=void 0;var a=n(21),o=n(2),s=i(n(575)),u=a.createReducer({},s.default);t.error=a.createAction("V/media/ERROR"),t.setMedia=a.createAction("V/media/SET_MEDIA"),t.setStreamDuration=a.createAction("V/media/SET_STREAM_DURATION"),t.setContentDuration=a.createAction("V/media/SET_CONTENT_DURATION"),t.storePriorMedia=a.createAction("V/media/STORING_PRIOR_MEDIA"),t.setUnprocessedSource=a.createAction("V/media/SET_UNPROCESSED_SOURCE"),t.setProcessedSource=a.createAction("V/media/SET_PROCESSED_SOURCE"),t.finishProcessingSource=a.createAction("V/media/FINISH_PROCESS_SOURCE"),t.updateContentOffset=a.createAction("V/media/UPDATE_CONTENT_OFFSET"),t.updateTextTrackOffset=a.createAction("V/media/UPDATE_SUBTITLE_OFFSET"),t.updateTime=a.createAction("V/media/UPDATE_TIME"),t.updateStreamTime=a.createAction("V/media/UPDATE_STREAM_TIME"),t.loadTrickScrubArchive=a.createAction("V/media/LOAD_TRICKPLAY_SCRUB_ARCHIVE_LOADED"),t.unloadTrickScrubArchive=a.createAction("V/media/UNLOAD_TRICKPLAY_SCRUB_ARCHIVE_LOADED"),t.activateTextTrackPlugin=a.createAction("V/media/ACTIVATE_TEXT_TRACK_PLUGIN"),t.deactivateTextTrackPlugin=a.createAction("V/media/DEACTIVATE_TEXT_TRACK_PLUGIN"),t.errorTextTrackPlugin=a.createAction("V/media/ERROR_TEXT_TRACK_PLUGIN"),t.initializeTextTrackPlugin=a.createAction("V/media/INITIALIZE_TEXT_TRACK_PLUGIN"),t.readyTextTrackPlugin=a.createAction("V/media/READY_TEXT_TRACK_PLUGIN"),t.registerTextTrackPlugin=a.createAction("V/media/REGISTER_TEXT_TRACK_PLUGIN"),t.retryTextTrackPlugin=a.createAction("V/media/RETRY_TEXT_TRACK_PLUGIN");u.on(t.setMedia,(function(e,t){var n=t.orderedTextTrackList,i=t.orderedVideoTrackList;return r(r({},e),{orderedTextTrackList:n,orderedVideoTrackList:i})})),u.on(t.setStreamDuration,(function(e,t){return r(r({},e),{totalDuration:t})})),u.on(t.setContentDuration,(function(e,t){return r(r({},e),{contentDuration:t})})),u.on(t.storePriorMedia,(function(e,t){var n=t.priorTextTrackIndex,i=t.priorVideoStream;return r(r({},e),{priorTextTrackIndex:n,priorVideoStream:i})})),u.on(t.error,(function(e,t){return r(r({},e),{error:t})})),u.on(t.setProcessedSource,(function(e,t){return r(r({},e),{processedSource:t})})),u.on(t.setUnprocessedSource,(function(e,t){return r(r({},e),{unprocessedSource:t})})),u.on(t.updateContentOffset,(function(e,t){return r(r({},e),{contentOffset:t})})),u.on(t.updateTextTrackOffset,(function(e,t){return r(r({},e),{textTrackOffset:t})})),u.on(t.updateTime,(function(e,t){return r(r({},e),{streamTime:t,contentTime:t-e.contentOffset})})),u.on(t.updateStreamTime,(function(e,t){return r(r({},e),{streamTime:t})})),u.on(t.loadTrickScrubArchive,(function(e){return r(r({},e),{isTrickScrubArchiveLoaded:!0})})),u.on(t.unloadTrickScrubArchive,(function(e){return r(r({},e),{isTrickScrubArchiveLoaded:!1})})),u.on(t.activateTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{isActive:!0}),n))})})),u.on(t.deactivateTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{isActive:!1}),n))})})),u.on(t.errorTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{hasError:!0,isActive:!1,isInitializing:!1,isReady:!1}),n))})})),u.on(t.initializeTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{isInitializing:!0}),n))})})),u.on(t.readyTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{hasError:!1,hasRetried:!1,isInitializing:!1,isReady:!0}),n))})})),u.on(t.registerTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]={hasError:!1,hasRetried:!1,isActive:!1,isInitializing:!1,isReady:!1},n))})})),u.on(t.retryTextTrackPlugin,(function(e,t){var n;return r(r({},e),{textTrackPlugin:r(r({},e.textTrackPlugin),(n={},n[t]=r(r({},e.textTrackPlugin[t]),{hasRetried:!0}),n))})})),u.on(o.contentLifecycleActionCreators.completeUnloadContent,(function(e){return r(r({},s.default),{textTrackPlugin:e.textTrackPlugin})})),t.default=u},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(298)).default("ads_player/");t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21);t.default=function(e){return{activatePlayer:r.createAction(e+"ACTIVATE_PLAYER"),deactivatePlayer:r.createAction(e+"DEACTIVATE_PLAYER"),setDuration:r.createAction(e+"SET_DURATION"),setSource:r.createAction(e+"SET_SOURCE"),setStartTime:r.createAction(e+"SET_START_TIME"),abrAdapted:r.createAction(e+"ABR_ADAPTED"),createdPlayer:r.createAction(e+"CREATED_PLAYER"),ended:r.createAction(e+"ENDED"),endWaiting:r.createAction(e+"END_WAITING"),error:r.createAction(e+"ERROR"),fetchedManifest:r.createAction(e+"FETCHED_MANIFEST"),initialPlayStarted:r.createAction(e+"INITIAL_PLAY_STARTED"),load:r.createAction(e+"LOAD"),loadStart:r.createAction(e+"LOAD_START"),loadedData:r.createAction(e+"LOADED_DATA"),loadedMetadata:r.createAction(e+"LOADED_METADATA"),loadedAudioTracks:r.createAction(e+"LOADED_AUDIO_TRACKS"),loadedShaka:r.createAction(e+"LOADED_SHAKA"),loadingShaka:r.createAction(e+"LOADING_SHAKA"),loadedVideoTracks:r.createAction(e+"LOADED_VIDEO_TRACKS"),parsedManifest:r.createAction(e+"PARSED_MANIFEST"),requestInitSegment:r.createAction(e+"REQUEST_INIT_SEGMENT"),requestManifest:r.createAction(e+"REQUEST_MANIFEST"),unloadingShaka:r.createAction(e+"UNLOADING_SHAKA"),unloadedShaka:r.createAction(e+"UNLOADED_SHAKA"),updateCdnMetrics:r.createAction(e+"UPDATE_CDN_METRICS"),pause:r.createAction(e+"PAUSE"),play:r.createAction(e+"PLAY"),playing:r.createAction(e+"PLAYING"),progress:r.createAction(e+"PROGRESS"),readyToPlay:r.createAction(e+"READY_TO_PLAY"),stopped:r.createAction(e+"STOPPED"),waiting:r.createAction(e+"WAITING"),addWarning:r.createAction(e+"ADD_WARNING"),hideControls:r.createAction(e+"HIDE_CONTROLS"),showControls:r.createAction(e+"SHOW_CONTROLS"),failedDrmLicenseRequest:r.createAction(e+"FAILED_DRM_LICENSE_REQUEST"),failedDrmLoad:r.createAction(e+"FAILED_DRM_LOAD"),loadedDrmAuthorization:r.createAction(e+"LOADED_DRM_AUTHORIZATION"),loadedDrmCertificate:r.createAction(e+"LOADED_DRM_CERTIFICATE"),loadedDrmLicense:r.createAction(e+"LOADED_DRM_LICENSE"),readyForLicenseByCdm:r.createAction(e+"READY_FOR_LICENSE_BY_CDM"),requestDrmAuthorization:r.createAction(e+"REQUEST_DRM_AUTHORIZATION"),requestDrmCertificate:r.createAction(e+"REQUEST_DRM_CERTIFICATE"),requestDrmLicense:r.createAction(e+"REQUEST_DRM_LICENSE"),grantInitialPlay:r.createAction(e+"GRANT_INITIAL_PLAY"),rejectPlay:r.createAction(e+"REJECT_PLAY"),requestPause:r.createAction(e+"REQUEST_PAUSE"),requestPlay:r.createAction(e+"REQUEST_PLAY"),resolvePlay:r.createAction(e+"RESOLVE_PLAY"),requestSeekToContentTime:r.createAction(e+"REQUEST_SEEK_TO_CONTENT_TIME"),requestSeekToStreamTime:r.createAction(e+"REQUEST_SEEK_TO_STREAM_TIME"),startSeek:r.createAction(e+"START_SEEK"),endSeek:r.createAction(e+"END_SEEK"),attachedTech:r.createAction(e+"ATTACHED_TECH"),detachedTech:r.createAction(e+"DETACHED_TECH"),setVideoTrackQuality:r.createAction(e+"SET_VIDEO_TRACK_QUALITY"),disableAutoPlay:r.createAction(e+"DISABLE_AUTOPLAY"),enableAutoPlay:r.createAction(e+"ENABLE_AUTOPLAY"),disableBuffering:r.createAction(e+"DISABLE_BUFFERING"),enableBuffering:r.createAction(e+"ENABLE_BUFFERING")}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(21),o="player/",s=i(n(298)).default(o),u=r(r({},s),{loadedExternalTextTracks:a.createAction(o+"LOADED_EXTERNAL_TEXT_TRACKS"),updateCues:a.createAction(o+"UPDATE_CUES"),assetDownloadComplete:a.createAction(o+"ASSET_DOWNLOAD_COMPLETE"),assetDownloadProgress:a.createAction(o+"ASSET_DOWNLOAD_PROGRESS"),requestDrmParams:a.createAction(o+"REQUEST_DRM_PARAMS"),provideDrmParams:a.createAction(o+"PROVIDE_DRM_PARAMS"),enterPictureInPicture:a.createAction(o+"ENTER_PIP"),leavePictureInPicture:a.createAction(o+"LEAVE_PIP"),requestExitPictureInPicture:a.createAction(o+"REQUEST_EXIT_PIP"),requestPictureInPicture:a.createAction(o+"REQUEST_PIP"),endPreview:a.createAction("V/player/END_PREVIEW"),startPreview:a.createAction("V/player/START_PREVIEW"),startScrub:a.createAction(o+"START_SCRUB"),updateScrub:a.createAction(o+"UPDATE_SCRUB"),endScrub:a.createAction(o+"END_SCRUB"),addTextTrack:a.createAction(o+"ADD_TEXT_TRACK"),setActiveTextTrack:a.createAction(o+"SET_ACTIVE_TEXT_TRACK"),setActiveExternalTextTrack:a.createAction(o+"SET_ACTIVE_EXTERNAL_TEXT_TRACK"),setActiveHardSubTrack:a.createAction(o+"SET_ACTIVE_HARDSUB_TRACK"),setLastTextTrackIndex:a.createAction(o+"SET_LAST_TEXT_TRACK_INDEX"),setVideoTrackQuality:a.createAction(o+"SET_VIDEO_TRACK_QUALITY"),toggleTextTracks:a.createAction(o+"TOGGLE_TEXT_TRACKS"),useHardSubTracks:a.createAction(o+"USE_HARD_SUB_TRACKS"),useExternalTextTracks:a.createAction(o+"USE_EXTERNAL_TEXT_TRACKS"),useInternalTextTracks:a.createAction(o+"USE_INTERNAL_TEXT_TRACKS"),updateTextTrack:a.createAction(o+"UPDATE_TEXT_TRACK"),updateTextTrackCSS:a.createAction(o+"UPDATE_TEXT_TRACK_CSS")});t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDimensions=t.updateProfiles=t.updateIcons=t.selectProfile=void 0;var i=n(21);t.selectProfile=i.createAction("V/theme/SELECT_PROFILE"),t.updateIcons=i.createAction("V/theme/UPDATE_ICONS"),t.updateProfiles=i.createAction("V/theme/UPDATE_PROFILES"),t.updateDimensions=i.createAction("V/theme/UPDATE_DIMENSIONS");var a={activeProfile:null,dimensions:{},icons:{comingSoon:void 0,errorIcon:void 0,errorScreen:void 0,exit:void 0,externalSite:void 0,forward10:void 0,leftChevron:void 0,loadingIndicator:void 0,pauseLarge:void 0,pauseSmall:void 0,playLarge:void 0,playOutline:void 0,playSmall:void 0,premium:void 0,premiumLarge:void 0,premiumOutline:void 0,premiumSmall:void 0,rewind10:void 0,rightChevron:void 0},profiles:{}},o=i.createReducer({},a);o.on(t.selectProfile,(function(e,t){return r(r({},e),{activeProfile:t})})),o.on(t.updateDimensions,(function(e,t){return r(r({},e),{dimensions:t})})),o.on(t.updateIcons,(function(e,t){return r(r({},e),{icons:t})})),o.on(t.updateProfiles,(function(e,t){return r(r({},e),{profiles:t})})),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSkipSource=t.setSkipEvent=t.removeSkipEvent=t.updateInfoMessage=t.completeBack=t.selectDesign=t.resetUpNextBanner=t.resetUpNextScreen=t.dismissUpNextScreen=t.dismissUpNextBanner=t.disableUpNextScreen=t.disableTrickScrubbing=t.toggleAlternativePlayerRenderer=t.clearAlternativePlayerRenderer=t.setAlternativePlayerRenderer=t.hideAdvancedSettingsMenu=t.showAdvancedSettingsMenu=t.hideUpNextScreen=t.hideToastOverlay=t.hideStatsForNerds=t.hideStartScreen=t.hideSkipButton=t.hideSettingsMenu=t.hidePreviewOverlay=t.hidePlayer=t.hideLoadingScreen=t.hideConfigErrorScreen=t.hideErrorScreen=t.hideCanvas=t.requestBack=t.showUpNextScreen=t.showToastOverlay=t.showStatsForNerds=t.showStartScreen=t.showSkipButton=t.showSettingsMenu=t.showPreviewOverlay=t.showPlayer=t.showLoadingScreen=t.showErrorScreen=t.showConfigErrorScreen=t.showCanvas=t.pressSkipButton=t.enableTrickScrubbing=void 0;var r=n(21);t.enableTrickScrubbing=r.createAction("V/ui/ENABLE_TRICK_SCRUBBING"),t.pressSkipButton=r.createAction("ui/PRESS_SKIP_BUTTON"),t.showCanvas=r.createAction("V/ui/SHOW_CANVAS"),t.showConfigErrorScreen=r.createAction("V/ui/SHOW_CONFIG_ERROR_SCREEN"),t.showErrorScreen=r.createAction("V/ui/SHOW_ERROR_SCREEN"),t.showLoadingScreen=r.createAction("V/ui/SHOW_LOADING_SCREEN"),t.showPlayer=r.createAction("V/ui/SHOW_PLAYER"),t.showPreviewOverlay=r.createAction("V/ui/SHOW_PREVIEW_OVERLAY"),t.showSettingsMenu=r.createAction("V/ui/SHOW_SETTINGS_MENU"),t.showSkipButton=r.createAction("ui/SHOW_SKIP_BUTTON"),t.showStartScreen=r.createAction("V/ui/SHOW_START_SCREEN"),t.showStatsForNerds=r.createAction("V/ui/SHOW_STATS_FOR_NERDS"),t.showToastOverlay=r.createAction("V/ui/SHOW_TOAST_OVERLAY"),t.showUpNextScreen=r.createAction("V/ui/SHOW_UP_NEXT_SCREEN"),t.requestBack=r.createAction("V/ui/REQUEST_BACK"),t.hideCanvas=r.createAction("V/ui/HIDE_CANVAS"),t.hideErrorScreen=r.createAction("V/ui/HIDE_ERROR_SCREEN"),t.hideConfigErrorScreen=r.createAction("V/ui/HIDE_CONFIG_ERROR_SCREEN"),t.hideLoadingScreen=r.createAction("V/ui/HIDE_LOADING_SCREEN"),t.hidePlayer=r.createAction("V/ui/HIDE_PLAYER"),t.hidePreviewOverlay=r.createAction("V/ui/HIDE_PREVIEW_OVERLAY"),t.hideSettingsMenu=r.createAction("V/ui/HIDE_SETTINGS_MENU"),t.hideSkipButton=r.createAction("V/ui/HIDE_SKIP_BUTTON"),t.hideStartScreen=r.createAction("V/ui/HIDE_START_SCREEN"),t.hideStatsForNerds=r.createAction("V/ui/HIDE_STATS_FOR_NERDS"),t.hideToastOverlay=r.createAction("V/ui/HIDE_TOAST_OVERLAY"),t.hideUpNextScreen=r.createAction("V/ui/HIDE_UP_NEXT_SCREEN"),t.showAdvancedSettingsMenu=r.createAction("V/ui/SHOW_ADVANCED_SETTINGS_MENU"),t.hideAdvancedSettingsMenu=r.createAction("V/ui/HIDE_ADVANCED_SETTINGS_MENU"),t.setAlternativePlayerRenderer=r.createAction("V/ui/SET_ALTERNATIVE_PLAYER_RENDERER"),t.clearAlternativePlayerRenderer=r.createAction("V/ui/CLEAR_ALTERNATIVE_PLAYER_RENDERER"),t.toggleAlternativePlayerRenderer=r.createAction("V/ui/TOGGLE_ALTERNATIVE_PLAYER_RENDERER"),t.disableTrickScrubbing=r.createAction("V/ui/DISABLE_TRICK_SCRUBBING"),t.disableUpNextScreen=r.createAction("V/ui/DISABLE_UP_NEXT_SCREEN"),t.dismissUpNextBanner=r.createAction("V/ui/DISMISS_UP_NEXT_BANNER"),t.dismissUpNextScreen=r.createAction("V/ui/DISMISS_UP_NEXT_SCREEN"),t.resetUpNextScreen=r.createAction("V/ui/RESET_UP_NEXT_SCREEN"),t.resetUpNextBanner=r.createAction("V/ui/RESET_UP_NEXT_BANNER"),t.selectDesign=r.createAction("V/ui/SELECT_DESIGN"),t.completeBack=r.createAction("V/ui/COMPLETE_BACK"),t.updateInfoMessage=r.createAction("V/ui/UPDATE_INFO_MESSAGE"),t.removeSkipEvent=r.createAction("V/ui/REMOVE_SKIP_EVENT"),t.setSkipEvent=r.createAction("V/ui/SET_SKIP_EVENT"),t.setSkipSource=r.createAction("V/ui/SET_SKIP_SOURCE")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(147)),r(n(583))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(578);t.getMiddlewareManager=function(){var e=r.createDynamicMiddlewares();return{getItems:function(){return[]},enhancer:e.enhancer,add:function(t){return e.addMiddleware.apply(e,t),t},remove:function(t){return t.forEach(e.removeMiddleware),t},dispose:function(){e.resetMiddlewares()}}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var i=n(201);t.getRefCountedManager=function(e,t,n){var a=i.getObjectRefCounter(t,n);e.getItems().forEach((function(e){return a.add(e)}));var o=r({},e);return o.add=function(t){if(t){var n=t.filter((function(e){return e})),r=n.filter((function(e){return 0===a.getCount(e)}));e.add(r),n.forEach(a.add)}},o.remove=function(t){t&&t.forEach((function(t){t&&(a.remove(t),0===a.getCount(t)&&e.remove([t]))}))},o.dispose=function(){e.dispose()},o}},function(e,t,n){"use strict";t.__esModule=!0,t.sagaEquals=function(e,t){if("function"==typeof e&&"function"==typeof t)return e===t;if(!e||!t)return e===t;if("function"==typeof e)return(r=e)===(n=t).saga&&!n.argument;if("function"==typeof t){var n=t;return(r=e).saga===n&&!r.argument}var r;return n=t,(r=e).saga===n.saga&&r.argument===n.argument}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testState=t.testIDs=void 0;var r="vilos-";t.testIDs={adLabel:r+"ad_label",adCountdownLabel:r+"ad_countdown_label",adPrimaryProgress:r+"ad_primary_progress",adProgressBar:r+"ad_progress_bar",adSecondaryProgress:r+"ad_secondary_progress",backButton:r+"back_button",controls:r+"controls",currentTimeLabel:r+"current_time_label",durationLabel:r+"duration",errorMessageTitle:r+"error_message_title",errorSubTitle:r+"error_sub_title",forwardButton:r+"forward_button",fullscreenButton:r+"fullscreen_button",knob:r+"knob",largePlayPauseButton:r+"large_play_pause_button",loadingIndicator:r+"loading",marker:r+"marker",markersContainer:r+"markers_container",nextEpisodeButton:r+"next_episode_button",pipButton:r+"pip_button",playPauseButton:r+"play_pause_button",progressBar:r+"progress_bar",rewindButton:r+"rewind_button",reportProblemSubmenu:r+"report_problem_submenu",reportProblemSubmenuItem:r+"report_problem_submenu_item",reportProblemTextField:r+"report_problem_textfield",reportProblemButton:r+"report_problem_button",settingsMenu:r+"settings_menu",settingsButton:r+"settings_button",settingsQualitySubMenu:r+"settings_quality_submenu",settingsTextTrackSubMenuLink:r+"settings_texttrack_submenu",settingsTextTrackSubMenuItem:r+"settings_texttrack_submenu_item",settingsTextTrackSubMenuItemText:r+"settings_texttrack_submenu_item_text",settingsAutoplayToggle:r+"settings_autoplay_toggle",settingsAutoplayMenuTitle:r+"settings_autoplay_menu_title",settingsAutoplayMenuItem:r+"settings_autoplay_menu_item",settingsAutoplayMenuItemText:r+"settings_autoplay_menu_item_text",settingsMenuRadioItem:r+"settings_radio_item",settingsBackButton:r+"settings_back_button",scrubBar:r+"scrub_bar",testHarnessEpisodeItem:r+"test_harness_episode_item",titleSeries:r+"series_title",title:r+"title",trickscrubImageList:r+"trickscrub_image_list",upNextBannerSkipToNext:r+"upnextbanner_skip_to_next",upNextBannerDismiss:r+"upnextbanner_dismiss",upNextCardTitle:r+"upnext_card_title",upNextComingSoonButton:r+"upnext_coming_soon_button",upNextCurrentVideoDescription:r+"upnext_current_video_description",upNextCurrentVideoTitle:r+"upnext_current_video_title",upNextNextVideoDescription:r+"upnext_next_video_description",upNextNextVideoDuration:r+"upnext_next_video_duration",upNextNextVideoTitle:r+"upnext_next_video_title",upNextPremiumButton:r+"upnext_premium_button",upNextRestrictions:r+"upnext_restrictons",upNextResumeCurrentVideoButton:r+"upnext_resume_current_video_button",upNextStartNextVideoButton:r+"upnext_start_next_video_button",upsellIcon:r+"upsell_icon",upsellIconView:r+"upsell_icon_view",upsellText:r+"upsell_text",upsellTextView:r+"upsell_text_view",volumeButton:r+"volume_button",volumeContainer:r+"volume_container",volumeSlider:r+"volume_slider"},t.testState={fullscreenButton:{open:"open",closed:"closed"},pipButton:{open:"open",closed:"closed"},playPauseButton:{paused:"paused",playing:"playing"},settingsMenuRadioItem:{active:"active",inactive:"inactive"}}},function(e){e.exports=JSON.parse('{"supported":["ar-SA","de-DE","en-US","es-419","es-ES","fr-FR","it-IT","pt-BR","pt-PT","ru-RU"],"supported_fallbacks":{"ar-SA":["en-US"],"de-DE":["en-US"],"en-US":["en-US"],"es-419":["es-ES","en-US"],"es-ES":["es-419","en-US"],"fr-FR":["en-US"],"it-IT":["en-US"],"pt-BR":["pt-PT","en-US"],"pt-PT":["pt-BR","en-US"],"ru-RU":["en-US"]},"mapping":{"af":{"to":"en-US","desc":"Afrikaans"},"af-NA":{"to":"en-US","desc":"Afrikaans (Namibia)"},"af-ZA":{"to":"en-US","desc":"Afrikaans (South Africa)"},"agq":{"to":"en-US","desc":"Aghem"},"agq-CM":{"to":"en-US","desc":"Aghem (Cameroon)"},"ak":{"to":"en-US","desc":"Akan"},"ak-GH":{"to":"en-US","desc":"Akan (Ghana)"},"am":{"to":"en-US","desc":"Amharic"},"am-ET":{"to":"en-US","desc":"Amharic (Ethiopia)"},"ar":{"to":"ar-SA","desc":"Arabic"},"ar-SA":{"to":"ar-SA","desc":"Arabic"},"ar-001":{"to":"ar-SA","desc":"Arabic (World)"},"ar-AE":{"to":"ar-SA","desc":"Arabic (United Arab Emirates)"},"ar-BH":{"to":"ar-SA","desc":"Arabic (Bahrain)"},"ar-DJ":{"to":"ar-SA","desc":"Arabic (Djibouti)"},"ar-DZ":{"to":"ar-SA","desc":"Arabic (Algeria)"},"ar-EG":{"to":"ar-SA","desc":"Arabic (Egypt)"},"ar-EH":{"to":"ar-SA","desc":"Arabic (Western Sahara)"},"ar-ER":{"to":"ar-SA","desc":"Arabic (Eritrea)"},"ar-IL":{"to":"ar-SA","desc":"Arabic (Israel)"},"ar-IQ":{"to":"ar-SA","desc":"Arabic (Iraq)"},"ar-JO":{"to":"ar-SA","desc":"Arabic (Jordan)"},"ar-KM":{"to":"ar-SA","desc":"Arabic (Comoros)"},"ar-KW":{"to":"ar-SA","desc":"Arabic (Kuwait)"},"ar-LB":{"to":"ar-SA","desc":"Arabic (Lebanon)"},"ar-LY":{"to":"ar-SA","desc":"Arabic (Libya)"},"ar-MA":{"to":"ar-SA","desc":"Arabic (Morocco)"},"ar-MR":{"to":"ar-SA","desc":"Arabic (Mauritania)"},"ar-OM":{"to":"ar-SA","desc":"Arabic (Oman)"},"ar-PS":{"to":"ar-SA","desc":"Arabic (Palestine)"},"ar-QA":{"to":"ar-SA","desc":"Arabic (Qatar)"},"ar-SD":{"to":"ar-SA","desc":"Arabic (Sudan)"},"ar-SO":{"to":"ar-SA","desc":"Arabic (Somalia)"},"ar-SS":{"to":"ar-SA","desc":"Arabic (South Sudan)"},"ar-SY":{"to":"ar-SA","desc":"Arabic (Syria)"},"ar-TD":{"to":"ar-SA","desc":"Arabic (Chad)"},"ar-TN":{"to":"ar-SA","desc":"Arabic (Tunisia)"},"ar-YE":{"to":"ar-SA","desc":"Arabic (Yemen)"},"as":{"to":"en-US","desc":"Assamese"},"as-IN":{"to":"en-US","desc":"Assamese (India)"},"asa":{"to":"en-US","desc":"Asu"},"asa-TZ":{"to":"en-US","desc":"Asu (Tanzania)"},"az":{"to":"en-US","desc":"Azerbaijani"},"az-AZ":{"to":"en-US","desc":"Azerbaijani (Cyrillic,Azerbaijan)"},"bas":{"to":"en-US","desc":"Basaa"},"bas-CM":{"to":"en-US","desc":"Basaa (Cameroon)"},"be":{"to":"en-US","desc":"Belarusian"},"be-BY":{"to":"en-US","desc":"Belarusian (Belarus)"},"bem":{"to":"en-US","desc":"Bemba"},"bem-ZM":{"to":"en-US","desc":"Bemba (Zambia)"},"bez":{"to":"en-US","desc":"Bena"},"bez-TZ":{"to":"en-US","desc":"Bena (Tanzania)"},"bg":{"to":"en-US","desc":"Bulgarian"},"bg-BG":{"to":"en-US","desc":"Bulgarian (Bulgaria)"},"bm":{"to":"en-US","desc":"Bambara"},"bm-ML":{"to":"en-US","desc":"Bambara (Mali)"},"bn":{"to":"en-US","desc":"Bengali"},"bn-BD":{"to":"en-US","desc":"Bengali (Bangladesh)"},"bn-IN":{"to":"en-US","desc":"Bengali (India)"},"bo":{"to":"en-US","desc":"Tibetan"},"bo-CN":{"to":"en-US","desc":"Tibetan (China)"},"bo-IN":{"to":"en-US","desc":"Tibetan (India)"},"br":{"to":"en-US","desc":"Breton"},"br-FR":{"to":"en-US","desc":"Breton (France)"},"brx":{"to":"en-US","desc":"Bodo"},"brx-IN":{"to":"en-US","desc":"Bodo (India)"},"bs":{"to":"en-US","desc":"Bosnian"},"bs-BA":{"to":"en-US","desc":"Bosnian (Cyrillic,Bosnia and Herzegovina)"},"ca":{"to":"en-US","desc":"Catalan"},"ca-AD":{"to":"en-US","desc":"Catalan (Andorra)"},"ca-ES":{"to":"en-US","desc":"Catalan (Spain)"},"ca-FR":{"to":"en-US","desc":"Catalan (France)"},"ca-IT":{"to":"en-US","desc":"Catalan (Italy)"},"cgg":{"to":"en-US","desc":"Chiga"},"cgg-UG":{"to":"en-US","desc":"Chiga (Uganda)"},"chr":{"to":"en-US","desc":"Cherokee"},"chr-US":{"to":"en-US","desc":"Cherokee (United States)"},"cs":{"to":"en-US","desc":"Czech"},"cs-CZ":{"to":"en-US","desc":"Czech (Czech Republic)"},"cy":{"to":"en-US","desc":"Welsh"},"cy-GB":{"to":"en-US","desc":"Welsh (United Kingdom)"},"da":{"to":"en-US","desc":"Danish"},"da-DK":{"to":"en-US","desc":"Danish (Denmark)"},"da-GL":{"to":"en-US","desc":"Danish (Greenland)"},"dav":{"to":"en-US","desc":"Taita"},"dav-KE":{"to":"en-US","desc":"Taita (Kenya)"},"de":{"to":"de-DE","desc":"German"},"de-AT":{"to":"de-DE","desc":"German (Austria)"},"de-BE":{"to":"de-DE","desc":"German (Belgium)"},"de-CH":{"to":"de-DE","desc":"German (Switzerland)"},"de-DE":{"to":"de-DE","desc":"German (Germany)"},"de-LI":{"to":"de-DE","desc":"German (Liechtenstein)"},"de-LU":{"to":"de-DE","desc":"German (Luxembourg)"},"dje":{"to":"en-US","desc":"Zarma"},"dje-NE":{"to":"en-US","desc":"Zarma (Niger)"},"dua":{"to":"en-US","desc":"Duala"},"dua-CM":{"to":"en-US","desc":"Duala (Cameroon)"},"dyo":{"to":"en-US","desc":"Jola-Fonyi"},"dyo-SN":{"to":"en-US","desc":"Jola-Fonyi (Senegal)"},"dz":{"to":"en-US","desc":"Dzongkha"},"dz-BT":{"to":"en-US","desc":"Dzongkha (Bhutan)"},"ebu":{"to":"en-US","desc":"Embu"},"ebu-KE":{"to":"en-US","desc":"Embu (Kenya)"},"ee":{"to":"en-US","desc":"Ewe"},"ee-GH":{"to":"en-US","desc":"Ewe (Ghana)"},"ee-TG":{"to":"en-US","desc":"Ewe (Togo)"},"el":{"to":"en-US","desc":"Greek"},"el-CY":{"to":"en-US","desc":"Greek (Cyprus)"},"el-GR":{"to":"en-US","desc":"Greek (Greece)"},"en":{"to":"en-US","desc":"English"},"en-001":{"to":"en-US","desc":"English (World)"},"en-150":{"to":"en-US","desc":"English (Europe)"},"en-AG":{"to":"en-US","desc":"English (Antigua and Barbuda)"},"en-AI":{"to":"en-US","desc":"English (Anguilla)"},"en-AS":{"to":"en-US","desc":"English (American Samoa)"},"en-AU":{"to":"en-US","desc":"English (Australia)"},"en-BB":{"to":"en-US","desc":"English (Barbados)"},"en-BE":{"to":"en-US","desc":"English (Belgium)"},"en-BM":{"to":"en-US","desc":"English (Bermuda)"},"en-BS":{"to":"en-US","desc":"English (Bahamas)"},"en-BW":{"to":"en-US","desc":"English (Botswana)"},"en-BZ":{"to":"en-US","desc":"English (Belize)"},"en-CA":{"to":"en-US","desc":"English (Canada)"},"en-CC":{"to":"en-US","desc":"English (Cocos (Keeling) Islands)"},"en-CK":{"to":"en-US","desc":"English (Cook Islands)"},"en-CM":{"to":"en-US","desc":"English (Cameroon)"},"en-CX":{"to":"en-US","desc":"English (Christmas Island)"},"en-DG":{"to":"en-US","desc":"English (Diego Garcia)"},"en-DM":{"to":"en-US","desc":"English (Dominica)"},"en-ER":{"to":"en-US","desc":"English (Eritrea)"},"en-FJ":{"to":"en-US","desc":"English (Fiji)"},"en-FK":{"to":"en-US","desc":"English (Falkland Islands (Islas Malvinas))"},"en-FM":{"to":"en-US","desc":"English (Micronesia)"},"en-GB":{"to":"en-US","desc":"English (United Kingdom)"},"en-GD":{"to":"en-US","desc":"English (Grenada)"},"en-GG":{"to":"en-US","desc":"English (Guernsey)"},"en-GH":{"to":"en-US","desc":"English (Ghana)"},"en-GI":{"to":"en-US","desc":"English (Gibraltar)"},"en-GM":{"to":"en-US","desc":"English (Gambia)"},"en-GU":{"to":"en-US","desc":"English (Guam)"},"en-GY":{"to":"en-US","desc":"English (Guyana)"},"en-HK":{"to":"en-US","desc":"English (Hong Kong)"},"en-IE":{"to":"en-US","desc":"English (Ireland)"},"en-IM":{"to":"en-US","desc":"English (Isle of Man)"},"en-IN":{"to":"en-US","desc":"English (India)"},"en-IO":{"to":"en-US","desc":"English (British Indian Ocean Territory)"},"en-JE":{"to":"en-US","desc":"English (Jersey)"},"en-JM":{"to":"en-US","desc":"English (Jamaica)"},"en-KE":{"to":"en-US","desc":"English (Kenya)"},"en-KI":{"to":"en-US","desc":"English (Kiribati)"},"en-KN":{"to":"en-US","desc":"English (Saint Kitts and Nevis)"},"en-KY":{"to":"en-US","desc":"English (Cayman Islands)"},"en-LC":{"to":"en-US","desc":"English (Saint Lucia)"},"en-LR":{"to":"en-US","desc":"English (Liberia)"},"en-LS":{"to":"en-US","desc":"English (Lesotho)"},"en-MG":{"to":"en-US","desc":"English (Madagascar)"},"en-MH":{"to":"en-US","desc":"English (Marshall Islands)"},"en-MO":{"to":"en-US","desc":"English (Macau)"},"en-MP":{"to":"en-US","desc":"English (Northern Mariana Islands)"},"en-MS":{"to":"en-US","desc":"English (Montserrat)"},"en-MT":{"to":"en-US","desc":"English (Malta)"},"en-MU":{"to":"en-US","desc":"English (Mauritius)"},"en-MW":{"to":"en-US","desc":"English (Malawi)"},"en-NA":{"to":"en-US","desc":"English (Namibia)"},"en-NF":{"to":"en-US","desc":"English (Norfolk Island)"},"en-NG":{"to":"en-US","desc":"English (Nigeria)"},"en-NR":{"to":"en-US","desc":"English (Nauru)"},"en-NU":{"to":"en-US","desc":"English (Niue)"},"en-NZ":{"to":"en-US","desc":"English (New Zealand)"},"en-PG":{"to":"en-US","desc":"English (Papua New Guinea)"},"en-PH":{"to":"en-US","desc":"English (Philippines)"},"en-PK":{"to":"en-US","desc":"English (Pakistan)"},"en-PN":{"to":"en-US","desc":"English (Pitcairn Islands)"},"en-PR":{"to":"en-US","desc":"English (Puerto Rico)"},"en-PW":{"to":"en-US","desc":"English (Palau)"},"en-RW":{"to":"en-US","desc":"English (Rwanda)"},"en-SB":{"to":"en-US","desc":"English (Solomon Islands)"},"en-SC":{"to":"en-US","desc":"English (Seychelles)"},"en-SD":{"to":"en-US","desc":"English (Sudan)"},"en-SG":{"to":"en-US","desc":"English (Singapore)"},"en-SH":{"to":"en-US","desc":"English (Saint Helena)"},"en-SL":{"to":"en-US","desc":"English (Sierra Leone)"},"en-SS":{"to":"en-US","desc":"English (South Sudan)"},"en-SX":{"to":"en-US","desc":"English (Sint Maarten)"},"en-SZ":{"to":"en-US","desc":"English (Swaziland)"},"en-TC":{"to":"en-US","desc":"English (Turks and Caicos Islands)"},"en-TK":{"to":"en-US","desc":"English (Tokelau)"},"en-TO":{"to":"en-US","desc":"English (Tonga)"},"en-TT":{"to":"en-US","desc":"English (Trinidad and Tobago)"},"en-TV":{"to":"en-US","desc":"English (Tuvalu)"},"en-TZ":{"to":"en-US","desc":"English (Tanzania)"},"en-UG":{"to":"en-US","desc":"English (Uganda)"},"en-UM":{"to":"en-US","desc":"English (U.S. Outlying Islands)"},"en-US":{"to":"en-US","desc":"English (United States)"},"en-VC":{"to":"en-US","desc":"English (St. Vincent & Grenadines)"},"en-VG":{"to":"en-US","desc":"English (British Virgin Islands)"},"en-VI":{"to":"en-US","desc":"English (U.S. Virgin Islands)"},"en-VU":{"to":"en-US","desc":"English (Vanuatu)"},"en-WS":{"to":"en-US","desc":"English (Samoa)"},"en-ZA":{"to":"en-US","desc":"English (South Africa)"},"en-ZM":{"to":"en-US","desc":"English (Zambia)"},"en-ZW":{"to":"en-US","desc":"English (Zimbabwe)"},"eo":{"to":"en-US","desc":"Esperanto"},"es":{"to":"es-419","desc":"Spanish"},"es-419":{"to":"es-419","desc":"Spanish (Latin America)"},"es-AR":{"to":"es-419","desc":"Spanish (Argentina)"},"es-BO":{"to":"es-419","desc":"Spanish (Bolivia)"},"es-CL":{"to":"es-419","desc":"Spanish (Chile)"},"es-CO":{"to":"es-419","desc":"Spanish (Colombia)"},"es-CR":{"to":"es-419","desc":"Spanish (Costa Rica)"},"es-CU":{"to":"es-419","desc":"Spanish (Cuba)"},"es-DO":{"to":"es-419","desc":"Spanish (Dominican Republic)"},"es-EA":{"to":"es-419","desc":"Spanish (Ceuta and Melilla)"},"es-EC":{"to":"es-419","desc":"Spanish (Ecuador)"},"es-ES":{"to":"es-ES","desc":"Spanish (Spain)"},"es-GQ":{"to":"es-419","desc":"Spanish (Equatorial Guinea)"},"es-GT":{"to":"es-419","desc":"Spanish (Guatemala)"},"es-HN":{"to":"es-419","desc":"Spanish (Honduras)"},"es-IC":{"to":"es-419","desc":"Spanish (Canary Islands)"},"es-MX":{"to":"es-419","desc":"Spanish (Mexico)"},"es-NI":{"to":"es-419","desc":"Spanish (Nicaragua)"},"es-PA":{"to":"es-419","desc":"Spanish (Panama)"},"es-PE":{"to":"es-419","desc":"Spanish (Peru)"},"es-PH":{"to":"es-419","desc":"Spanish (Philippines)"},"es-PR":{"to":"es-419","desc":"Spanish (Puerto Rico)"},"es-PY":{"to":"es-419","desc":"Spanish (Paraguay)"},"es-SV":{"to":"es-419","desc":"Spanish (El Salvador)"},"es-US":{"to":"es-419","desc":"Spanish (United States)"},"es-UY":{"to":"es-419","desc":"Spanish (Uruguay)"},"es-VE":{"to":"es-419","desc":"Spanish (Venezuela)"},"et":{"to":"en-US","desc":"Estonian"},"et-EE":{"to":"en-US","desc":"Estonian (Estonia)"},"eu":{"to":"en-US","desc":"Basque"},"eu-ES":{"to":"en-US","desc":"Basque (Spain)"},"ewo":{"to":"en-US","desc":"Ewondo"},"ewo-CM":{"to":"en-US","desc":"Ewondo (Cameroon)"},"fa":{"to":"en-US","desc":"Persian"},"fa-AF":{"to":"en-US","desc":"Persian (Afghanistan)"},"fa-IR":{"to":"en-US","desc":"Persian (Iran)"},"ff":{"to":"en-US","desc":"Fulah"},"ff-SN":{"to":"en-US","desc":"Fulah (Senegal)"},"fi":{"to":"en-US","desc":"Finnish"},"fi-FI":{"to":"en-US","desc":"Finnish (Finland)"},"fil":{"to":"en-US","desc":"Filipino"},"fil-PH":{"to":"en-US","desc":"Filipino (Philippines)"},"fo":{"to":"en-US","desc":"Faroese"},"fo-FO":{"to":"en-US","desc":"Faroese (Faroe Islands)"},"fr":{"to":"fr-FR","desc":"French"},"fr-BE":{"to":"fr-FR","desc":"French (Belgium)"},"fr-BF":{"to":"fr-FR","desc":"French (Burkina Faso)"},"fr-BI":{"to":"fr-FR","desc":"French (Burundi)"},"fr-BJ":{"to":"fr-FR","desc":"French (Benin)"},"fr-BL":{"to":"fr-FR","desc":"French (Saint Barthlemy)"},"fr-CA":{"to":"fr-FR","desc":"French (Canada)"},"fr-CD":{"to":"fr-FR","desc":"French (Congo (DRC))"},"fr-CF":{"to":"fr-FR","desc":"French (Central African Republic)"},"fr-CG":{"to":"fr-FR","desc":"French (Congo (Republic))"},"fr-CH":{"to":"fr-FR","desc":"French (Switzerland)"},"fr-CI":{"to":"fr-FR","desc":"French (Cte dIvoire)"},"fr-CM":{"to":"fr-FR","desc":"French (Cameroon)"},"fr-DJ":{"to":"fr-FR","desc":"French (Djibouti)"},"fr-DZ":{"to":"fr-FR","desc":"French (Algeria)"},"fr-FR":{"to":"fr-FR","desc":"French (France)"},"fr-GA":{"to":"fr-FR","desc":"French (Gabon)"},"fr-GF":{"to":"fr-FR","desc":"French (French Guiana)"},"fr-GN":{"to":"fr-FR","desc":"French (Guinea)"},"fr-GP":{"to":"fr-FR","desc":"French (Guadeloupe)"},"fr-GQ":{"to":"fr-FR","desc":"French (Equatorial Guinea)"},"fr-HT":{"to":"fr-FR","desc":"French (Haiti)"},"fr-KM":{"to":"fr-FR","desc":"French (Comoros)"},"fr-LU":{"to":"fr-FR","desc":"French (Luxembourg)"},"fr-MA":{"to":"fr-FR","desc":"French (Morocco)"},"fr-MC":{"to":"fr-FR","desc":"French (Monaco)"},"fr-MF":{"to":"fr-FR","desc":"French (Saint Martin)"},"fr-MG":{"to":"fr-FR","desc":"French (Madagascar)"},"fr-ML":{"to":"fr-FR","desc":"French (Mali)"},"fr-MQ":{"to":"fr-FR","desc":"French (Martinique)"},"fr-MR":{"to":"fr-FR","desc":"French (Mauritania)"},"fr-MU":{"to":"fr-FR","desc":"French (Mauritius)"},"fr-NC":{"to":"fr-FR","desc":"French (New Caledonia)"},"fr-NE":{"to":"fr-FR","desc":"French (Niger)"},"fr-PF":{"to":"fr-FR","desc":"French (French Polynesia)"},"fr-PM":{"to":"fr-FR","desc":"French (Saint Pierre and Miquelon)"},"fr-RE":{"to":"fr-FR","desc":"French (Runion)"},"fr-RW":{"to":"fr-FR","desc":"French (Rwanda)"},"fr-SC":{"to":"fr-FR","desc":"French (Seychelles)"},"fr-SN":{"to":"fr-FR","desc":"French (Senegal)"},"fr-SY":{"to":"fr-FR","desc":"French (Syria)"},"fr-TD":{"to":"fr-FR","desc":"French (Chad)"},"fr-TG":{"to":"fr-FR","desc":"French (Togo)"},"fr-TN":{"to":"fr-FR","desc":"French (Tunisia)"},"fr-VU":{"to":"fr-FR","desc":"French (Vanuatu)"},"fr-WF":{"to":"fr-FR","desc":"French (Wallis and Futuna)"},"fr-YT":{"to":"fr-FR","desc":"French (Mayotte)"},"ga":{"to":"en-US","desc":"Irish"},"ga-IE":{"to":"en-US","desc":"Irish (Ireland)"},"gl":{"to":"en-US","desc":"Galician"},"gl-ES":{"to":"en-US","desc":"Galician (Spain)"},"gsw":{"to":"en-US","desc":"Swiss German"},"gsw-CH":{"to":"en-US","desc":"Swiss German (Switzerland)"},"gsw-LI":{"to":"en-US","desc":"Swiss German (Liechtenstein)"},"gu":{"to":"en-US","desc":"Gujarati"},"gu-IN":{"to":"en-US","desc":"Gujarati (India)"},"guz":{"to":"en-US","desc":"Gusii"},"guz-KE":{"to":"en-US","desc":"Gusii (Kenya)"},"gv":{"to":"en-US","desc":"Manx"},"gv-IM":{"to":"en-US","desc":"Manx (Isle of Man)"},"ha":{"to":"en-US","desc":"Hausa"},"ha-GH":{"to":"en-US","desc":"Hausa (Latin,Ghana)"},"ha-NE":{"to":"en-US","desc":"Hausa (Latin,Niger)"},"ha-NG":{"to":"en-US","desc":"Hausa (Latin,Nigeria)"},"haw":{"to":"en-US","desc":"Hawaiian"},"haw-US":{"to":"en-US","desc":"Hawaiian (United States)"},"iw":{"to":"en-US","desc":"Hebrew"},"iw-IL":{"to":"en-US","desc":"Hebrew (Israel)"},"hi":{"to":"en-US","desc":"Hindi"},"hi-IN":{"to":"en-US","desc":"Hindi (India)"},"hr":{"to":"en-US","desc":"Croatian"},"hr-BA":{"to":"en-US","desc":"Croatian (Bosnia and Herzegovina)"},"hr-HR":{"to":"en-US","desc":"Croatian (Croatia)"},"hu":{"to":"en-US","desc":"Hungarian"},"hu-HU":{"to":"en-US","desc":"Hungarian (Hungary)"},"hy":{"to":"en-US","desc":"Armenian"},"hy-AM":{"to":"en-US","desc":"Armenian (Armenia)"},"in":{"to":"en-US","desc":"Indonesian"},"in-ID":{"to":"en-US","desc":"Indonesian (Indonesia)"},"ig":{"to":"en-US","desc":"Igbo"},"ig-NG":{"to":"en-US","desc":"Igbo (Nigeria)"},"ii":{"to":"en-US","desc":"Sichuan Yi"},"ii-CN":{"to":"en-US","desc":"Sichuan Yi (China)"},"is":{"to":"en-US","desc":"Icelandic"},"is-IS":{"to":"en-US","desc":"Icelandic (Iceland)"},"it":{"to":"it-IT","desc":"Italian"},"it-CH":{"to":"it-IT","desc":"Italian (Switzerland)"},"it-IT":{"to":"it-IT","desc":"Italian (Italy)"},"it-SM":{"to":"it-IT","desc":"Italian (San Marino)"},"ja":{"to":"en-US","desc":"Japanese"},"ja-JP":{"to":"en-US","desc":"Japanese (Japan)"},"jgo":{"to":"en-US","desc":"Ngomba"},"jgo-CM":{"to":"en-US","desc":"Ngomba (Cameroon)"},"jmc":{"to":"en-US","desc":"Machame"},"jmc-TZ":{"to":"en-US","desc":"Machame (Tanzania)"},"ka":{"to":"en-US","desc":"Georgian"},"ka-GE":{"to":"en-US","desc":"Georgian (Georgia)"},"kab":{"to":"en-US","desc":"Kabyle"},"kab-DZ":{"to":"en-US","desc":"Kabyle (Algeria)"},"kam":{"to":"en-US","desc":"Kamba"},"kam-KE":{"to":"en-US","desc":"Kamba (Kenya)"},"kde":{"to":"en-US","desc":"Makonde"},"kde-TZ":{"to":"en-US","desc":"Makonde (Tanzania)"},"kea":{"to":"en-US","desc":"Kabuverdianu"},"kea-CV":{"to":"en-US","desc":"Kabuverdianu (Cape Verde)"},"khq":{"to":"en-US","desc":"Koyra Chiini"},"khq-ML":{"to":"en-US","desc":"Koyra Chiini (Mali)"},"ki":{"to":"en-US","desc":"Kikuyu"},"ki-KE":{"to":"en-US","desc":"Kikuyu (Kenya)"},"kk":{"to":"en-US","desc":"Kazakh"},"kk-KZ":{"to":"en-US","desc":"Kazakh (Cyrillic,Kazakhstan)"},"kkj":{"to":"en-US","desc":"Kako"},"kkj-CM":{"to":"en-US","desc":"Kako (Cameroon)"},"kl":{"to":"en-US","desc":"Kalaallisut"},"kl-GL":{"to":"en-US","desc":"Kalaallisut (Greenland)"},"kln":{"to":"en-US","desc":"Kalenjin"},"kln-KE":{"to":"en-US","desc":"Kalenjin (Kenya)"},"km":{"to":"en-US","desc":"Khmer"},"km-KH":{"to":"en-US","desc":"Khmer (Cambodia)"},"kn":{"to":"en-US","desc":"Kannada"},"kn-IN":{"to":"en-US","desc":"Kannada (India)"},"ko":{"to":"en-US","desc":"Korean"},"ko-KP":{"to":"en-US","desc":"Korean (North Korea)"},"ko-KR":{"to":"en-US","desc":"Korean (South Korea)"},"kok":{"to":"en-US","desc":"Konkani"},"kok-IN":{"to":"en-US","desc":"Konkani (India)"},"ks":{"to":"en-US","desc":"Kashmiri"},"ks-IN":{"to":"en-US","desc":"Kashmiri (Arabic,India)"},"ksb":{"to":"en-US","desc":"Shambala"},"ksb-TZ":{"to":"en-US","desc":"Shambala (Tanzania)"},"ksf":{"to":"en-US","desc":"Bafia"},"ksf-CM":{"to":"en-US","desc":"Bafia (Cameroon)"},"kw":{"to":"en-US","desc":"Cornish"},"kw-GB":{"to":"en-US","desc":"Cornish (United Kingdom)"},"ky":{"to":"en-US","desc":"Kyrgyz"},"ky-KG":{"to":"en-US","desc":"Kyrgyz (Cyrillic,Kyrgyzstan)"},"lag":{"to":"en-US","desc":"Langi"},"lag-TZ":{"to":"en-US","desc":"Langi (Tanzania)"},"lg":{"to":"en-US","desc":"Ganda"},"lg-UG":{"to":"en-US","desc":"Ganda (Uganda)"},"lkt":{"to":"en-US","desc":"Lakota"},"lkt-US":{"to":"en-US","desc":"Lakota (United States)"},"ln":{"to":"en-US","desc":"Lingala"},"ln-AO":{"to":"en-US","desc":"Lingala (Angola)"},"ln-CD":{"to":"en-US","desc":"Lingala (Congo (DRC))"},"ln-CF":{"to":"en-US","desc":"Lingala (Central African Republic)"},"ln-CG":{"to":"en-US","desc":"Lingala (Congo (Republic))"},"lo":{"to":"en-US","desc":"Lao"},"lo-LA":{"to":"en-US","desc":"Lao (Laos)"},"lt":{"to":"en-US","desc":"Lithuanian"},"lt-LT":{"to":"en-US","desc":"Lithuanian (Lithuania)"},"lu":{"to":"en-US","desc":"Luba-Katanga"},"lu-CD":{"to":"en-US","desc":"Luba-Katanga (Congo (DRC))"},"luo":{"to":"en-US","desc":"Luo"},"luo-KE":{"to":"en-US","desc":"Luo (Kenya)"},"luy":{"to":"en-US","desc":"Luyia"},"luy-KE":{"to":"en-US","desc":"Luyia (Kenya)"},"lv":{"to":"en-US","desc":"Latvian"},"lv-LV":{"to":"en-US","desc":"Latvian (Latvia)"},"mas":{"to":"en-US","desc":"Masai"},"mas-KE":{"to":"en-US","desc":"Masai (Kenya)"},"mas-TZ":{"to":"en-US","desc":"Masai (Tanzania)"},"mer":{"to":"en-US","desc":"Meru"},"mer-KE":{"to":"en-US","desc":"Meru (Kenya)"},"mfe":{"to":"en-US","desc":"Morisyen"},"mfe-MU":{"to":"en-US","desc":"Morisyen (Mauritius)"},"mg":{"to":"en-US","desc":"Malagasy"},"mg-MG":{"to":"en-US","desc":"Malagasy (Madagascar)"},"mgh":{"to":"en-US","desc":"Makhuwa-Meetto"},"mgh-MZ":{"to":"en-US","desc":"Makhuwa-Meetto (Mozambique)"},"mgo":{"to":"en-US","desc":"Meta\'"},"mgo-CM":{"to":"en-US","desc":"Meta\' (Cameroon)"},"mk":{"to":"en-US","desc":"Macedonian"},"mk-MK":{"to":"en-US","desc":"Macedonian (Macedonia (FYROM))"},"ml":{"to":"en-US","desc":"Malayalam"},"ml-IN":{"to":"en-US","desc":"Malayalam (India)"},"mn":{"to":"en-US","desc":"Mongolian"},"mn-MN":{"to":"en-US","desc":"Mongolian (Cyrillic,Mongolia)"},"mr":{"to":"en-US","desc":"Marathi"},"mr-IN":{"to":"en-US","desc":"Marathi (India)"},"ms":{"to":"en-US","desc":"Malay"},"ms-BN":{"to":"en-US","desc":"Malay (Latin,Brunei)"},"ms-MY":{"to":"en-US","desc":"Malay (Latin,Malaysia)"},"ms-SG":{"to":"en-US","desc":"Malay (Latin,Singapore)"},"mt":{"to":"en-US","desc":"Maltese"},"mt-MT":{"to":"en-US","desc":"Maltese (Malta)"},"mua":{"to":"en-US","desc":"Mundang"},"mua-CM":{"to":"en-US","desc":"Mundang (Cameroon)"},"my":{"to":"en-US","desc":"Burmese"},"my-MM":{"to":"en-US","desc":"Burmese (Myanmar (Burma))"},"naq":{"to":"en-US","desc":"Nama"},"naq-NA":{"to":"en-US","desc":"Nama (Namibia)"},"nb":{"to":"en-US","desc":"Norwegian Bokml"},"nb-NO":{"to":"en-US","desc":"Norwegian Bokml (Norway)"},"nb-SJ":{"to":"en-US","desc":"Norwegian Bokml (Svalbard and Jan Mayen)"},"nd":{"to":"en-US","desc":"North Ndebele"},"nd-ZW":{"to":"en-US","desc":"North Ndebele (Zimbabwe)"},"ne":{"to":"en-US","desc":"Nepali"},"ne-IN":{"to":"en-US","desc":"Nepali (India)"},"ne-NP":{"to":"en-US","desc":"Nepali (Nepal)"},"nl":{"to":"en-US","desc":"Dutch"},"nl-AW":{"to":"en-US","desc":"Dutch (Aruba)"},"nl-BE":{"to":"en-US","desc":"Dutch (Belgium)"},"nl-BQ":{"to":"en-US","desc":"Dutch (Caribbean Netherlands)"},"nl-CW":{"to":"en-US","desc":"Dutch (Curaao)"},"nl-NL":{"to":"en-US","desc":"Dutch (Netherlands)"},"nl-SR":{"to":"en-US","desc":"Dutch (Suriname)"},"nl-SX":{"to":"en-US","desc":"Dutch (Sint Maarten)"},"nmg":{"to":"en-US","desc":"Kwasio"},"nmg-CM":{"to":"en-US","desc":"Kwasio (Cameroon)"},"nn":{"to":"en-US","desc":"Norwegian Nynorsk"},"nn-NO":{"to":"en-US","desc":"Norwegian Nynorsk (Norway)"},"nnh":{"to":"en-US","desc":"Ngiemboon"},"nnh-CM":{"to":"en-US","desc":"Ngiemboon (Cameroon)"},"nus":{"to":"en-US","desc":"Nuer"},"nus-SD":{"to":"en-US","desc":"Nuer (Sudan)"},"nyn":{"to":"en-US","desc":"Nyankole"},"nyn-UG":{"to":"en-US","desc":"Nyankole (Uganda)"},"om":{"to":"en-US","desc":"Oromo"},"om-ET":{"to":"en-US","desc":"Oromo (Ethiopia)"},"om-KE":{"to":"en-US","desc":"Oromo (Kenya)"},"or":{"to":"en-US","desc":"Oriya"},"or-IN":{"to":"en-US","desc":"Oriya (India)"},"pa":{"to":"en-US","desc":"Punjabi"},"pa-PK":{"to":"en-US","desc":"Punjabi (Arabic,Pakistan)"},"pa-IN":{"to":"en-US","desc":"Punjabi (Gurmukhi,India)"},"pl":{"to":"en-US","desc":"Polish"},"pl-PL":{"to":"en-US","desc":"Polish (Poland)"},"ps":{"to":"en-US","desc":"Pashto"},"ps-AF":{"to":"en-US","desc":"Pashto (Afghanistan)"},"pt":{"to":"pt-BR","desc":"Portuguese"},"pt-AO":{"to":"pt-BR","desc":"Portuguese (Angola)"},"pt-BR":{"to":"pt-BR","desc":"Portuguese (Brazil)"},"pt-CV":{"to":"pt-BR","desc":"Portuguese (Cape Verde)"},"pt-GW":{"to":"pt-BR","desc":"Portuguese (Guinea-Bissau)"},"pt-MO":{"to":"pt-BR","desc":"Portuguese (Macau)"},"pt-MZ":{"to":"pt-BR","desc":"Portuguese (Mozambique)"},"pt-PT":{"to":"pt-PT","desc":"Portuguese (Portugal)"},"pt-ST":{"to":"pt-BR","desc":"Portuguese (So Tom and Prncipe)"},"pt-TL":{"to":"pt-BR","desc":"Portuguese (Timor-Leste)"},"rm":{"to":"en-US","desc":"Romansh"},"rm-CH":{"to":"en-US","desc":"Romansh (Switzerland)"},"rn":{"to":"en-US","desc":"Rundi"},"rn-BI":{"to":"en-US","desc":"Rundi (Burundi)"},"ro":{"to":"en-US","desc":"Romanian"},"ro-MD":{"to":"en-US","desc":"Romanian (Moldova)"},"ro-RO":{"to":"en-US","desc":"Romanian (Romania)"},"rof":{"to":"en-US","desc":"Rombo"},"rof-TZ":{"to":"en-US","desc":"Rombo (Tanzania)"},"ru":{"to":"ru-RU","desc":"Russian"},"ru-BY":{"to":"ru-RU","desc":"Russian (Belarus)"},"ru-KG":{"to":"ru-RU","desc":"Russian (Kyrgyzstan)"},"ru-KZ":{"to":"ru-RU","desc":"Russian (Kazakhstan)"},"ru-MD":{"to":"ru-RU","desc":"Russian (Moldova)"},"ru-RU":{"to":"ru-RU","desc":"Russian (Russia)"},"ru-UA":{"to":"ru-RU","desc":"Russian (Ukraine)"},"rw":{"to":"en-US","desc":"Kinyarwanda"},"rw-RW":{"to":"en-US","desc":"Kinyarwanda (Rwanda)"},"rwk":{"to":"en-US","desc":"Rwa"},"rwk-TZ":{"to":"en-US","desc":"Rwa (Tanzania)"},"saq":{"to":"en-US","desc":"Samburu"},"saq-KE":{"to":"en-US","desc":"Samburu (Kenya)"},"sbp":{"to":"en-US","desc":"Sangu"},"sbp-TZ":{"to":"en-US","desc":"Sangu (Tanzania)"},"seh":{"to":"en-US","desc":"Sena"},"seh-MZ":{"to":"en-US","desc":"Sena (Mozambique)"},"ses":{"to":"en-US","desc":"Koyraboro Senni"},"ses-ML":{"to":"en-US","desc":"Koyraboro Senni (Mali)"},"sg":{"to":"en-US","desc":"Sango"},"sg-CF":{"to":"en-US","desc":"Sango (Central African Republic)"},"shi":{"to":"en-US","desc":"Tachelhit"},"shi-MA":{"to":"en-US","desc":"Tachelhit (Latin,Morocco)"},"si":{"to":"en-US","desc":"Sinhala"},"si-LK":{"to":"en-US","desc":"Sinhala (Sri Lanka)"},"sk":{"to":"en-US","desc":"Slovak"},"sk-SK":{"to":"en-US","desc":"Slovak (Slovakia)"},"sl":{"to":"en-US","desc":"Slovenian"},"sl-SI":{"to":"en-US","desc":"Slovenian (Slovenia)"},"sn":{"to":"en-US","desc":"Shona"},"sn-ZW":{"to":"en-US","desc":"Shona (Zimbabwe)"},"so":{"to":"en-US","desc":"Somali"},"so-DJ":{"to":"en-US","desc":"Somali (Djibouti)"},"so-ET":{"to":"en-US","desc":"Somali (Ethiopia)"},"so-KE":{"to":"en-US","desc":"Somali (Kenya)"},"so-SO":{"to":"en-US","desc":"Somali (Somalia)"},"sq":{"to":"en-US","desc":"Albanian"},"sq-AL":{"to":"en-US","desc":"Albanian (Albania)"},"sq-MK":{"to":"en-US","desc":"Albanian (Macedonia (FYROM))"},"sq-XK":{"to":"en-US","desc":"Albanian (Kosovo)"},"sr":{"to":"en-US","desc":"Serbian"},"sr-BA":{"to":"en-US","desc":"Serbian (Cyrillic,Bosnia and Herzegovina)"},"sr-ME":{"to":"en-US","desc":"Serbian (Cyrillic,Montenegro)"},"sr-RS":{"to":"en-US","desc":"Serbian (Cyrillic,Serbia)"},"sr-XK":{"to":"en-US","desc":"Serbian (Cyrillic,Kosovo)"},"sv":{"to":"en-US","desc":"Swedish"},"sv-AX":{"to":"en-US","desc":"Swedish (land Islands)"},"sv-FI":{"to":"en-US","desc":"Swedish (Finland)"},"sv-SE":{"to":"en-US","desc":"Swedish (Sweden)"},"sw":{"to":"en-US","desc":"Swahili"},"sw-KE":{"to":"en-US","desc":"Swahili (Kenya)"},"sw-TZ":{"to":"en-US","desc":"Swahili (Tanzania)"},"sw-UG":{"to":"en-US","desc":"Swahili (Uganda)"},"swc":{"to":"en-US","desc":"Congo Swahili"},"swc-CD":{"to":"en-US","desc":"Congo Swahili (Congo (DRC))"},"ta":{"to":"en-US","desc":"Tamil"},"ta-IN":{"to":"en-US","desc":"Tamil (India)"},"ta-LK":{"to":"en-US","desc":"Tamil (Sri Lanka)"},"ta-MY":{"to":"en-US","desc":"Tamil (Malaysia)"},"ta-SG":{"to":"en-US","desc":"Tamil (Singapore)"},"te":{"to":"en-US","desc":"Telugu"},"te-IN":{"to":"en-US","desc":"Telugu (India)"},"teo":{"to":"en-US","desc":"Teso"},"teo-KE":{"to":"en-US","desc":"Teso (Kenya)"},"teo-UG":{"to":"en-US","desc":"Teso (Uganda)"},"th":{"to":"en-US","desc":"Thai"},"th-TH":{"to":"en-US","desc":"Thai (Thailand)"},"ti":{"to":"en-US","desc":"Tigrinya"},"ti-ER":{"to":"en-US","desc":"Tigrinya (Eritrea)"},"ti-ET":{"to":"en-US","desc":"Tigrinya (Ethiopia)"},"to":{"to":"en-US","desc":"Tongan"},"to-TO":{"to":"en-US","desc":"Tongan (Tonga)"},"tr":{"to":"en-US","desc":"Turkish"},"tr-CY":{"to":"en-US","desc":"Turkish (Cyprus)"},"tr-TR":{"to":"en-US","desc":"Turkish (Turkey)"},"twq":{"to":"en-US","desc":"Tasawaq"},"twq-NE":{"to":"en-US","desc":"Tasawaq (Niger)"},"tzm":{"to":"en-US","desc":"Central Atlas Tamazight"},"tzm-MA":{"to":"en-US","desc":"Central Atlas Tamazight (Latin,Morocco)"},"ug":{"to":"en-US","desc":"Uyghur"},"ug-CN":{"to":"en-US","desc":"Uyghur (Arabic,China)"},"uk":{"to":"en-US","desc":"Ukrainian"},"uk-UA":{"to":"en-US","desc":"Ukrainian (Ukraine)"},"ur":{"to":"en-US","desc":"Urdu"},"ur-IN":{"to":"en-US","desc":"Urdu (India)"},"ur-PK":{"to":"en-US","desc":"Urdu (Pakistan)"},"uz":{"to":"en-US","desc":"Uzbek"},"uz-AF":{"to":"en-US","desc":"Uzbek (Arabic,Afghanistan)"},"uz-UZ":{"to":"en-US","desc":"Uzbek (Cyrillic,Uzbekistan)"},"vai":{"to":"en-US","desc":"Vai"},"vai-LR":{"to":"en-US","desc":"Vai (Latin,Liberia)"},"vi":{"to":"en-US","desc":"Vietnamese"},"vi-VN":{"to":"en-US","desc":"Vietnamese (Vietnam)"},"vun":{"to":"en-US","desc":"Vunjo"},"vun-TZ":{"to":"en-US","desc":"Vunjo (Tanzania)"},"xog":{"to":"en-US","desc":"Soga"},"xog-UG":{"to":"en-US","desc":"Soga (Uganda)"},"yav":{"to":"en-US","desc":"Yangben"},"yav-CM":{"to":"en-US","desc":"Yangben (Cameroon)"},"yo":{"to":"en-US","desc":"Yoruba"},"yo-BJ":{"to":"en-US","desc":"Yoruba (Benin)"},"yo-NG":{"to":"en-US","desc":"Yoruba (Nigeria)"},"zgh":{"to":"en-US","desc":"Standard Moroccan Tamazight"},"zgh-MA":{"to":"en-US","desc":"Standard Moroccan Tamazight (Morocco)"},"zh":{"to":"en-US","desc":"Chinese"},"zh-CN":{"to":"en-US","desc":"Chinese (Simplified Han,China)"},"zh-HK":{"to":"en-US","desc":"Chinese (Simplified Han,Hong Kong)"},"zh-MO":{"to":"en-US","desc":"Chinese (Simplified Han,Macau)"},"zh-SG":{"to":"en-US","desc":"Chinese (Simplified Han,Singapore)"},"zh-TW":{"to":"en-US","desc":"Chinese (Traditional Han,Taiwan)"},"zu":{"to":"en-US","desc":"Zulu"},"zu-ZA":{"to":"en-US","desc":"Zulu (South Africa)"}}}')},function(e,t,n){var r=n(196),i=n(277),a=n(94);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.activePlayer=t.property=t.plugins=t.plugin=t.isTaskActive=t.gateTaskStatus=t.hasGateTask=t.gateStatus=t.config=t.all=void 0;var r=n(57);t.all=function(e){return e.core},t.config=function(e){return e.core.config},t.gateStatus=function(e,t){return e.core.gateStatus[t.toString()]},t.hasGateTask=function(e,t){var n=t.actionType,r=t.name;return(e.core.gateTasks[n]||[]).some((function(e){return e.name===r}))},t.gateTaskStatus=function(e,t){var n=t.actionType,i=t.name;return(e.core.gateTasks[n]||[])[i]||r.GateTaskStatus.INCOMPLETE},t.isTaskActive=function(e,t){return!!e.core.intervalTasks[t]},t.plugin=function(e,t){return e.core.plugins[t]},t.plugins=function(e){return e.core.plugins},t.property=function(e,t){return e.core[t]},t.activePlayer=function(e){var t;return null!==(t=[e.player0,e.adsPlayer].find((function(e){return null==e?void 0:e.isActive})))&&void 0!==t?t:null}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(604),i=n(605),a=n(606);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return F(e).length;default:if(r)return V(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=n;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){d=!1;break}if(d)return a}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function _(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function A(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return A(e,t,n,r)}function E(e,t,n,r){return H(F(t),e,n,r)}function w(e,t,n,r){return H(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&c)<<6|63&a)>127&&(l=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){a=c[d],o=l[d];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=U(e[a]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return a||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,a){return a||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:V(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function F(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EllationMediaType=t.EllationHeartbeatSource=t.EllationInitialPlayType=t.EllationEecHost=void 0,function(e){e.CR_ETP_PROD="//eec.crunchyroll.com/v1",e.CR_ETP_PROTO0="//cr-eec.etp-proto0.com/v1",e.CR_ETP_STAGING="//cr-eec.etp-staging.com/v1",e.CX_STAGING="//vrv-eec.etp-staging.com/v1",e.VRV_ETP_PROD="//vrv-eec.etp-prod.com/v1",e.VRV_ETP_PROTO0="//vrv-eec.etp-proto0.com/v1"}(t.EllationEecHost||(t.EllationEecHost={})),function(e){e.AUTOPLAY="autoplay",e.PLAY="play",e.SKIP="skip"}(t.EllationInitialPlayType||(t.EllationInitialPlayType={})),function(e){e.LOCAL="local",e.NETWORK="network"}(t.EllationHeartbeatSource||(t.EllationHeartbeatSource={})),function(e){e.MOVIE="movie",e.SERIES="series",e.SEASON="season",e.EPISODE="episode",e.EXTRA="extra",e.EXTRA_VIDEO="extra_video",e.EXTRA_VIDEO_MOVIE="extra_video_movie",e.EXTRA_VIDEO_SERIES="extra_video_series"}(t.EllationMediaType||(t.EllationMediaType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={encodeSVG:function(e){return"string"==typeof e&&e.startsWith("<svg")?"data:image/svg+xml;utf8,"+e:e}}},function(e,t,n){"use strict";var r=n(613),i=n(204),a=n(617),o=n(314),s=n(315),u=n(618),c=n(619),l=n(640),d=n(99);e.exports=g,g.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var r=this._addSchema(e);n=r.validate||this._compile(r)}var i=n(t);!0!==n.$async&&(this.errors=n.errors);return i},g.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},g.prototype.addSchema=function(e,t,n,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)this.addSchema(e[a],void 0,n,r);return this}var o=this._getId(e);if(void 0!==o&&"string"!=typeof o)throw new Error("schema id must be string");return E(this,t=i.normalizeId(t||o)),this._schemas[t]=this._addSchema(e,n,r,!0),this},g.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},g.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(h)?h:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,e);if(!r&&t){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return r},g.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=i.schema.call(e,{schema:{}},t);if(n){var a=n.schema,s=n.root,u=n.baseId,c=r.call(e,a,s,void 0,u);return e._fragments[t]=new o({ref:t,fragment:!0,schema:a,root:s,baseId:u,validate:c}),c}}(this,e)}},g.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,r=n?n(e):e;this._cache.del(r);var a=this._getId(e);a&&(a=i.normalizeId(a),delete this._schemas[a],delete this._refs[a])}return this},g.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},g.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,r=void 0===t.dataVar?"data":t.dataVar,i="",a=0;a<e.length;a++){var o=e[a];o&&(i+=r+o.dataPath+" "+o.message+n)}return i.slice(0,-n.length)},g.prototype._addSchema=function(e,t,n,r){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var a=this._opts.serialize,s=a?a(e):e,u=this._cache.get(s);if(u)return u;r=r||!1!==this._opts.addUsedSchema;var c=i.normalizeId(this._getId(e));c&&r&&E(this,c);var l,d=!1!==this._opts.validateSchema&&!t;d&&!(l=c&&c==i.normalizeId(e.$schema))&&this.validateSchema(e,!0);var f=i.ids.call(this,e),p=new o({id:c,schema:e,localRefs:f,cacheKey:s,meta:n});"#"!=c[0]&&r&&(this._refs[c]=p);this._cache.put(s,p),d&&l&&this.validateSchema(e,!0);return p},g.prototype._compile=function(e,t){if(e.compiling)return e.validate=a,a.schema=e.schema,a.errors=null,a.root=t||a,!0===e.schema.$async&&(a.$async=!0),a;var n,i;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{i=r.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function a(){var t=e.validate,n=t.apply(this,arguments);return a.errors=t.errors,n}},g.prototype.compileAsync=n(641);var f=n(642);g.prototype.addKeyword=f.add,g.prototype.getKeyword=f.get,g.prototype.removeKeyword=f.remove,g.prototype.validateKeyword=f.validate;var p=n(206);g.ValidationError=p.Validation,g.MissingRefError=p.MissingRef,g.$dataMetaSchema=l;var h="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function g(e){if(!(this instanceof g))return new g(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:w,warn:w,error:w};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=u(e.format),this._cache=e.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return S;case"id":return _;default:return A}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=s),this._metaOpts=function(e){for(var t=d.copy(e._opts),n=0;n<v.length;n++)delete t[v[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var n=e._opts.keywords[t];e.addKeyword(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(645),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=n(321);e._opts.$data&&(r=l(r,m));e.addMetaSchema(r,h,!0),e._refs["http://json-schema.org/schema"]=h}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=i.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var r in t){var i=t[r];i.meta||n&&!n.test(r)||(e._cache.del(i.cacheKey),delete t[r])}}function _(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function A(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function S(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function E(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function w(){}},function(e,t,n){"use strict";var r=n(99);e.exports=function(e){r.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n,r="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(n=t.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},a={key:r,value:e[r]};return n(i,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var n,o;if(Array.isArray(t)){for(o="[",n=0;n<t.length;n++)n&&(o+=","),o+=e(t[n])||"null";return o+"]"}if(null===t)return"null";if(-1!==a.indexOf(t)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,u=Object.keys(t).sort(i&&i(t));for(o="",n=0;n<u.length;n++){var c=u[n],l=e(t[c]);l&&(o&&(o+=","),o+=JSON.stringify(c)+":"+l)}return a.splice(s,1),"{"+o+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r="",i=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var u="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(u);e.logger.warn(u)}}if(e.isTop&&(r+=" var validate = ",i&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){var c=e.level,l=e.dataLevel,d=e.schema["false schema"],f=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",h=!e.opts.allErrors,v="data"+(l||""),m="valid"+c;if(!1===e.schema){e.isTop?h=!0:r+=" var "+m+" = false; ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var g=r;r=Z.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?r+=i?" return data; ":" validate.errors = null; return true; ":r+=" var "+m+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var y=e.isTop;c=e.level=0,l=e.dataLevel=0,v="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{c=e.level,v="data"+((l=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+c+" = errors;"}m="valid"+c,h=!e.opts.allErrors;var _="",A="",S=e.schema.type,E=Array.isArray(S);if(S&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],E=!0)),E&&1==S.length&&(S=S[0],E=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var w=e.util.coerceToTypes(e.opts.coerceTypes,S);var T=e.RULES.types[S];if(w||E||!0===T||T&&!Q(T)){f=e.schemaPath+".type",p=e.errSchemaPath+"/type",f=e.schemaPath+".type",p=e.errSchemaPath+"/type";var P=E?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[P](S,v,e.opts.strictNumbers,!0)+") { ",w){var C="dataType"+c,O="coerced"+c;r+=" var "+C+" = typeof "+v+"; var "+O+" = undefined; ","array"==e.opts.coerceTypes&&(r+=" if ("+C+" == 'object' && Array.isArray("+v+") && "+v+".length == 1) { "+v+" = "+v+"[0]; "+C+" = typeof "+v+"; if ("+e.util.checkDataType(e.schema.type,v,e.opts.strictNumbers)+") "+O+" = "+v+"; } "),r+=" if ("+O+" !== undefined) ; ";var k=w;if(k)for(var I,x=-1,D=k.length-1;x<D;)"string"==(I=k[x+=1])?r+=" else if ("+C+" == 'number' || "+C+" == 'boolean') "+O+" = '' + "+v+"; else if ("+v+" === null) "+O+" = ''; ":"number"==I||"integer"==I?(r+=" else if ("+C+" == 'boolean' || "+v+" === null || ("+C+" == 'string' && "+v+" && "+v+" == +"+v+" ","integer"==I&&(r+=" && !("+v+" % 1)"),r+=")) "+O+" = +"+v+"; "):"boolean"==I?r+=" else if ("+v+" === 'false' || "+v+" === 0 || "+v+" === null) "+O+" = false; else if ("+v+" === 'true' || "+v+" === 1) "+O+" = true; ":"null"==I?r+=" else if ("+v+" === '' || "+v+" === 0 || "+v+" === false) "+O+" = null; ":"array"==e.opts.coerceTypes&&"array"==I&&(r+=" else if ("+C+" == 'string' || "+C+" == 'number' || "+C+" == 'boolean' || "+v+" == null) "+O+" = ["+v+"]; ");r+=" else {   ",(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+O+" !== undefined) {  ";var R=l?"data"+(l-1||""):"parentData";r+=" "+v+" = "+O+"; ",l||(r+="if ("+R+" !== undefined)"),r+=" "+R+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+O+"; } "}else{(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!a)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",h&&(r+=" } if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",A+="}");else{var M=e.RULES;if(M)for(var N=-1,L=M.length-1;N<L;)if(Q(T=M[N+=1])){if(T.type&&(r+=" if ("+e.util.checkDataType(T.type,v,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==T.type&&e.schema.properties){d=e.schema.properties;var j=Object.keys(d);if(j)for(var B,U=-1,V=j.length-1;U<V;){if(void 0!==(G=d[B=j[U+=1]]).default){var F=v+e.util.getProperty(B);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+F;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+F+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+F+" === null || "+F+" === '' "),r+=" ) "+F+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}else if("array"==T.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){x=-1;for(var G,W=H.length-1;x<W;)if(void 0!==(G=H[x+=1]).default){F=v+"["+x+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+F;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else r+=" if ("+F+" === undefined ","empty"==e.opts.useDefaults&&(r+=" || "+F+" === null || "+F+" === '' "),r+=" ) "+F+" = ","shared"==e.opts.useDefaults?r+=" "+e.useDefault(G.default)+" ":r+=" "+JSON.stringify(G.default)+" ",r+="; "}}}var z=T.rules;if(z)for(var K,Y=-1,q=z.length-1;Y<q;)if(J(K=z[Y+=1])){var X=K.code(e,K.keyword,T.type);X&&(r+=" "+X+" ",h&&(_+="}"))}if(h&&(r+=" "+_+" ",_=""),T.type&&(r+=" } ",S&&S===T.type&&!w)){r+=" else { ";var Z;f=e.schemaPath+".type",p=e.errSchemaPath+"/type";(Z=Z||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",r+=E?""+S.join(","):""+S,r+="' } ",!1!==e.opts.messages&&(r+=" , message: 'should be ",r+=E?""+S.join(","):""+S,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";g=r;r=Z.pop(),!e.compositeRule&&h?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}h&&(r+=" if (errors === ",r+=y?"0":"errs_"+c,r+=") { ",A+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(J(t[n]))return!0}function J(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,r=0;r<n.length;r++)if(void 0!==e.schema[n[r]])return!0}(t)}return h&&(r+=" "+A+" "),y?(i?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+m+" = errors === errs_"+c+";",r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s;var p="maximum"==t,h=p?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[h],m=e.opts.$data&&v&&v.$data,g=p?"<":">",y=p?">":"<",b=void 0;if(!f&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!m&&void 0!==v&&"number"!=typeof v&&"boolean"!=typeof v)throw new Error(h+" must be number or boolean");if(m){var _=e.util.getData(v.$data,o,e.dataPathArr),A="exclusive"+a,S="exclType"+a,E="exclIsNumber"+a,w="' + "+(C="op"+a)+" + '";i+=" var schemaExcl"+a+" = "+_+"; ",i+=" var "+A+"; var "+S+" = typeof "+(_="schemaExcl"+a)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ";var T;b=h;(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var P=i;i=T.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+P+"]); ":i+=" validate.errors = ["+P+"]; return false; ":i+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+S+" == 'number' ? ( ("+A+" = "+r+" === undefined || "+_+" "+g+"= "+r+") ? "+d+" "+y+"= "+_+" : "+d+" "+y+" "+r+" ) : ( ("+A+" = "+_+" === true) ? "+d+" "+y+"= "+r+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { var op"+a+" = "+A+" ? '"+g+"' : '"+g+"='; ",void 0===s&&(b=h,c=e.errSchemaPath+"/"+h,r=_,f=m)}else{w=g;if((E="number"==typeof v)&&f){var C="'"+w+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" ( "+r+" === undefined || "+v+" "+g+"= "+r+" ? "+d+" "+y+"= "+v+" : "+d+" "+y+" "+r+" ) || "+d+" !== "+d+") { "}else{E&&void 0===s?(A=!0,b=h,c=e.errSchemaPath+"/"+h,r=v,y+="="):(E&&(r=Math[p?"min":"max"](v,s)),v===(!E||r)?(A=!0,b=h,c=e.errSchemaPath+"/"+h,y+="="):(A=!1,w+="="));C="'"+w+"'";i+=" if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+" "+y+" "+r+" || "+d+" !== "+d+") { "}}b=b||t,(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+C+", limit: "+r+", exclusive: "+A+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be "+w+" ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";P=i;return i=T.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+P+"]); ":i+=" validate.errors = ["+P+"]; return false; ":i+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!f&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" "+d+".length "+("maxItems"==t?">":"<")+" "+r+") { ";var p=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxItems"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!f&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),!1===e.opts.unicode?i+=" "+d+".length ":i+=" ucs2length("+d+") ",i+=" "+p+" "+r+") { ";var h=t,v=v||[];v.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be ",i+="maxLength"==t?"longer":"shorter",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;return i=v.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!f&&"number"!=typeof s)throw new Error(t+" must be number");i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'number') || "),i+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+r+") { ";var p=t,h=h||[];h.push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have ",i+="maxProperties"==t?"more":"fewer",i+=" than ",i+=f?"' + "+r+" + '":""+s,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var v=i;return i=h.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(a).concat([i]).join("\n")}var o;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(i=0;i<e.length;i++){var o=e[i];null!=o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){var r,i,a={},o=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e,t){return t?t.querySelector(e):document.querySelector(e)},u=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=s.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),c=null,l=0,d=[],f=n(652);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(b(r.parts[o],t))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(b(r.parts[o],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],o=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(s):n.push(r[o]={id:o,parts:[s]})}return n}function v(e,t){var n=u(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=d[d.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=u(e.insertAt.before,n);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return y(t,e.attrs),v(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function b(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var o=l++;n=c||(c=g(t)),r=S.bind(null,n,o,!1),i=S.bind(null,n,o,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),v(e,t),t}(t),r=w.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=E.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=o()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var o=n[i];(s=a[o.id]).refs--,r.push(s)}e&&p(h(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}};var _,A=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function S(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function E(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function w(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=f(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isSmallPhone=t.isRoku=t.isIframe=t.isWeb=t.isFireTV=t.OS=void 0;var i,a=n(3),o=r(n(657));!function(e){e.ANDROID="android",e.IOS="ios",e.OSX="OSX",e.PS4="Orbis",e.ROKU="RokuOS",e.WEB="web",e.WINDOWS="Windows.Desktop",e.XBOX="Windows.Xbox"}(i=t.OS||(t.OS={})),t.isFireTV=function(){var e=o.default.getBrand,t=o.default.getModel,n=e(),r=t()||"";return"Amazon"===n&&"AFT"===r.slice(0,3)},t.isWeb=function(){return"web"===a.Platform.OS},t.isIframe=function(){return t.isWeb()&&"object"==typeof window&&window.self!==window.top},t.isRoku=function(){return o.default.getSystemName()===i.ROKU},t.isSmallPhone=function(){return a.Dimensions.get("screen").width<=375}},function(e){e.exports=JSON.parse('{"$id":"http://crunchyroll.com/schemas/Velocity.config.schema.json","properties":{"a9":{"$id":"#Velocity_Config_A9","type":"object","properties":{"enabled":{"type":"boolean","description":"Enable Amazon A9 bidding","default":false}}},"ads":{"$id":"#Velocity_Config_Ads","type":"object","properties":{"adBreaks":{"type":"array","items":{"$id":"#Velocity_Config_Ad_Break","type":"object","properties":{"type":{"type":"string","description":"List of ad stops (new!)","examples":["midroll","preroll","trailer"]},"offset":{"type":"number","description":" Offset at which the ad break will occur","examples":["1000"]}}},"description":"List of ad stops (new!)"},"adTech":{"type":"string","description":"Type of ad tech used to display ads, Vendri is client side, YoSpace and Katana are server side","enum":["Katana","Vendri","Yospace",""]},"configId":{"type":"string","description":"Id for overriding the configId for SSAI ads","examples":["243406566","263675196","251794869"]},"pubId":{"type":"string","description":"Id for overriding the ads pid in vendri","examples":["401","402","458","crunchyroll-web"]},"pidEndpointOverride":{"type":"string","description":"Changes the endpoint root for fetching the PID.json if the default \'/config/cx-Velocity-ads/\' please slash-terminate \'/\'","examples":["https://someotherdomain.com/config/cx-Velocity-ads/","/config/cx-ios-app/"]},"minimumDurationThreshold":{"type":"integer","description":"The minimum length, in seconds, content needs to be to have ads","default":420}},"required":[]},"analytics":{"$id":"#Velocity_Config_Analytics","type":"object","properties":{"anonymous_id":{"type":"string","description":"Anonymous if blank"},"videoRequestTime":{"type":"number","description":"Timestamp when the customer requested the video to play. Helps measure total time to start playback."},"sessionStartType":{"type":"string","description":"How the video was started, e.g. showPage, skipToNext, etc."}},"required":[]},"audio":{"$id":"#Velocity_Config_Audio","type":"object","properties":{"volume":{"type":"number","description":"Used as default volume level on Velocity update. User volume preference or override will ignore this."},"mute":{"type":"boolean","description":"Should the video be muted after loading"}}},"client":{"$id":"#Velocity_Config_Client","type":"object","properties":{"id":{"type":"string","description":"The client id. For example: \'vrv-web\'."},"accountingId":{"type":"string","description":"The accounting id for where the video is currently being played. For example: \'vrv\' or \'crunchyroll\'."},"environment":{"type":"string","description":"Which environment is the player running in","enum":["proto0","staging","prod"]}}},"configDelta":{"$id":"#Velocity_Config_Config_Delta","type":"object","properties":{"s3Bucket":{"type":"string","description":"Name of the S3 bucket. Replace ENV with environment","default":"ellation-cx-{{ENV}}-config-schema-store"}}},"controls":{"$id":"#Velocity_Config_Controls","type":"object","properties":{"enabled":{"type":"boolean","description":"Show controls"},"inactivityTimeout":{"type":"integer","description":"Duration (milliseconds) of inactivity before the controls auto-hide","default":2500},"showHideDuration":{"type":"integer","description":"Duration (milliseconds) of the animation when showing or hiding controls","default":50}},"required":[]},"crunchyrollSkipEvents":{"$id":"#Velocity_Config_Crunchyroll_Skip_Events","type":"object","properties":{"enabled":{"type":"boolean","description":"Whether to enable the provider"},"aiPrefix":{"type":"string","description":"URL prefix where to look for AI generated data"},"productionPrefix":{"type":"string","description":"URL prefix where to look for production approved data"}}},"drm":{"$id":"#Velocity_Config_DRM","type":"object","properties":{"policy":{"type":"string","description":"When to use DRM","default":"never","enum":["never","if-available","always"]},"fairPlayCertificateURL":{"type":"string","description":"FairPlay certificate URL"},"fairPlayLicenseURL":{"type":"string","description":"FairPlay license URL"},"playReadyLicenseURL":{"type":"string","description":"PlayReady license URL"},"widevineLicenseURL":{"type":"string","description":"Widevine license URL"},"widevineRobustness":{"type":"string","description":"Widevine robustness level","default":"SW_SECURE_CRYPTO","enum":["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"]}},"required":[]},"eec":{"$id":"#Velocity_Config_EEC","type":"object","properties":{"enabled":{"type":"boolean","description":"Is EEC enabled","default":true},"anonymousId":{"type":"string","description":"Anonymous id","default":null},"apiKey":{"type":"string","description":"EEC key for API calls","default":null,"examples":[""]},"apiHost":{"type":"string","description":"EEC API host url","default":"//api.segment.io.","examples":["//s-vrv.akamaized.net/v1/p"]},"events":{"type":"object","description":"Events to monitor","default":{},"additionalProperties":{"$id":"#Velocity_Config_Analytics_Event","type":"object","properties":{"enabled":{"type":"boolean","default":true},"on":{"type":"string","description":"Action to trigger event reporting on","examples":["playerActions.requestPlay"]},"payload":{"type":"object","description":"Payload from the reducer to be sent to the analytics provider","examples":[{"currentTime":"media.contentTime","duration":"player0.duration","...media":"config.media"}]}}}}},"required":[]},"ellationAnalytics":{"$id":"#Velocity_Config_Ellation_Analytics","type":"object","properties":{"enabled":{"type":"boolean","description":"Are Ellation specific analytics event generators enabled","default":false},"heartbeatInterval":{"type":"number","description":"Number of seconds between heartbeat events","default":30}}},"ellationPlayhead":{"$id":"#Velocity_Config_Ellation_Playhead","type":"object","properties":{"enabled":{"type":"boolean","description":"Is the service for reporting playhead progress enabled","default":false},"interval":{"type":"number","description":"Number of seconds between playhead events","default":30}}},"freewheel":{"$id":"#Velocity_Config_Freewheel","type":"object","properties":{}},"krux":{"$id":"#Velocity_Config_Krux","type":"object","properties":{"guid":{"type":"string","description":"User\'s GUID from Krux advertising parameters"},"kruxUser":{"type":"string","description":"User\'s ID from Krux advertising parameters"},"transactionId":{"type":"string","description":"User\'s Transaction ID from Krux advertising parameters"}},"required":[]},"logger":{"$id":"#Velocity_Config_Logger","type":"object","properties":{"enabled":{"type":"boolean","description":"Enabled logging","default":true}},"required":[]},"media":{"$id":"#Velocity_Config_Media","type":"object","properties":{"type":{"type":"string","description":"Parent of media type (moved from analytics)","examples":["episode","movie"]},"id":{"type":"string","description":"ID of the media to be played"},"playlists":{"type":"array","items":{"$id":"#Velocity_Config_Media_PlayListItem","type":"object","properties":{"drm":{"type":"boolean","description":"Signifies if this is a DRM Stream","examples":["true","false"]},"mime_type":{"type":["string","null"],"description":"Format of the stream","enum":["DASH","HLS","MP4"]},"language":{"type":"string","description":"Audio language of the stream (renamed from \'audio_lang\')","examples":["en-US",null]},"hardsub_lang":{"type":["string","null"],"description":"Hardsub language of the stream","examples":["en-US",null]},"multitrack":{"type":"boolean","default":false,"description":"Does the stream containing text tracks"},"src":{"type":"string","description":"URL of the file (renamed from \'url\')"}}},"description":""},"externalTextTracks":{"type":"array","items":{"$id":"#Velocity_Config_Media_TextTrackItem","type":"object","properties":{"type":{"type":"string","description":"String - Media type (eg. VTT, ASS) (renamed from type)"},"language":{"type":"string","description":"(renamed from format)"},"title":{"type":"string","description":"Possibly should be \\"\\" to match format"},"label":{"type":"string","description":"Possibly should be \\"\\" to match format"},"kind":{"type":"string","description":"(new Property)","enum":["captions","subtitles"]},"src":{"type":"string","description":"text track source"},"cssSrc":{"type":"string","description":"css file source"},"index":{"type":"number","description":"Index of number in array. See https://ellation.atlassian.net/browse/VEX-986"}},"required":["index"]},"description":""},"images":{"type":"array","items":{"$id":"#Velocity_Config_Image_Item","type":"object","properties":{"height":{"type":"integer","description":"Height of the image"},"mediaId":{"type":"string","description":"The ID of the media item"},"mediaType":{"type":"string","description":"Type of the media (for easy searching)","enum":["episode","extra","movie","season","series"]},"orientation":{"type":"string","description":"Orientation of the image","enum":["portrait","landscape"]},"src":{"type":"string","description":"URL for the image"},"width":{"type":"integer","description":"Width of the image"}},"required":["mediaType","src"]},"description":""},"previews":{"type":"array","items":{"$id":"#Velocity_Config_Preview_Item","type":"object","properties":{"src":{"type":"string","description":"URL for the preview archive"},"type":{"type":"string","description":"Format of the preview archive","enum":["bif"]}},"required":["src"]},"description":""}},"required":[]},"metadata":{"$id":"#Velocity_Config_Metadata","type":"object","properties":{"id":{"type":["string"],"description":"ID of the media to be played"},"channelId":{"type":["string","null"],"description":"Channel ID of the media to be played"},"channelName":{"type":["string","null"],"description":"Displayed name of channel from which the media is played"},"description":{"type":"string","description":"Description of the media to be played"},"distributionNumber":{"type":"string","description":"Display version of the episode number (if applicable)","examples":["1","2A","12.5"]},"duration":{"type":"integer","description":"Duration of the media to be played"},"episodeNumber":{"type":"integer","description":"Episode number of the content being played"},"releaseDate":{"type":"string","format":"date","description":"Date of release on this service","examples":["2013-04-06T09:58:00-07:00"]},"restrictions":{"type":"array","description":"List of restrictions that must be met in order to access the content","examples":["premium","mature"],"items":{"type":"string"},"default":[]},"seasonNumber":{"type":"number","description":"Number of the season"},"seasonTitle":{"type":"string","description":"Title of the season"},"sequenceNumber":{"type":"number","description":"Sequence number, order in the season for example (if applicable)"},"seriesId":{"type":"string","description":"ID of the episode\'s series (if applicable)"},"seriesTitle":{"type":"string","description":"Title of the series (if applicable)"},"skipEvents":{"type":"array","items":{"$id":"#Velocity_Config_Skip_Event","type":"object","properties":{"end":{"type":["number","string"],"description":"End time of the event in seconds or \'EOC\' for end of content","examples":[12.5,"EOC"]},"start":{"type":"number","description":"Start time of the event in seconds"},"type":{"type":"string","description":"Type of the skip event","enum":["credits","intro","outro","recap"]}}},"description":"Array of events that can be skipped","required":["end","start","type"]},"title":{"type":"string","description":"Title of the media to be played"},"type":{"type":"string","description":"Type of content being played","examples":["episode","movie_listing"]}},"required":["id"]},"organization":{"$id":"#Velocity_Config_Organization","type":"object","properties":{"apiDomain":{"type":"string","description":"The host to send API calls to"}},"required":[]},"playbackLambda":{"$id":"#Velocity_Config_Playback_Lambda","type":"object","properties":{"url":{"type":"string","description":"The URL for the lambda","default":null}}},"player":{"$id":"#Velocity_Config_Player","type":"object","properties":{"startTime":{"type":"number","description":"Start position in seconds","default":0},"autoplay":{"type":"boolean","description":"Video playback will automatically start once content is loaded. This is separate from automatic playback of upnext content at end of video."},"upnext_autoplay":{"type":"boolean","description":"Override for upnext automatic playback at end of video."},"quality":{"type":"integer","description":"Width of the resolution you want to force."}},"required":[]},"privacy":{"$id":"#Velocity_Config_Privacy","type":"object","properties":{"ccpaDoNotSell":{"type":["boolean","null"],"description":"To conform to the new CCPA rules, append \'do not sell\' parameter to all our freewheel calls","default":null},"gdprConsentString":{"type":["string","null"],"description":"GDPR Consent String identifier for users who are bound by GDPR rules","default":null},"isGDPR":{"type":["string","boolean","null"],"description":"Whether or not the user is in a GDPR region","default":null}}},"processInput":{"$id":"#Velocity_Config_Process_Input","type":"object","properties":{}},"reportProblem":{"$id":"#Velocity_Config_Report_Problem","type":"object","properties":{"enabled":{"type":"boolean","description":"Is Report Problem enabled","default":false}}},"segment":{"$id":"#Velocity_Config_Segment","type":"object","properties":{"enabled":{"type":"boolean","description":"Is Segment enabled","default":true},"anonymousId":{"type":"string","description":"Anonymous id","default":null},"apiKey":{"type":"string","description":"Segment key for API calls (default null but segment may still work if the client supports external segment event reporting, like mobile app clients)","default":null,"examples":[""]},"apiHost":{"type":"string","description":"Segment api host url","default":"//api.segment.io.","examples":["//s-vrv.akamaized.net/v1/p"]},"scriptHost":{"type":"string","description":"Segment library host url","default":"//cdn.segment.com/analytics.js/v1/","examples":["//sa-vrv.akamaized.net/analytics.js/v1/"]},"events":{"type":"object","description":"Events to monitor","default":{},"properties":{}}},"required":[]},"shaka":{"$id":"#Velocity_Config_Shaka","type":"object","properties":{"config":{"type":"object","description":"Configuration to pass to Shaka\'s configure() method"}}},"skipEvents":{"enabled":{"type":"boolean","description":"Are skip events enabled","default":false},"timingToolEnabled":{"type":"boolean","description":"Is the timing tool displayed","default":false}},"skipToNext":{"$id":"#Velocity_Config_Ellation_Analytics","type":"object","properties":{"checkPermissionsBeforeSkipping":{"type":"boolean","description":"Should check for mature or permium permissions when skipToNext is invoked","default":false}}},"upNextMetadata":{"$id":"#Velocity_Config_Metadata","type":"object","properties":{"id":{"type":["string"],"description":"ID of the media to be played"},"channelId":{"type":["string","null"],"description":"Channel ID of the media to be played"},"channelName":{"type":["string","null"],"description":"Displayed name of channel from which the media is played"},"description":{"type":"string","description":"Description of the media to be played"},"distributionNumber":{"type":"string","description":"Display version of the episode number (if applicable)","examples":["1","2A","12.5"]},"duration":{"type":"integer","description":"Duration of the media to be played"},"episodeNumber":{"type":"integer","description":"Episode number of the content being played"},"releaseDate":{"type":"string","format":"date","description":"Date of release on this service","examples":["2013-04-06T09:58:00-07:00"]},"restrictions":{"type":"array","description":"List of restrictions that must be met in order to access the content","examples":["premium","mature"],"items":{"type":"string"},"default":[]},"seasonNumber":{"type":"number","description":"Number of the season"},"seasonTitle":{"type":"string","description":"Title of the season"},"sequenceNumber":{"type":"number","description":"Sequence number, order in the season for example (if applicable)"},"seriesId":{"type":"string","description":"ID of the episode\'s series (if applicable)"},"seriesTitle":{"type":"string","description":"Title of the series (if applicable)"},"title":{"type":"string","description":"Title of the media to be played"},"type":{"type":"string","description":"Type of content being played","examples":["episode","movie_listing"]}},"required":["id"]},"upNext":{"enabled":{"type":"boolean","description":"Is Up Next Banner enabled","default":false},"threshold":{"type":"number","description":"Number of seconds before the end of content to display the UI","default":10}},"premiumUpsellCTA":{"$id":"#Velocity_Config_Premium_Upsell_CTA","type":"object","properties":{"enabled":{"type":"boolean","description":"True if this feature should be enabled.","default":true},"timeTillExpand":{"type":"number","description":"Time in seconds, after ad break starts, before the CTA expands to full size","default":1},"timeTillCollapse":{"type":"number","description":"Time in seconds, after expanding, before the full CTA collapses to a smaller one","default":8},"animationDuration":{"type":"number","description":"Time in seconds for the length of the animation to collapse or expand the CTA","default":0.25},"showOn":{"type":"string","description":"An enum specifying which ad breaks should have the CTA showing","enum":["all_ads","all_midrolls","first_midroll","preroll"],"default":"all_ads"},"showForWholeAdBreak":{"type":"boolean","description":"If true, shows the CTA for the whole ad break. Otherwise, it only shows for the first ad","default":true},"url":{"type":"string","description":"Url to open when CTA is pressed","default":"https://www.crunchyroll.com/welcome?from=showmedia_adbreak&return_url=<referrer>#plans"},"experiment":{"type":"object","description":"Refer to CrunchyrollExperimentData. Should only be used by a/b testing","default":null,"properties":{"experimentId":{"type":"string","description":"The id hash of the experiment"},"experimentName":{"type":"string","description":"The name of the experiment"},"variantId":{"type":"string","description":"The id hash of the variant being tested within the experiment"},"variantName":{"type":"string","description":"The name of the variant being tested within the experiment"}}}}},"user":{"$id":"#Velocity_Config_User","type":"object","properties":{"id":{"type":"string","description":"User Id","default":null},"allowedRestrictions":{"type":"array","description":"List of restrictions allowed to the user in order to view restricted content","examples":["cellular","mature","premium"],"items":{"type":"string"},"default":[]},"preferredLanguage":{"type":"string","description":"User\'s preferred language for subtitles & captions. If set to \'off\', disables them","examples":["en-US","es-419","off"]},"uiLanguage":{"type":"string","description":"User\'s preferred language for localizing the UI","default":"en-US"}}},"version":{"type":"number","description":"Config version. Independent of Velocity version.","default":4},"yospace":{"$id":"#Velocity_Config_Yospace","type":"object","properties":{"params":{"type":"object","description":"An object that contains any override params for Yospace","default":{}},"noYoMode":{"type":"boolean","description":"If true, bypass calling Yospace for the VMAP and instead use Katana service"}},"required":[]},"googleCast":{"$id":"#Velocity_Config_Cast","type":"object","properties":{"channelMedia":{"type":"string","description":"A casting channel string to initialize the media channel for Google Cast","default":"urn:x-cast:com.google.cast.media"},"channelTextTrack":{"type":"string","description":"A casting channel to initialize the subtitles channel for Google Cast","default":"urn:x-cast:etp.subtitle_language"},"channelPreferences":{"type":"string","description":"A casting channel string to initialize the preferences channel for Google Cast","default":"urn:x-cast:etp.preferences"},"channelAuthentication":{"type":"string","description":"A casting channel string to initialize the authentication channel for Google Cast","default":"urn:x-cast:etp.authentication"},"channelUserStatus":{"type":"string","description":"A casting channel string to initialize the user status channel for Google Cast","default":"urn:x-cast:etp.user_status"},"statePollingRate":{"type":"number","description":"The time in milliseconds for how often should connection state be checked","default":1500}},"required":[]}}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=u(n(696)),d=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleRef=function(e){return t.ref=e},n}return i(t,e),t.prototype.componentWillUnmount=function(){t.ref=null},t.prototype.render=function(){return c.default.createElement(l.default,{handleRef:this.handleRef})},t}(c.Component);t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),d=n(2),f=n(8),p=s(n(149)),h=c(n(13)),v=n(698),m=n(28),g=c(n(22)),y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.getCleanupTaskName=function(){return r.name+" Cleanup"},r.getOptions=function(){return{sagas:[r.register]}},r.isSingleton=function(){return!1},r.isValidRenderer=function(e){return r.supportedExtensions.includes(e)},r.supportedExtensions=n,r.hideCues=r.hideCues.bind(r),r.loadTrack=r.loadTrack.bind(r),r.prepareToSwitchTrack=r.prepareToSwitchTrack.bind(r),r.processCues=r.processCues.bind(r),r.release=r.release.bind(r),r.resize=r.resize.bind(r),r.setupAndLoad=r.setupAndLoad.bind(r),r.showCues=r.showCues.bind(r),r.cleanup=r.cleanup.bind(r),r.error=r.error.bind(r),r.initialize=r.initialize.bind(r),r.handleEndedAdBreak=r.handleEndedAdBreak.bind(r),r.handleEvents=r.handleEvents.bind(r),r.handleSetActiveExternalTextTrack=r.handleSetActiveExternalTextTrack.bind(r),r.handleStartedAdBreak=r.handleStartedAdBreak.bind(r),r.handleUnloadContent=r.handleUnloadContent.bind(r),r.handleUpdateTime=r.handleUpdateTime.bind(r),r.load=r.load.bind(r),r.register=r.register.bind(r),r.resizeChannelTask=r.resizeChannelTask.bind(r),r.switchTrack=r.switchTrack.bind(r),r}return i(t,e),t.prototype.register=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.put(d.mediaActionCreators.registerTextTrackPlugin(this.name))];case 1:return e.sent(),[4,l.all([l.takeEvery(d.playerActionCreators.setActiveExternalTextTrack,this.handleSetActiveExternalTextTrack),l.takeEvery(d.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent)])];case 2:return e.sent(),[2]}}))},t.prototype.cleanup=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.put(d.mediaActionCreators.deactivateTextTrackPlugin(this.name))];case 1:return e.sent(),this.eventsTask?[4,l.cancel(this.eventsTask)]:[3,3];case 2:e.sent(),this.eventsTask=null,e.label=3;case 3:return this.resizeTask?[4,l.cancel(this.resizeTask)]:[3,5];case 4:e.sent(),this.resizeTask=null,e.label=5;case 5:return[4,p.removeTask(d.contentLifecycleActionCreators.completeUnloadContent,this.getCleanupTaskName())];case 6:return e.sent(),[2]}}))},t.prototype.error=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.put(d.mediaActionCreators.errorTextTrackPlugin(this.name))];case 1:return e.sent(),[4,this.cleanup()];case 2:return e.sent(),[4,this.destroy()];case 3:return e.sent(),[4,l.select(f.mediaSelectors.textTrackPlugin,this.name)];case 4:return e.sent().hasRetried||g.default.isAndroidWeb()?[3,8]:[4,l.delay(50)];case 5:return e.sent(),[4,l.put(d.mediaActionCreators.retryTextTrackPlugin(this.name))];case 6:return e.sent(),[4,this.handleSetActiveExternalTextTrack()];case 7:e.sent(),e.label=8;case 8:return[2]}}))},t.prototype.initialize=function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,l.put(d.mediaActionCreators.initializeTextTrackPlugin(this.name))];case 1:return t.sent(),[4,l.put(d.mediaActionCreators.activateTextTrackPlugin(this.name))];case 2:return t.sent(),[4,l.select(f.playerSelectors.activeTextTrack)];case 3:return e=t.sent(),[4,this.setupAndLoad(e)];case 4:return t.sent()?[4,l.race([l.take(d.mediaActionCreators.errorTextTrackPlugin),l.take(d.mediaActionCreators.readyTextTrackPlugin)])]:[3,6];case 5:t.sent(),t.label=6;case 6:return[4,this.registerEvents()];case 7:return t.sent(),[4,l.call(p.isComplete,d.contentLifecycleActionCreators.readyToPlay,m.INITIAL_TEXT_TRACK_TASK)];case 8:return t.sent()?[3,10]:[4,p.completeTask(d.contentLifecycleActionCreators.readyToPlay,m.INITIAL_TEXT_TRACK_TASK)];case 9:t.sent(),t.label=10;case 10:return[2]}}))},t.prototype.handleEndedAdBreak=function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.showCues()];case 1:return e.sent(),[2]}}))},t.prototype.handleEvents=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.all([l.takeEvery(d.adsManagerActionCreators.endedAdBreak,this.handleEndedAdBreak),l.takeEvery(d.adsManagerActionCreators.startedAdBreak,this.handleStartedAdBreak),l.takeEvery(d.mediaActionCreators.updateTime,this.handleUpdateTime)])];case 1:return e.sent(),[2]}}))},t.prototype.handleSetActiveExternalTextTrack=function(){var e,t,n,r,i,a,o;return u(this,(function(s){switch(s.label){case 0:return[4,l.select(f.mediaSelectors.textTrackPlugin,this.name)];case 1:return e=s.sent(),t=e.hasError,n=e.isActive,r=e.isInitializing,i=e.isReady,[4,l.select(f.playerSelectors.activeTextTrack)];case 2:return a=s.sent(),o=a?a.type:null,this.isValidRenderer(o)?[3,6]:n?[4,this.release()]:[3,5];case 3:return s.sent(),[4,this.cleanup()];case 4:s.sent(),s.label=5;case 5:return[3,18];case 6:return t?[4,this.initialize()]:[3,8];case 7:return s.sent(),[3,18];case 8:return n||r?[4,this.switchTrack()]:[3,10];case 9:return s.sent(),[3,18];case 10:return i?g.default.isWeb()?[4,this.load()]:[3,12]:[3,16];case 11:return s.sent(),[3,15];case 12:return[4,this.initialize()];case 13:return s.sent(),[4,this.switchTrack()];case 14:s.sent(),s.label=15;case 15:return[3,18];case 16:return[4,this.initialize()];case 17:s.sent(),s.label=18;case 18:return[4,l.call(p.isComplete,d.contentLifecycleActionCreators.readyToPlay,m.INITIAL_TEXT_TRACK_TASK)];case 19:return s.sent()?[3,21]:[4,p.completeTask(d.contentLifecycleActionCreators.readyToPlay,m.INITIAL_TEXT_TRACK_TASK)];case 20:s.sent(),s.label=21;case 21:return[2]}}))},t.prototype.handleStartedAdBreak=function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.hideCues()];case 1:return e.sent(),[2]}}))},t.prototype.handleUnloadContent=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.select(f.mediaSelectors.textTrackPlugin,this.name)];case 1:return e.sent().isActive?[4,this.release()]:[3,5];case 2:return e.sent(),[4,this.cleanup()];case 3:return e.sent(),[4,p.completeTask(d.contentLifecycleActionCreators.completeUnloadContent,this.getCleanupTaskName())];case 4:e.sent(),e.label=5;case 5:return[2]}}))},t.prototype.handleUpdateTime=function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.processCues()];case 1:return e.sent(),[2]}}))},t.prototype.load=function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,l.put(d.mediaActionCreators.activateTextTrackPlugin(this.name))];case 1:return t.sent(),[4,l.select(f.playerSelectors.activeTextTrack)];case 2:return e=t.sent(),[4,this.loadTrack(e)];case 3:return t.sent(),[4,this.registerEvents()];case 4:return t.sent(),[2]}}))},t.prototype.registerEvents=function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return[4,p.addTask(d.contentLifecycleActionCreators.completeUnloadContent,this.getCleanupTaskName())];case 1:return n.sent(),e=this,[4,l.spawn(this.handleEvents)];case 2:return e.eventsTask=n.sent(),t=this,[4,l.spawn(this.resizeChannelTask)];case 3:return t.resizeTask=n.sent(),[2]}}))},t.prototype.resizeChannelTask=function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,l.call(v.createResizeEventChannel)];case 1:e=t.sent(),t.label=2;case 2:t.trys.push([2,,7,8]),t.label=3;case 3:return[4,l.take(e)];case 4:return t.sent(),[4,l.call(this.resize)];case 5:return t.sent(),[3,3];case 6:return[3,8];case 7:return e.close(),[7];case 8:return[2]}}))},t.prototype.switchTrack=function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this.prepareToSwitchTrack()];case 1:return t.sent(),[4,l.select(f.playerSelectors.activeTextTrack)];case 2:return e=t.sent(),[4,this.loadTrack(e)];case 3:return t.sent(),[2]}}))},t}(h.default);t.default=y},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmitterEvent=void 0;var i=r(n(211));t.default=new i.default,function(e){e.RESIZE="resize"}(t.EmitterEvent||(t.EmitterEvent={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VttJsConstants=void 0,function(e){e.LAYER_CLASS="textTrackLayer",e.LAYER_ID="vilosVttJs"}(t.VttJsConstants||(t.VttJsConstants={}))},function(e,t,n){(function(e){
/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
!function(){var n="undefined"!=typeof window?window:e,r={};for(var i in function(e,t,n){var r;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var o=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function s(e,t){if(t){for(var n=o,r=e.split("."),i=0;i<r.length-1;i++){var s=r[i];s in n||(n[s]={}),n=n[s]}(s=t(i=n[r=r[r.length-1]]))!=i&&null!=s&&a(n,r,{configurable:!0,writable:!0,value:s})}}function u(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}function l(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}s("Symbol",(function(e){function t(e,t){this.a=e,a(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.a};var n=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(r||"")+"_"+n++,r)}})),s("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var r=o[t[n]];"function"==typeof r&&"function"!=typeof r.prototype[e]&&a(r.prototype,e,{configurable:!0,writable:!0,value:function(){return u(i(this))}})}return e}));var d,f="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)d=Object.setPrototypeOf;else{var p;e:{var h={};try{h.__proto__={Xd:!0},p=h.Xd;break e}catch(e){}p=!1}d=p?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var v=d;function m(e,t){if(e.prototype=f(t.prototype),e.prototype.constructor=e,v)v(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(t,n);r&&Object.defineProperty(e,n,r)}else e[n]=t[n]}function g(){this.j=!1,this.g=null,this.b=void 0,this.a=1,this.f=this.h=0,this.v=this.c=null}function y(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function b(e,t){e.c={wd:t,Cd:!0},e.a=e.h||e.f}function _(e,t,n){return e.a=n,{value:t}}function A(e){e.a=0}function S(e,t,n){e.h=t,null!=n&&(e.f=n)}function E(e){e.h=0,e.f=2}function w(e,t){e.a=t,e.h=0}function T(e){e.h=0;var t=e.c.wd;return e.c=null,t}function P(e){e.v=[e.c],e.h=0,e.f=0}function C(e,t){var n=e.v.splice(0)[0];(n=e.c=e.c||n)?n.Cd?e.a=e.h||e.f:null!=n.u&&e.f<n.u?(e.a=n.u,e.c=null):e.a=e.f:e.a=t}function O(e){this.a=new g,this.b=e}function k(e,t,n,r){try{var i=t.call(e.a.g,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.j=!1,i;var a=i.value}catch(t){return e.a.g=null,b(e.a,t),I(e)}return e.a.g=null,r.call(e.a,a),I(e)}function I(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.j=!1,{value:t.value,done:!1}}catch(t){e.a.b=void 0,b(e.a,t)}if(e.a.j=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Cd)throw t.wd;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return y(e.a),e.a.g?t=k(e,e.a.g.next,t,e.a.m):(e.a.m(t),t=I(e)),t},this.throw=function(t){return y(e.a),e.a.g?t=k(e,e.a.g.throw,t,e.a.m):(b(e.a,t),t=I(e)),t},this.return=function(t){return function(e,t){y(e.a);var n=e.a.g;return n?k(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),I(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function D(e,t){var n=new x(new O(t));return v&&v(n,e.prototype),n}function R(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise((function(r,i){!function e(a){a.done?r(a.value):Promise.resolve(a.value).then(t,n).then(e,i)}(e.next())}))}(new x(new O(e)))}function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function N(e,t,n){e instanceof String&&(e=String(e));for(var r=e.length,i=0;i<r;i++){var a=e[i];if(t.call(n,a,i,e))return{Y:i,Ud:a}}return{Y:-1,Ud:void 0}}function L(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}g.prototype.m=function(e){this.b=e},g.prototype.return=function(e){this.c={return:e},this.a=this.f},g.prototype.u=function(e){this.a=e},s("Promise",(function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.w),reject:e(this.f)}},t.prototype.w=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.C(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.G(t,e):this.h(e)},t.prototype.f=function(e){this.j(2,e)},t.prototype.h=function(e){this.j(1,e)},t.prototype.j=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.m()},t.prototype.m=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.C=function(e){var t=this.c();e.ac(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t((function(e,t){i=e,a=t}));return this.ac(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.ac=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=c(e),a=i.next();!a.done;a=i.next())r(a.value).ac(t,n)}))},t.all=function(e){var n=c(e),i=n.next();return i.done?r([]):new t((function(e,t){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).ac(a(o.length-1),t),i=n.next()}while(!i.done)}))},t})),s("WeakMap",(function(e){function t(e){if(this.a=(u+=Math.random()+1).toString(),e){e=c(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function r(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function i(e){if(!M(e,s)){var t=new n;a(e,s,{value:t})}}function o(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(i(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),r=new e([[t,2],[n,3]]);return 2==r.get(t)&&3==r.get(n)&&(r.delete(t),r.set(n,4),!r.has(t)&&4==r.get(n))}catch(e){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();o("freeze"),o("preventExtensions"),o("seal");var u=0;return t.prototype.set=function(e,t){if(!r(e))throw Error("Invalid WeakMap key");if(i(e),!M(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.a]=t,this},t.prototype.get=function(e){return r(e)&&M(e,s)?e[s][this.a]:void 0},t.prototype.has=function(e){return r(e)&&M(e,s)&&M(e[s],this.a)},t.prototype.delete=function(e){return!!(r(e)&&M(e,s)&&M(e[s],this.a))&&delete e[s][this.a]},t})),s("Map",(function(e){function t(){var e={};return e.Fa=e.next=e.head=e}function n(e,t){var n=e.a;return u((function(){if(n){for(;n.head!=e.a;)n=n.Fa;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function r(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var r=e.b[n];if(r&&M(e.b,n))for(var i=0;i<r.length;i++){var s=r[i];if(t!=t&&s.key!=s.key||t===s.key)return{id:n,list:r,index:i,X:s}}return{id:n,list:r,index:-1,X:void 0}}function i(e){if(this.b={},this.a=t(),this.size=0,e){e=c(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(e){return!1}}())return e;var a=new WeakMap;i.prototype.set=function(e,t){var n=r(this,e=0===e?0:e);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=t:(n.X={next:this.a,Fa:this.a.Fa,head:this.a,key:e,value:t},n.list.push(n.X),this.a.Fa.next=n.X,this.a.Fa=n.X,this.size++),this},i.prototype.delete=function(e){return!(!(e=r(this,e)).X||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.X.Fa.next=e.X.next,e.X.next.Fa=e.X.Fa,e.X.head=null,this.size--,!0)},i.prototype.clear=function(){this.b={},this.a=this.a.Fa=t(),this.size=0},i.prototype.has=function(e){return!!r(this,e).X},i.prototype.get=function(e){return(e=r(this,e).X)&&e.value},i.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},i.prototype.keys=function(){return n(this,(function(e){return e.key}))},i.prototype.values=function(){return n(this,(function(e){return e.value}))},i.prototype.forEach=function(e,t){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),s("Set",(function(e){function t(e){if(this.a=new Map,e){e=c(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(c([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==t&&i.value[1]==t&&(!(i=r.next()).done&&i.value[0]!=t&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(e){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype.delete=function(e){return e=this.a.delete(e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(r){return e.call(t,r,r,n)}))},t)})),s("Array.prototype.findIndex",(function(e){return e||function(e,t){return N(this,e,t).Y}})),s("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),s("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}})),s("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var r=n.length,i=t||0;for(0>i&&(i=Math.max(i+r,0));i<r;i++){var a=n[i];if(a===e||Object.is(a,e))return!0}return!1}})),s("String.prototype.includes",(function(e){return e||function(e,t){return-1!==L(this,e,"includes").indexOf(e,t||0)}})),s("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof i){e=i.call(e);for(var a=0;!(i=e.next()).done;)r.push(t.call(n,i.value,a++))}else for(i=e.length,a=0;a<i;a++)r.push(t.call(n,e[a],a));return r}})),s("Array.prototype.find",(function(e){return e||function(e,t){return N(this,e,t).Ud}})),s("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}));var j="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)M(r,i)&&(e[i]=r[i])}return e};s("Object.assign",(function(e){return e||j})),s("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)M(e,t)&&n.push(e[t]);return n}})),s("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=L(this,e,"startsWith"),r=n.length,i=e.length,a=Math.max(0,Math.min(0|t,n.length)),o=0;o<i&&a<r;)if(n[a++]!=e[o++])return!1;return o>=i}}));var B=this||self;function U(e,t){var n,r=e.split("."),i=B;r[0]in i||void 0===i.execScript||i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}
/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function V(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function F(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function H(e){return e.a/(1-Math.pow(e.c,e.b))}function G(){this.b=new V(2),this.c=new V(5),this.a=0}function W(){}function z(){}function K(){}function Y(){}G.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(H(this.b),H(this.c))};var q=new Set;if(e.console&&e.console.log.bind){var X={},Z=(X[1]=console.error.bind(console),X[2]=console.warn.bind(console),X[3]=console.info.bind(console),X[4]=console.log.bind(console),X[5]=console.debug.bind(console),X[6]=console.debug.bind(console),X);K=Z[2],z=Z[1]}function Q(e,t){for(var n=[],r=c(e),i=r.next();!i.done;i=r.next())n.push(t(i.value));return n}var J=function e(t){var n;return D(e,(function(e){return 1==e.a&&(n=0),3!=e.a?n<t?_(e,n,3):e.u(0):(n++,e.u(2))}))},$=function e(t){var n,r,i,a,o,s;return D(e,(function(e){return 1==e.a&&(n=-1,i=r=void 0,a=c(t),o=a.next()),5!=e.a?o.done?-1==n?e.u(0):_(e,{Y:n,Je:r,item:i,next:void 0},0):(s=o.value,0<=n?_(e,{Y:n,item:i,Je:r,next:s},5):e.u(5)):(n++,r=i,i=s,o=a.next(),e.u(2))}))},ee=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
function te(e){var t;e instanceof te?(ne(this,e.ta),this.Za=e.Za,this.sa=e.sa,re(this,e.ob),this.ja=e.ja,ie(this,e.a.clone()),this.Pa=e.Pa):e&&(t=String(e).match(ee))?(ne(this,t[1]||"",!0),this.Za=ae(t[2]||""),this.sa=ae(t[3]||"",!0),re(this,t[4]),this.ja=ae(t[5]||"",!0),ie(this,t[6]||"",!0),this.Pa=ae(t[7]||"")):this.a=new pe(null)}function ne(e,t,n){e.ta=n?ae(t,!0):t,e.ta&&(e.ta=e.ta.replace(/:$/,""))}function re(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.ob=t}else e.ob=null}function ie(e,t,n){t instanceof pe?e.a=t:(n||(t=oe(t,de)),e.a=new pe(t))}function ae(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function oe(e,t,n){return null!=e?(e=encodeURI(e).replace(t,se),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function se(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=te.prototype).ta="",r.Za="",r.sa="",r.ob=null,r.ja="",r.Pa="",r.toString=function(){var e=[],t=this.ta;if(t&&e.push(oe(t,ue,!0),":"),t=this.sa){e.push("//");var n=this.Za;n&&e.push(oe(n,ue,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.ob)&&e.push(":",String(t))}return(t=this.ja)&&(this.sa&&"/"!=t.charAt(0)&&e.push("/"),e.push(oe(t,"/"==t.charAt(0)?le:ce,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Pa)&&e.push("#",oe(t,fe)),e.join("")},r.resolve=function(e){var t=this.clone();"data"===t.ta&&(t=new te);var n=!!e.ta;n?ne(t,e.ta):n=!!e.Za,n?t.Za=e.Za:n=!!e.sa,n?t.sa=e.sa:n=null!=e.ob;var r=e.ja;if(n)re(t,e.ob);else if(n=!!e.ja){if("/"!=r.charAt(0))if(this.sa&&!this.ja)r="/"+r;else{var i=t.ja.lastIndexOf("/");-1!=i&&(r=t.ja.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ja=r:n=""!==e.a.toString(),n?ie(t,e.a.clone()):n=!!e.Pa,n&&(t.Pa=e.Pa),t},r.clone=function(){return new te(this)};var ue=/[#\/\?@]/g,ce=/[#\?:]/g,le=/[#\?]/g,de=/[#\?@]/g,fe=/#/g;function pe(e){this.a=e||null}function he(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function ve(e){this.b=e,this.a=null}function me(e){this.b=e,this.a=null}function ge(e,t){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0};this.j=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function ye(e){var t,n;return R((function(r){if(1==r.a){if(e.a>=e.j){if(!e.c)throw new he(2,7,1010);e.a=1,e.b=e.f}return t=e.a,e.a++,0==t?r.return():(n=e.b*(1+(2*Math.random()-1)*e.h),_(r,new Promise((function(e){new me(e).R(n/1e3)})),2))}e.b*=e.g,A(r)}))}function be(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function _e(e,t){this.promise=e,this.c=t,this.a=!1}function Ae(e){return new _e(Promise.reject(e),(function(){return Promise.resolve()}))}function Se(){var e=Promise.reject(new he(2,7,7001));return e.catch((function(){})),new _e(e,(function(){return Promise.resolve()}))}function Ee(e){return new _e(Promise.resolve(e),(function(){return Promise.resolve()}))}function we(e){return new _e(e,(function(){return e.catch((function(){}))}))}function Te(e){return new _e(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Pe(){}function Ce(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Oe(e)==Oe(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var n=Ie(e),r=Ie(t),i=c(J(e.byteLength)),a=i.next();!a.done;a=i.next())if(n[a=a.value]!=r[a])return!1;return!0}function Oe(e){return e instanceof ArrayBuffer?e:e.buffer}function ke(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Ie(e,t,n){return De(e,void 0===t?0:t,n=void 0===n?1/0:n,Uint8Array)}function xe(e,t,n){return De(e,void 0===t?0:t,n=void 0===n?1/0:n,DataView)}function De(e,t,n,r){var i=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,i)),new r(Oe(e),t,Math.min(t+Math.max(n,0),i)-t)}function Re(t,n){for(var r in n=void 0===n?{}:n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function Me(){this.a={}}function Ne(){this.Fc=new Me,this.Wb=this}function Le(e){var t=new Set;return function e(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||n.buffer&&n.buffer.constructor==ArrayBuffer)return n;if(t.has(n))return null;var r=n.constructor==Array;if(n.constructor!=Object&&!r)return null;t.add(n);var i,a=r?[]:{};for(i in n)a[i]=e(n[i]);return r&&(a.length=n.length),a}}(e)}function je(e){var t,n={};for(t in e)n[t]=e[t];return n}function Be(e,t){return!("number"!=typeof e||"number"!=typeof t||!isNaN(e)||!isNaN(t))||e===t}function Ue(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Ve(e,t,n){if(n||(n=Be),e.length!=t.length)return!1;t=t.slice();for(var r={},i=(e=c(e)).next();!i.done;r={uc:r.uc},i=e.next()){if(r.uc=i.value,-1==(i=t.findIndex(function(e){return function(t){return n(e.uc,t)}}(r))))return!1;t[i]=t[t.length-1],t.pop()}return 0==t.length}function Fe(e,t,n){if(n||(n=Be),e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function He(){this.a=[]}function Ge(e,t){e.a.push(t.finally((function(){Ue(e.a,t)})))}function We(e){Ne.call(this),this.f=!1,this.g=new He,this.a=new Set,this.b=new Set,this.c=e||null}function ze(e,t,n){n=n||Ze;var r=Qe[e];(!r||n>=r.priority)&&(Qe[e]={priority:n,Ie:t})}function Ke(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}}function Ye(){this.a=0}function qe(e,t,n){_e.call(this,e,t),this.b=n}(r=pe.prototype).ga=null,r.cc=null,r.add=function(e,t){if(!this.ga&&(this.ga={},this.cc=0,this.a))for(var n=this.a.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ga.hasOwnProperty(e)&&this.ga[e])||(this.ga[e]=n=[]),n.push(t),this.cc++,this},r.toString=function(){if(this.a)return this.a;if(!this.ga)return"";var e,t=[];for(e in this.ga)for(var n=encodeURIComponent(e),r=this.ga[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.a=t.join("&")},r.clone=function(){var e=new pe;if(e.a=this.a,this.ga){var t,n={};for(t in this.ga)n[t]=this.ga[t].concat();e.ga=n,e.cc=this.cc}return e},he.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},U("shaka.util.Error",he),he.Severity={RECOVERABLE:1,CRITICAL:2},he.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},he.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},ve.prototype.R=function(t){var n=this;this.stop();var r=!0,i=null;return this.a=function(){e.clearTimeout(i),r=!1},i=e.setTimeout((function(){r&&n.b()}),1e3*t),this},ve.prototype.stop=function(){this.a&&(this.a(),this.a=null)},me.prototype.Ob=function(){return this.stop(),this.b(),this},me.prototype.R=function(e){var t=this;return this.stop(),this.a=new ve((function(){t.b()})).R(e),this},me.prototype.pa=function(e){var t=this;return this.stop(),this.a=new ve((function(){t.a.R(e),t.b()})).R(e),this},me.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},U("shaka.util.Timer",me),me.prototype.stop=me.prototype.stop,me.prototype.tickEvery=me.prototype.pa,me.prototype.tickAfter=me.prototype.R,me.prototype.tickNow=me.prototype.Ob,be.prototype.resolve=function(){},be.prototype.reject=function(){},_e.prototype.abort=function(){return this.a=!0,this.c()},_e.prototype.finally=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},_e.prototype.U=function(e,t){function n(n){return function(s){if(i.a&&n)a.reject(o);else{var u=n?e:t;u?r=function(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new be,o=new he(2,7,7001);return this.promise.then(n(!0),n(!1)),new _e(a,(function(){return r()}))},U("shaka.util.AbortableOperation",_e),_e.prototype.chain=_e.prototype.U,_e.prototype.finally=_e.prototype.finally,_e.all=Te,_e.prototype.abort=_e.prototype.abort,_e.notAbortable=we,_e.completed=Ee,_e.aborted=Se,_e.failed=Ae,U("shaka.util.BufferUtils",Pe),Pe.toDataView=xe,Pe.toUint8=Ie,Pe.toArrayBuffer=ke,Pe.equal=Ce,Re.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Re.prototype.stopImmediatePropagation=function(){this.a=!0},Re.prototype.stopPropagation=function(){},Me.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},Me.prototype.get=function(e){return(e=this.a[e])?e.slice():null},Me.prototype.remove=function(e,t){e in this.a&&(this.a[e]=this.a[e].filter((function(e){return e!=t})))},Ne.prototype.addEventListener=function(e,t){this.Fc.push(e,t)},Ne.prototype.removeEventListener=function(e,t){this.Fc.remove(e,t)},Ne.prototype.dispatchEvent=function(e){for(var t=this.Fc.get(e.type)||[],n=(t=c(t)).next();!n.done;n=t.next()){n=n.value,e.target=this.Wb,e.currentTarget=this.Wb;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},He.prototype.destroy=function(){for(var e=[],t=c(this.a),n=t.next();!n.done;n=t.next())(n=n.value).promise.catch((function(){})),e.push(n.abort());return this.a=[],Promise.all(e)},m(We,Ne),(r=We.prototype).Ke=function(e){this.a.add(e)},r.cf=function(e){this.a.delete(e)},r.ce=function(){this.a.clear()},r.Le=function(e){this.b.add(e)},r.df=function(e){this.b.delete(e)},r.de=function(){this.b.clear()},r.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},r.request=function(e,t){var n=this,r=new Ye;if(this.f){var i=Promise.reject(new he(2,7,7001));return i.catch((function(){})),new qe(i,(function(){return Promise.resolve()}),r)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?Le(t.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},t.uris=Le(t.uris);var a=(i=function(e,t,n){for(var r=Ee(void 0),i={},a=(e=c(e.a)).next();!a.done;i={xc:i.xc},a=e.next())i.xc=a.value,r=r.U(function(e){return function(){return n.body&&(n.body=ke(n.body)),e.xc(t,n)}}(i));return r.U(void 0,(function(e){if(e instanceof he&&7001==e.code)throw e;throw new he(2,1,1006,e)}))}(this,e,t)).U((function(){return function e(t,n,r,i,a,o,s){var u=new te(r.uris[a]),c=u.ta,l=!1;c||(c=(c=location.protocol).slice(0,-1),ne(u,c),r.uris[a]=u.toString()),c=c.toLowerCase();var d,f=(c=Qe[c])?c.Ie:null;return f?we(ye(i)).U((function(){return t.f?Se():(d=Date.now(),f(r.uris[a],r,n,(function(e,r,i){t.c&&n==Xe&&(t.c(e,r),l=!0,s.a=i)})))})).U((function(e){return null==e.timeMs&&(e.timeMs=Date.now()-d),{response:e,Be:l}}),(function(u){if(t.f)return Se();if(u instanceof he){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity){var c=new Re("retry",{error:u});return t.dispatchEvent(c),a=(a+1)%r.uris.length,e(t,n,r,i,a,u,s)}}throw u})):Ae(new he(2,1,1e3,u))}(n,e,t,new ge(t.retryParameters,!1),0,null,r)})),o=a.U((function(t){return function(e,t,n){for(var r=Ee(void 0),i={},a=(e=c(e.b)).next();!a.done;i={yc:i.yc},a=e.next())i.yc=a.value,r=r.U(function(e){return function(){var r=n.response;return r.data&&(r.data=ke(r.data)),e.yc(t,r)}}(i));return r.U((function(){return n}),(function(e){var t=2;if(e instanceof he){if(7001==e.code)throw e;t=e.severity}throw new he(t,1,1007,e)}))}(n,e,t)})),s=Date.now(),u=0;i.promise.then((function(){u=Date.now()-s}),(function(){}));var l=0;a.promise.then((function(){l=Date.now()}),(function(){}));var d=o.U((function(t){var r=Date.now()-l,i=t.response;return i.timeMs+=u,i.timeMs+=r,t.Be||!n.c||i.fromCache||e!=Xe||n.c(i.timeMs,i.data.byteLength),i}),(function(e){throw e&&(e.severity=2),e}));return i=new qe(d.promise,(function(){return d.abort()}),r),Ge(this.g,i),i},U("shaka.net.NetworkingEngine",We),We.prototype.request=We.prototype.request,We.prototype.destroy=We.prototype.destroy,We.makeRequest=Ke,We.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}},We.prototype.clearAllResponseFilters=We.prototype.de,We.prototype.unregisterResponseFilter=We.prototype.df,We.prototype.registerResponseFilter=We.prototype.Le,We.prototype.clearAllRequestFilters=We.prototype.ce,We.prototype.unregisterRequestFilter=We.prototype.cf,We.prototype.registerRequestFilter=We.prototype.Ke,We.unregisterScheme=function(e){delete Qe[e]},We.registerScheme=ze,We.NumBytesRemainingClass=Ye,m(qe,_e),We.PendingRequest=qe;var Xe=1;We.RequestType={MANIFEST:0,SEGMENT:Xe,LICENSE:2,APP:3,TIMING:4};var Ze=3;We.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:Ze};var Qe={};function Je(e){this.a=!1,this.b=new be,this.c=e}function $e(e,t){if(e.a){if(t instanceof he&&7003==t.code)throw t;throw new he(2,7,7003,t)}}function et(){this.a=new Me}function tt(e,t,n,r){this.target=e,this.type=t,this.listener=n,this.a=function(e,t){if(null==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),function(e){var t=nt;if(null==t){t=!1;try{var n={},r={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},e.addEventListener("test",r,n),e.removeEventListener("test",r,n)}catch(e){t=!1}nt=t}return t||!1}(e)?t:t.capture||!1}(e,r),this.target.addEventListener(t,n,this.a)}Je.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},(r=et.prototype).release=function(){this.Xa(),this.a=null},r.l=function(e,t,n,r){this.a&&(e=new tt(e,t,n,r),this.a.push(t,e))},r.ha=function(e,t,n,r){var i=this;this.l(e,t,(function r(a){i.qa(e,t,r),n(a)}),r)},r.qa=function(e,t,n){if(this.a)for(var r=this.a.get(t)||[],i=(r=c(r)).next();!i.done;i=r.next())(i=i.value).target!=e||n!=i.listener&&n||(i.qa(),this.a.remove(t,i))},r.Xa=function(){if(this.a){var e,t=this.a,n=[];for(e in t.a)n.push.apply(n,l(t.a[e]));for(n=(t=c(n)).next();!n.done;n=t.next())n.value.qa();this.a.a={}}},U("shaka.util.EventManager",et),et.prototype.removeAll=et.prototype.Xa,et.prototype.unlisten=et.prototype.qa,et.prototype.listenOnce=et.prototype.ha,et.prototype.listen=et.prototype.l,et.prototype.release=et.prototype.release,tt.prototype.qa=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1};var nt=void 0;function rt(e){this.b=e,this.a=void 0}function it(){}function at(e){if(!e)return"";239==(e=Ie(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=lt(e),e=escape(e);try{return decodeURIComponent(e)}catch(e){throw new he(2,2,2004)}}function ot(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new he(2,2,2004);var r=Math.floor(e.byteLength/2);n=new Uint16Array(r),e=xe(e);for(var i=(r=c(J(r))).next();!i.done;i=r.next())n[i=i.value]=e.getUint16(2*i,t);return lt(n)}function st(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=Ie(e);if(239==n[0]&&187==n[1]&&191==n[2])return at(n);if(254==n[0]&&255==n[1])return ot(n.subarray(2),!1);if(255==n[0]&&254==n[1])return ot(n.subarray(2),!0);if(0==n[0]&&0==n[2])return ot(e,!1);if(0==n[1]&&0==n[3])return ot(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return at(e);throw new he(2,2,2003)}function ut(e){e=encodeURIComponent(e);var t=unescape(e);e=new Uint8Array(t.length);for(var n=(t=c($(t))).next();!n.done;n=t.next())e[(n=n.value).Y]=n.item.charCodeAt(0);return ke(e)}function ct(e,t){for(var n=new ArrayBuffer(2*e.length),r=new DataView(n),i=c($(e)),a=i.next();!a.done;a=i.next())a=a.value,r.setUint16(2*a.Y,a.item.charCodeAt(0),t);return n}function lt(e){return dt.value()(e)}rt.prototype.value=function(){return null==this.a&&(this.a=this.b()),this.a},U("shaka.util.StringUtils",it),it.resetFromCharCode=function(){dt.a=void 0},it.toUTF16=ct,it.toUTF8=ut,it.fromBytesAutoDetect=st,it.fromUTF16=ot,it.fromUTF8=at;var dt=new rt((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(e){return!1}}for(var t={Ia:65536};0<t.Ia;(t={Ia:t.Ia}).Ia/=2)if(e(t.Ia))return function(e){return function(t){for(var n="",r=0;r<t.length;r+=e.Ia)n+=String.fromCharCode.apply(null,t.subarray(r,r+e.Ia));return n}}(t);return null}));function ft(){}function pt(e){return new te(e=st(e)).sa}function ht(e,t,n){function r(e){xe(a).setUint32(o,e.byteLength,!0),o+=4,a.set(Ie(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new he(2,6,6015);var i;i="string"==typeof t?ct(t,!0):t,e=ct(e=st(e),!0);var a=new Uint8Array(12+e.byteLength+i.byteLength+n.byteLength),o=0;return r(e),r(i),r(n),a}function vt(e,t){this.a=e,this.b=t}function mt(e,t){var n=new vt(4,0),r=bt,i=r.a,a=n.b-i.b;(0<(n.a-i.a||a)?r.c:r.b)(r.a,n,e,t)}function gt(e,t,n,r){K([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",r].join(" "))}function yt(e,t,n,r){z([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",r].join(""))}U("shaka.util.FairPlayUtils",ft),ft.initDataTransform=ht,ft.defaultGetContentId=pt,vt.prototype.toString=function(){return"v"+this.a+"."+this.b};var bt=null;function _t(e,t){return e.concat(t)}function At(){}function St(e){return null!=e}function Et(e){var t=Object.create(e.prototype||Object.prototype);return(e=e.call(t))||(mt("Factories requiring new","Factories should be plain functions"),e=t),e}function wt(e,t){if(0==t.length)return e;var n=t.map((function(e){return new te(e)}));return e.map((function(e){return new te(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(_t,[]).map((function(e){return e.toString()}))}function Tt(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}}var Pt={Ca:"video",eb:"audio",$:"text",qf:"image",gf:"application"};function Ct(e){for(var t=new Map,n=c(Object.keys(e)),r=n.next();!r.done;r=n.next())r=r.value,t.set(r,e[r]);return t}function Ot(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function kt(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=c(e),r=n.next();!r.done;r=n.next()){var i=c(r.value);if(r=i.next().value,i=i.next().value,!t.has(r))return!1;if((r=t.get(r))!=i||null==r)return!1}return!0}function It(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function xt(e){var t=(e=e.split("."))[0];return e.pop(),[t,e.join(".")]}var Dt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Rt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Mt(e){return""!=Ut().canPlayType(e)}function Nt(){return!!navigator.userAgent.match(/Edge?\//)}function Lt(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!Bt("Tizen")}function jt(){if(!Lt())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function Bt(e){return(navigator.userAgent||"").includes(e)}function Ut(){return Ft||(Vt||(Vt=new me((function(){Ft=null}))),(Ft=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(Ft=document.createElement("video")),Vt.R(1),Ft)}var Vt=null,Ft=null;function Ht(){}function Gt(e){return e=lt(Ie(e)),btoa(e)}function Wt(e,t){t=null==t||t;var n=Gt(e).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function zt(t){var n=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(n.length);for(var r=(n=c($(n))).next();!r.done;r=n.next())t[(r=r.value).Y]=r.item.charCodeAt(0);return t}function Kt(t){for(var n=t.length/2,r=new Uint8Array(n),i=(n=c(J(n))).next();!i.done;i=n.next())r[i=i.value]=e.parseInt(t.substr(2*i,2),16);return r}function Yt(e){var t=Ie(e);e="";for(var n=(t=c(t)).next();!n.done;n=t.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),e+=n;return e}function qt(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var r=0,i=c(t);for(n=i.next();!n.done;n=i.next())r+=n.value.byteLength;for(r=new Uint8Array(r),i=0,n=(t=c(t)).next();!n.done;n=t.next())n=n.value,r.set(Ie(n),i),i+=n.byteLength;return r}function Xt(e,t){var n=this;t=void 0===t?1:t,this.s=e,this.m=new Set,this.a=this.h=null,this.M=!1,this.G=0,this.c=null,this.b=new et,this.f=new Map,this.v=[],this.j=new be,this.i=null,this.g=function(t){n.j.reject(t),e.onError(t)},this.ca=new Map,this.T=new Map,this.I=new me((function(){return function(e){var t=e.ca,n=e.T;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),(t=Array.from(n.values())).length&&t.every((function(e){return"expired"==e}))&&e.g(new he(2,6,6014)),e.s.jc(Ot(n))}(n)})),this.w=!1,this.C=[],this.H=!1,this.W=new me((function(){!function(e){e.f.forEach((function(t,n){var r=t.Xc,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(e.s.onExpirationUpdated(n.sessionId,i),t.Xc=i)}))}(n)})).pa(t),this.j.catch((function(){})),this.D=new Je((function(){return function(e){return R((function(t){switch(t.a){case 1:return e.b.release(),e.b=null,e.j.reject(),e.W.stop(),e.W=null,e.I.stop(),e.I=null,_(t,cn(e),2);case 2:if(!e.a){t.u(3);break}return S(t,4),_(t,e.a.setMediaKeys(null),6);case 6:w(t,5);break;case 4:T(t);case 5:e.a=null;case 3:e.c=null,e.m.clear(),e.h=null,e.v=[],e.i=null,e.g=function(){},e.s=null,A(t)}}))}(n)}))}function Zt(e,t,n){return e.v=n,e.w=0<n.length,Qt(e,t)}function Qt(t,n){var r=function(t){if(0==(t=Ct(t.i.clearKeys)).size)return null;var n=[],r=[];t.forEach((function(e,t){var i=Kt(t),a=Kt(e);i={kty:"oct",kid:Wt(i,!1),k:Wt(a,!1)},n.push(i),r.push(i.kid)})),t=JSON.stringify({keys:n});var i=JSON.stringify({kids:r});return i=[{initData:Ie(ut(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:new Set(r)}}(t);if(r)for(var i=c(n),a=i.next();!a.done;a=i.next())(a=a.value).video&&a.video.encrypted&&(a.video.drmInfos=[r]),a.audio&&a.audio.encrypted&&(a.audio.drmInfos=[r]);for((r=n.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})))||function(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var r=c(e),i=r.next();!i.done;i=r.next())(i=i.value).video&&i.video.encrypted&&(i.video.drmInfos=n),i.audio&&i.audio.encrypted&&(i.audio.drmInfos=n)}(n,i=Ct(t.i.servers)),a=(i=c(n)).next();!a.done;a=i.next())for(var o=(a=c(((a=a.value).video?a.video.drmInfos:[]).concat(a.audio?a.audio.drmInfos:[]))).next();!o.done;o=a.next())pn(o.value,Ct(t.i.servers),Ct(t.i.advanced||{}));return(i=function(e,t){for(var n=new Set,r=c(t),i=r.next();!i.done;i=r.next()){var a=c(((i=i.value).video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[]));for(i=a.next();!i.done;i=a.next())n.add(i.value)}for(r=c(n),i=r.next();!i.done;i=r.next())pn(i.value,Ct(e.i.servers),Ct(e.i.advanced||{}));a=e.w?"required":"optional";var o=e.w?["persistent-license"]:["temporary"];for(r=new Map,n=c(n),i=n.next();!i.done;i=n.next())i=i.value,r.set(i.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:i.keySystem,drmInfos:[]});for(n=c(t),i=n.next();!i.done;i=n.next())for(i=i.value,a=c([i.audio,i.video]),i=a.next();!i.done;i=a.next())if(o=i.value){var s=It(o.mimeType,o.codecs),u=c(o.drmInfos);for(i=u.next();!i.done;i=u.next()){var l=i.value;(i=r.get(l.keySystem)).drmInfos.push(l),l.distinctiveIdentifierRequired&&(i.distinctiveIdentifier="required"),l.persistentStateRequired&&(i.persistentState="required"),l={robustness:("audio"==o.type?l.audioRobustness:l.videoRobustness)||"",contentType:s},"audio"==o.type?i.audioCapabilities.push(l):i.videoCapabilities.push(l)}}return r}(t,n)).size?(i=rn(t,i),r?i:i.catch((function(){}))):(t.M=!0,Promise.resolve())}function Jt(e){return R((function(t){if(1==t.a)return e.h&&e.c&&e.c.serverCertificate&&e.c.serverCertificate.length?(S(t,3),_(t,e.h.setServerCertificate(e.c.serverCertificate),5)):t.u(0);if(3!=t.a)return w(t,0);throw new he(2,6,6004,T(t).message)}))}function $t(e){for(var t=(e.c?e.c.initData:[])||[],n=c(t),r=n.next();!r.done;r=n.next())en(e,(r=r.value).initDataType,r.initData);for(r=(n=c(e.v)).next();!r.done;r=n.next())an(e,r.value);return t.length||e.v.length||e.j.resolve(),e.j}function en(e,t,n){for(var r=e.f.values(),i=(r=c(r)).next();!i.done;i=r.next())if(Ce(n,i.value.initData)&&!Bt("Tizen 2"))return;!function(e,t,n){try{var r=e.w?e.h.createSession("persistent-license"):e.h.createSession()}catch(t){return void e.g(new he(2,6,6005,t.message))}e.b.l(r,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.H?e.C.push(t):sn(e,t)})),e.b.l(r,"keystatuseschange",(function(t){return un(e,t)})),e.f.set(r,{initData:n,loaded:!1,Xc:1/0,za:null});try{n=e.i.initDataTransform(n,t,e.c)}catch(n){return t=n,n instanceof he||(t=new he(2,6,6016,n)),void e.g(t)}e.i.logLicenseExchange&&Wt(n),r.generateRequest(t,n).catch((function(t){if(!e.D.a){e.f.delete(r);var n=t.errorCode;if(n&&n.systemCode){var i=n.systemCode;0>i&&(i+=Math.pow(2,32)),i="0x"+i.toString(16)}e.g(new he(2,6,6006,t.message,t,i))}}))}(e,t,n)}function tn(e){return e?e.keySystem:""}function nn(e){return e=Q(e=e.f.keys(),(function(e){return e.sessionId})),Array.from(e)}function rn(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,v,m,g,y,b,A,E,P,C;return R((function(O){switch(O.a){case 1:if(1==t.size&&t.has(""))throw new he(2,6,6e3);for(n=c(t.values()),r=n.next();!r.done;r=n.next())0==(i=r.value).audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities;o=c([!0,!1]),s=o.next();case 2:if(s.done){O.u(4);break}u=s.value,l=c(t.keys()),d=l.next();case 5:if(d.done){O.u(7);break}if(f=d.value,p=t.get(f),p.drmInfos.some((function(e){return!!e.licenseServerUri}))!=u){O.u(6);break}return S(O,8),_(O,navigator.requestMediaKeySystemAccess(f,[p]),10);case 10:a=O.b,O.u(7);break;case 8:T(O);case 9:$e(e.D);case 6:d=l.next(),O.u(5);break;case 7:if(a){O.u(4);break}s=o.next(),O.u(2);break;case 4:if(!a)throw new he(2,6,6001);for($e(e.D),S(O,11),e.m.clear(),h=a.getConfiguration(),v=h.audioCapabilities||[],m=h.videoCapabilities||[],g=c(v),y=g.next();!y.done;y=g.next())b=y.value,e.m.add(b.contentType.toLowerCase());for(A=c(m),y=A.next();!y.done;y=A.next())E=y.value,e.m.add(E.contentType.toLowerCase());if(e.c=function(e,t){var n=[],r=[],i=[],a=new Set;return function(e,t,n,r,i){for(var a={},o=(e=c(e)).next();!o.done;a={ma:a.ma},o=e.next()){if(a.ma=o.value,t.includes(a.ma.licenseServerUri)||t.push(a.ma.licenseServerUri),a.ma.serverCertificate&&(n.some(function(e){return function(t){return Ce(t,e.ma.serverCertificate)}}(a))||n.push(a.ma.serverCertificate)),a.ma.initData){o={};for(var s=c(a.ma.initData),u=s.next();!u.done;o={Rb:o.Rb},u=s.next())o.Rb=u.value,r.some(function(e){return function(t){var n=e.Rb;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&Ce(t.initData,n.initData)}}(o))||r.push(o.Rb)}if(a.ma.keyIds)for(o=c(a.ma.keyIds),s=o.next();!s.done;s=o.next())i.add(s.value)}}(t.drmInfos,n,r,i,a),{keySystem:e,licenseServerUri:n[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:r[0],initData:i,keyIds:a}}(a.keySystem,t.get(a.keySystem)),!e.c.licenseServerUri)throw new he(2,6,6012,e.c.keySystem);return _(O,a.createMediaKeys(),13);case 13:return P=O.b,$e(e.D),e.h=P,e.M=!0,_(O,Jt(e),14);case 14:$e(e.D),w(O,0);break;case 11:if(C=T(O),$e(e.D,C),e.c=null,e.m.clear(),C instanceof he)throw C;throw new he(2,6,6002,C.message)}}))}function an(e,t){var n,r,i,a,o;return R((function(s){switch(s.a){case 1:try{n=e.h.createSession("persistent-license")}catch(t){return r=new he(2,6,6005,t.message),e.g(r),s.return(Promise.reject(r))}return e.b.l(n,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.H?e.C.push(t):sn(e,t)})),e.b.l(n,"keystatuseschange",(function(t){return un(e,t)})),i={initData:null,loaded:!1,Xc:1/0,za:null},e.f.set(n,i),S(s,2),_(s,n.load(t),4);case 4:return a=s.b,$e(e.D),a?(i.loaded=!0,fn(e)&&e.j.resolve(),s.return(n)):(e.f.delete(n),e.g(new he(2,6,6013)),s.return(Promise.resolve()));case 2:o=T(s),$e(e.D,o),e.f.delete(n),e.g(new he(2,6,6005,o.message));case 3:return s.return(Promise.resolve())}}))}function on(e,t,n){return"skd"==t&&(t=n.serverCertificate,e=ht(e,n=pt(e),t)),e}function sn(e,t){var n,r,i,a,o,s,u,l,d,f,p,h;R((function(v){switch(v.a){case 1:return n=t.target,e.i.logLicenseExchange&&Wt(t.message),r=e.f.get(n),i=e.c.licenseServerUri,a=e.i.advanced[e.c.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=Ke([i],e.i.retryParameters)).body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,"com.microsoft.playready"!=e.c.keySystem&&"com.chromecast.playready"!=e.c.keySystem||function(e){var t=ot(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){for(var n=c((t=(new DOMParser).parseFromString(t,"application/xml")).getElementsByTagName("HttpHeader")),r=n.next();!r.done;r=n.next())r=r.value,e.headers[r.getElementsByTagName("name")[0].textContent]=r.getElementsByTagName("value")[0].textContent;e.body=zt(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}(o),s=Date.now(),S(v,2),_(v,e.s.lb.request(2,o).promise,4);case 4:u=v.b,w(v,3);break;case 2:return l=T(v),d=new he(2,6,6007,l),e.g(d),r&&r.za&&r.za.reject(d),v.return();case 3:return e.D.a?v.return():(e.G+=(Date.now()-s)/1e3,e.i.logLicenseExchange&&Wt(u.data),S(v,5),_(v,n.update(u.data),7));case 7:w(v,6);break;case 5:return f=T(v),p=new he(2,6,6008,f.message),e.g(p),r&&r.za&&r.za.reject(p),v.return();case 6:h=new Re("drmsessionupdate"),e.s.onEvent(h),r&&(r.za&&r.za.resolve(),new me((function(){r.loaded=!0,fn(e)&&e.j.resolve()})).R(vn)),A(v)}}))}function un(e,t){var n=t.target,r=e.f.get(n),i=!1;n.keyStatuses.forEach((function(t,n){if("string"==typeof n){var a=n;n=t,t=a}if("com.microsoft.playready"==e.c.keySystem&&16==n.byteLength&&(Bt("Trident/")||Nt())){var o=(a=xe(n)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"com.microsoft.playready"==e.c.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(r.loaded=!0),"expired"==t&&(i=!0),a=Yt(n),e.ca.set(a,t)}));var a=n.expiration-Date.now();(0>a||i&&1e3>a)&&r&&!r.za&&(e.f.delete(n),n.close().catch((function(){}))),fn(e)&&(e.j.resolve(),e.I.R(mn))}function cn(e){var t;return R((function(n){return t=Array.from(e.f.keys()),e.f.clear(),_(n,Promise.all(t.map((function(e){return R((function(t){return 1==t.a?(S(t,2),_(t,function(e){var t;return R((function(n){return 1==n.a?(t=new Promise((function(e,t){new me(t).R(hn)})),S(n,2),_(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.a?w(n,0):(T(n),void A(n))}))}(e),4)):2!=t.a?w(t,0):(T(t),void A(t))}))}))),0)}))}function ln(e,t){var n=t.audio,r=t.video;if(n&&n.encrypted&&!Nt()&&!e.m.has(It(n.mimeType,n.codecs).toLowerCase())||r&&r.encrypted&&!Nt()&&!e.m.has(It(r.mimeType,r.codecs).toLowerCase()))return!1;var i=tn(e.c);return 0==(n=(r?r.drmInfos:[]).concat(n?n.drmInfos:[])).length||n.some((function(e){return e.keySystem==i}))}function dn(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=c(e),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=c(t),o=a.next();!o.done;o=a.next())if(o=o.value,i.keySystem==o.keySystem){a=(a=(a=[]).concat(i.initData||[])).concat(o.initData||[]);var s=i.keyIds&&o.keyIds?new Set(l(i.keyIds).concat(l(o.keyIds))):i.keyIds||o.keyIds;n.push({keySystem:i.keySystem,licenseServerUri:i.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:i.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:i.persistentStateRequired||o.persistentStateRequired,videoRobustness:i.videoRobustness||o.videoRobustness,audioRobustness:i.audioRobustness||o.audioRobustness,serverCertificate:i.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return n}function fn(e){return function(e,t){for(var n=c(e),r=n.next();!r.done;r=n.next())if(!t(r.value))return!1;return!0}(e=e.f.values(),(function(e){return e.loaded}))}function pn(t,n,r){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(r=r.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=r.persistentStateRequired),t.videoRobustness||(t.videoRobustness=r.videoRobustness),t.audioRobustness||(t.audioRobustness=r.audioRobustness),t.serverCertificate||(t.serverCertificate=r.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}U("shaka.util.Uint8ArrayUtils",Ht),Ht.concat=qt,Ht.toHex=Yt,Ht.fromHex=Kt,Ht.fromBase64=zt,Ht.toBase64=Wt,Ht.toStandardBase64=Gt,Ht.equal=function(e,t){return mt("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),Ce(e,t)},Xt.prototype.destroy=function(){return this.D.destroy()},Xt.prototype.configure=function(e){this.i=e},Xt.prototype.yb=function(e){var t,n=this;return R((function(r){if(1==r.a)return n.h?(n.a=e,n.b.ha(n.a,"play",(function(){for(var e=c(n.C),t=e.next();!t.done;t=e.next())sn(n,t.value);n.H=!0,n.C=[]})),"webkitCurrentPlaybackTargetIsWireless"in n.a&&n.b.l(n.a,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return cn(n)})),_(r,n.a.setMediaKeys(n.h).catch((function(e){return Promise.reject(new he(2,6,6003,e.message))})),2)):(n.b.ha(e,"encrypted",(function(){n.g(new he(2,6,6010))})),r.return());$e(n.D),$t(n),n.c.initData.length||n.v.length||(t=function(e){return en(n,e.initDataType,Ie(e.initData))},n.b.l(n.a,"encrypted",t)),A(r)}))},Xt.prototype.Cb=function(){for(var e=1/0,t=this.f.keys(),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e};var hn=1,vn=5,mn=.5,gn=new rt((function(){return ke(new Uint8Array([0]))}));function yn(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function bn(){}function _n(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function An(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function Sn(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=c(En(e)),i=r.next();!i.done;i=r.next()){var a=i.value;i=a.start,(a=a.end)>t&&(n+=a-Math.max(i,t))}return n}function En(e){if(!e)return[];for(var t=[],n=c(J(e.length)),r=n.next();!r.done;r=n.next())r=r.value,t.push({start:e.start(r),end:e.end(r)});return t}function wn(){var e=this;this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.h=[],this.c=[],this.g=[],this.f=!1,this.a.on("data",(function(t){e.c=t.captions,e.g=t.metadata,e.h.push(qt(t.initSegment,t.data))})),this.a.on("done",(function(){var t={data:qt.apply(Ht,l(e.h)),captions:e.c,metadata:e.g};e.b.resolve(t),e.f=!1}))}function Tn(t,n){if(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1])return!1;if(n)return MediaSource.isTypeSupported(Pn(n,t));var r=Pn("audio",t),i=Pn("video",t);return MediaSource.isTypeSupported(r)||MediaSource.isTypeSupported(i)}function Pn(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function Cn(e,t,n){this.startTime=e,this.direction=Mn,this.endTime=t,this.payload=n,this.region=new Hn,this.position=null,this.positionAlign=kn,this.size=0,this.textAlign=In,this.writingMode=Nn,this.lineInterpretation=Ln,this.line=null,this.lineHeight="",this.lineAlign=jn,this.displayAlign=Dn,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=Un,this.fontStyle=Vn,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}}function On(e,t){for(var n in e)if("nestedCues"==n){if(!Fe(e.nestedCues,t.nestedCues,On))return!1}else if("region"==n||"cellResolution"==n){for(var r in e[n])if(e[n][r]!=t[n][r])return!1}else if(Array.isArray(e[n])){if(!Fe(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}yn.prototype.init=function(e){var t=muxjs.mp4.probe;e=Ie(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},yn.prototype.b=function(e,t){var n=Ie(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},yn.prototype.c=function(){this.a.resetCaptionStream()},bn.prototype.init=function(){},bn.prototype.b=function(){},bn.prototype.c=function(){},wn.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},Cn.prototype.clone=function(){var e,t=new Cn(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},U("shaka.text.Cue",Cn);var kn="auto";Cn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:kn};var In="center",xn={LEFT:"left",RIGHT:"right",CENTER:In,START:"start",END:"end"};Cn.textAlign=xn;var Dn="after",Rn={BEFORE:"before",CENTER:"center",AFTER:Dn};Cn.displayAlign=Rn;var Mn="ltr";Cn.direction={HORIZONTAL_LEFT_TO_RIGHT:Mn,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var Nn="horizontal-tb";Cn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:Nn,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var Ln=0;Cn.lineInterpretation={LINE_NUMBER:Ln,PERCENTAGE:1};var jn="start",Bn={CENTER:"center",START:jn,END:"end"};Cn.lineAlign=Bn;var Un=400;Cn.fontWeight={NORMAL:Un,BOLD:700};var Vn="normal",Fn={NORMAL:Vn,ITALIC:"italic",OBLIQUE:"oblique"};function Hn(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Gn,this.scroll=Wn}Cn.fontStyle=Fn,Cn.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},U("shaka.text.CueRegion",Hn);var Gn=1;Hn.units={PX:0,PERCENTAGE:Gn,LINES:2};var Wn="";function zn(e){this.m=null,this.c=e,this.f=this.v=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map}function Kn(t){return!!(qn[t]||e.muxjs&&"application/cea-608"==t)}function Yn(e,t,n,r,i){for(var a=n+" "+r,o=new Map,s=(t=c(t)).next();!s.done;s=t.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=i,u.endTime+=i,u.startTime>=e.f&&u.startTime<e.g&&(u=new Cn(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==e.j&&e.c.append([u]))}for(a=(i=c(o.keys())).next();!a.done;a=i.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),s=(t=c(o.get(a).keys())).next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.h.get(a).set(s,u);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(r,e.g))}Hn.scrollMode={NONE:Wn,UP:"up"},zn.prototype.destroy=function(){return this.c=this.m=null,this.h.clear(),Promise.resolve()},zn.prototype.remove=function(e,t){var n=this;return R((function(r){if(1==r.a)return _(r,Promise.resolve(),2);!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e)),A(r)}))},U("shaka.text.TextEngine",zn),zn.prototype.destroy=zn.prototype.destroy,zn.unregisterParser=function(e){delete qn[e]},zn.registerParser=function(e,t){qn[e]=t};var qn={};function Xn(e,t,n,r){var i=this;this.a=e,this.h=n,this.f={},this.c=null,this.C=r||function(){},this.g={},this.b=new et,this.m={},this.v=t,this.w=new be,this.j=function(e,t){var n=new MediaSource;return e.b.ha(n,"sourceopen",t.resolve),e.a.src=lr(n),n}(this,this.w),this.D=new Je((function(){return function(e){var t,n,r,i,a,o,s;return R((function(u){if(1==u.a){for(n in t=[],e.g)for(r=e.g[n],i=r[0],e.g[n]=r.slice(0,1),i&&t.push(i.p.catch(At)),a=c(r.slice(1)),o=a.next();!o.done;o=a.next())o.value.p.reject(new he(2,7,7003,void 0));for(s in e.c&&t.push(e.c.destroy()),e.h&&t.push(e.h.destroy()),e.m)t.push(e.m[s].destroy());return _(u,Promise.all(t),2)}e.b&&(e.b.release(),e.b=null),e.a&&(e.a.removeAttribute("src"),e.a.load(),e.a=null),e.j=null,e.c=null,e.h=null,e.f={},e.m={},e.v=null,e.g={},A(u)}))}(i)}))}function Zn(e){var t=It(e.mimeType,e.codecs),n=function(e){var t=[e.mimeType];return Dt.forEach((function(n,r){var i=e[r];i&&t.push(n+'="'+i+'"')})),t.join(";")}(e);return Kn(t)||MediaSource.isTypeSupported(n)||Tn(t,e.type)}function Qn(e,t){e.c||(e.c=new zn(e.h)),"application/cea-608"!=t&&(e.c.m=Et(qn[t]))}function Jn(e){return!e.j||"ended"==e.j.readyState}function $n(e,t){if("text"==t)var n=e.c.a;else n=!(n=tr(e,t))||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function er(e,t){return"text"==t?e.c.b:_n(tr(e,t))}function tr(e,t){try{return e.f[t].buffered}catch(e){return null}}function nr(t,n,r,i,a,o){var s,u,c,l;return R((function(d){return 1==d.a?n==(s=Pt).$?_(d,function(e,t,n,r){var i,a,o;return R((function(s){return 1==s.a?_(s,Promise.resolve(),2):e.m&&e.c?null==n||null==r?(e.m.parseInit(Ie(t)),s.return()):(i={periodStart:e.v,segmentStart:n,segmentEnd:r},a=e.m.parseMedia(Ie(t),i),o=a.filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(o),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(r,e.g),void A(s)):s.return()}))}(t.c,r,i,a),0):t.m[n]?_(d,function(e,t){e.f=!0,e.b=new be,e.h=[],e.c=[],e.g=[];var n=Ie(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new he(2,3,3018)),e.b}(t.m[n],r),10):(o&&e.muxjs&&(t.c||Qn(t,"text/vtt"),null==i&&null==a?t.v.init(r):t.v.b(r,(function(e){e.length&&Yn(t.c,e,i,a,t.f[s.Ca].timestampOffset)}))),_(d,or(t,n,(function(){t.f[n].appendBuffer(r)})),0)):(u=d.b,t.c||Qn(t,"text/vtt"),u.metadata&&(c=t.f[n].timestampOffset,t.C(u.metadata,c,a)),u.captions&&u.captions.length&&(l=t.f[s.Ca].timestampOffset,Yn(t.c,u.captions,i,a,l)),_(d,or(t,n,(function(){t.f[n].appendBuffer(u.data)})),0))}))}function rr(e,t){var n=er(e,"video")||0;!function(e,t,n){if(e.j=t,t=e.h.get(t))for(var r=c(t.keys()),i=r.next();!i.done;i=r.next())(i=t.get(i.value).filter((function(e){return e.endTime<=n})))&&e.c.append(i)}(e.c,t,n)}function ir(e,t){return R((function(n){return t==Pt.$?e.c?_(n,e.c.remove(0,1/0),0):n.return():_(n,or(e,t,(function(){var n=e.j.duration;0>=n?ar(e,t):e.f[t].remove(0,n)})),0)}))}function ar(e,t){var n=e.g[t][0];n&&(n.p.resolve(),ur(e,t))}function or(e,t,n){return $e(e.D),n={start:n,p:new be},e.g[t].push(n),1==e.g[t].length&&cr(e,t),n.p}function sr(e,t){var n,r,i,a,o;return R((function(s){switch(s.a){case 1:for(i in $e(e.D),n=[],r={},e.f)r.ub=new be,a={start:function(e){return function(){return e.ub.resolve()}}(r),p:r.ub},e.g[i].push(a),n.push(r.ub),1==e.g[i].length&&a.start(),r={ub:r.ub};return S(s,2),_(s,Promise.all(n),4);case 4:w(s,3);break;case 2:throw T(s);case 3:try{t()}catch(e){throw new he(2,3,3015,e)}finally{for(o in e.f)ur(e,o)}A(s)}}))}function ur(e,t){e.g[t].shift(),cr(e,t)}function cr(e,t){var n=e.g[t][0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new he(2,3,3017,t)):n.p.reject(new he(2,3,3015,r)),ur(e,t)}}(r=Xn.prototype).destroy=function(){return this.D.destroy()},r.init=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(d){if(1==d.a)return n=Pt,_(d,l.w,2);for(r={},i=c(e.keys()),a=i.next();!a.done;r={la:r.la},a=i.next())r.la=a.value,o=e.get(r.la),s=It(o.mimeType,o.codecs),r.la==n.$?Qn(l,s):(!t&&MediaSource.isTypeSupported(s)||!Tn(s,r.la)||(l.m[r.la]=new wn,s=Pn(r.la,s)),u=l.j.addSourceBuffer(s),l.b.l(u,"error",function(e){return function(){l.g[e.la][0].p.reject(new he(2,3,3014,l.a.error?l.a.error.code:0))}}(r)),l.b.l(u,"updateend",function(e){return function(){return ar(l,e.la)}}(r)),l.f[r.la]=u,l.g[r.la]=[]);A(d)}))},r.dc=function(){var e={total:En(this.a.buffered),audio:En(tr(this,"audio")),video:En(tr(this,"video")),text:[]};if(this.c){var t=this.c.a,n=this.c.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},r.remove=function(e,t,n){var r=this;return R((function(i){return _(i,e==Pt.$?r.c.remove(t,n):or(r,e,(function(){n<=t?ar(r,e):r.f[e].remove(t,n)})),0)}))},r.flush=function(e){var t=this;return R((function(n){return e==Pt.$?n.return():_(n,or(t,e,(function(){t.a.currentTime-=.001,ar(t,e)})),0)}))},r.endOfStream=function(e){var t=this;return R((function(n){return _(n,sr(t,(function(){Jn(t)||(e?t.j.endOfStream(e):t.j.endOfStream())})),0)}))},r.ya=function(e){var t=this;return R((function(n){return _(n,sr(t,(function(){t.j.duration=e})),0)}))},r.getDuration=function(){return this.j.duration};var lr=e.URL.createObjectURL;function dr(e,t){return e=hr(e),t=hr(t),e.split("-")[0]==t.split("-")[0]}function fr(e,t){e=hr(e),t=hr(t);var n=e.split("-"),r=t.split("-");return n[0]==r[0]&&1==n.length&&2==r.length}function pr(e,t){e=hr(e),t=hr(t);var n=e.split("-"),r=t.split("-");return 2==n.length&&2==r.length&&n[0]==r[0]}function hr(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=yr.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function vr(e,t){return e=hr(e),(t=hr(t))==e?4:fr(t,e)?3:pr(t,e)?2:fr(e,t)?1:0}function mr(e){return e.language?hr(e.language):e.audio&&e.audio.language?hr(e.audio.language):e.video&&e.video.language?hr(e.video.language):"und"}function gr(e,t){for(var n=hr(e),r=new Set,i=c(t),a=i.next();!a.done;a=i.next())r.add(hr(a.value));for(a=(i=c(r)).next();!a.done;a=i.next())if((a=a.value)==n)return a;for(a=(i=c(r)).next();!a.done;a=i.next())if(fr(a=a.value,n))return a;for(a=(i=c(r)).next();!a.done;a=i.next())if(pr(a=a.value,n))return a;for(a=(r=c(r)).next();!a.done;a=r.next())if(fr(n,a=a.value))return a;return null}var yr=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function br(e,t){function n(e){var t="";e.video&&(t=xt(e.video.codecs)[0]);var n="";return e.audio&&(n=xt(e.audio.codecs)[0]),t+"-"+n}for(var r=Or(e.variants,t),i=new Me,a=(r=c(r)).next();!a.done;a=r.next()){var o=n(a=a.value);i.push(o,a)}var s=null,u=1/0;!function(e,t){for(var n in e.a)t(n,e.a[n])}(i,(function(e,t){for(var n=0,r=0,i=c(t),a=i.next();!a.done;a=i.next())n+=a.value.bandwidth||0,++r;(n/=r)<u&&(s=e,u=n)})),e.variants=e.variants.filter((function(e){return n(e)==s}))}function _r(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&(!r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))||!r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))||!r(i.width*i.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!r(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Ar(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Sr(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;if(t)for(var l=c(t.roles),d=l.next();!d.done;d=l.next())u.add(d.value);if(n)for(d=(l=c(n.roles)).next();!d.done;d=l.next())u.add(d.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function Er(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function wr(e){return e.__shaka_id||(e.__shaka_id=xr++),e.__shaka_id}function Tr(e){var t=Pr(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind]),t}function Pr(e){return{id:wr(e),active:!1,type:"",bandwidth:0,language:hr(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function Cr(e){return e.allowedByApplication&&e.allowedByKeySystem}function Or(e,t){for(var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),r=new Map,i=(n=c(n)).next();!i.done;i=n.next()){var a=(i=i.value).audio.channelsCount;r.has(a)||r.set(a,[]),r.get(a).push(i)}return 0==(n=Array.from(r.keys())).length?e:(i=n.filter((function(e){return e<=t}))).length?r.get(Math.max.apply(Math,l(i))):r.get(Math.min.apply(Math,l(n)))}function kr(e,t,n){var r=e,i=e.filter((function(e){return e.primary}));i.length&&(r=i);var a=r.length?r[0].language:"";if(r=r.filter((function(e){return e.language==a})),t){var o=gr(hr(t),e.map((function(e){return e.language})));o&&(r=e.filter((function(e){return hr(e.language)==o})))}if(n){if((e=Ir(r,n)).length)return e}else if((e=r.filter((function(e){return 0==e.roles.length}))).length)return e;return(e=r.map((function(e){return e.roles})).reduce(_t,[])).length?Ir(r,e[0]):r}function Ir(e,t){return e.filter((function(e){return e.roles.includes(t)}))}var xr=0;function Dr(){this.h=null,this.c=!1,this.a=new G,this.b=[],this.g=1,this.j=!1,this.i=this.f=null}function Rr(e,t){return e&&(t=t.filter((function(t){return _r(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function Mr(e,t){this.a=e,this.b=new Set([e]);for(var n=c(t=t||[]),r=n.next();!r.done;r=n.next())this.add(r.value)}function Nr(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var r=t.audio;n=!(n.channelsCount==r.channelsCount&&Lr(n,r)&&jr(n.roles,r.roles))}return!n&&(n=e.video&&t.video)&&(n=!(Lr(n=e.video,r=t.video)&&jr(n.roles,r.roles))),!n}function Lr(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return xt(e)[0]})),r=t.codecs.split(",").map((function(e){return xt(e)[0]}));if(n.length!=r.length)return!1;n.sort(),r.sort();for(var i=c(J(n.length)),a=i.next();!a.done;a=i.next())if(n[a=a.value]!=r[a])return!1;return!0}function jr(e,t){var n=new Set(e),r=new Set(t);if(n.delete("main"),r.delete("main"),n.size!=r.size)return!1;for(var i=(n=c(n)).next();!i.done;i=n.next())if(!r.has(i.value))return!1;return!0}function Br(e){this.a=e,this.b=new Ur(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function Ur(e,t,n,r,i){this.f=e,this.c=t,this.a=n,this.b=void 0===r?"":r,this.g=void 0===i?"":i}function Vr(){this.a=Gr,this.b=(new Map).set(Gr,2).set(Hr,1)}function Fr(e,t,n){e.b.set(Gr,n).set(Hr,t)}(r=Dr.prototype).stop=function(){this.h=null,this.c=!1,this.b=[],this.g=1,this.f=null},r.init=function(e){this.h=e},r.chooseVariant=function(){var e=Rr(this.i.restrictions,this.b),t=this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate);this.b.length&&!e.length&&(e=[(e=Rr(null,this.b))[0]]);for(var n=e[0]||null,r=(e=c($(e))).next();!r.done;r=e.next()){var i=r.value;r=i.item;var a=isNaN(this.g)?1:Math.abs(this.g);i=a*(i.next||{bandwidth:1/0}).bandwidth/this.i.bandwidthUpgradeTarget,t>=a*r.bandwidth/this.i.bandwidthDowngradeTarget&&t<=i&&(n=r)}return this.f=Date.now(),n},r.enable=function(){this.c=!0},r.disable=function(){this.c=!1},r.segmentDownloaded=function(e,t){var n=this.a;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,F(n.b,i,r),F(n.c,i,r)}if(null!=this.f&&this.c)e:{if(this.j){if(Date.now()-this.f<1e3*this.i.switchInterval)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}n=this.chooseVariant(),this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate),n&&this.h(n)}},r.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)},r.setVariants=function(e){this.b=e},r.playbackRateChanged=function(e){this.g=e},r.configure=function(e){this.i=e},U("shaka.abr.SimpleAbrManager",Dr),Dr.prototype.configure=Dr.prototype.configure,Dr.prototype.playbackRateChanged=Dr.prototype.playbackRateChanged,Dr.prototype.setVariants=Dr.prototype.setVariants,Dr.prototype.getBandwidthEstimate=Dr.prototype.getBandwidthEstimate,Dr.prototype.segmentDownloaded=Dr.prototype.segmentDownloaded,Dr.prototype.disable=Dr.prototype.disable,Dr.prototype.enable=Dr.prototype.enable,Dr.prototype.chooseVariant=Dr.prototype.chooseVariant,Dr.prototype.init=Dr.prototype.init,Dr.prototype.stop=Dr.prototype.stop,Mr.prototype.add=function(e){return!!Nr(this.a,e)&&(this.b.add(e),!0)},Mr.prototype.values=function(){return this.b.values()},Br.prototype.create=function(e){var t=this,n=e.filter((function(e){return Nr(t.a,e)}));return n.length?new Mr(n[0],n):this.b.create(e)},Ur.prototype.create=function(e){var t=[];t=function(e,t){var n=gr(hr(t),e.map((function(e){return mr(e)})));return n?e.filter((function(e){return n==mr(e)})):[]}(e,this.f);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,this.c&&((e=function(e,t,n){return e.filter((function(e){if(n){var r=e[n];return r&&r.roles.includes(t)}return r=e.audio,e=e.video,r&&r.roles.includes(t)||e&&e.roles.includes(t)}))}(t,this.c,this.g)).length&&(t=e)),this.a&&((e=Or(t,this.a)).length&&(t=e)),this.b&&((e=function(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}(t,this.b)).length&&(t=e)),e=new Mr(t[0]),n=(t=c(t)).next();!n.done;n=t.next())n=n.value,Nr(e.a,n)&&e.add(n);return e};var Hr=0,Gr=1;function Wr(){}function zr(e,t,n,r){var i,a,o,s;return R((function(u){if(1==u.a)return r&&(i=Yr[r.toLowerCase()])?u.return(i):(a=Kr(e))&&(o=qr[a])?u.return(o):r?u.u(2):_(u,function(e,t,n){var r,i,a;return R((function(o){return 1==o.a?((r=Ke([e],n)).method="HEAD",_(o,t.request(0,r).promise,2)):(i=o.b,a=i.headers["content-type"],o.return(a?a.toLowerCase().split(";").shift():""))}))}(e,t,n),3);if(2!=u.a&&(r=u.b)&&(s=Yr[r]))return u.return(s);throw new he(2,4,4e3,e)}))}function Kr(e){return 1==(e=new te(e).ja.split("/").pop().split(".")).length?"":e.pop().toLowerCase()}U("shaka.media.ManifestParser",Wr),Wr.unregisterParserByMime=function(e){delete Yr[e]},Wr.registerParserByMime=function(e,t){Yr[e]=t},Wr.registerParserByExtension=function(e,t){qr[e]=t};var Yr={},qr={};function Xr(e,t,n){this.c=e,this.b=t,this.a=n}function Zr(e,t,n,r,i,a,o,s,u){this.startTime=e,this.endTime=t,this.c=n,this.b=r,this.a=i,this.f=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u}function Qr(e,t,n){this.f=e,this.mc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.m=!0,this.v=0,this.w=void 0===n||n}function Jr(e,t){this.g=e,this.h=ei(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.j=t,this.c=function(){}}function $r(e){this.a=e}function ei(e){if(e.a.paused||0==e.a.playbackRate||0==e.a.buffered.length)var t=!1;else e:{t=e.a.currentTime;for(var n=(e=c(En(e.a.buffered))).next();!n.done;n=e.next())if(!(t<(n=n.value).start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function ti(e,t,n,r,i){var a=this;this.a=e,this.w=t,this.i=n,this.v=i,this.b=new et,this.j=!1,this.m=e.readyState,this.f=!1,this.c=r,this.h=!1,this.b.l(e,"waiting",(function(){return ni(a)})),this.g=new me((function(){ni(a)})).pa(.25)}function ni(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused){var t;if(e.a.readyState!=e.m&&(e.f=!1,e.m=e.a.readyState),!(t=!e.c)){var n=(t=e.c).g,r=ei(n),i=n.a.currentTime,a=Date.now()/1e3;t.a==i&&t.h==r||(t.f=a,t.a=i,t.h=r,t.b=!1),(r=(i=a-t.f)>=t.j&&r&&!t.b)&&(t.c(t.a,i),t.b=!0,t.a=n.a.currentTime),t=!r}if(t){var o=e.i.smallGapLimit;if(i=e.a.currentTime,!(null==(n=function(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var n=Nt()||Bt("Trident/")||Bt("Tizen")||Bt("CrKey")?.5:.1,r=En(e).findIndex((function(e,r,i){return e.start>t&&(0==r||i[r-1].end-t<=n)}));return 0<=r?r:null}(t=e.a.buffered,i))||0==n&&!e.h||(r=t.start(n),r>=e.w.Ea()))){o=(a=r-i)<=o;var s=!1;.001>a||(o||e.f||(e.f=!0,(i=new Re("largegap",{currentTime:i,gapSize:a})).cancelable=!0,e.v(i),e.i.jumpLargeGaps&&!i.defaultPrevented&&(s=!0)),!o&&!s)||(0!=n&&t.end(n-1),e.a.currentTime=r)}}}}}function ri(e,t,n,r){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?r():(t=ii.get(t),n.ha(e,t,r))}Xr.prototype.Lc=function(){return this.b},Xr.prototype.Kc=function(){return this.a},U("shaka.media.InitSegmentReference",Xr),Xr.prototype.getEndByte=Xr.prototype.Kc,Xr.prototype.getStartByte=Xr.prototype.Lc,Zr.prototype.we=function(){return this.startTime},Zr.prototype.je=function(){return this.endTime},Zr.prototype.Lc=function(){return this.b},Zr.prototype.Kc=function(){return this.a},U("shaka.media.SegmentReference",Zr),Zr.prototype.getEndByte=Zr.prototype.Kc,Zr.prototype.getStartByte=Zr.prototype.Lc,Zr.prototype.getEndTime=Zr.prototype.je,Zr.prototype.getStartTime=Zr.prototype.we,(r=Qr.prototype).getDuration=function(){return this.g},r.oe=function(){return this.a},r.ya=function(e){this.g=e},r.ve=function(){return this.f},r.Pd=function(e){this.j=e},r.Nb=function(e){this.m=e},r.ld=function(e){this.h=e},r.Xe=function(e){this.mc=e},r.ie=function(){return this.mc},r.mb=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.Vc(e[0].startTime),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,t),null!=this.f&&this.w&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},r.Vc=function(e){this.c=null==this.c?e:Math.min(this.c,e)},r.Uc=function(e){this.a=Math.max(this.a,e)},r.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},r.S=function(){return 1/0==this.g&&!this.m},r.Ta=function(){return 1/0!=this.g&&!this.m},r.Qa=function(){return Math.max(this.v,this.Ka()-this.h)},r.Qd=function(e){this.v=e},r.Ka=function(){return this.S()||this.Ta()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.g):this.g},r.Eb=function(e){var t=Math.max(this.c,this.v);return 1/0==this.h?t:Math.max(t,Math.min(this.Ka()-this.h+e,this.Ea()))},r.ib=function(){return this.Eb(0)},r.Ea=function(){return Math.max(0,this.Ka()-(this.S()||this.Ta()?this.mc:0))},r.Td=function(){return!(null==this.f||null!=this.b&&this.w)},U("shaka.media.PresentationTimeline",Qr),Qr.prototype.usingPresentationStartTime=Qr.prototype.Td,Qr.prototype.getSeekRangeEnd=Qr.prototype.Ea,Qr.prototype.getSeekRangeStart=Qr.prototype.ib,Qr.prototype.getSafeSeekRangeStart=Qr.prototype.Eb,Qr.prototype.getSegmentAvailabilityEnd=Qr.prototype.Ka,Qr.prototype.setUserSeekStart=Qr.prototype.Qd,Qr.prototype.getSegmentAvailabilityStart=Qr.prototype.Qa,Qr.prototype.isInProgress=Qr.prototype.Ta,Qr.prototype.isLive=Qr.prototype.S,Qr.prototype.offset=Qr.prototype.offset,Qr.prototype.notifyMaxSegmentDuration=Qr.prototype.Uc,Qr.prototype.notifyMinSegmentStartTime=Qr.prototype.Vc,Qr.prototype.notifySegments=Qr.prototype.mb,Qr.prototype.getDelay=Qr.prototype.ie,Qr.prototype.setDelay=Qr.prototype.Xe,Qr.prototype.setSegmentAvailabilityDuration=Qr.prototype.ld,Qr.prototype.setStatic=Qr.prototype.Nb,Qr.prototype.setClockOffset=Qr.prototype.Pd,Qr.prototype.getPresentationStartTime=Qr.prototype.ve,Qr.prototype.setDuration=Qr.prototype.ya,Qr.prototype.getMaxSegmentDuration=Qr.prototype.oe,Qr.prototype.getDuration=Qr.prototype.getDuration,Jr.prototype.release=function(){this.g=null,this.c=function(){}},ti.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.g&&(this.g.stop(),this.g=null),this.c&&(this.c.release(),this.c=null),this.a=this.w=this.v=null},ti.prototype.Yc=function(){this.h=!0,ni(this)};var ii=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function ai(e,t,n){var r=this;this.a=e,this.g=t,this.f=n,this.h=!1,this.b=new et,this.c=new li(e),ri(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){ui(r,r.f)}))}function oi(e){return e.h?e.a.currentTime:e.f}function si(e,t){0<e.a.readyState?di(e.c,t):ri(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){ui(e,e.f)}))}function ui(e,t){.001>Math.abs(e.a.currentTime-t)?ci(e):(e.b.ha(e.a,"seeking",(function(){ci(e)})),di(e.c,0==e.a.currentTime?t:e.a.currentTime))}function ci(e){e.h=!0,e.b.l(e.a,"seeking",(function(){return e.g()}))}function li(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new me((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function di(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.pa(.1)}function fi(e){var t=this;this.a=e,this.f=!1,this.c=null,this.b=new et,ri(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){null==t.c?t.f=!0:(t.b.ha(t.a,"seeking",(function(){t.f=!0})),t.a.currentTime=Math.max(0,t.a.currentTime+t.c))}))}function pi(e,t,n,r,i,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.C=t.minBufferTime||0,this.i=n,this.w=i,this.j=null,this.f=new ti(e,t.presentationTimeline,n,function(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,r=new Jr(new $r(e),t.stallThreshold);return function(e,t){e.c=t}(r,(function(){n?e.currentTime+=n:(e.pause(),e.play())})),r}(e,n),a),this.b=new ai(e,(function(){var e=o.f;e.j=!0,e.h=!1,e.f=!1;var t=oi(o.b);return e=vi(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.j||o.j<t-1)?(o.j=t,si(o.b,e),e=void 0):(o.w(),e=void 0),e}),function(e,t){return null==t?t=1/0>e.a.getDuration()?e.a.ib():e.a.Ea():0>t&&(t=e.a.Ea()+t),hi(e,mi(e,t))}(this,r)),this.h=new me((function(){if(0!=o.c.readyState&&!o.c.paused){var e=oi(o.b),t=o.a.ib(),n=o.a.Ea();3>n-t&&(t=n-3),e<t&&(e=vi(o,e),o.c.currentTime=e)}})).pa(.25)}function hi(e,t){var n=e.a.getDuration();return t>=n?n-e.i.durationBackoff:t}function vi(e,t){var n=Math.max(e.C,e.i.rebufferingGoal),r=e.i.safeSeekOffset,i=e.a.ib(),a=e.a.Ea(),o=e.a.getDuration();3>a-i&&(i=a-3);var s=e.a.Eb(n),u=e.a.Eb(r);return n=e.a.Eb(n+r),t>=o?hi(e,t):t>a?a:t<i?An(e.c.buffered,u)?u:n:t>=s||An(e.c.buffered,t)?t:n}function mi(e,t){var n=e.a.ib();return t<n||t>(n=e.a.Ea())?n:t}function gi(e){this.a=e,this.b=null,this.c=0}function yi(e,t,n){return new gi([new Zr(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function bi(e){this.b=e,this.a=this.b.find(0)||0}function _i(){gi.call(this,[]),this.f=[]}function Ai(e){var t=this;this.a=e,this.f=!1,this.b=this.a.fc(),this.c=new me((function(){t.a.Gd(.25*t.b)}))}function Si(e){e.c.stop();var t=e.f?0:e.b;if(0<=t)try{return void(e.a.fc()!=t&&e.a.kd(t))}catch(e){}e.c.pa(.25),0!=e.a.fc()&&e.a.kd(0)}function Ei(e){var t=this;this.c=e,this.a=new Set,this.b=new me((function(){wi(t,!1)})).pa(.25)}function wi(e,t){for(var n=c(e.a),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=e.c.currentTime,a=t,o=c(r.g.a),s=o.next();!s.done;s=o.next()){s=s.value;var u=r.f.get(s),l=i<s.startTime?Ci:i>s.endTime?ki:Oi;r.f.set(s,l);for(var d=c(r.h),f=d.next();!f.done;f=d.next())(f=f.value).ab==u&&f.$a==l&&f.Sa(s,a)}}}function Ti(e){var t=this;this.b=function(){},this.a=new Set,this.f=e,this.c=new me((function(){for(var e=t.f(),n=c(t.a),r=n.next();!r.done;r=n.next())(r=r.value).endTime<e.start&&t.a.delete(r)})).pa(2)}function Pi(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.h=[{ab:null,$a:Oi,Sa:function(e,n){return t.a(e,n)}},{ab:Ci,$a:Oi,Sa:function(e,n){return t.a(e,n)}},{ab:ki,$a:Oi,Sa:function(e,n){return t.a(e,n)}},{ab:Oi,$a:Ci,Sa:function(e,n){return t.b(e,n)}},{ab:Oi,$a:ki,Sa:function(e,n){return t.b(e,n)}},{ab:Ci,$a:ki,Sa:function(e,n){return t.c(e,n)}},{ab:ki,$a:Ci,Sa:function(e,n){return t.c(e,n)}}]}ai.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},li.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},fi.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},fi.prototype.m=function(e){this.c=this.f?this.c:e},fi.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},fi.prototype.v=function(){},pi.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.f&&(this.f.release(),this.f=null),this.h&&(this.h.stop(),this.h=null),this.c=this.b=this.a=this.i=null,this.w=function(){}},pi.prototype.m=function(e){si(this.b,e)},pi.prototype.g=function(){var e=oi(this.b);return 0<this.c.readyState&&!this.c.paused?mi(this,e):e},pi.prototype.v=function(){this.f.Yc()},(r=gi.prototype).destroy=function(){return mt("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},r.release=function(){this.a=[],this.b&&this.b.stop(),this.b=null},r.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return t+this.c}return this.a.length&&e<this.a[0].startTime?this.c:null},r.get=function(e){return 0==this.a.length||0>(e-=this.c)||e>=this.a.length?null:this.a[e]},r.offset=function(e){for(var t=c(this.a),n=t.next();!n.done;n=t.next())(n=n.value).startTime+=e,n.endTime+=e,n.timestampOffset+=e},r.kb=function(e){var t,n=this.a[this.a.length-1];t=this.a.length?e.filter((function(e){return e.startTime>=n.startTime})):e,n&&t.length&&t[0].startTime==n.startTime&&this.a.pop(),this.a.push.apply(this.a,l(t))},r.Oa=function(e){var t=this.a.length;this.a=this.a.filter((function(t){return t.endTime>e})),this.c+=t-this.a.length},r.Ja=function(e,t){for(;this.a.length&&this.a[this.a.length-1].startTime>=t;)this.a.pop();for(;this.a.length&&this.a[0].endTime<=e;)this.a.shift(),this.c++;if(0!=this.a.length){var n=this.a[this.a.length-1];this.a[this.a.length-1]=new Zr(n.startTime,t,n.c,n.b,n.a,n.f,n.timestampOffset,n.appendWindowStart,n.appendWindowEnd)}},r.oc=function(e,t){var n=this;this.b&&this.b.stop(),this.b=new me((function(){var e=t();n.a.push.apply(n.a,l(e)),0==n.a.length&&(n.b.stop(),n.b=null)})),this.b.pa(e)},gi.prototype[Symbol.iterator]=function(){return new bi(this)},U("shaka.media.SegmentIndex",gi),gi.forSingleSegment=yi,gi.prototype.updateEvery=gi.prototype.oc,gi.prototype.fit=gi.prototype.Ja,gi.prototype.evict=gi.prototype.Oa,gi.prototype.merge=gi.prototype.kb,gi.prototype.offset=gi.prototype.offset,gi.prototype.get=gi.prototype.get,gi.prototype.find=gi.prototype.find,gi.prototype.release=gi.prototype.release,gi.prototype.destroy=gi.prototype.destroy,bi.prototype.seek=function(e){return null==(e=this.b.find(e))?(this.a=Math.pow(2,31),null):(this.a=e,this.b.get(this.a++))},bi.prototype.current=function(){return this.b.get(this.a-1)},bi.prototype.next=function(){var e=this.b.get(this.a++);return{value:e,done:!e}},U("shaka.media.SegmentIterator",bi),bi.prototype.next=bi.prototype.next,bi.prototype.current=bi.prototype.current,bi.prototype.seek=bi.prototype.seek,m(_i,gi),(r=_i.prototype).clone=function(){var e=new _i;return e.f=this.f.slice(),e},r.release=function(){for(var e=c(this.f),t=e.next();!t.done;t=e.next())t.value.release();this.f=[]},r.find=function(e){for(var t=0,n=c(this.f),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(e);if(null!=i)return i+t;t+=r.c+r.a.length}return null},r.get=function(e){for(var t=0,n=c(this.f),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(e-t);if(i)return i;t+=r.c+r.a.length}return null},r.offset=function(){},r.kb=function(){},r.Oa=function(){},r.Ja=function(){},r.oc=function(){},U("shaka.media.MetaSegmentIndex",_i),_i.prototype.updateEvery=_i.prototype.oc,_i.prototype.fit=_i.prototype.Ja,_i.prototype.evict=_i.prototype.Oa,_i.prototype.merge=_i.prototype.kb,_i.prototype.offset=_i.prototype.offset,_i.prototype.get=_i.prototype.get,_i.prototype.find=_i.prototype.find,_i.prototype.release=_i.prototype.release,Ai.prototype.release=function(){this.c&&(this.c.stop(),this.c=null),this.a=null},Ai.prototype.set=function(e){this.b=e,Si(this)},Ei.prototype.release=function(){this.b.stop();for(var e=c(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},Ti.prototype.release=function(){this.b=function(){},this.a.clear(),this.c.stop()},Pi.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}};var Ci=1,Oi=2,ki=3;function Ii(e,t){this.P=xe(e),this.a=t==Di,this.B=0}function xi(){return new he(2,3,3e3)}(r=Ii.prototype).ua=function(){return this.B<this.P.byteLength},r.ue=function(){return this.B},r.ke=function(){return this.P.byteLength},r.oa=function(){try{var e=this.P.getUint8(this.B);return this.B+=1,e}catch(e){throw xi()}},r.Kb=function(){try{var e=this.P.getUint16(this.B,this.a);return this.B+=2,e}catch(e){throw xi()}},r.J=function(){try{var e=this.P.getUint32(this.B,this.a);return this.B+=4,e}catch(e){throw xi()}},r.Kd=function(){try{var e=this.P.getInt32(this.B,this.a);return this.B+=4,e}catch(e){throw xi()}},r.pb=function(){try{if(this.a)var e=this.P.getUint32(this.B,!0),t=this.P.getUint32(this.B+4,!0);else t=this.P.getUint32(this.B,!1),e=this.P.getUint32(this.B+4,!1)}catch(e){throw xi()}if(2097151<t)throw new he(2,3,3001);return this.B+=8,t*Math.pow(2,32)+e},r.Wa=function(e){if(this.B+e>this.P.byteLength)throw xi();var t=Ie(this.P,this.B,e);return this.B+=e,t},r.skip=function(e){if(this.B+e>this.P.byteLength)throw xi();this.B+=e},r.Md=function(e){if(this.B<e)throw xi();this.B-=e},r.seek=function(e){if(0>e||e>this.P.byteLength)throw xi();this.B=e},r.$c=function(){for(var e=this.B;this.ua()&&0!=this.P.getUint8(this.B);)this.B+=1;return e=Ie(this.P,e,this.B-e),this.B+=1,at(e)},U("shaka.util.DataViewReader",Ii),Ii.prototype.readTerminatedString=Ii.prototype.$c,Ii.prototype.seek=Ii.prototype.seek,Ii.prototype.rewind=Ii.prototype.Md,Ii.prototype.skip=Ii.prototype.skip,Ii.prototype.readBytes=Ii.prototype.Wa,Ii.prototype.readUint64=Ii.prototype.pb,Ii.prototype.readInt32=Ii.prototype.Kd,Ii.prototype.readUint32=Ii.prototype.J,Ii.prototype.readUint16=Ii.prototype.Kb,Ii.prototype.readUint8=Ii.prototype.oa,Ii.prototype.getLength=Ii.prototype.ke,Ii.prototype.getPosition=Ii.prototype.ue,Ii.prototype.hasMoreData=Ii.prototype.ua;var Di=1;function Ri(){this.c=[],this.b=[],this.a=!1}function Mi(e){for(var t=null!=e.flags?12:8;e.reader.ua()&&!e.parser.a;)e.parser.lc(e.start+t,e.reader,e.partialOkay)}function Ni(e){for(var t=null!=e.flags?12:8,n=e.reader.J(),r=(n=c(J(n))).next();!r.done&&(e.parser.lc(e.start+t,e.reader,e.partialOkay),!e.parser.a);r=n.next());}function Li(e){return function(t){e(t.reader.Wa(t.reader.P.byteLength-t.reader.B))}}function ji(e){for(var t=0,n=(e=c(e)).next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function Bi(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}Ii.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Di},(r=Ri.prototype).L=function(e,t){var n=ji(e);return this.c[n]=Ui,this.b[n]=t,this},r.ea=function(e,t){var n=ji(e);return this.c[n]=Vi,this.b[n]=t,this},r.stop=function(){this.a=!0},r.parse=function(e,t){var n=new Ii(e,0);for(this.a=!1;n.ua()&&!this.a;)this.lc(0,n,t)},r.lc=function(e,t,n){var r=t.B,i=t.J(),a=t.J();switch(i){case 0:i=t.P.byteLength-r;break;case 1:i=t.pb()}var o=this.b[a];if(o){var s=null,u=null;this.c[a]==Vi&&(s=(u=t.J())>>>24,u&=16777215),a=r+i,n&&a>t.P.byteLength&&(a=t.P.byteLength),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:t=new Ii(t=0<(a-=t.B)?t.Wa(a):new Uint8Array(0),0),size:i,start:r+e})}else t.skip(Math.min(r+i-t.B,t.P.byteLength-t.B))},U("shaka.util.Mp4Parser",Ri),Ri.typeToString=Bi,Ri.allData=Li,Ri.sampleDescription=Ni,Ri.children=Mi,Ri.prototype.parseNext=Ri.prototype.lc,Ri.prototype.parse=Ri.prototype.parse,Ri.prototype.stop=Ri.prototype.stop,Ri.prototype.fullBox=Ri.prototype.ea,Ri.prototype.box=Ri.prototype.L;var Ui=0,Vi=1;function Fi(e,t,n,r){return e=Ke(e,r),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Hi(e,t){var n=this;this.s=t,this.o=e,this.i=null,this.f=1,this.c=this.b=null,this.a=new Map,this.h=!1,this.j=null,this.g=!1,this.D=new Je((function(){return function(e){var t,n,r,i;return R((function(a){if(1==a.a){for(t=[],n=c(e.a.values()),r=n.next();!r.done;r=n.next())ta(i=r.value),t.push(na(i));return _(a,Promise.all(t),2)}e.a.clear(),e.s=null,e.o=null,e.i=null,A(a)}))}(n)}))}function Gi(e,t){var n=e.a.get("video");if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.Ya&&(Ki(e,i,!1,0,!1),n.Ya=r)}else(r=n.Ya)&&(n.Ya=null,Ki(e,r,!0,0,!1))}}function Wi(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.b=t,e.h&&(t.video&&Ki(e,t.video,n,r,!1),t.audio&&Ki(e,t.audio,n,r,!1))}function zi(e,t){e.c=t,e.h&&Ki(e,t,!0,0,!1)}function Ki(e,t,n,r,i){var a=e.a.get(t.type);a||"text"!=t.type?a&&(a.Ya&&(t.trickModeVideo?(a.Ya=t,t=t.trickModeVideo):a.Ya=null),a.stream!=t||i)&&("text"==t.type&&Qn(e.s.K,It(t.mimeType,t.codecs)),a.stream=t,a.xa=null,n&&(a.zb?a.rc=!0:a.Va?(a.rb=!0,a.bc=r,a.rc=!0):(ta(a),$i(e,a,!0,r).catch((function(t){e.s&&e.s.onError(t)})))),function(e,t){var n,r;return R((function(i){if(1==i.a)return t.ia?(n=t.stream,r=t.ia,n.segmentIndex?i.u(2):_(i,n.createSegmentIndex(),2)):i.return();if(t.ia!=r||t.stream!=n)return i.return();t.xa=t.stream.segmentIndex[Symbol.iterator]();var a=e.s.ec(),o=er(e.s.K,t.type),s=Xi(e,t,a,o),u=s&&s.a?s.a-s.b:null;s&&!u&&(u=(s.endTime-s.startTime)*(t.stream.bandwidth||0)/8),u?((s=s.f)&&(u+=(s.a?s.a-s.b:null)||0),a=8*u/(s=e.s.getBandwidthEstimate())<(o||0)-a-Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal)||t.ia.b.a>u):a=!1,a&&t.ia.abort(),A(i)}))}(e,a).catch((function(t){e.s&&e.s.onError(t)}))):function(e,t){var n,r,i,a,o;R((function(s){switch(s.a){case 1:return n=Pt,S(s,2),_(s,ir(e.s.K,n.$),4);case 4:w(s,3);break;case 2:r=T(s),e.s&&e.s.onError(r);case 3:i=It(t.mimeType,t.codecs),Qn(e.s.K,i),a=e.s.K.h,(a.isTextVisible()||e.i.alwaysStreamText)&&(o=qi(t),e.a.set(n.$,o),ea(e,o,0)),A(s)}}))}(e,t)}function Yi(e,t){t.zb||t.rb||(t.Va?(t.rb=!0,t.bc=0):null==$n(e.s.K,t.type)?null==t.Ha&&ea(e,t,0):(ta(t),$i(e,t,!1,0).catch((function(t){e.s&&e.s.onError(t)}))))}function qi(e){var t=e.segmentIndex?e.segmentIndex[Symbol.iterator]():null;return{stream:e,type:e.type,Hb:null,xa:t,La:null,Rc:null,Sc:null,Qc:null,Pc:null,Ya:null,endOfStream:!1,Va:!1,Ha:null,rb:!1,bc:0,rc:!1,zb:!1,cd:!1,Fb:!1,ia:null}}function Xi(e,t,n,r){return t.stream==t.Hb?t.xa.current():t.La?t.xa.seek(t.La.endTime):r?t.xa.seek(r):((r=t.xa.seek(Math.max(n-e.i.inaccurateManifestTolerance,0)))&&Zi(e,r)||(r=t.xa.seek(n)),r)}function Zi(e,t){var n=e.o.presentationTimeline,r=n.Ka();return!(t.endTime<n.Qa()||t.startTime>r)}function Qi(e){return e&&"text"==e.type&&"application/cea-608"==e.stream.mimeType}function Ji(e,t,n){var r,i,a,o;return R((function(s){return 1==s.a?(r=Xe,i=Fi(n.c(),n.b,n.a,e.i.retryParameters),a=e.s.lb.request(r,i),t.ia=a,_(s,a.promise,2)):(o=s.b,t.ia=null,s.return(o.data))}))}function $i(e,t,n,r){var i,a;return R((function(o){return 1==o.a?(t.rb=!1,t.rc=!1,t.bc=0,t.zb=!0,t.Hb=null,t.La=null,r?(i=e.s.ec(),a=e.s.K.getDuration(),_(o,e.s.K.remove(t.type,i+r,a),3)):_(o,ir(e.s.K,t.type),4)):3!=o.a?($e(e.D),n?_(o,e.s.K.flush(t.type),3):o.u(3)):($e(e.D),t.zb=!1,t.endOfStream=!1,ea(e,t,0),void A(o))}))}function ea(e,t,n){t.Ha=new ve((function(){var n;return R((function(r){return 1==r.a?(S(r,2),_(r,e.Ib(t),4)):2!=r.a?w(r,0):(n=T(r),e.s&&e.s.onError(n),void A(r))}))})).R(n)}function ta(e){null!=e.Ha&&(e.Ha.stop(),e.Ha=null)}function na(e){return R((function(t){return e.ia?_(t,e.ia.abort(),0):t.u(0)}))}function ra(e,t){R((function(n){if(1==n.a)return _(n,ye(e.j),2);$e(e.D),e.s.onError(t),t.handled||e.i.failureCallback(t),A(n)}))}function ia(e,t){var n=uo(),r=this;this.h=t,this.c=e,this.f=n,this.j=null,this.g=[],this.b=this.a=null,this.m=Promise.resolve().then((function(){return function(e){return R((function(t){if(e.D.a)t=t.u(0);else{if(0==e.g.length||e.a&&!e.a.Ra)var n=!1;else{e.a&&(e.a.va.Ua(),e.a=null);var r=(n=e.g.shift()).create(e.f);r?(n.va.nb(),e.a={node:r.node,payload:r.payload,Ra:r.Ra,va:n.va}):n.va.kc(),n=!0}n?n=Promise.resolve():e.a?n=function(e){var t,n;return R((function(r){switch(r.a){case 1:return e.c=e.h.qe(e.c,e.f,e.a.node,e.a.payload),S(r,2),e.b=e.h.fe(e.c,e.f,e.a.payload),_(r,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.va.ic(),e.a=null),w(r,0);break;case 2:return 7001==(t=T(r)).code?e.a.va.Ua():e.a.va.onError(t),e.a=null,e.b=null,n=e,_(r,e.h.handleError(e.f,t),5);case 5:n.c=r.b,A(r)}}))}(e):(e.h.Ge(e.c),e.j=new be,n=e.j),t=_(t,n,1)}return t}))}(r)})),this.D=new Je((function(){return function(e){var t,n;return R((function(r){if(1==r.a)return e.b&&e.b.abort(),oa(e),_(r,e.m,2);for(e.a&&e.a.va.Ua(),t=c(e.g),n=t.next();!n.done;n=t.next())n.value.va.Ua();e.a=null,e.g=[],e.h=null,A(r)}))}(r)}))}function aa(e,t){var n={nb:function(){},ic:function(){},Ua:function(){},onError:function(){},kc:function(){},Lf:function(){}};return e.g.push({create:t,va:n}),e.b&&e.b.abort(),oa(e),n}function oa(e){e.j&&(e.j.resolve(),e.j=null)}function sa(e){this.a=null;for(var t=c(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())(n=n.value).mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n);this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function ua(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(e){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function ca(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=c(Array.from(e.cues)),i=r.next();!i.done;i=r.next())(i=i.value)&&t(i)&&e.removeCue(i);e.mode=n}function la(){}function da(e,t){var n=this;this.h=!1,this.f=[],this.a=e,this.g=t,this.b=document.createElement("div"),this.b.classList.add("shaka-text-container"),this.b.style.textAlign="center",this.b.style.display="flex",this.b.style.flexDirection="column",this.b.style.alignItems="center",this.b.style.justifyContent="flex-end",this.g.appendChild(this.b),this.j=new me((function(){fa(n)})).pa(.25),this.c=new Map}function fa(e){function t(t){return e.f.includes(t)&&e.h&&t.startTime<=n&&t.endTime>=n}for(var n=e.a.currentTime,r=c(e.c.keys()),i=r.next();!i.done;i=r.next())if(!t(i=i.value)){var a=e.c.get(i);e.b.removeChild(a),e.c.delete(i)}for(r=new Set(e.c.values()),a=(i=c(Array.from(e.b.childNodes))).next();!a.done;a=i.next())a=a.value,r.has(a)||e.b.removeChild(a);for(i=(r=c(r=e.f.filter((function(n){return t(n)&&!e.c.has(n)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})))).next();!i.done;i=r.next())ha(e,e.b,i.value)}function pa(e,t,n,r){var i=document.createElement("span");return r&&i.classList.add("shaka-nested-cue"),n.spacer?i.style.display="block":va(e,i,n,!0),t.appendChild(i),i}function ha(e,t,n){if(n.nestedCues.length){var r=document.createElement("p");r.style.width="100%",va(e,r,n,!1);for(var i=0;i<n.nestedCues.length;i++)pa(e,r,n.nestedCues[i],!0);t.appendChild(r),e.c.set(n,r)}else e.c.set(n,pa(e,t,n,!1))}function va(e,t,n,r){var i=t.style;i.whiteSpace="pre-line",t.textContent=n.payload,r&&(i.backgroundColor=n.backgroundColor),i.border=n.border,i.color=n.color,i.direction=n.direction,i.opacity=n.opacity,i.paddingLeft=ma(n.linePadding,n,e.g),i.paddingRight=ma(n.linePadding,n,e.g),n.backgroundImage&&(i.backgroundImage="url('"+n.backgroundImage+"')",i.backgroundRepeat="no-repeat",i.backgroundSize="contain",i.backgroundPosition="center",""==n.backgroundColor&&(i.backgroundColor="transparent")),n.backgroundImage&&n.region&&(t=n.region.widthUnits==Gn?"%":"px",i.height=n.region.height+(n.region.heightUnits==Gn?"%":"px"),i.width=n.region.width+t),i.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end",n.nestedCues.length&&(i.display="flex",i.flexDirection="row",i.margin="0",i.alignItems=i.justifyContent,i.justifyContent="center"),r&&(i.maxWidth="100%"),i.fontFamily=n.fontFamily,i.fontWeight=n.fontWeight.toString(),i.fontStyle=n.fontStyle,i.letterSpacing=n.letterSpacing,i.fontSize=ma(n.fontSize,n,e.g),n.line?1==n.lineInterpretation&&(i.position="absolute",n.writingMode==Nn?n.lineAlign==jn?i.top=n.line+"%":"end"==n.lineAlign&&(i.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==jn?i.left=n.line+"%":"end"==n.lineAlign&&(i.right=n.line+"%"):n.lineAlign==jn?i.right=n.line+"%":"end"==n.lineAlign&&(i.left=n.line+"%")):n.region&&n.region.id&&!r&&(e=n.region.widthUnits==Gn?"%":"px",r=n.region.viewportAnchorUnits==Gn?"%":"px",i.height=n.region.height+(n.region.heightUnits==Gn?"%":"px"),i.width=n.region.width+e,i.position="absolute",i.top=n.region.viewportAnchorY+r,i.left=n.region.viewportAnchorX+r),i.lineHeight=n.lineHeight,n.position&&(n.writingMode==Nn?i.paddingLeft=n.position:i.paddingTop=n.position),"line-left"==n.positionAlign?i.cssFloat="left":"line-right"==n.positionAlign&&(i.cssFloat="right"),i.textAlign=n.textAlign,i.textDecoration=n.textDecoration.join(" "),i.writingMode=n.writingMode,n.size&&(n.writingMode==Nn?i.width=n.size+"%":i.height=n.size+"%")}function ma(e,t,n){var r=(r=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(r[1]),bf:r[2]}:null;if(!r)return e;var i=r.value;switch(r.bf){case"%":return i/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*i/t.cellResolution.rows+"px";default:return e}}function ga(){}function ya(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var u=i+"."+a,c=o?r[i]:n[a];o||a in n?void 0===t[a]?void 0===c||o?delete e[a]:e[a]=Le(c):c.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=Le(c)),u=ya(e[a],t[a],c,r,u),s=s&&u):typeof t[a]!=typeof c||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=c.constructor?(z("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&K("Unexpected number of arguments for "+u),e[a]=t[a]):(z("Invalid config, unrecognized key "+u),s=!1)}return s}function ba(e,t){for(var n={},r=n,i=0,a=0;!(0>(i=e.indexOf(".",i)));)0!=i&&"\\"==e[i-1]||(r[a=e.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[e.substring(a).replace(/\\\./g,".")]=t,n}function _a(){}function Aa(){var e=1e6,t=1/0;navigator.connection&&(navigator.connection.downlink&&(e=1e6*navigator.connection.downlink),navigator.connection.saveData&&(t=360));var n={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:on,logLicenseExchange:!1,updateExpirationTime:1},r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},i={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0},failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2};(Bt("Web0S")||Bt("Tizen")||Bt("CrKey"))&&(i.stallSkip=0);var a={trackSelectionCallback:function(e){return R((function(t){return t.return(e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},o={drm:n,manifest:r,streaming:i,offline:a,abrFactory:function(){return new Dr},abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return R((function(t){return t.return(function(e,t){var n=e.filter((function(e){return"variant"==e.type})),r=[],i=gr(t,n.map((function(e){return e.language})));i&&(r=n.filter((function(e){return hr(e.language)==i}))),0==r.length&&(r=n.filter((function(e){return e.primary}))),0==r.length&&(n.map((function(e){return e.language})),r=n);var a=r.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),r=a.filter((function(e){return e.height==a[0].height}))),n=[],r.length){var o=Math.floor(r.length/2);r.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(r[o])}for(r=c(e),o=r.next();!o.done;o=r.next())"text"==(o=o.value).type&&n.push(o);return n}(e,o.preferredAudioLanguage))}))},o}function Sa(e,t,n){var r={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return ya(e,t,n||Aa(),r,"")}function Ea(){this.a=null,this.b=[]}function wa(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function Ta(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var r=c(e.b),i=r.next();!i.done;i=r.next())n+=(i=i.value).state==t?i.duration:0;return n}function Pa(){this.b=this.c=null,this.a=[]}function Ca(e,t,n){e.c!=t&&(e.c=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth}))}function Oa(e,t,n){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function ka(){this.g=this.h=this.w=this.m=this.C=this.c=this.v=this.f=this.G=this.H=this.I=this.j=this.M=NaN,this.b=new Ea,this.a=new Pa}function Ia(t,n){Ne.call(this);var r=this;this.g=Lo,this.Zb=this.a=null,this.T=!1,this.b=new et,this.Bc=this.j=this.wb=this.o=this.Xb=this.m=this.c=this.Yb=this.C=this.Ub=this.w=this.Aa=this.v=this.G=this.h=this.N=null,this.rd=1e9,this.i=Ua(this),this.Hc={width:1/0,height:1/0},this.f=null,this.xb=new Ur(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount),this.ca=this.i.preferredTextLanguage,this.Vb=this.i.preferredTextRole,this.Cc=[],n&&n(this),this.N=function(e){return new We((function(t,n){e.j&&e.j.segmentDownloaded(t,n)}))}(this),this.H=null,Ho&&(this.H=Et(Ho)),this.b.l(e,"online",(function(){r.dd()})),this.da={name:"detach"},this.Da={name:"attach"},this.M={name:"unload"},this.sc={name:"manifest-parser"},this.Gc={name:"manifest"},this.ra={name:"media-source"},this.Dc={name:"drm-engine"},this.I={name:"load"},this.Ic={name:"src-equals-drm-engine"},this.Ba={name:"src-equals"};var i=new Map;i.set(this.Da,(function(e,t){return we(function(e,t,n){return null==t.A&&(t.A=n.A,e.b.l(t.A,"error",(function(){var t=$a(e);t&&Qa(e,t)}))),e.a=t.A,Promise.resolve()}(r,e,t))})),i.set(this.da,(function(e){return e.A&&(r.b.qa(e.A,"error"),e.A=null),r.a=null,we(e=Promise.resolve())})),i.set(this.M,(function(e){return we(Da(r,e))})),i.set(this.ra,(function(t){return we(t=function(t,n){var r,i,a,o;return R((function(s){if(1==s.a)return r=e.muxjs?new yn:new bn,i=t.i.textDisplayFactory,a=Et(i),t.Ec=i,_(s,(o=function(e,t,n,r){return new Xn(e,t,n,r)}(n.A,r,a,(function(e,n,r){for(var i=(e=c(e)).next();!i.done;i=e.next())if((i=i.value).data&&i.cueTime&&i.frames){for(var a=i.cueTime+n,o=r,s=c(i.frames),u=s.next();!u.done;u=s.next())Ra(t,a,o,"ID3",u.value);t.H&&t.H.onHlsTimedMetadata(i,a)}}))).w,2);t.G=o,A(s)}))}(r,t))})),i.set(this.sc,(function(e,t){return we(function(e,t,n){var r,i,a,o;return R((function(s){if(1==s.a)return t.mimeType=n.mimeType,t.uri=n.uri,r=t.uri,i=e.N,e.wb=r,a=e,_(s,zr(r,i,e.i.manifest.retryParameters,t.mimeType),2);a.Xb=s.b,e.m=Et(e.Xb),o=Le(e.i.manifest),n.A&&"AUDIO"===n.A.nodeName&&(o.disableVideo=!0),e.m.configure(o),A(s)}))}(r,e,t))})),i.set(this.Gc,(function(e){return function(e,t){var n=t.uri,r=e.N;e.Yb=new Ti((function(){return e.ed()})),function(e,t){e.b=t}(e.Yb,(function(t){Ja(e,Oo,t),e.H&&e.H.onDashTimedMetadata(t)}));var i={networkingEngine:r,filter:function(t){return R((function(n){return n.return(e.fb(t))}))},makeTextStreamsForClosedCaptions:function(t){return function(e,t){for(var n=new Set,r=c(t.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"==(i=i.value).mimeType&&n.add(i.originalId);for(r=c(t.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=c(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=new _i;s={id:e.rd++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:s,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:i.closedCaptions.get(o),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:i.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null},t.textStreams.push(s),n.add(o)}}(e,t)},onTimelineRegionAdded:function(t){var n=e.Yb;e:{for(var r=c(n.a),i=r.next();!i.done;i=r.next())if((i=i.value).schemeIdUri==t.schemeIdUri&&i.id==t.id&&i.startTime==t.startTime&&i.endTime==t.endTime){r=i;break e}r=null}null==r&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return Qa(e,t)}},a=Date.now()/1e3;return new _e(function(){var t,r,o,s;return R((function(u){if(1==u.a)return t=e,_(u,e.m.start(n,i),2);if(t.o=u.b,r=xa(_o),e.dispatchEvent(r),0==e.o.variants.length)throw new he(2,4,4036);!function(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}(e.o),o=Date.now()/1e3,s=o-a,e.f.v=s,A(u)}))}(),(function(){return e.m.stop()}))}(r,e)})),i.set(this.Dc,(function(){return we(function(e){var t,n;return R((function(r){if(1==r.a)return t=Date.now()/1e3,n=!0,e.h=Ma(e,{lb:e.N,onError:function(t){Qa(e,t)},jc:function(t){eo(e,t)},onExpirationUpdated:function(t,n){to(e,t,n)},onEvent:function(r){e.dispatchEvent(r),r.type==ho&&n&&(n=!1,e.f.c=Date.now()/1e3-t)}}),e.h.configure(e.i.drm),_(r,Zt(e.h,e.o.variants,e.o.offlineSessionIds),2);e.fb(e.o),A(r)}))}(r))})),i.set(this.I,(function(e,t){return we(function(e,t,n){var r,i,a,o,s,u,l,d,f,p;return R((function(h){switch(h.a){case 1:return t.startTime=n.startTime,r=t.A,i=t.uri,e.wb=i,e.w=new Ai({fc:function(){return t.A.playbackRate},kd:function(e){t.A.playbackRate=e},Gd:function(e){t.A.currentTime+=e}}),a=function(){return Ha(e)},o=function(){return Fa(e)},e.b.l(r,"playing",a),e.b.l(r,"pause",a),e.b.l(r,"ended",a),e.b.l(r,"ratechange",o),s=e.i.abrFactory,e.j&&e.Bc==s||(e.Bc=s,e.j=Et(s),"function"!=typeof e.j.playbackRateChanged&&(mt("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.j.playbackRateChanged=function(){}),e.j.configure(e.i.abr)),e.xb=new Ur(e.i.preferredAudioLanguage,e.i.preferredVariantRole,e.i.preferredAudioChannelCount),e.ca=e.i.preferredTextLanguage,function(e,t,n){0<t&&(e.S()||e.Qd(t)),t=e.getDuration(),n<t&&(e.S()||e.ya(n))}(e.o.presentationTimeline,e.i.playRangeStart,e.i.playRangeEnd),_(h,e.h.yb(r),2);case 2:if(e.j.init((function(t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.c&&t!=e.c.b&&(Ca(e.f.a,t,!0),Wi(e.c,t,n,r),za(e))})),e.v=function(e,t){return new pi(e.a,e.o,e.i.streaming,t,(function(){if(e.Aa&&wi(e.Aa,!0),e.c)for(var t=e.c,n=t.s.ec(),r=t.i.smallGapLimit,i=c(t.a.keys()),a=i.next();!a.done;a=i.next()){a=a.value;var o=t.a.get(a),s=t.s.K;"text"==a?s=null!=(s=s.c).a&&null!=s.b&&(n>=s.a&&n<s.b):s=An(s=tr(s,a),n,r),s||(null!=er(t.s.K,a)&&Yi(t,o),o.ia&&(o.ia.abort(),o.ia=null),"text"===a&&t.s.K.v.c())}e.C&&La(e)}),(function(t){return e.dispatchEvent(t)}))}(e,t.startTime),e.Aa=function(e){var t=new Pi(e.Yb);!function(e,t,n,r){e.a=t,e.b=n,e.c=r}(t,(function(t){Ja(e,ko,t)}),(function(t){Ja(e,Io,t)}),(function(t,n){n||(Ja(e,ko,t),Ja(e,Io,t))}));var n=new Ei(e.a);return n.a.add(t),n}(e),u=Math.max(e.o.minBufferTime,e.i.streaming.rebufferingGoal),Na(e,u),br(e.o,e.i.preferredAudioChannelCount),e.c=function(e){return new Hi(e.o,{ec:function(){return e.v.g()},getBandwidthEstimate:function(){return e.j.getBandwidthEstimate()},K:e.G,lb:e.N,onError:function(t){return Qa(e,t)},onEvent:function(t){return e.dispatchEvent(t)},He:function(){e.m&&e.m.update&&e.m.update()},Yc:function(){e.v&&e.v.v(),La(e)}})}(e),e.c.configure(e.i.streaming),e.g=jo,e.dispatchEvent(xa(To)),l=Ga(e)?e.j.chooseVariant():null,Ca(e.f.a,l,!0),Wi(e.c,l,!1,0),(d=kr(e.o.textStreams,e.ca,e.Vb)[0]||null)&&Oa(e.f.a,d,!0),d?(l.audio&&function(e,t,n){return e=hr(e.i.preferredTextLanguage),t=hr(t.language),dr(n=hr(n.language),e)&&!dr(t,n)}(e,l.audio,d)&&(e.T=!0),e.T&&e.G.h.setTextVisibility(!0),Xa(e)):e.T=!1,d&&(e.i.streaming.alwaysStreamText||e.Oc())&&zi(e.c,d),!e.i.streaming.startAtSegmentBoundary){h.u(3);break}return f=e.v.g(),_(h,function(e,t){var n,r,i,a,o;return R((function(s){return 1==s.a?(n=e.audio,r=e.video,i=function(e,t){var n,r;return R((function(i){return 1==i.a?e?_(i,e.createSegmentIndex(),2):i.return(null):(n=e.segmentIndex[Symbol.iterator]().seek(t))?(r=n.startTime,i.return(r)):i.return(null)}))},_(s,i(n,t),2)):3!=s.a?(a=s.b,_(s,i(r,t),3)):null!=(o=s.b)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(t)}))}(l,f),4);case 4:p=h.b,e.v.m(p);case 3:return _(h,e.c.start(),5);case 5:e.i.abr.enabled&&(e.j.enable(),Za(e)),e.fb(e.o),Ka(e),za(e),Ga(e),e.o.variants.some((function(e){return e.primary})),e.b.ha(r,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-n.md})),A(h)}}))}(r,e,t))})),i.set(this.Ic,(function(e){return we(e=function(e,t){var n,r,i,a;return R((function(o){return 1==o.a?(n=Pt,r=Date.now()/1e3,i=!0,e.h=Ma(e,{lb:e.N,onError:function(t){Qa(e,t)},jc:function(t){eo(e,t)},onExpirationUpdated:function(t,n){to(e,t,n)},onEvent:function(t){e.dispatchEvent(t),t.type==ho&&i&&(i=!1,e.f.c=Date.now()/1e3-r)}}),e.h.configure(e.i.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Ca,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},_(o,Zt(e.h,[a],[]),2)):_(o,e.h.yb(t.A),0)}))}(r,e))})),i.set(this.Ba,(function(e,t){return function(e,t,n){function r(){return Ha(e)}t.uri=n.uri,t.startTime=n.startTime,e.wb=t.uri,e.v=new fi(t.A),null!=t.startTime&&e.v.m(t.startTime),e.w=new Ai({fc:function(){return t.A.playbackRate},kd:function(e){t.A.playbackRate=e},Gd:function(e){t.A.currentTime+=e}}),Na(e,e.i.streaming.rebufferingGoal),e.b.l(t.A,"playing",r),e.b.l(t.A,"pause",r),e.b.l(t.A,"ended",r),e.b.l(t.A,"ratechange",(function(){return Fa(e)})),"none"!=e.a.preload&&e.b.ha(e.a,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-n.md})),e.a.audioTracks&&(e.b.l(e.a.audioTracks,"addtrack",(function(){return Ka(e)})),e.b.l(e.a.audioTracks,"removetrack",(function(){return Ka(e)})),e.b.l(e.a.audioTracks,"change",(function(){return Ka(e)}))),e.a.textTracks&&(e.b.l(e.a.textTracks,"addtrack",(function(t){Ka(e),function(e,t){var n=t.track;"metadata"==n.kind&&(n.mode="hidden",e.b.l(n,"cuechange",(function(){if(n.activeCues)for(var t=c(n.activeCues),r=t.next();!r.done;r=t.next())r=r.value,Ra(e,r.startTime,r.endTime,r.type,r.value),e.H&&e.H.onCueMetadataChange(r.value)})),new me((function(){for(var t=Ba(e),n=(t=c(t)).next();!n.done;n=t.next())n.value.mode="hidden"})).Ob().R(.5))}(e,t)})),e.b.l(e.a.textTracks,"removetrack",(function(){return Ka(e)})),e.b.l(e.a.textTracks,"change",(function(){return Ka(e)}))),t.A.src=t.uri,(Bt("Tizen")||Bt("Web0S"))&&t.A.load(),e.g=Bo,e.dispatchEvent(xa(To));var i=new be;ri(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){i.resolve()}));var a=!1;return e.Cc.push((function(){a=!0})),ri(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.b,(function(){return R((function(t){return 1==t.a?a?t.return():(function(e){var t=e.i.preferredAudioLanguage;if(""!=t){e.fd(t);var n=e.i.preferredVariantRole;""!=n&&e.fd(t,n)}}(e),Ba(e).find((function(e){return"disabled"!=e.mode}))?t.u(2):_(t,new Promise((function(t){e.b.ha(e.a.textTracks,"change",t),new me(t).R(1)})),2)):a?t.return():(function(e){var t=e.i.preferredTextLanguage;if(""!=t){e.gd(t);var n=e.i.preferredTextRole;""!=n&&e.gd(t,n)}}(e),void A(t))}))})),e.a.error?i.reject($a(e)):"none"==e.a.preload&&(K('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),i.resolve()),e.b.ha(e.a,"error",(function(){i.reject($a(e))})),new _e(i,(function(){return i.reject(new he(2,7,7001)),Promise.resolve()}))}(r,e,t)})),this.W=new ia(this.da,{qe:function(e,t,n,i){var a=null;return e==r.da&&(a=n==r.da?r.da:r.Da),e==r.Da&&(a=n==r.da||t.A!=i.A?r.da:n==r.Da?r.Da:n==r.ra||n==r.I?r.ra:n==r.Ba?r.Ic:null),e==r.ra&&(a=n==r.I&&t.A==i.A?r.sc:r.M),e==r.sc&&(a=so(r.I,r.Gc,r.M,n,t,i)),e==r.Gc&&(a=so(r.I,r.Dc,r.M,n,t,i)),e==r.Dc&&(a=so(r.I,r.I,r.M,n,t,i)),e==r.Ic&&(a=n==r.Ba&&t.A==i.A?r.Ba:r.M),e!=r.I&&e!=r.Ba||(a=r.M),e==r.M&&(a=i.A&&t.A==i.A?r.Da:r.da),a},fe:function(e,t,n){return r.dispatchEvent(xa(So,{state:e.name})),i.get(e)(t,n)},handleError:function(e){return R((function(t){return 1==t.a?_(t,Da(r,e),2):t.return(e.A?r.Da:r.da)}))},Ge:function(e){r.dispatchEvent(xa(Eo,{state:e.name}))}}),t&&this.yb(t,!0)}function xa(e,t){return new Re(e,t)}function Da(e,t){var n,r,i,a,o,s,u,l,d;return R((function(f){switch(f.a){case 1:return e.g!=No&&(e.g=Lo),n=e.Cc.map((function(e){return e()})),e.Cc=[],_(f,Promise.all(n),2);case 2:if(e.dispatchEvent(xa(Do)),t.mimeType=null,t.startTime=null,t.uri=null,t.A&&(e.b.qa(t.A,"loadedmetadata"),e.b.qa(t.A,"playing"),e.b.qa(t.A,"pause"),e.b.qa(t.A,"ended"),e.b.qa(t.A,"ratechange")),e.Aa&&(e.Aa.release(),e.Aa=null),e.Ub&&(e.Ub.stop(),e.Ub=null),!e.m){f.u(3);break}return _(f,e.m.stop(),4);case 4:e.m=null,e.Xb=null;case 3:if(!e.j){f.u(5);break}return _(f,e.j.stop(),5);case 5:if(!e.c){f.u(7);break}return _(f,e.c.destroy(),8);case 8:e.c=null;case 7:if(e.w&&(e.w.release(),e.w=null),e.v&&(e.v.release(),e.v=null),!e.G){f.u(9);break}return _(f,e.G.destroy(),10);case 10:e.G=null;case 9:if(e.H&&e.H.onAssetUnload(),!t.A||!t.A.src){f.u(11);break}return _(f,new Promise((function(e){return new me(e).R(.1)})),12);case 12:t.A.removeAttribute("src"),t.A.load();case 11:if(!e.h){f.u(13);break}return _(f,e.h.destroy(),14);case 14:e.h=null;case 13:if(e.wb=null,e.C=null,e.o){for(r=c(e.o.variants),i=r.next();!i.done;i=r.next())for(a=i.value,o=c([a.audio,a.video]),s=o.next();!s.done;s=o.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(l=c(e.o.textStreams),s=l.next();!s.done;s=l.next())(d=s.value).segmentIndex&&d.segmentIndex.release()}e.o=null,e.f=new ka,e.Ec=null,Va(e),A(f)}}))}function Ra(e,t,n,r,i){e.dispatchEvent(xa(Ao,{startTime:t,endTime:n,Jf:r,payload:i}))}function Ma(e,t){return new Xt(t,e.i.drm.updateExpirationTime)}function Na(e,t){e.C=new Vr,e.C.a=Hr,Fr(e.C,t,Math.min(.5,t/2)),Va(e),e.Ub=new me((function(){La(e)})).pa(.25)}function La(e){switch(e.g){case Bo:if(e.a.ended)var t=!0;else{var n=_n(e.a.buffered);t=null!=n&&n>=e.a.duration-1}break;case jo:e:if(e.a.ended||Jn(e.G))t=!0;else{if(e.o.presentationTimeline.S()){n=e.o.presentationTimeline.Ka();var r=_n(e.a.buffered);if(null!=r&&r>=n){t=!0;break e}}t=!1}break;default:t=!1}r=Sn(e.a.buffered,e.a.currentTime);var i=t,a=(n=e.C).b.get(n.a);t=n.a,r=i||r>=a?Gr:Hr,n.a=r,t!=r&&Va(e)}function ja(e){if(e.m){var t=Le(e.i.manifest);e.a&&"AUDIO"===e.a.nodeName&&(t.disableVideo=!0),e.m.configure(t)}if(e.h&&e.h.configure(e.i.drm),e.c){e.c.configure(e.i.streaming);try{e.fb(e.o)}catch(t){Qa(e,t)}e.j&&Ga(e),!(t=e.c.b)||t.allowedByApplication&&t.allowedByKeySystem||Wa(e)}if(e.G&&(t=e.i.textDisplayFactory,e.Ec!=t)){var n=Et(t),r=e.G,i=r.h;r.h=n,i&&(n.setTextVisibility(i.isTextVisible()),i.destroy()),r.c&&(r.c.c=n),e.Ec=t,e.c&&((n=(t=e.c).a.get("text"))&&Ki(t,n.stream,!0,0,!0))}e.j&&(e.j.configure(e.i.abr),e.i.abr.enabled?e.j.enable():e.j.disable(),Za(e)),e.C&&(t=e.i.streaming.rebufferingGoal,e.o&&(t=Math.max(t,e.o.minBufferTime)),Fr(e.C,t,Math.min(.5,t/2)))}function Ba(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function Ua(e){var t=Aa();return t.streaming.failureCallback=function(t){e.S()&&[1001,1002,1003].includes(t.code)&&(t.severity=1,e.dd())},t.textDisplayFactory=function(){return e.Zb?new da(e.a,e.Zb):new sa(e.a)},t}function Va(e){var t=e.Nc();if(e.f&&e.C&&e.v){var n=e.w;n.f=t,Si(n),Ha(e)}e.dispatchEvent(xa(po,{buffering:t}))}function Fa(e){var t=e.a.playbackRate;0!=t&&(e.w&&e.w.set(t),t=xa(wo),e.dispatchEvent(t))}function Ha(e){if(e.f&&e.C){var t=e.f.b;e.C.a==Hr?wa(t,"buffering"):e.a.paused?wa(t,"paused"):e.a.ended?wa(t,"ended"):wa(t,"playing")}}function Ga(e){try{no(e,e.o)}catch(t){return Qa(e,t),!1}var t=e.o.variants.filter((function(e){return Cr(e)}));return t=e.xb.create(t),e.j.setVariants(Array.from(t.values())),!0}function Wa(e){var t;if(t=Ga(e)?e.j.chooseVariant():null){if(t==e.c.b)return;Ca(e.f.a,t,!0),Wi(e.c,t,!0,0),Ya(e)}za(e)}function za(e){ro(e,xa(fo))}function Ka(e){ro(e,xa(xo))}function Ya(e){ro(e,xa(Ro))}function qa(e){ro(e,xa(Po))}function Xa(e){ro(e,xa(Co))}function Za(e){ro(e,xa(lo,{Kf:e.i.abr.enabled}))}function Qa(e,t){if(e.g!=No){var n=xa(mo,{detail:t});e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function Ja(e,t,n){e.dispatchEvent(xa(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function $a(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new he(2,3,3016,t,n,e.a.error.message)}function eo(e,t){if(e.c){var n=Object.keys(t),r=1==n.length&&"00"==n[0],i=!1;if(n.length)for(var a=(n=c(e.o.variants)).next();!a.done;a=n.next()){var o=[];(a=a.value).audio&&o.push(a.audio),a.video&&o.push(a.video);for(var s=(o=c(o)).next();!s.done;s=o.next()){var u=s.value;if(s=a.allowedByKeySystem,u.keyIds.size){a.allowedByKeySystem=!0;for(var l=(u=c(u.keyIds)).next();!l.done;l=u.next())l=l.value,l=t[r?"00":l],a.allowedByKeySystem=a.allowedByKeySystem&&!!l&&!Vo.includes(l)}s!=a.allowedByKeySystem&&(i=!0)}}i&&Ga(e),(r=e.c.b)&&!r.allowedByKeySystem&&Wa(e),i&&Ka(e)}}function to(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),t=xa(go),e.dispatchEvent(t)}function no(e,t){var n=e.h?Ot(e.h.T):{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,o=new Set,s=new Set,u=c(t.variants),l=u.next();!l.done;l=u.next()){var d=[];(l=l.value).audio&&d.push(l.audio),l.video&&d.push(l.video);for(var f=(d=c(d)).next();!f.done;f=d.next())if((f=f.value).keyIds.size)for(var p=(f=c(f.keyIds)).next();!p.done;p=f.next()){p=p.value;var h=n[r?"00":p];h?Vo.includes(h)&&s.add(h):o.add(p)}l.allowedByApplication?l.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new he(2,4,4012,n={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)})}function ro(e,t){R((function(n){if(1==n.a)return _(n,Promise.resolve(),2);e.g!=No&&e.dispatchEvent(t),A(n)}))}function io(e){for(var t=new Set,n=(e=c(e)).next();!n.done;n=e.next())(n=n.value).language?t.add(hr(n.language)):t.add("und");return t}function ao(e){for(var t=new Map,n=(e=c(e)).next();!n.done;n=e.next()){var r=n.value;n="und";var i=[];for(r.language&&(n=hr(r.language)),(i="variant"==r.type?r.audioRoles:r.roles)&&i.length||(i=[""]),t.has(n)||t.set(n,new Set),i=(r=c(i)).next();!i.done;i=r.next())i=i.value,t.get(n).add(i)}var a=[];return t.forEach((function(e,t){for(var n=c(e),r=n.next();!r.done;r=n.next())a.push({language:t,role:r.value})})),a}function oo(){return new he(2,7,7e3)}function so(e,t,n,r,i,a){return r==e&&i.A==a.A&&i.uri==a.uri&&i.mimeType==a.mimeType?t:n}function uo(){return{A:null,mimeType:null,startTime:null,md:NaN,uri:null}}function co(e){return new Promise((function(t,n){e.Ua=function(){return n(oo())},e.ic=function(){return t()},e.onError=function(e){return n(e)},e.kc=function(){return n(oo())}}))}Hi.prototype.destroy=function(){return this.D.destroy()},Hi.prototype.configure=function(e){this.i=e,this.j=new ge({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Hi.prototype.start=function(){var e=this;return R((function(t){if(1==t.a)return _(t,function(e){var t,n,r,i,a,o,s,u,l,d;return R((function(f){if(1==f.a){if(t=Pt,!e.b)throw new he(2,5,5006);return n=new Map,r=new Set,e.b.audio&&(n.set(t.eb,e.b.audio),r.add(e.b.audio)),e.b.video&&(n.set(t.Ca,e.b.video),r.add(e.b.video)),e.c&&(n.set(t.$,e.c),r.add(e.c)),i=e.s.K,a=e.i.forceTransmuxTS,_(f,i.init(n,a),2)}$e(e.D);var p=e.o.presentationTimeline.getDuration();for(1/0>p?e.s.K.ya(p):e.s.K.ya(Math.pow(2,32)),o=c(n.keys()),s=o.next();!s.done;s=o.next())u=s.value,l=n.get(u),e.a.has(u)||(d=qi(l),e.a.set(u,d),ea(e,d,0));A(f)}))}(e),2);$e(e.D),e.h=!0,A(t)}))},Hi.prototype.Ib=function(e){var t,n,r,i,a=this;return R((function(o){switch(o.a){case 1:if($e(a.D),e.Va||null==e.Ha||e.zb)return o.return();if(e.Ha=null,!e.rb){o.u(2);break}return _(o,$i(a,e,e.rc,e.bc),3);case 3:return o.return();case 2:if(e.stream.segmentIndex){o.u(4);break}return t=e.stream,_(o,e.stream.createSegmentIndex(),5);case 5:if(t!=e.stream)return null==e.Ha&&ea(a,e,0),o.return();case 4:e.xa||(e.xa=e.stream.segmentIndex[Symbol.iterator]());try{null!=(n=function(e,t){if(Qi(t))return rr(e.s.K,t.stream.originalId||""),null;var n=e.s.ec(),r=t.Hb&&t.La?t.La.endTime:n,i=function(e,t,n){return"text"==t?null==(e=e.c).b||e.b<n?0:e.b-Math.max(n,e.a):Sn(e=tr(e,t),n)}(e.s.K,t.type,n),a=Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.f;if(r>=e.o.presentationTimeline.getDuration())return t.endOfStream=!0,"video"==t.type&&(n=e.a.get("text"))&&Qi(n)&&(n.endOfStream=!0),null;if(t.endOfStream=!1,i>=a)return.5;if(i=er(e.s.K,t.type),!(i=Xi(e,t,n,i))||!Zi(e,i))return 1;a=1/0;for(var o=Array.from(e.a.values()),s=(o=c(o)).next();!s.done;s=o.next())Qi(s=s.value)||(a=Math.min(a,s.Hb&&s.La?s.La.endTime:n));return r>=a+e.o.presentationTimeline.a?1:(function(e,t,n,r){var i,a,o,s,u,c,l,d;return R((function(f){switch(f.a){case 1:return i=Pt,a=t.stream,t.Va=!0,o=function(e,t,n){var r,i,a,o,s,u,c;return R((function(l){return r=[],i=Math.max(0,n.appendWindowStart-.1),a=n.appendWindowEnd+.01,(o=n.timestampOffset)==t.Sc&&i==t.Qc&&a==t.Pc||(s=function(){var n;return R((function(r){if(1==r.a)return S(r,2),t.Qc=i,t.Pc=a,t.Sc=o,_(r,function(e,t,n,r,i){return R((function(a){return t==Pt.$?(e.c.v=n,function(e,t,n){e.f=t,e.g=n}(e.c,r,i),a.return()):_(a,Promise.all([or(e,t,(function(){var n=e.f[t].appendWindowStart,r=e.f[t].appendWindowEnd;e.f[t].abort(),e.f[t].appendWindowStart=n,e.f[t].appendWindowEnd=r,ar(e,t)})),or(e,t,(function(){var r=n;0>r&&(r+=.001),e.f[t].timestampOffset=r,ar(e,t)})),or(e,t,(function(){e.f[t].appendWindowStart=0,e.f[t].appendWindowEnd=i,e.f[t].appendWindowStart=r,ar(e,t)}))]),0)}))}(e.s.K,t.type,o,i,a),4);if(2!=r.a)return w(r,0);throw n=T(r),t.Qc=null,t.Pc=null,t.Sc=null,n}))},r.push(s())),n.f!=t.Rc&&(t.Rc=n.f)&&(u=Ji(e,t,n.f),c=function(){var n,r,i;return R((function(a){switch(a.a){case 1:return S(a,2),_(a,u,4);case 4:return n=a.b,$e(e.D),r=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,_(a,nr(e.s.K,t.type,n,null,null,r),5);case 5:w(a,0);break;case 2:throw i=T(a),t.Rc=null,i}}))},r.push(c())),_(l,Promise.all(r),0)}))}(e,t,r),s=Ji(e,t,r),S(f,2),_(f,Promise.all([o,s]),4);case 4:return u=f.b,$e(e.D),e.g?f.return():_(f,function(e,t,n,r,i,a){var o;return R((function(s){return 1==s.a?(o=r.closedCaptions&&0<r.closedCaptions.size,null!=r.emsgSchemeIdUris&&0<r.emsgSchemeIdUris.length&&(new Ri).ea("emsg",(function(t){var n=r.emsgSchemeIdUris,a=t.reader.$c(),o=t.reader.$c(),s=t.reader.J(),u=t.reader.J(),c=t.reader.J(),l=t.reader.J();t=t.reader.Wa(t.reader.P.byteLength-t.reader.B);var d=i.startTime+u/s;n.includes(a)&&("urn:mpeg:dash:event:2012"==a?e.s.He():(n=new Re(vo,{detail:{startTime:d,endTime:d+c/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:t}}),e.s.onEvent(n)))})).parse(a),_(s,function(e,t,n){var r,i,a;return R((function(o){if(1==o.a)return r=Math.max(e.i.bufferBehind,e.o.presentationTimeline.a),null==(i=$n(e.s.K,t.type))||0>=(a=n-i-r)?o.return():_(o,e.s.K.remove(t.type,i,i+a),2);$e(e.D),A(o)}))}(e,t,n),2)):3!=s.a?($e(e.D),_(s,nr(e.s.K,t.type,a,i.startTime,i.endTime,o),3)):($e(e.D),t.Hb=r,t.La=i,t.stream==r&&t.xa.next(),void A(s))}))}(e,t,n,a,r,u[1]),5);case 5:if($e(e.D),e.g)return f.return();t.Va=!1,t.cd=!1,c=e.s.K.dc(),l=c[t.type],JSON.stringify(l),t.rb||e.s.Yc(),ea(e,t,0),w(f,0);break;case 2:if(d=T(f),$e(e.D,d),e.g)return f.return();t.Va=!1,t.type==i.$&&e.i.ignoreTextStreamFailures?e.a.delete(i.$):7001==d.code?(t.Va=!1,t.Ha=null,ea(e,t,0)):3017==d.code?function(e,t,n){if(!Array.from(e.a.values()).some((function(e){return e!=t&&e.cd}))){var r=Math.round(100*e.f);if(20<r)e.f-=.2;else{if(!(4<r))return t.Fb=!0,e.g=!0,void e.s.onError(n);e.f-=.04}t.cd=!0}ea(e,t,4)}(e,t,d):(t.Fb=!0,d.severity=2,ra(e,d)),A(f)}}))}(e,t,n,i).catch((function(){})),null)}(a,e))&&(ea(a,e,n),e.Fb=!1)}catch(e){return ra(a,e),o.return()}if(r=Array.from(a.a.values()),!a.h||!r.every((function(e){return e.endOfStream}))){o.u(0);break}return _(o,a.s.K.endOfStream(),7);case 7:$e(a.D),0!=(i=a.s.K.getDuration())&&i<a.o.presentationTimeline.getDuration()&&a.o.presentationTimeline.ya(i),A(o)}}))},ia.prototype.destroy=function(){return this.D.destroy()},(r=sa.prototype).remove=function(e,t){return!!this.a&&(ca(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},r.append=function(e){var t=e.map((function(e){if(e.nestedCues.length){var t=e.nestedCues.map((function(e){return e.spacer?"\n":e.payload+" "})).join("").replace(/ $/m,"");return(e=e.clone()).nestedCues=[],e.payload=t,e}return e})),n=[];e=this.a.cues?Array.from(this.a.cues):[];for(var r={},i=(t=c(t)).next();!i.done;r={bb:r.bb},i=t.next())r.bb=i.value,e.some(function(e){return function(t){return t.startTime==e.bb.startTime&&t.endTime==e.bb.endTime&&t.text==e.bb.payload}}(r))||(i=ua(r.bb))&&n.push(i);for(r=(e=c(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})))).next();!r.done;r=e.next())this.a.addCue(r.value)},r.destroy=function(){return this.a&&(ca(this.a,(function(){return!0})),this.a.mode="disabled"),this.a=null,Promise.resolve()},r.isTextVisible=function(){return"showing"==this.a.mode},r.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},U("shaka.text.SimpleTextDisplayer",sa),sa.prototype.setTextVisibility=sa.prototype.setTextVisibility,sa.prototype.isTextVisible=sa.prototype.isTextVisible,sa.prototype.destroy=sa.prototype.destroy,sa.prototype.append=sa.prototype.append,sa.prototype.remove=sa.prototype.remove,U("shaka.util.Dom",la),la.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},(r=da.prototype).append=function(e){for(var t={},n=(e=c(e)).next();!n.done;t={Pb:t.Pb},n=e.next())t.Pb=n.value,this.f.some(function(e){return function(t){return On(t,e.Pb)}}(t))||this.f.push(t.Pb);fa(this)},r.destroy=function(){this.g.removeChild(this.b),this.b=null,this.h=!1,this.f=[],this.j&&this.j.stop(),this.c.clear()},r.remove=function(e,t){return!!this.b&&(this.f=this.f.filter((function(n){return n.startTime<e||n.endTime>=t})),fa(this),!0)},r.isTextVisible=function(){return this.h},r.setTextVisibility=function(e){this.h=e},U("shaka.text.UITextDisplayer",da),da.prototype.setTextVisibility=da.prototype.setTextVisibility,da.prototype.isTextVisible=da.prototype.isTextVisible,da.prototype.remove=da.prototype.remove,da.prototype.destroy=da.prototype.destroy,da.prototype.append=da.prototype.append,U("shaka.util.ConfigUtils",ga),ga.convertToConfigObject=ba,ga.mergeConfigObjects=ya,U("shaka.util.PlayerConfiguration",_a),_a.mergeConfigObjects=Sa,m(Ia,Ne),(r=Ia.prototype).destroy=function(){var e,t=this;return R((function(n){switch(n.a){case 1:return t.g==No?n.return():(t.g=No,e=aa(t.W,(function(){return{node:t.da,payload:uo(),Ra:!1}})),_(n,new Promise((function(t){e.nb=function(){},e.ic=function(){t()},e.Ua=function(){t()},e.onError=function(){t()},e.kc=function(){t()}})),2));case 2:return _(n,t.W.destroy(),3);case 3:if(t.b&&(t.b.release(),t.b=null),t.Bc=null,t.j=null,t.i=null,t.f=null,t.Zb=null,!t.N){n.u(0);break}return _(n,t.N.destroy(),5);case 5:t.N=null,A(n)}}))},r.yb=function(e,t){if(t=void 0===t||t,this.g==No)return Promise.reject(oo());var n=uo();n.A=e,Rt()||(t=!1);var r=t?this.ra:this.Da,i=aa(this.W,(function(){return{node:r,payload:n,Ra:!1}}));return i.nb=function(){},co(i)},r.detach=function(){var e=this;if(this.g==No)return Promise.reject(oo());var t=aa(this.W,(function(){return{node:e.da,payload:uo(),Ra:!1}}));return t.nb=function(){},co(t)},r.pd=function(e){var t=this;if(e=void 0===e||e,this.g==No)return Promise.reject(oo());Rt()||(e=!1);var n=uo(),r=aa(this.W,(function(r){var i=r.A&&e?t.ra:r.A?t.Da:t.da;return n.A=r.A,{node:i,payload:n,Ra:!1}}));return r.nb=function(){},co(r)},r.load=function(e,t,n){var r=this;if(this.g==No)return Promise.reject(oo());this.dispatchEvent(xa(bo));var i=uo();i.uri=e,i.md=Date.now()/1e3,n&&(i.mimeType=n),void 0!==t&&(i.startTime=t);var a=function(e,t){if(!Rt())return!0;var n=t.mimeType,r=t.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[Kr(r)]),!!n&&(""!=(t.A||Ut()).canPlayType(n)&&(!Rt()||!(n in Yr)&&!(Kr(r)in qr)||Lt()&&e.i.streaming.useNativeHlsOnSafari))}(this,i)?this.Ba:this.I,o=aa(this.W,(function(e){return null==e.A?null:(i.A=e.A,{node:a,payload:i,Ra:!0})}));return this.f=new ka,o.nb=function(){},new Promise((function(e,t){o.kc=function(){return t(new he(2,7,7002))},o.ic=function(){e(),r.dispatchEvent(xa(yo))},o.Ua=function(){return t(oo())},o.onError=function(e){return t(e)}}))},r.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=ba(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(mt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay);var n=Sa(this.i,e,Ua(this));return ja(this),n},r.getConfiguration=function(){var e=Ua(this);return Sa(e,this.i,Ua(this)),e},r.Qe=function(){for(var e in this.i)delete this.i[e];Sa(this.i,Ua(this),Ua(this)),ja(this)},r.le=function(){return this.g},r.pe=function(){return this.a},r.Db=function(){return this.N},r.Jc=function(){return this.wb},r.yd=function(){return function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];q.has(e)||(q.add(e),K.apply(W,l(n)))}("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.H},r.S=function(){return this.o?this.o.presentationTimeline.S():!(!this.a||!this.a.src)&&1/0==this.a.duration},r.Ta=function(){return!!this.o&&this.o.presentationTimeline.Ta()},r.Ce=function(){if(this.o){var e=this.o.variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},r.ed=function(){if(this.o){var e=this.o.presentationTimeline;return{start:e.ib(),end:e.Ea()}}return this.a&&this.a.src&&(e=this.a.seekable).length?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},r.keySystem=function(){return tn(this.drmInfo())},r.drmInfo=function(){return this.h?this.h.c:null},r.Cb=function(){return this.h?this.h.Cb():1/0},r.Nc=function(){return!!this.C&&this.C.a==Hr},r.re=function(){return this.a?this.w?this.w.b:1:0},r.af=function(e){0==e?K("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.w.set(e),this.g==jo&&(this.j.playbackRateChanged(e),Gi(this.c,1<Math.abs(e))))},r.ae=function(){this.g==Bo&&this.w.set(1),this.g==jo&&(this.w.set(1),this.j.playbackRateChanged(1),Gi(this.c,!1))},r.Mc=function(){if(this.o){for(var e=this.c?this.c.b:null,t=[],n=c(this.o.variants),r=n.next();!r.done;r=n.next())if(Cr(r=r.value)){var i=Sr(r);i.active=r==e,t.push(i)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){return Tr(e)})):[]},r.hc=function(){if(this.o){for(var e=this.c?this.c.c:null,t=[],n=c(this.o.textStreams),r=n.next();!r.done;r=n.next()){var i=Er(r=r.value);i.active=r==e,t.push(i)}return t}return this.a&&this.a.src&&this.a.textTracks?Ba(this).map((function(e){var t=Pr(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),t})):[]},r.Od=function(e){if(this.o&&this.c){var t=this.o.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.c.c&&(Oa(this.f.a,t,!1),zi(this.c,t),qa(this),this.ca=t.language)}else if(this.a&&this.a.src&&this.a.textTracks){for(var n=(t=c(t=Ba(this))).next();!n.done;n=t.next())wr(n=n.value)==e.id?n.mode=this.T?"showing":"hidden":n.mode="disabled";qa(this)}},r.Re=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.o&&this.c){this.i.abr.enabled&&K("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=this.o.variants.find((function(t){return t.id==e.id}));r&&Cr(r)&&r!=this.c.b&&(Ca(this.f.a,r,!1),Wi(this.c,r,t,n),Ya(this),this.xb=new Br(r),Ga(this))}else if(this.a&&this.a.audioTracks){for(n=(t=c(t=Array.from(this.a.audioTracks))).next();!n.done;n=t.next())wr(n=n.value)==e.id&&(n.enabled=!0);Ya(this)}},r.he=function(){return ao(this.Mc())},r.ze=function(){return ao(this.hc())},r.ge=function(){return Array.from(io(this.Mc()))},r.ye=function(){return Array.from(io(this.hc()))},r.fd=function(e,t){if(this.o&&this.v)this.xb=new Ur(e,t||"",0,"","audio"),Wa(this);else if(this.a&&this.a.audioTracks){for(var n=Array.from(this.a.audioTracks),r=hr(e),i=(n=c(n)).next();!i.done;i=n.next()){var a=Tr(i=i.value);hr(a.language)!=r||t&&!a.roles.includes(t)||(i.enabled=!0)}Ya(this)}},r.gd=function(e,t){if(this.o&&this.v){this.ca=e,this.Vb=t||"";var n=kr(this.o.textStreams,this.ca,this.Vb)[0]||null;n&&n!=this.c.c&&(Oa(this.f.a,n,!1),this.i.streaming.alwaysStreamText||this.Oc())&&(zi(this.c,n),qa(this))}else{var r=hr(e);(n=this.hc().find((function(e){return hr(e.language)==r&&(!t||e.roles.includes(t))})))&&this.Od(n)}},r.Se=function(e){if(this.o&&this.v){for(var t=null,n=c(this.o.variants),r=n.next();!r.done;r=n.next())if((r=r.value).audio.label==e){t=r;break}null!=t&&(this.xb=new Ur(t.language,"",0,e),Wa(this))}},r.Oc=function(){var e=this.T;return this.G?this.G.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?Ba(this).some((function(e){return"showing"==e.mode})):e},r.Ye=function(e){if(e=!!e,this.T!=e){if(this.T=e,this.g==jo)this.G.h.setTextVisibility(e),this.i.streaming.alwaysStreamText||(e?this.c.c||0<(e=kr(this.o.textStreams,this.ca,this.Vb)).length&&(zi(this.c,e[0]),qa(this)):function(e){var t=e.a.get("text");t&&(ta(t),na(t).catch((function(){})),e.a.delete("text")),e.c=null}(this.c));else if(this.a&&this.a.src&&this.a.textTracks)for(var t=Ba(this),n=(t=c(t)).next();!n.done;n=t.next())"disabled"!=(n=n.value).mode&&(n.mode=e?"showing":"hidden");Xa(this)}},r.te=function(){if(!this.S())return null;var e=this.W.f,t=0;if(this.v)t=this.v.g();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.o?new Date(1e3*(this.o.presentationTimeline.f+t)):this.a&&this.a.getStartDate?(e=this.a.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},r.zd=function(){if(!this.S())return null;if(this.o)return new Date(1e3*this.o.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},r.dc=function(){if(this.g==jo)return this.G.dc();var e={total:[],audio:[],video:[],text:[]};return this.g==Bo&&(e.total=En(this.a.buffered)),e},r.getStats=function(){if(this.g!=jo&&this.g!=Bo)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};Ha(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.f,n=Number(e.totalVideoFrames);t.I=Number(e.droppedVideoFrames),t.H=n,this.f.G=Number(e.corruptedVideoFrames)}this.h?e=(e=this.h).G?e.G:NaN:e=NaN,this.f.C=e,this.g==jo&&((e=this.c.b)&&(this.f.h=(this.w?this.w.b:1)*e.bandwidth),e&&e.video&&(t=this.f,n=e.video.height||NaN,t.M=e.video.width||NaN,t.j=n),this.S()&&(e=this.zd().valueOf()+1e3*this.ed().end,this.f.m=(Date.now()-e)/1e3),this.o&&this.o.presentationTimeline&&(this.f.w=this.o.presentationTimeline.a),e=this.j.getBandwidthEstimate(),this.f.g=e);var r=this.f;e=r.M,t=r.j,n=r.h;for(var i=r.H,a=r.I,o=r.G,s=r.g,u=r.f,l=r.v,d=r.c,f=Ta(r.b,"playing"),p=Ta(r.b,"paused"),h=Ta(r.b,"buffering"),v=r.C,m=r.m,g=r.w,y=function(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],r=c(e.b),i=r.next();!i.done;i=r.next())n.push(t(i.value));return e.a&&n.push(t(e.a)),n}(r.b),b=[],_=(r=c(r.a.a)).next();!_.done;_=r.next())_=_.value,b.push({timestamp:_.timestamp,id:_.id,type:_.type,fromAdaptation:_.fromAdaptation,bandwidth:_.bandwidth});return{width:e,height:t,streamBandwidth:n,decodedFrames:i,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,loadLatency:u,manifestTimeSeconds:l,drmTimeSeconds:d,playTime:f,pauseTime:p,bufferingTime:h,licenseTime:v,liveLatency:m,maxSegmentDuration:g,stateHistory:y,switchHistory:b}},r.addTextTrack=function(e,t,n,r,i,a){if(this.g==Bo)throw Error("State error!");if(this.g!=jo)throw Error("State error!");var o=this.o.presentationTimeline.getDuration();if(1/0==o)throw new he(1,4,4033);return e={id:this.rd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:yi(0,o,[e]),mimeType:r,codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.o.textStreams.push(e),Ka(this),Er(e)},r.jd=function(e,t){this.Hc.width=e,this.Hc.height=t},r.dd=function(){if(this.g==jo){var e=this.c;if(e.D.a)e=!1;else if(e.g)e=!1;else{for(var t=c(e.a.values()),n=t.next();!n.done;n=t.next())(n=n.value).Fb&&(n.Fb=!1,ea(e,n,.1));e=!0}}else e=!1;return e},r.me=function(){return K("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.o},r.ne=function(){return this.Xb},r.Rd=function(e){this.Zb=e},r.fb=function(e){if(function(e,t,n){n.variants=n.variants.filter((function(n){if(e&&e.M&&!ln(e,n))return!1;var r=n.audio;return n=n.video,!(r&&!Zn(r)||n&&!Zn(n)||r&&t&&t.audio&&!Ar(r,t.audio)||n&&t&&t.video&&!Ar(n,t.video))})),n.textStreams=n.textStreams.filter((function(e){return Kn(It(e.mimeType,e.codecs))}))}(this.h,this.c?this.c.b:null,e),!e.variants.some(Cr))throw new he(2,4,4032);for(var t=this.i.restrictions,n=this.Hc,r=!1,i=c(e.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value).allowedByApplication;a.allowedByApplication=_r(a,t,n),o!=a.allowedByApplication&&(r=!0)}if(r&&this.c&&Ka(this),t=this.h?this.h.c:null)for(r=(n=c(e.variants)).next();!r.done;r=n.next())for(i=(r=c(((r=r.value).video?r.video.drmInfos:[]).concat(r.audio?r.audio.drmInfos:[]))).next();!i.done;i=r.next())if((i=i.value).keySystem==t.keySystem)for(a=(i=c(i.initData||[])).next();!a.done;a=i.next())a=a.value,en(this.h,a.initDataType,a.initData);no(this,e)},U("shaka.Player",Ia),Ia.prototype.setVideoContainer=Ia.prototype.Rd,Ia.prototype.getManifestParserFactory=Ia.prototype.ne,Ia.prototype.getManifest=Ia.prototype.me,Ia.prototype.retryStreaming=Ia.prototype.dd,Ia.prototype.setMaxHardwareResolution=Ia.prototype.jd,Ia.prototype.addTextTrack=Ia.prototype.addTextTrack,Ia.prototype.getStats=Ia.prototype.getStats,Ia.prototype.getBufferedInfo=Ia.prototype.dc,Ia.prototype.getPresentationStartTimeAsDate=Ia.prototype.zd,Ia.prototype.getPlayheadTimeAsDate=Ia.prototype.te,Ia.prototype.setTextTrackVisibility=Ia.prototype.Ye,Ia.prototype.isTextTrackVisible=Ia.prototype.Oc,Ia.prototype.selectVariantsByLabel=Ia.prototype.Se,Ia.prototype.selectTextLanguage=Ia.prototype.gd,Ia.prototype.selectAudioLanguage=Ia.prototype.fd,Ia.prototype.getTextLanguages=Ia.prototype.ye,Ia.prototype.getAudioLanguages=Ia.prototype.ge,Ia.prototype.getTextLanguagesAndRoles=Ia.prototype.ze,Ia.prototype.getAudioLanguagesAndRoles=Ia.prototype.he,Ia.prototype.selectVariantTrack=Ia.prototype.Re,Ia.prototype.selectTextTrack=Ia.prototype.Od,Ia.prototype.getTextTracks=Ia.prototype.hc,Ia.prototype.getVariantTracks=Ia.prototype.Mc,Ia.prototype.cancelTrickPlay=Ia.prototype.ae,Ia.prototype.trickPlay=Ia.prototype.af,Ia.prototype.getPlaybackRate=Ia.prototype.re,Ia.prototype.isBuffering=Ia.prototype.Nc,Ia.prototype.getExpiration=Ia.prototype.Cb,Ia.prototype.drmInfo=Ia.prototype.drmInfo,Ia.prototype.keySystem=Ia.prototype.keySystem,Ia.prototype.seekRange=Ia.prototype.ed,Ia.prototype.isAudioOnly=Ia.prototype.Ce,Ia.prototype.isInProgress=Ia.prototype.Ta,Ia.prototype.isLive=Ia.prototype.S,Ia.prototype.getAdManager=Ia.prototype.yd,Ia.prototype.getAssetUri=Ia.prototype.Jc,Ia.prototype.getNetworkingEngine=Ia.prototype.Db,Ia.prototype.getMediaElement=Ia.prototype.pe,Ia.prototype.getLoadMode=Ia.prototype.le,Ia.prototype.resetConfiguration=Ia.prototype.Qe,Ia.prototype.getConfiguration=Ia.prototype.getConfiguration,Ia.prototype.configure=Ia.prototype.configure,Ia.prototype.load=Ia.prototype.load,Ia.prototype.unload=Ia.prototype.pd,Ia.prototype.detach=Ia.prototype.detach,Ia.prototype.attach=Ia.prototype.yb,Ia.probeSupport=function(){var e,t,n,r,i;return R((function(a){if(1==a.a)return _(a,function(){var e,t,n,r,i,a;return R((function(o){return 1==o.a?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),n=[{videoCapabilities:t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],r=new Map,i=function(e){var t,i,a;return R((function(o){switch(o.a){case 1:return S(o,2),_(o,navigator.requestMediaKeySystemAccess(e,n),4);case 4:return t=o.b,a=!!(i=t.getConfiguration().sessionTypes)&&i.includes("persistent-license"),Bt("Tizen 3")&&(a=!1),r.set(e,{persistentState:a}),_(o,t.createMediaKeys(),5);case 5:w(o,0);break;case 2:T(o),r.set(e,null),A(o)}}))},a=e.map((function(e){return i(e)})),_(o,Promise.all(a),2)):o.return(Ot(r))}))}(),2);e=a.b;var o={};if(Rt()){for(var s in Yr)o[s]=!0;for(var u in qr)o[u]=!0}s={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"};for(var l=(u=c(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!l.done;l=u.next())o[l=l.value]=Rt()?!!Yr[l]:Mt(l);for(var d in s)o[d]=Rt()?!!qr[d]:Mt(s[d]);for(t=o,o={},s=(d=c('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(","))).next();!s.done;s=d.next())o[s=s.value]=Rt()?!!Kn(s)||(MediaSource.isTypeSupported(s)||Tn(s)):Mt(s),o[u=s.split(";")[0]]=o[u]||o[s];for(i in n={manifest:t,media:o,drm:e},r=Fo)n[i]=r[i]();return a.return(n)}))},Ia.isBrowserSupported=function(){if(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach))return!1;var t=jt();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Rt()||Mt("application/x-mpegurl"))},Ia.setAdManagerFactory=function(e){Ho=e},Ia.registerSupportPlugin=function(e,t){Fo[e]=t},Ia.prototype.destroy=Ia.prototype.destroy;var lo="abrstatuschanged",fo="adaptation",po="buffering",ho="drmsessionupdate",vo="emsg",mo="error",go="expirationupdated",yo="loaded",bo="loading",_o="manifestparsed",Ao="metadata",So="onstatechange",Eo="onstateidle",wo="ratechange",To="streaming",Po="textchanged",Co="texttrackvisibility",Oo="timelineregionadded",ko="timelineregionenter",Io="timelineregionexit",xo="trackschanged",Do="unloading",Ro="variantchanged",Mo={hf:lo,jf:fo,kf:po,lf:ho,nf:vo,Error:mo,pf:go,rf:"largegap",sf:yo,tf:bo,uf:_o,Metadata:Ao,vf:So,wf:Eo,xf:wo,yf:To,zf:Po,Af:Co,Bf:Oo,Cf:ko,Df:Io,Ef:xo,Ff:Do,Gf:Ro},No=0,Lo=1,jo=2,Bo=3;Ia.LoadMode={DESTROYED:No,NOT_LOADED:Lo,MEDIA_SOURCE:jo,SRC_EQUALS:Bo},Ia.version="v3.0.5";var Uo=["3","0"];bt=new function(e){this.a=e,this.c=gt,this.b=yt}(new vt(Number(Uo[0]),Number(Uo[1])));var Vo=["output-restricted","internal-error"],Fo={},Ho=null;function Go(){this.a=[],this.f=this.b=this.c=0}function Wo(e,t){var n=this;this.c=e,this.a=t,this.f=!1,this.g=this.a.getVolume(),this.b=new et,this.b.l(this.a,google.ima.AdEvent.Type.PAUSED,(function(){n.f=!0})),this.b.l(this.a,google.ima.AdEvent.Type.RESUMED,(function(){n.f=!1}))}function zo(e,t,n,r){var i=this;this.j=e,this.a=t,this.m=NaN,this.f=r,this.h=null,this.b=new et,google.ima.settings.setLocale(n),(e=new google.ima.AdDisplayContainer(this.j,this.a)).initialize(),this.g=new google.ima.AdsLoader(e),this.g.getSettings().setPlayerType("shaka-player"),this.g.getSettings().setPlayerVersion("v3.0.5"),this.c=null,this.b.ha(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(e,t){e.f(new Re("ads-loaded",{loadTime:Date.now()/1e3-e.m})),e.c=t.getAdsManager(e.a),e.f(new Re("ima-ad-manager-loaded",{imaAdsManager:e.c}));var n=e.c.getCuePoints();if(n.length){for(var r=[],i=(n=c(n)).next();!i.done;i=n.next())r.push(new Jo(i.value));e.f(new Re("ad-cue-points-changed",{cuepoints:r}))}!function(e){e.b.l(e.c,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Ko(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Yo(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.STARTED,(function(t){Yo(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.f(new Re("ad-first-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.f(new Re("ad-midpoint",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.f(new Re("ad-third-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.COMPLETE,(function(t){e.f(new Re("ad-complete",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){qo(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){qo(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPED,(function(t){e.f(new Re("ad-skipped",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.f(new Re("ad-volume-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.f(new Re("ad-muted",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.PAUSED,(function(t){e.h.f=!0,e.f(new Re("ad-paused",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.RESUMED,(function(t){e.h.f=!1,e.f(new Re("ad-resumed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.f(new Re("ad-skip-state-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CLICK,(function(){e.f(new Re("ad-clicked"))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.f(new Re("ad-progress",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.f(new Re("ad-buffering",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.f(new Re("ad-impression",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.f(new Re("ad-duration-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.f(new Re("ad-closed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOADED,(function(t){e.f(new Re("ad-loaded",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.f(new Re("all-ads-completed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.f(new Re("ad-linear-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.f(new Re("ad-metadata",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOG,(function(t){e.f(new Re("ad-recoverable-error",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.f(new Re("ad-break-ready",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.INTERACTION,(function(t){e.f(new Re("ad-interaction",{originalEvent:t}))}))}(e);try{e.c.init(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.b.l(e.a,"loadeddata",(function(){e.c.resize(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),e.c.start()}catch(t){qo(e,null)}}(i,e)})),this.b.l(this.g,google.ima.AdEvent.Type.AD_ERROR,(function(e){Ko(i,e)})),this.a.onended=function(){i.g.contentComplete()}}function Ko(e,t){t.getError(),qo(e,null),e.f(new Re("ad-cue-points-changed",{cuepoints:[]}))}function Yo(e,t){var n=t.getAd();e.h=new Wo(n,e.c),e.f(new Re("ad-started",{ad:e.h,sdkAdObject:n,originalEvent:t})),e.j.setAttribute("ad-active","true"),e.a.pause()}function qo(e,t){e.f(new Re("ad-stopped",{originalEvent:t})),e.j.removeAttribute("ad-active"),e.a.play()}function Xo(e,t){this.c=e,this.b=null,this.a=t}function Zo(e,t,n,r){var i=this;this.v=e,this.a=t,this.g=null,this.G=NaN,this.f=r,this.C=!1,this.w=this.h=this.j=null,this.m="",this.b=new et,(e=new google.ima.dai.api.UiSettings).setLocale(n),this.c=new google.ima.dai.api.StreamManager(this.a,this.v,e),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){!function(e,t){e.f(new Re("ads-loaded",{loadTime:Date.now()/1e3-e.G}));var n=t.getStreamData().url;e.g.resolve(n),e.g=null,e.C||e.b.l(e.a,"seeked",(function(){var t=e.a.currentTime;if(0!=t){e.c.streamTimeForContentTime(t);var n=e.c.previousCuePointForStreamTime(t);n&&!n.played&&(e.j=t,e.a.currentTime=n.start)}}))}(i,e)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.m.length?i.g.resolve(i.m):i.g.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.g=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),i.h=new Xo(e,i.a),i.w&&(i.h.b=i.w),i.f(new Re("ad-started",{ad:i.h})),i.v.setAttribute("ad-active","true")})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.v.removeAttribute("ad-active");var e=i.a.currentTime;i.j&&i.j>e&&(i.a.currentTime=i.j,i.j=null)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){i.w=e.getStreamData().adProgressData,i.h&&(i.h.b=i.w)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.f(new Re("ad-first-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.f(new Re("ad-midpoint"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.f(new Re("ad-third-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.f(new Re("ad-complete")),i.f(new Re("ad-stopped")),i.v.removeAttribute("ad-active"),i.h=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.f(new Re("ad-skipped")),i.f(new Re("ad-stopped"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[];for(var n=(t=c(t.cuepoints)).next();!n.done;n=t.next())n=n.value,e.push(new Jo(n.start,n.end));i.f(new Re("ad-cue-points-changed",{cuepoints:e}))}))}function Qo(){Ne.call(this),this.a=this.b=null,this.f=new Go,this.c=navigator.language}function Jo(e,t){this.start=e,this.end=void 0===t?null:t}function $o(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof Re){var n={};for(i in t){var r=t[i];r&&"object"==typeof r?"detail"==i&&(n[i]=r):i in Event||(n[i]=r)}return n}if(t instanceof Error){var i=new Set(["name","message","stack"]);for(n in t)i.add(n);for(n=(r=c(Object.getOwnPropertyNames(t))).next();!n.done;n=r.next())i.add(n.value);for(r={},n=(i=c(i)).next();!n.done;n=i.next())r[n=n.value]=t[n];i={__type__:"Error",contents:r}}else if(t instanceof TimeRanges)for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},r=(n=c(En(t))).next();!r.done;r=n.next()){var a=(r=r.value).end;i.start.push(r.start),i.end.push(a)}else i=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return i}}))}function es(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=function(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){n=t.contents;var r,i=Error(n.message);for(r in n)i[r]=n[r];n=i}else n=t;return n}))}(r=Wo.prototype).getDuration=function(){return this.c.getDuration()},r.getRemainingTime=function(){return this.a.getRemainingTime()},r.isPaused=function(){return this.f},r.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()},r.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return this.a.getAdSkippableState()},r.skip=function(){return this.a.skip()},r.pause=function(){return this.a.pause()},r.play=function(){return this.a.resume()},r.getVolume=function(){return this.a.getVolume()},r.setVolume=function(e){return this.a.setVolume(e)},r.isMuted=function(){return 0==this.a.getVolume()},r.resize=function(e,t){this.a.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},r.setMuted=function(e){e?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)},r.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},r.release=function(){this.a=this.c=null},U("shaka.ads.ClientSideAd",Wo),Wo.prototype.release=Wo.prototype.release,Wo.prototype.getPositionInSequence=Wo.prototype.getPositionInSequence,Wo.prototype.getSequenceLength=Wo.prototype.getSequenceLength,Wo.prototype.setMuted=Wo.prototype.setMuted,Wo.prototype.resize=Wo.prototype.resize,Wo.prototype.isMuted=Wo.prototype.isMuted,Wo.prototype.setVolume=Wo.prototype.setVolume,Wo.prototype.getVolume=Wo.prototype.getVolume,Wo.prototype.play=Wo.prototype.play,Wo.prototype.pause=Wo.prototype.pause,Wo.prototype.skip=Wo.prototype.skip,Wo.prototype.canSkipNow=Wo.prototype.canSkipNow,Wo.prototype.getTimeUntilSkippable=Wo.prototype.getTimeUntilSkippable,Wo.prototype.isSkippable=Wo.prototype.isSkippable,Wo.prototype.isPaused=Wo.prototype.isPaused,Wo.prototype.getRemainingTime=Wo.prototype.getRemainingTime,Wo.prototype.getDuration=Wo.prototype.getDuration,zo.prototype.stop=function(){this.c.stop()},(r=Xo.prototype).getDuration=function(){return this.b?this.b.duration:-1},r.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1},r.isPaused=function(){return this.a.paused},r.isSkippable=function(){return this.c.isSkippable()},r.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},r.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},r.skip=function(){this.a.currentTime+=this.getRemainingTime()},r.pause=function(){return this.a.pause()},r.play=function(){return this.a.play()},r.getVolume=function(){return this.a.volume},r.setVolume=function(e){this.a.volume=e},r.isMuted=function(){return this.a.muted},r.resize=function(){},r.setMuted=function(e){this.a.muted=e},r.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},r.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},r.release=function(){this.a=this.b=this.c=null},U("shaka.ads.ServerSideAd",Xo),Xo.prototype.release=Xo.prototype.release,Xo.prototype.getPositionInSequence=Xo.prototype.getPositionInSequence,Xo.prototype.getSequenceLength=Xo.prototype.getSequenceLength,Xo.prototype.setMuted=Xo.prototype.setMuted,Xo.prototype.resize=Xo.prototype.resize,Xo.prototype.isMuted=Xo.prototype.isMuted,Xo.prototype.setVolume=Xo.prototype.setVolume,Xo.prototype.getVolume=Xo.prototype.getVolume,Xo.prototype.play=Xo.prototype.play,Xo.prototype.pause=Xo.prototype.pause,Xo.prototype.skip=Xo.prototype.skip,Xo.prototype.canSkipNow=Xo.prototype.canSkipNow,Xo.prototype.getTimeUntilSkippable=Xo.prototype.getTimeUntilSkippable,Xo.prototype.isSkippable=Xo.prototype.isSkippable,Xo.prototype.isPaused=Xo.prototype.isPaused,Xo.prototype.getRemainingTime=Xo.prototype.getRemainingTime,Xo.prototype.getDuration=Xo.prototype.getDuration,Zo.prototype.stop=function(){this.c.reset(),this.m="",this.j=null},Zo.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.c.onTimedMetadata(t)}},m(Qo,Ne),(r=Qo.prototype).setLocale=function(e){this.c=e},r.initClientSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new he(2,10,1e4);this.b=new zo(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":r.f.a.push(e.loadTime);break;case"ad-started":r.f.c++;break;case"ad-complete":r.f.b++;break;case"ad-skipped":r.f.f++}r.dispatchEvent(e)}))},r.onAssetUnload=function(){this.b&&this.b.stop(),this.dispatchEvent(new Re("ad-stopped")),this.f=new Go},r.requestClientSideAds=function(e){if(!this.b)throw new he(1,10,10001);var t=this.b;t.m=Date.now()/1e3,t.g.requestAds(e)},r.initServerSide=function(t,n){var r=this;if(!e.google||!google.ima||!google.ima.dai)throw new he(2,10,10002);this.a=new Zo(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":r.f.a.push(e.loadTime);break;case"ad-started":r.f.c++;break;case"ad-complete":r.f.b++;break;case"ad-skipped":r.f.f++}r.dispatchEvent(e)}))},r.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.a)throw new he(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;(n.mpt||n.mpv)&&K('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv="v3.0.5";var r=t;return(n=this.a).g?n=Promise.reject(new he(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.C=!0),n.g=new be,n.c.requestStream(e),n.m=r||"",n.G=Date.now()/1e3,n=n.g),n},r.replaceServerSideAdTagParameters=function(e){if(!this.a)throw new he(1,10,10003);(e.mpt||e.mpv)&&K('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.0.5",this.a.c.replaceAdTagParameters(e)},r.getStats=function(){var e=this.f;return{loadTimes:e.a,started:e.c,playedCompletely:e.b,skipped:e.f}},r.onDashTimedMetadata=function(e){if(this.a&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.a.c.processMetadata(t,n,e.startTime)}},r.onHlsTimedMetadata=function(e,t){this.a&&this.a.c.processMetadata("ID3",e.data,t)},r.onCueMetadataChange=function(e){this.a&&this.a.onCueMetadataChange(e)},U("shaka.ads.AdManager",Qo),Qo.prototype.onCueMetadataChange=Qo.prototype.onCueMetadataChange,Qo.prototype.onHlsTimedMetadata=Qo.prototype.onHlsTimedMetadata,Qo.prototype.onDashTimedMetadata=Qo.prototype.onDashTimedMetadata,Qo.prototype.getStats=Qo.prototype.getStats,Qo.prototype.replaceServerSideAdTagParameters=Qo.prototype.replaceServerSideAdTagParameters,Qo.prototype.requestServerSideStream=Qo.prototype.requestServerSideStream,Qo.prototype.initServerSide=Qo.prototype.initServerSide,Qo.prototype.requestClientSideAds=Qo.prototype.requestClientSideAds,Qo.prototype.onAssetUnload=Qo.prototype.onAssetUnload,Qo.prototype.initClientSide=Qo.prototype.initClientSide,Qo.prototype.setLocale=Qo.prototype.setLocale,Qo.ADS_LOADED="ads-loaded",Qo.AD_STARTED="ad-started",Qo.AD_FIRST_QUARTILE="ad-first-quartile",Qo.AD_MIDPOINT="ad-midpoint",Qo.AD_THIRD_QUARTILE="ad-third-quartile",Qo.AD_COMPLETE="ad-complete",Qo.AD_STOPPED="ad-stopped",Qo.AD_SKIPPED="ad-skipped",Qo.AD_VOLUME_CHANGED="ad-volume-changed",Qo.AD_MUTED="ad-muted",Qo.AD_PAUSED="ad-paused",Qo.AD_RESUMED="ad-resumed",Qo.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Qo.CUEPOINTS_CHANGED="ad-cue-points-changed",Qo.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Qo.AD_CLICKED="ad-clicked",Qo.AD_PROGRESS="ad-progress",Qo.AD_BUFFERING="ad-buffering",Qo.AD_IMPRESSION="ad-impression",Qo.AD_DURATION_CHANGED="ad-duration-changed",Qo.AD_CLOSED="ad-closed",Qo.AD_LOADED="ad-loaded",Qo.ALL_ADS_COMPLETED="all-ads-completed",Qo.AD_LINEAR_CHANGED="ad-linear-changed",Qo.AD_METADATA="ad-metadata",Qo.AD_RECOVERABLE_ERROR="ad-recoverable-error",Qo.AD_BREAK_READY="ad-break-ready",Qo.AD_INTERACTION="ad-interaction",Ho=function(){return new Qo};var ts="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),ns="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),rs=["loop","playbackRate"],is=["pause","play"],as={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},os={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},ss=[["getConfiguration","configure"]],us=[["isTextTrackVisible","setTextTrackVisibility"]],cs="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),ls=["attach","detach","load","unload"];function ds(e,t,n,r,i,a){var o=this;this.T=e,this.f=new me(t),this.W=n,this.m=!1,this.C=r,this.M=i,this.H=a,this.b=this.h=!1,this.I="",this.j=null,this.v=function(){return ms(o)},this.w=function(e,t){var n=es(t);switch(n.type){case"event":var r=n.targetName;n=new Re((n=n.event).type,n),o.C(r,n);break;case"update":for(var i in r=n.update)for(var a in n=o.a[i]||{},r[i])n[a]=r[i][a];o.m&&(o.W(),o.m=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=o.c[i],delete o.c[i],a)if(n){for(r in i=new he(n.severity,n.category,n.code),n)i[r]=n[r];a.reject(i)}else a.resolve()}},this.a={video:{},player:{}},this.G=0,this.c={},this.g=null,Ss.add(this)}function fs(e,t,n){As=n,n.addUpdateListener(e.v),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.w),ms(e),ys(e,{type:"init",initState:t,appData:e.j}),e.g.resolve()}function ps(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.g.reject(new he(2,8,n,t))}function hs(e,t){var n=e.H();e.g=new be,e.m=!0,fs(e,n,t)}function vs(e){var t=As;t.removeUpdateListener(e.v),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.w)}function ms(e){var t=!!As&&"connected"==As.status;if(e.b&&!t){for(var n in e.M(),e.a)e.a[n]={};gs(e)}e.b=t,e.I=t?As.receiver.friendlyName:"",e.f.Ob()}function gs(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new he(1,7,7e3))}}function ys(e,t){var n=$o(t),r=As;try{r.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),Y)}catch(t){throw r=new Re("error",{detail:n=new he(2,8,8005,t)}),e.C("player",r),e.gb(),n}}(r=ds.prototype).destroy=function(){return Ss.delete(this),gs(this),As&&vs(this),this.f&&(this.f.stop(),this.f=null),this.M=this.C=null,this.b=this.h=!1,this.w=this.v=this.g=this.c=this.a=this.j=null,Promise.resolve()},r.fa=function(){return this.b},r.bd=function(){return this.I},r.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.T.length){this.h=!0,this.f.Ob();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=c(Ss),n=t.next();!n.done;n=t.next())hs(n.value,e)}),(function(e){for(var t=c(Ss),n=t.next();!n.done;n=t.next())n=n.value,_s="available"==e,n.f.Ob()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),_s&&this.f.R(bs),(t=As)&&t.status!=chrome.cast.SessionStatus.STOPPED?hs(this,t):As=null}},r.hd=function(e){this.j=e,this.b&&ys(this,{type:"appData",appData:this.j})},r.cast=function(e){var t=this;return R((function(n){if(!t.h)throw new he(1,8,8e3);if(!_s)throw new he(1,8,8001);if(t.b)throw new he(1,8,8002);return t.g=new be,chrome.cast.requestSession((function(n){return fs(t,e,n)}),(function(e){return ps(t,e)})),_(n,t.g,0)}))},r.gb=function(){if(this.b){if(gs(this),As){vs(this);try{As.stop((function(){}),(function(){}))}catch(e){}As=null}ms(this)}},r.get=function(e,t){var n=this;if("video"==e){if(is.includes(t))return function(r){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return n.Ld.apply(n,[e,t].concat(l(i)))}}else if("player"==e){if(os[t]&&!this.get("player","isLive")())return function(){};if(cs.includes(t))return function(r){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return n.Ld.apply(n,[e,t].concat(l(i)))};if(ls.includes(t))return function(r){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];return n.Ne.apply(n,[e,t].concat(l(i)))};if(as[t])return function(){return n.a[e][t]}}return this.a[e][t]},r.set=function(e,t,n){this.a[e][t]=n,ys(this,{type:"set",targetName:e,property:t,value:n})},r.Ld=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];ys(this,{type:"call",targetName:e,methodName:t,args:r})},r.Ne=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new be;var a=this.G.toString();this.G++,this.c[a]=i;try{ys(this,{type:"asyncCall",targetName:e,methodName:t,args:r,id:a})}catch(e){i.reject(e)}return i};var bs=.02,_s=!1,As=null,Ss=new Set;function Es(e,t,n){Ne.call(this);var r=this;this.f=e,this.c=t,this.b=this.j=this.g=this.m=this.h=null,this.w=n,this.v=new Map,this.a=new ds(n,(function(){return Ps(r)}),(function(){return Cs(r)}),(function(e,t){return Is(r,e,t)}),(function(){return Os(r)}),(function(){return Ts(r)})),function(e){e.a.init(),e.b=new et;for(var t=c(ts),n=t.next();!n.done;n=t.next())e.b.l(e.f,n.value,(function(t){e.a.fa()||(t=new Re(t.type,t),e.g.dispatchEvent(t))}));for(var r in Mo)e.b.l(e.c,Mo[r],(function(t){e.a.fa()||e.j.dispatchEvent(t)}));for(var i in e.h={},t={},e.f)t.sb=i,Object.defineProperty(e.h,t.sb,{configurable:!1,enumerable:!0,get:function(t){return function(){return ks(e,t.sb)}}(t),set:function(t){return function(n){var r=t.sb;e.a.fa()?e.a.set("video",r,n):e.f[r]=n}}(t)}),t={sb:t.sb};e.m={},ws(e,(function(t){Object.defineProperty(e.m,t,{configurable:!1,enumerable:!0,get:function(){return function(e,t){if(e.v.has(t)&&(t=e.v.get(t)),"addEventListener"==t)return function(t,n,r){return e.j.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.j.removeEventListener(t,n,r)};if("getMediaElement"==t)return function(){return e.h};if("getSharedConfiguration"==t)return e.a.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.c.Db()};if("getAdManager"==t)return function(){return e.c.yd()};if("setVideoContainer"==t)return function(t){return e.c.Rd(t)};if(e.a.fa()){if("getManifest"==t||"drmInfo"==t)return function(){return K(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return K(t+"() does not work while casting!"),Promise.resolve()}}return e.a.fa()&&0==Object.keys(e.a.a.video).length&&as[t]||!e.a.fa()?e.c[t].bind(e.c):e.a.get("player",t)}(e,t)}})})),function(e){var t=new Map;ws(e,(function(n,r){if(t.has(r)){var i=t.get(r);n.length<i.length?e.v.set(n,i):e.v.set(i,n)}else t.set(r,n)}))}(e),e.g=new Ne,e.g.Wb=e.h,e.j=new Ne,e.j.Wb=e.m}(this)}function ws(e,t){function n(e){return"constructor"!=e&&"function"==typeof r[e]&&!i.has(e)}var r=e.c,i=new Set;for(a in r)n(a)&&(i.add(a),t(a,r[a]));for(var a=Object.getPrototypeOf(r),o=Object.getPrototypeOf({});a&&a!=o;){for(var s=c(Object.getOwnPropertyNames(a)),u=s.next();!u.done;u=s.next())n(u=u.value)&&(i.add(u),t(u,r[u]));a=Object.getPrototypeOf(a)}}function Ts(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.c.Jc(),startTime:null};e.f.pause();for(var n=c(rs),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.f[r];for(e.f.ended||(t.startTime=e.f.currentTime),r=(n=c(ss)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=e.c[i[0]](),t.player[r]=i}for(r=(n=c(us)).next();!r.done;r=n.next())r=(i=r.value)[1],i=e.c[i[0]](),t.playerAfterLoad[r]=i;return t}function Ps(e){var t=new Re("caststatuschanged");e.dispatchEvent(t)}function Cs(e){var t=new Re(e.h.paused?"pause":"play");e.g.dispatchEvent(t)}function Os(e){for(var t=c(ss),n=t.next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.a.get("player",r[0])(),e.c[n](r)}var i=e.a.get("player","getAssetUri")();n=e.a.get("video","ended"),t=Promise.resolve();var a=e.f.autoplay;r=null,n||(r=e.a.get("video","currentTime")),i&&(e.f.autoplay=!1,t=e.c.load(i,r));var o={};for(r=(n=c(rs)).next();!r.done;r=n.next())r=r.value,o[r]=e.a.get("video",r);t.then((function(){if(e.f){for(var t=c(rs),n=t.next();!n.done;n=t.next())n=n.value,e.f[n]=o[n];for(n=(t=c(us)).next();!n.done;n=t.next()){var r=n.value;n=r[1],r=e.a.get("player",r[0])(),e.c[n](r)}e.f.autoplay=a,i&&e.f.play()}}),(function(t){t=new Re(mo,{detail:t}),e.c.dispatchEvent(t)}))}function ks(e,t){if("addEventListener"==t)return function(t,n,r){return e.g.addEventListener(t,n,r)};if("removeEventListener"==t)return function(t,n,r){return e.g.removeEventListener(t,n,r)};if(e.a.fa()&&0==Object.keys(e.a.a.video).length){var n=e.f[t];if("function"!=typeof n)return n}return e.a.fa()?e.a.get("video",t):("function"==typeof(n=e.f[t])&&(n=n.bind(e.f)),n)}function Is(e,t,n){e.a.fa()&&("video"==t?e.g.dispatchEvent(n):"player"==t&&e.j.dispatchEvent(n))}function xs(e,t,n,r){Ne.call(this);var i=this;this.a=e,this.c=t,this.b=new et,this.I={video:e,player:t},this.C=n||function(){},this.M=r||function(e){return e},this.f=null,this.G=!1,this.j=!0,this.h=0,this.w=!1,this.v=!0,this.m=this.g=null,this.H=new me((function(){Ns(i)})),function(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Ds(e)},t.onSenderDisconnected=function(){return Ds(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Us(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.g),Us(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.g)},e.m=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.m.onMessage=function(t){return function(e,t){var n=es(t.data);switch(n.type){case"PLAY":e.a.play(),Vs(e);break;case"PAUSE":e.a.pause(),Vs(e);break;case"SEEK":var r=n.currentTime,i=n.resumeState;null!=r&&(e.a.currentTime=Number(r)),i&&"PLAYBACK_START"==i?(e.a.play(),Vs(e)):i&&"PLAYBACK_PAUSE"==i&&(e.a.pause(),Vs(e));break;case"STOP":e.c.pd().then((function(){e.c&&Vs(e)}));break;case"GET_STATUS":js(e,Number(n.requestId));break;case"VOLUME":i=n.volume,r=i.level,i=i.muted;var a=e.a.volume,o=e.a.muted;null!=r&&(e.a.volume=Number(r)),null!=i&&(e.a.muted=i),a==e.a.volume&&o==e.a.muted||Vs(e);break;case"LOAD":e.h=0,e.w=!1,e.v=!1,r=n.media,i=n.currentTime,a=e.M(r.contentId),o=n.autoplay||!0,e.C(r.customData),o&&(e.a.autoplay=!0),e.c.load(a,i).then((function(){e.c&&js(e)})).catch((function(t){var r="LOAD_FAILED";7==t.category&&7e3==t.code&&(r="LOAD_CANCELLED"),Us(e,{requestId:Number(n.requestId),type:r},e.m)}));break;default:Us(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.m)}}(e,t)},e.g=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.g.onMessage=function(t){return function(e,t){var n=es(t.data);switch(n.type){case"init":e.h=0,e.w=!1,e.v=!0,function(e,t,n){var r,i,a,o,s,u,c,l,d;R((function(f){switch(f.a){case 1:for(r in t.player)i=t.player[r],e.c[r](i);return e.C(n),a=e.a.autoplay,t.manifest?(e.a.autoplay=!1,S(f,5),_(f,e.c.load(t.manifest,t.startTime),7)):_(f,Promise.resolve(),3);case 7:w(f,3);break;case 5:return o=T(f),s=new Re(mo,{detail:o}),e.c.dispatchEvent(s),f.return();case 3:if(!e.c)return f.return();for(u in t.video)c=t.video[u],e.a[u]=c;for(l in t.playerAfterLoad)d=t.playerAfterLoad[l],e.c[l](d);e.a.autoplay=a,t.manifest&&(e.a.play(),Vs(e)),A(f)}}))}(e,n.initState,n.appData),Ns(e);break;case"appData":e.C(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){var a=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){a.setSystemVolumeLevel(n);break}if("muted"==i){a.setSystemVolumeMuted(n);break}}e.I[r][i]=n;break;case"call":(r=e.I[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(e.h=0,e.w=!1);var o=n.id,s=t.senderId;a=e.I[r],n=a[i].apply(a,n.args),"player"==r&&"load"==i&&(n=n.then((function(){e.v=!0}))),n.then((function(){return Bs(e,s,o,null)}),(function(t){return Bs(e,s,o,t)}))}}(e,t)},t.start();for(var n=(t=c(ts)).next();!n.done;n=t.next())e.b.l(e.a,n.value,(function(t){return Ms(e,"video",t)}));for(var r in Mo)e.b.l(e.c,Mo[r],(function(t){return Ms(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.c.jd(3840,2160):e.c.jd(1920,1080),e.b.l(e.a,"loadeddata",(function(){e.w=!0})),e.b.l(e.c,"loading",(function(){e.j=!1,Rs(e)})),e.b.l(e.a,"playing",(function(){e.j=!1,Rs(e)})),e.b.l(e.a,"pause",(function(){Rs(e)})),e.b.l(e.c,"unloading",(function(){e.j=!0,Rs(e)})),e.b.l(e.a,"ended",(function(){new me((function(){e.a&&e.a.ended&&(e.j=!0,Rs(e))})).R(Hs)}))}(this)}function Ds(e){e.h=0,e.v=!0,e.G=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Rs(e)}function Rs(e){var t;R((function(n){return 1==n.a?_(n,Promise.resolve(),2):e.c?(t=new Re("caststatuschanged"),e.dispatchEvent(t),Ls(e)||Vs(e),void A(n)):n.return()}))}function Ms(e,t,n){e.c&&(Ns(e),Us(e,{type:"event",targetName:t,event:n},e.g))}function Ns(e){e.H.R(Fs);for(var t={video:{},player:{}},n=c(ns),r=n.next();!r.done;r=n.next())r=r.value,t.video[r]=e.a[r];if(e.c.S())for(var i in os)0==e.h%os[i]&&(t.player[i]=e.c[i]());for(var a in as)0==e.h%as[a]&&(t.player[a]=e.c[a]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.w&&(e.h+=1),Us(e,{type:"update",update:t},e.g),Ls(e)}function Ls(e){return!(!e.v||!e.a.duration&&!e.c.S())&&(js(e),e.v=!1,!0)}function js(e,t){var n={contentId:e.c.Jc(),streamType:e.c.S()?"LIVE":"BUFFERED",contentType:""};e.c.S()||(n.duration=e.a.duration),e.f&&(n.metadata=e.f),Vs(e,void 0===t?0:t,n)}function Bs(e,t,n,r){e.c&&Us(e,{type:"asyncComplete",id:n,error:r},e.g,t)}function Us(e,t,n,r){e.G&&(e=$o(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Vs(e,t,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:e.a.playbackRate,playerState:e.j?Gs:e.c.Nc()?zs:e.a.paused?Ks:Ws,currentTime:e.a.currentTime,supportedMediaCommands:63,volume:{level:e.a.volume,muted:e.a.muted}};n&&(r.media=n),Us(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[r]},e.m)}e.__onGCastApiAvailable=function(e){if(e)for(var t=(e=c(Ss)).next();!t.done;t=e.next())t.value.init()},m(Es,Ne),(r=Es.prototype).destroy=function(e){return e&&this.a.gb(),this.b&&(this.b.release(),this.b=null),e=[],this.c&&(e.push(this.c.destroy()),this.c=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.m=this.h=this.f=null,Promise.all(e)},r.Ae=function(){return this.h},r.se=function(){return this.m},r.$d=function(){return this.a.h&&_s},r.fa=function(){return this.a.fa()},r.bd=function(){return this.a.bd()},r.cast=function(){var e,t=this;return R((function(n){return 1==n.a?(e=Ts(t),_(n,t.a.cast(e),2)):t.c?_(n,t.c.pd(),0):n.return()}))},r.hd=function(e){this.a.hd(e)},r.Ze=function(){!function(e){if(e.b){var t=e.H();chrome.cast.requestSession((function(n){return fs(e,t,n)}),(function(t){return ps(e,t)}))}}(this.a)},r.gb=function(){this.a.gb()},r.be=function(e){var t=this;return R((function(n){if(1==n.a)return e==t.w?n.return():(t.w=e,t.a.gb(),_(n,t.a.destroy(),2));t.a=null,t.a=new ds(e,(function(){return Ps(t)}),(function(){return Cs(t)}),(function(e,n){return Is(t,e,n)}),(function(){return Os(t)}),(function(){return Ts(t)})),t.a.init(),A(n)}))},U("shaka.cast.CastProxy",Es),Es.prototype.changeReceiverId=Es.prototype.be,Es.prototype.forceDisconnect=Es.prototype.gb,Es.prototype.suggestDisconnect=Es.prototype.Ze,Es.prototype.setAppData=Es.prototype.hd,Es.prototype.cast=Es.prototype.cast,Es.prototype.receiverName=Es.prototype.bd,Es.prototype.isCasting=Es.prototype.fa,Es.prototype.canCast=Es.prototype.$d,Es.prototype.getPlayer=Es.prototype.se,Es.prototype.getVideo=Es.prototype.Ae,Es.prototype.destroy=Es.prototype.destroy,m(xs,Ne),(r=xs.prototype).isConnected=function(){return this.G},r.De=function(){return this.j},r.Ve=function(e){this.f=e},r.ee=function(){this.f=null},r.We=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.title=e},r.Ue=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.images=[{url:e}]},r.Te=function(e){this.f||(this.f={}),this.f.artist=e,this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},r.destroy=function(){var e,t=this;return R((function(n){if(1==n.a)return t.b&&(t.b.release(),t.b=null),e=[],t.c&&(e.push(t.c.destroy()),t.c=null),t.H&&(t.H.stop(),t.H=null),t.a=null,t.I=null,t.C=null,t.G=!1,t.j=!0,t.g=null,t.m=null,_(n,Promise.all(e),2);cast.receiver.CastReceiverManager.getInstance().stop(),A(n)}))},U("shaka.cast.CastReceiver",xs),xs.prototype.destroy=xs.prototype.destroy,xs.prototype.setContentArtist=xs.prototype.Te,xs.prototype.setContentImage=xs.prototype.Ue,xs.prototype.setContentTitle=xs.prototype.We,xs.prototype.clearContentMetadata=xs.prototype.ee,xs.prototype.setContentMetadata=xs.prototype.Ve,xs.prototype.isIdle=xs.prototype.De,xs.prototype.isConnected=xs.prototype.isConnected;var Fs=.5,Hs=5,Gs="IDLE",Ws="PLAYING",zs="BUFFERING",Ks="PAUSED";function Ys(e){var t=this;this.a=[],this.b=[],this.data=[],(new Ri).L("moov",Mi).ea("pssh",(function(e){if(!(1<e.version)){var n=Ie(e.reader.P,-12,e.size);if(t.data.push(n),t.a.push(Yt(e.reader.Wa(16))),0<e.version){n=e.reader.J();for(var r=(n=c(J(n))).next();!r.done;r=n.next())r=Yt(e.reader.Wa(16)),t.b.push(r)}}})).parse(e)}function qs(e,t){var n=Zs(e,t);return 1!=n.length?null:n[0]}function Xs(e,t,n){return 1!=(e=Qs(e,t,n)).length?null:e[0]}function Zs(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function Qs(e,t,n){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))}function Js(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function $s(e){return Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null}function eu(e,t,n,r){r=void 0===r?null:r;var i=null;return null!=(e=e.getAttribute(t))&&(i=n(e)),null==i?r:i}function tu(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function nu(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function ru(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function iu(e){return 0==(e=Number(e))%1?e:null}function au(e){return 0==(e=Number(e))%1&&0<e?e:null}function ou(e){return 0==(e=Number(e))%1&&0<=e?e:null}function su(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function uu(e,t){var n=new DOMParser,r=null,i=null;try{i=n.parseFromString(e,"text/xml")}catch(e){}return i&&i.documentElement.tagName==t&&(r=i.documentElement),r&&0<r.getElementsByTagName("parsererror").length?null:r}function cu(e,t){try{return uu(at(e),t)}catch(e){return null}}function lu(e,t){var n=function(e){for(var t=[],n=(e=c(e)).next();!n.done;n=e.next())(n=du(n.value))&&t.push(n);return t}(e),r=null,i=[],a=[],o=new Set(n.map((function(e){return e.keyId})));if(o.delete(null),1<o.size)throw new he(2,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Nd||(r=e.init||r,!1)}))).length&&(0==(i=function(e,t){for(var n=[],r=c(t),i=r.next();!i.done;i=r.next()){i=i.value;var a=fu.get(i.Nd);if(a){var o;if(o=Xs(i.node,"urn:microsoft:playready","pro")){o=zt(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=o.length,l=s.length+16+u,d=new Uint8Array(l),f=xe(d),p=0;f.setUint32(p,l),p+=4,f.setUint32(p,1886614376),p+=4,f.setUint32(p,0),p+=4,d.set(s,p),p+=s.length,f.setUint32(p,u),p+=4,d.set(o,p),o=[{initData:d,initDataType:"cenc",keyId:i.keyId}]}else o=null;o=Tt(a,i.init||e||o),(a=pu.get(a))&&(o.licenseServerUri=a(i)),n.push(o)}}return n}(r,a)).length&&(i=[Tt("",r)])),n.length&&(t||!a.length))for(i=[],a=(n=c(fu.values())).next();!a.done;a=n.next())"org.w3.clearkey"!=(a=a.value)&&i.push(Tt(a,r));if(o=Array.from(o)[0]||null)for(a=(n=c(i)).next();!a.done;a=n.next())for(var s=(a=c(a.value.initData)).next();!s.done;s=a.next())s.value.keyId=o;return{ud:o,Hf:r,drmInfos:i,xd:!0}}function du(e){var t=e.getAttribute("schemeIdUri"),n=Js(e,"urn:mpeg:cenc:2013","default_KID"),r=Qs(e,"urn:mpeg:cenc:2013","pssh").map($s);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase()).includes(" "))throw new he(2,4,4009);var i=[];try{i=r.map((function(e){return{initDataType:"cenc",initData:zt(e),keyId:null}}))}catch(e){throw new he(2,4,4007)}return{node:e,Nd:t,keyId:n,init:0<i.length?i:null}}var fu=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),pu=(new Map).set("com.widevine.alpha",(function(e){return(e=Xs(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return(e=Xs(e.node,"urn:microsoft:playready","pro"))&&(e=function(e){var t=0,n=xe(e),r=n.getUint32(t,!0);if(r!=e.byteLength)return[];e:{for(e=t+6,t=[];e<n.byteLength-1;){r=n.getUint16(e,!0),e+=2;var i=n.getUint16(e,!0);if(e+=2,0!=(1&i)||i+e>n.byteLength){n=[];break e}var a=Ie(n,e,i);t.push({type:r,value:a}),e+=i}n=t}return n}(e=zt(e.textContent)).filter((function(e){return 1===e.type}))[0])&&(e=uu(e=ot(e.value,!0),"WRMHEADER"))?function(e){for(var t=(e=c(e.getElementsByTagName("DATA"))).next();!t.done;t=e.next())for(var n=(t=c(t.value.childNodes)).next();!n.done;n=t.next())if((n=n.value)instanceof Element&&"LA_URL"==n.tagName)return n.textContent;return""}(e):""}));function hu(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t}))}function vu(e,t){var n=mu(e,t,"timescale"),r=1;n&&(r=au(n)||1),(n=au((n=mu(e,t,"duration"))||""))&&(n/=r);var i=mu(e,t,"startNumber"),a=Number(mu(e,t,"presentationTimeOffset"))||0,o=ou(i||"");null!=i&&null!=o||(o=1);var s=gu(e,t,"SegmentTimeline");if(i=null,s){i=r;var u=e.O.duration||1/0,l=Zs(s,"S");s=[];for(var d=-a,f=(l=c($(l))).next();!f.done;f=l.next()){var p=(f=f.value).item,h=f.next,v=eu(p,"t",ou);f=eu(p,"d",ou);var m=eu(p,"r",iu);if(null!=v&&(v-=a),!f)break;if(p=null!=v?v:d,0>(v=m||0))if(h){if(null==(h=eu(h,"t",ou)))break;if(p>=h)break;v=Math.ceil((h-p)/f)-1}else{if(1/0==u)break;if(p/i>=u)break;v=Math.ceil((u*i-p)/f)-1}for(0<s.length&&p!=d&&(s[s.length-1].end=p/i),v=(h=c(J(v+1))).next();!v.done;v=h.next())d=p+f,s.push({start:p/i,end:d/i,ef:p}),p=d}i=s}return{timescale:r,Z:n,qb:o,Ga:a/r||0,qd:a,timeline:i}}function mu(e,t,n){return[t(e.F),t(e.aa),t(e.ka)].filter(St).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function gu(e,t,n){return[t(e.F),t(e.aa),t(e.ka)].filter(St).map((function(e){return qs(e,n)})).reduce((function(e,t){return e||t}))}function yu(e,t,n,r,i,a){if(a=void 0===a?0:a,Js(e,"http://www.w3.org/1999/xlink","href")){var o=function(e,t,n,r,i,a){for(var o=Js(e,"http://www.w3.org/1999/xlink","href"),s=Js(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=c(Array.from(e.attributes)),l=u.next();!l.done;l=u.next())"http://www.w3.org/1999/xlink"==(l=l.value).namespaceURI&&e.removeAttributeNS(l.namespaceURI,l.localName);if(5<=a)return Ae(new he(2,4,4028));if("onLoad"!=s)return Ae(new he(2,4,4027));var d=wt([r],[o]);return i.request(0,Ke(d,t)).U((function(r){if(!(r=cu(r.data,e.tagName)))return Ae(new he(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=(r=c(Array.from(r.attributes))).next();!s.done;s=r.next())e.setAttributeNode(s.value.cloneNode(!1));return yu(e,t,n,d[0],i,a+1)}))}(e,t,n,r,i,a);return n&&(o=o.U(void 0,(function(){return yu(e,t,n,r,i,a)}))),o}o=[];for(var s=c(Array.from(e.childNodes)),u=s.next();!u.done;u=s.next())(u=u.value)instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Js(u,"http://www.w3.org/1999/xlink","href")?e.removeChild(u):"SegmentTimeline"!=u.tagName&&o.push(yu(u,t,n,r,i,a)));return Te(o).U((function(){return e}))}function bu(e,t,n,r,i,a,o){var s,u=(new Ri).ea("sidx",(function(e){s=function(e,t,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.J();if(0==u)throw new he(2,3,3005);if(0==o.version)var l=o.reader.J(),d=o.reader.J();else l=o.reader.pb(),d=o.reader.pb();o.reader.skip(2);var f=o.reader.Kb();for(e=e+o.size+d,f=c(J(f)),d=f.next();!d.done;d=f.next()){var p=o.reader.J();d=(2147483648&p)>>>31,p&=2147483647;var h=o.reader.J();if(o.reader.skip(4),1==d)throw new he(2,3,3006);s.push(new Zr(l/u+n,(l+h)/u+n,(function(){return a}),e,e+p-1,t,n,r,i)),l+=h,e+=p}return o.parser.stop(),s}(t,r,i,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new he(2,3,3004)}function _u(e){this.b=xe(e),this.a=new Ii(this.b,0)}function Au(e){var t=Su(e);if(7<t.length)throw new he(2,3,3002);for(var n=0,r=(t=c(t)).next();!r.done;r=t.next())n=256*n+r.value;t=Su(e);e:{for(var i=(r=c(Eu)).next();!i.done;i=r.next())if(Ce(t,new Uint8Array(i.value))){r=!0;break e}r=!1}if(r)t=e.b.byteLength-e.a.B;else{if(8==t.length&&224&t[1])throw new he(2,3,3001);r=0;for(var a=(i=c($(t))).next();!a.done;a=i.next()){var o=(a=a.value).item;r=0==a.Y?o&(1<<8-t.length)-1:256*r+o}t=r}return t=e.a.B+t<=e.b.byteLength?t:e.b.byteLength-e.a.B,r=xe(e.b,e.a.B,t),e.a.skip(t),new wu(n,r)}function Su(e){var t=e.a.B,n=e.a.oa();if(0==n)throw new he(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.a.skip(n-1),Ie(e.b,t,n)}_u.prototype.ua=function(){return this.a.ua()};var Eu=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function wu(e,t){this.id=e,this.a=t}function Tu(e){if(8<e.a.byteLength)throw new he(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new he(2,3,3001);for(var t=0,n=c(J(e.a.byteLength)),r=n.next();!r.done;r=n.next())t=256*t+(r=e.a.getUint8(r.value));return t}function Pu(e){var t=new _u(e.a);if(179!=(e=Au(t)).id)throw new he(2,3,3013);if(e=Tu(e),183!=(t=Au(t)).id)throw new he(2,3,3012);t=new _u(t.a);for(var n=0;t.ua();){var r=Au(t);if(241==r.id){n=Tu(r);break}}return{ff:e,Me:n}}function Cu(e,t){var n=gu(e,t,"Initialization");if(!n)return null;var r=e.F.na,i=n.getAttribute("sourceURL");i&&(r=wt(e.F.na,[i])),i=0;var a=null;return(n=eu(n,"range",ru))&&(i=n.start,a=n.end),new Xr((function(){return r}),i,a)}function Ou(e,t){var n=Number(mu(e,Iu,"presentationTimeOffset"))||0,r=mu(e,Iu,"timescale"),i=1;r&&(i=au(r)||1);var a=n/i||0,o=Cu(e,Iu);!function(e,t){if(Du(e,t),!xu(e))throw new he(2,4,4002)}(e,o);var s=je(e);return{hb:function(){var e=gu(s,Iu,"RepresentationIndex"),n=s.F.na;return e&&(e=e.getAttribute("sourceURL"))&&(n=wt(s.F.na,[e])),e=xu(s),ku(s,t,o,n,e.start,e.end,a)}}}function ku(e,t,n,r,i,a,o){var s,u,c,l,d,f,p,h,v,m,g,y,b,A,S;return R((function(E){var w;if(1==E.a)return s=e.presentationTimeline,u=!e.Na||!e.O.Dd,c=e.O.start,l=e.O.duration,d=e.F.mimeType.split("/")[1],p=null,h=[(f=t)(r,i,a),"webm"==d?f(n.c(),n.b,n.a):null],f=null,_(E,Promise.all(h),2);if(v=E.b,m=v[0],g=v[1]||null,null,b=c-o,A=c,S=l?c+l:1/0,"mp4"==d)var T=bu(m,i,r,n,b,A,S);else{if(440786851!=Au(T=new _u(g)).id)throw new he(2,3,3008);var P=Au(T);if(408125543!=P.id)throw new he(2,3,3009);for(T=P.a.byteOffset,P=new _u(P.a),w=null;P.ua();){var C=Au(P);if(357149030==C.id){w=C;break}}if(!w)throw new he(2,3,3010);for(w=new _u(w.a),C=1e6,P=null;w.ua();){var O=Au(w);if(2807729==O.id)C=Tu(O);else if(17545==O.id)if(4==O.a.byteLength)P=O.a.getFloat32(0);else{if(8!=O.a.byteLength)throw new he(2,3,3003);P=O.a.getFloat64(0)}}if(null==P)throw new he(2,3,3011);if(P=(w={$e:w=C/1e9,duration:P*w}).$e,w=w.duration,475249515!=(C=Au(new _u(m))).id)throw new he(2,3,3007);T=function(e,t,n,r,i,a,o,s,u){function c(){return i}var l=[];e=new _u(e.a);for(var d=null,f=null;e.ua();){var p=Au(e);if(187==p.id){var h=Pu(p);h&&(p=n*h.ff,h=t+h.Me,null!=d&&l.push(new Zr(d+o,p+o,c,f,h-1,a,o,s,u)),d=p,f=h)}}return null!=d&&l.push(new Zr(d+o,r+o,c,f,null,a,o,s,u)),l}(C,T,P,w,r,n,b,A,S)}return y=T,s.mb(y),p=new gi(y),u&&p.Ja(A,S),E.return(p)}))}function Iu(e){return e.Lb}function xu(e){var t=gu(e,Iu,"RepresentationIndex");return e=ru((e=mu(e,Iu,"indexRange"))||""),t&&(e=eu(t,"range",ru,e)),e}function Du(e,t){var n=e.F.mimeType.split("/")[1];if("text"!=e.F.contentType&&"mp4"!=n&&"webm"!=n)throw new he(2,4,4006);if("webm"==n&&!t)throw new he(2,4,4005)}function Ru(e,t){var n=Cu(e,Mu),r=function(e){var t=function(e){return[e.F.Ma,e.aa.Ma,e.ka.Ma].filter(St).map((function(e){return Zs(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){return t.getAttribute("indexRange")&&!e.Bd&&(e.Bd=!0),{Fe:t.getAttribute("media"),start:(t=eu(t,"mediaRange",ru,{start:0,end:null})).start,end:t.end}}))}(e),n=(e=vu(e,Mu)).qb;0==n&&(n=1);var r=0;return e.Z?r=e.Z*(n-1):e.timeline&&0<e.timeline.length&&(r=e.timeline[0].start),{Z:e.Z,startTime:r,qb:n,Ga:e.Ga,timeline:e.timeline,jb:t}}(e);if(!r.Z&&!r.timeline&&1<r.jb.length)throw new he(2,4,4002);if(!r.Z&&!e.O.duration&&!r.timeline&&1==r.jb.length)throw new he(2,4,4002);if(r.timeline&&0==r.timeline.length)throw new he(2,4,4002);var i=null,a=null;return e.ka.id&&e.F.id&&(a=e.ka.id+","+e.F.id,i=t[a]),n=function(e,t,n,r,i){var a=r.jb.length;r.timeline&&r.timeline.length!=r.jb.length&&(a=Math.min(r.timeline.length,r.jb.length));for(var o=e-r.Ga,s=t?e+t:1/0,u=[],l=r.startTime,d={},f=(a=c(J(a))).next();!f.done;d={vc:d.vc},f=a.next()){f=f.value;var p=r.jb[f];d.vc=wt(n,[p.Fe]);var h;h=null!=r.Z?l+r.Z:r.timeline?r.timeline[f].end:l+t,u.push(new Zr(e+l,e+h,function(e){return function(){return e.vc}}(d),p.start,p.end,i,o,e,s)),l=h}return u}(e.O.start,e.O.duration,e.F.na,r,n),i?(i.kb(n),i.Oa(e.presentationTimeline.Qa())):(e.presentationTimeline.mb(n),i=new gi(n),a&&e.Na&&(t[a]=i)),e.Na&&e.O.Dd||i.Ja(e.O.start,e.O.duration?e.O.start+e.O.duration:1/0),{hb:function(){return Promise.resolve(i)}}}function Mu(e){return e.Ma}function Nu(e,t,n,r,i){var a=function(e){var t=mu(e,Lu,"initialization");if(!t)return null;var n=e.F.id,r=e.bandwidth||null,i=e.F.na;return new Xr((function(){var e=hu(t,n,null,r,null);return wt(i,[e])}),0,null)}(e),o=function(e){var t=vu(e,Lu),n=mu(e,Lu,"media");return e=mu(e,Lu,"index"),{Z:t.Z,timescale:t.timescale,qb:t.qb,Ga:t.Ga,qd:t.qd,timeline:t.timeline,Tc:n,Gb:e}}(e);!function(e){var t=e.Gb?1:0;if(t+=e.timeline?1:0,0==(t+=e.Z?1:0))throw new he(2,4,4002);if(1!=t&&(e.Gb&&(e.timeline=null),e.Z=null),!e.Gb&&!e.Tc)throw new he(2,4,4002)}(o);var s=je(e);if(o.Gb)return Du(e,a),{hb:function(){var e=hu(o.Gb,s.F.id,null,s.bandwidth||null,null);return e=wt(s.F.na,[e]),ku(s,t,a,e,0,null,o.Ga)}};if(o.Z)return r||(e.presentationTimeline.Uc(o.Z),e.presentationTimeline.Vc(e.O.start)),{hb:function(){return function(e,t,n,r){function i(e){var n=(e-f)*d,i=n+t.Ga;return new Zr(n+=s,Math.min(n+d,l),(function(){var t=hu(h,m,e,v,i*p);return wt(g,[t])}),0,null,r,y,s,l)}function a(){var e=[Math.max(o.Qa(),s),Math.min(o.Ka(),l)].map((function(e){return e-s}));return[Math.ceil(e[0]/d),Math.ceil(e[1]/d)-1].map((function(e){return e+f}))}var o=e.presentationTimeline,s=e.O.start,u=e.O.duration,l=u?s+u:1/0,d=t.Z,f=t.qb,p=t.timescale,h=t.Tc,v=e.bandwidth||null,m=e.F.id,g=e.F.na,y=s-t.Ga,b=a();u=b[1];var _=[];for(e=e.Na?Math.max(b[0],b[1]-n+1):b[0];e<=u;++e)n=i(e),_.push(n);var A=new gi(_);if(o.Ka()<l){var S=u+1;A.oc(d,(function(){A.Oa(o.Qa());var e=c(a());e.next(),e=e.next().value;for(var t=[];S<=e;){var n=i(S);t.push(n),S++}return t}))}return Promise.resolve(A)}(s,o,i,a)}};var u=null;r=null,e.ka.id&&e.F.id&&(r=e.ka.id+","+e.F.id,u=n[r]);var l=function(e,t,n){var r=e.O.start,i=e.O.duration,a=r-t.Ga;i=i?r+i:1/0;for(var o=[],s={},u=c($(t.timeline)),l=u.next();!l.done;s={wc:s.wc,zc:s.zc,tc:s.tc,Ac:s.Ac},l=u.next()){var d=(l=l.value).item,f=d.start,p=d.ef;d=d.end,s.zc=l.Y+t.qb,s.Ac=p+t.qd,s.wc=e.F.id,s.tc=e.bandwidth||null,o.push(new Zr(r+f,r+d,function(n){return function(){var r=hu(t.Tc,n.wc,n.zc,n.tc||null,n.Ac);return wt(e.F.na,[r]).map((function(e){return e.toString()}))}}(s),0,null,n,a,r,i))}return o}(s,o,a),d=e.O.start,f=e.O.duration?e.O.start+e.O.duration:1/0,p=1/0!=f;return u?(p&&new gi(l).Ja(d,f),u.kb(l),u.Oa(e.presentationTimeline.Qa())):(e.presentationTimeline.mb(l),u=new gi(l),r&&e.Na&&(n[r]=u)),p&&u.Ja(d,f),{hb:function(){return Promise.resolve(u)}}}function Lu(e){return e.Mb}function ju(){this.f=[],this.a=[],this.b=[],this.c=[],this.g=new Set}function Bu(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,v,m,g,y,b,S,E,w,T,P,C,O,k,I,x,D,M;return R((function(R){switch(R.a){case 1:if(r=Pt,function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var n=[],r=c(t.$b),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.channelsCount==s.channelsCount&&i.language==s.language&&i.bandwidth==s.bandwidth&&Ve(i.roles,s.roles)&&i.audioSamplingRate==s.audioSamplingRate&&i.primary==s.primary&&(a=!0);a||n.push(i)}t.$b=n}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var n=[],r=c(t.qc),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.width==s.width&&i.frameRate==s.frameRate&&Ve(i.roles,s.roles)&&kt(i.closedCaptions,s.closedCaptions)&&i.bandwidth==s.bandwidth&&(a=!0);a||n.push(i)}t.qc=n}}(t),function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){t=t.value;for(var n=[],r=c(t.textStreams),i=r.next();!i.done;i=r.next()){i=i.value;for(var a=!1,o=c(n),s=o.next();!s.done;s=o.next())s=s.value,i.id!=s.id&&i.language==s.language&&Ve(i.roles,s.roles)&&(a=!0);a||n.push(i)}t.textStreams=n}}(t),!n&&1==t.length){i=t[0],e.a=i.$b,e.b=i.qc,e.c=i.textStreams,R.u(2);break}for(a=-1,o=c($(t)),s=o.next();!s.done;s=o.next())u=s.value,l=u.Y,d=u.item,e.g.has(d.id)||(e.g.add(d.id),-1==a&&(a=l));if(-1==a)return R.return();for(f=t.map((function(e){return e.$b})),p=t.map((function(e){return e.qc})),h=t.map((function(e){return e.textStreams})),v=c(h),m=v.next();!m.done;m=v.next())m.value.push({id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new gi([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return _(R,Vu(e.a,f,a,Hu,Wu),3);case 3:return _(R,Vu(e.b,p,a,Hu,Wu),4);case 4:return _(R,Vu(e.c,h,a,Hu,Wu),2);case 2:if(g=0,y=[],e.b.length&&e.a.length)for(P=c(e.a),C=P.next();!C.done;C=P.next())for(O=C.value,k=c(e.b),I=k.next();!I.done;I=k.next())x=I.value,D=dn(O.drmInfos,x.drmInfos),O.drmInfos.length&&x.drmInfos.length&&!D.length||(M=g++,y.push({id:M,language:O.language,primary:O.primary,audio:O,video:x,bandwidth:(O.bandwidth||0)+(x.bandwidth||0),drmInfos:D,allowedByApplication:!0,allowedByKeySystem:!0}));else for(b=e.b.concat(e.a),S=c(b),E=S.next();!E.done;E=S.next())w=E.value,T=g++,y.push({id:T,language:w.language,primary:w.primary,audio:w.type==r.eb?w:null,video:w.type==r.Ca?w:null,bandwidth:w.bandwidth||0,drmInfos:w.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});e.f=y,A(R)}}))}function Uu(e){var t,n,r,i,a,o,s,u,l,d,f,p,h,v,m,g,y,b,A,S;return R((function(E){switch(E.a){case 1:if(t=Pt,1==e.length)return E.return(e[0]);for(n=e.map((function(e){return e.filter((function(e){return e.type==t.eb}))})),r=e.map((function(e){return e.filter((function(e){return e.type==t.Ca}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.$}))})),a=c(i),o=a.next();!o.done;o=a.next())o.value.push({id:0,originalId:"",primary:!1,type:"text",mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return _(E,Vu([],n,0,Gu,zu),2);case 2:return s=E.b,_(E,Vu([],r,0,Gu,zu),3);case 3:return u=E.b,_(E,Vu([],i,0,Gu,zu),4);case 4:if(l=E.b,d=0,u.length&&s.length)for(v=c(s),m=v.next();!m.done;m=v.next())for(g=m.value,y=c(u),b=y.next();!b.done;b=y.next())A=b.value,S=d++,A.variantIds.push(S),g.variantIds.push(S);else for(f=u.concat(s),p=c(f),h=p.next();!h.done;h=p.next())h.value.variantIds=[d++];return E.return(u.concat(s,l))}}))}function Vu(e,t,n,r,i){var a,o,s,u,l,d,f,p,h,v,m,g,y,b,A,S,E,w,T;return R((function(P){switch(P.a){case 1:for(a=Pt,o=[],s=c($(t)),u=s.next();!u.done;u=s.next())l=u.value,d=l.Y,f=l.item,d>=n?o.push(new Set(f)):o.push(new Set);p=c(e),h=p.next();case 2:if(h.done){P.u(4);break}return _(P,function(e,t,n,r,i){var a;return R((function(o){return 1==o.a?(a=Ku(t,e))?_(o,Promise.all(a.map((function(e){return e.createSegmentIndex()}))),2):o.return(!1):(Fu(e,a,n,r,i),o.return(!0))}))}(h.value,t,n,i,o),5);case 5:if(!P.b)throw new he(2,4,4037);h=p.next(),P.u(2);break;case 4:v=c(o),m=v.next();case 6:if(m.done){P.u(8);break}g=m.value,y=c(g),b=y.next();case 9:if(b.done){m=v.next(),P.u(6);break}return _(P,function(e,t,n,r,i){var a,o;return R((function(s){return 1==s.a?(a=n(e),(o=Ku(t,a))?a.createSegmentIndex?_(s,Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):s.u(2):s.return(null)):(Fu(a,o,0,r,i),s.return(a))}))}(b.value,t,r,i,o),12);case 12:(A=P.b)&&e.push(A),b=y.next(),P.u(9);break;case 8:for(S=c(o),m=S.next();!m.done;m=S.next())for(E=m.value,w={},T=c(E),b=T.next();!b.done;w={cb:w.cb},b=T.next())if(w.cb=b.value,(w.cb.type!=a.$||w.cb.language)&&e.some(function(e){return function(t){return t.mimeType==e.cb.mimeType&&xt(t.codecs)[0]==xt(e.cb.codecs)[0]}}(w)))throw new he(2,4,4037);return P.return(e)}}))}function Fu(e,t,n,r,i){for(var a=(t=c($(t))).next();!a.done;a=t.next()){var o=a.value;if(a=o.Y,o=o.item,a>=n){r(e,o);var s=!0;"audio"==e.type&&0==vr(e.language,o.language)&&(s=!1),s&&i[a].delete(o)}}}function Hu(e){return(e=Object.assign({},e)).originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new _i,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function Gu(e){return(e=Object.assign({},e)).keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function Wu(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var n=t.keyIds;if(n=new Set(l(e.keyIds).concat(l(n))),e.keyIds=n,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),n=dn(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new he(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var r=(n=c(t.closedCaptions)).next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,e.closedCaptions.set(r,i)}}e.segmentIndex.f.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=Hu(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),Wu(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&Wu(e.trickModeVideo,t)}function zu(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set(l(e.keyIds).concat(l(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,l(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map);for(var r=(n=c(t.closedCaptions)).next();!r.done;r=n.next()){var i=c(r.value);r=i.next().value,i=i.next().value,e.closedCaptions.set(r,i)}}}function Ku(e,t){for(var n=[],r=c(e),i=r.next();!i.done;i=r.next()){for(var a=t,o={audio:Yu,video:Yu,text:qu}[a.type],s={audio:Xu,video:Zu,text:Qu}[a.type],u=null,l=(i=c(i.value)).next();!l.done;l=i.next())!o(a,l=l.value)||u&&!s(a,u,l)||(u=l);if(!(a=u))return null;n.push(a)}return n}function Yu(e,t){var n;if(!(n=t.mimeType!=e.mimeType||xt(t.codecs)[0]!=xt(e.codecs)[0])&&(n=e.drmInfos)){n=e.drmInfos;var r=t.drmInfos;n=!(!n.length||!r.length||0<dn(n,r).length)}return!n}function qu(e,t){return!!e.language&&(!t.language||0!=vr(e.language,t.language)&&t.kind==e.kind)}function Xu(e,t,n){if(e.id==n.id)return!0;var r=vr(e.language,t.language),i=vr(e.language,n.language);return i>r||!(i<r)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&(e.roles.length?(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length||!(i.length<r.length)&&n.roles.length<t.roles.length):(r=Ju(e.channelsCount,t.channelsCount,n.channelsCount))==ec||r!=nc&&((r=Ju(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate))==ec||r!=nc&&!(!e.bandwidth||$u(e.bandwidth,t.bandwidth,n.bandwidth)!=ec))))}function Zu(e,t,n){if(e.id==n.id)return!0;var r=Ju(e.width*e.height,t.width*t.height,n.width*n.height);if(r==ec)return!0;if(r==nc)return!1;if(e.frameRate){if((r=Ju(e.frameRate,t.frameRate,n.frameRate))==ec)return!0;if(r==nc)return!1}return!(!e.bandwidth||$u(e.bandwidth,t.bandwidth,n.bandwidth)!=ec)}function Qu(e,t,n){if(e.id==n.id)return!0;var r=vr(e.language,t.language),i=vr(e.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(r=t.roles.filter((function(t){return e.roles.includes(t)})),(i=n.roles.filter((function(t){return e.roles.includes(t)}))).length>r.length)return!0;if(i.length<r.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function Ju(e,t,n){if(t==e&&e!=n)return nc;if(n==e&&e!=t)return ec;if(t>e){if(n<=e||n-e<t-e)return ec;if(n-e>t-e)return nc}else{if(n>e)return nc;if(e-n<e-t)return ec;if(e-n>e-t)return nc}return tc}function $u(e,t,n){return t=Math.abs(e-t),(e=Math.abs(e-n))<t?ec:t<e?nc:tc}ju.prototype.release=function(){for(var e=c(this.a.concat(this.b,this.c)),t=e.next();!t.done;t=e.next())(t=t.value).segmentIndex&&t.segmentIndex.release();this.a=[],this.b=[],this.c=[],this.f=[]};var ec=1,tc=0,nc=-1;function rc(){var e=this;this.s=this.i=null,this.b=[],this.o=null,this.m=1,this.f={},this.a=new ju,this.h=0,this.j=new V(5),this.g=new me((function(){e.Ib()})),this.c=new He}function ic(e){var t,n,r,i,a,o,s;return R((function(u){return 1==u.a?(t=Ke(e.b,e.i.retryParameters),n=e.s.networkingEngine,r=Date.now(),i=n.request(0,t),Ge(e.c,i),_(u,i.promise,2)):3!=u.a?(a=u.b,e.s?(a.uri&&!e.b.includes(a.uri)&&e.b.unshift(a.uri),_(u,function(e,t,n){var r,i,a,o;return R((function(s){if(1==s.a){if(!(r=cu(t,"MPD")))throw new he(2,4,4001,n);return i=e.i.dash.xlinkFailGracefully,a=yu(r,e.i.retryParameters,i,n,e.s.networkingEngine),Ge(e.c,a),_(s,a.promise,2)}return o=s.b,s.return(function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,v,m,g,y,b,A,E,P,C,O;return R((function(k){switch(k.a){case 1:r=[n],0<(i=Zs(t,"Location").map($s).filter(St)).length&&(a=wt(r,i),r=e.b=a),o=Zs(t,"BaseURL").map($s),s=wt(r,o),u=e.i.dash.ignoreMinBufferTime,l=0,u||(l=eu(t,"minBufferTime",nu)||0),e.h=eu(t,"minimumUpdatePeriod",nu,-1),d=eu(t,"availabilityStartTime",tu),f=eu(t,"timeShiftBufferDepth",nu),p=e.i.dash.ignoreSuggestedPresentationDelay,h=null,p||(h=eu(t,"suggestedPresentationDelay",nu)),v=eu(t,"maxSegmentDuration",nu),m=t.getAttribute("type")||"static",e.o?g=e.o.presentationTimeline:(y=e.i.defaultPresentationDelay||1.5*l,g=new Qr(d,null!=h?h:y,e.i.dash.autoCorrectDrift)),b={Na:"static"!=m,presentationTimeline:g,ka:null,O:null,aa:null,F:null,bandwidth:0,Bd:!1};for(var I=eu(t,"mediaPresentationDuration",nu),x=[],D=0,M=Zs(t,"Period"),N=(M=c($(M))).next();!N.done;N=M.next()){var L=N.value;N=L.item,L=L.next,D=eu(N,"start",nu,D);var j=eu(N,"duration",nu),B=null;if(L){var U=eu(L,"start",nu);null!=U&&(B=U-D)}else null!=I&&(B=I-D);if(null==B&&(B=j),N=ac(e,b,s,{start:D,duration:B,node:N,Dd:null==B||!L}),x.push(N),null==B){D=null;break}D+=B}return E=(A=null!=I?{periods:x,duration:I,vd:!1}:{periods:x,duration:D,vd:!0}).duration,P=A.periods,g.Nb("static"==m),"static"!=m&&A.vd||g.ya(E||1/0),g.S()&&!isNaN(e.i.availabilityWindowOverride)&&(f=e.i.availabilityWindowOverride),null==f&&(f=1/0),g.ld(f),g.Uc(v||1),_(k,Bu(e.a,P,b.Na),2);case 2:if(e.o){e.o.variants=e.a.f,e.o.textStreams=e.a.c,k.u(3);break}if(e.o={presentationTimeline:g,variants:e.a.f,textStreams:e.a.c,offlineSessionIds:[],minBufferTime:l||0},!g.Td()){k.u(3);break}return C=Zs(t,"UTCTiming"),_(k,function(e,t,n){var r,i,a,o,s,u,l,d;return R((function(f){switch(f.a){case 1:r=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),i=e.i.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=c(r),o=a.next();case 2:if(o.done){f.u(4);break}switch(s=o.value,S(f,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return d=Date.parse(l),f.return(isNaN(d)?0:d-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":K("NTP UTCTiming scheme is not supported");break;default:K("Unrecognized scheme in UTCTiming element",u)}f.u(9);break;case 7:return _(f,cc(e,t,l,"HEAD"),10);case 10:return f.return(f.b);case 8:return _(f,cc(e,t,l,"GET"),11);case 11:return f.return(f.b);case 9:w(f,3);break;case 5:T(f);case 3:o=a.next(),f.u(2);break;case 4:return K("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f.return(0)}}))}(e,s,C),5);case 5:if(O=k.b,!e.s)return k.return();g.Pd(O);case 3:return e.s.makeTextStreamsForClosedCaptions(e.o),_(k,e.s.filter(e.o),0)}}))}(e,o,n))}))}(e,a.data,a.uri),3)):u.return(0)):(o=Date.now(),s=(o-r)/1e3,F(e.j,1,s),u.return(s))}))}function ac(e,t,n,r){t.ka=uc(r.node,null,n),t.O=r,t.ka.id||(t.ka.id="__shaka_period_"+r.start);for(var i=(n=c(n=Zs(r.node,"EventStream"))).next();!i.done;i=n.next())lc(e,r.start,r.duration,i.value);if(n=Zs(r.node,"AdaptationSet").map((function(n){return function(e,t,n){if(t.aa=uc(n,t.ka,null),"image"==t.aa.contentType)return null;var r=!1,i=Zs(n,"Role"),a=i.map((function(e){return e.getAttribute("value")})).filter(St),o=void 0,s="text"==t.aa.contentType;s&&(o="subtitle");for(var u=(i=c(i)).next();!u.done;u=i.next()){var d=(u=u.value).getAttribute("schemeIdUri");if(null==d||"urn:mpeg:dash:role:2011"==d)switch(u=u.getAttribute("value"),u){case"main":r=!0;break;case"caption":case"subtitle":o=u}}d=Zs(n,"EssentialProperty"),i=null,u=!1;for(var f=(d=c(d)).next();!f.done;f=d.next())"http://dashif.org/guidelines/trickmode"==(f=f.value).getAttribute("schemeIdUri")?i=f.getAttribute("value"):u=!0;d=Zs(n,"Accessibility");var p=new Map;for(d=c(d),f=d.next();!f.done;f=d.next()){var h=f.value;if(f=h.getAttribute("schemeIdUri"),h=h.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==f||"urn:scte:dash:cc:cea-708:2015"==f)if(f=1,null!=h)for(var v=(h=c(h.split(";"))).next();!v.done;v=h.next()){var m=v.value,g=v=void 0;m.includes("=")?(m=m.split("="),v=m[0].startsWith("CC")?m[0]:"CC"+m[0],g=m[1].split(",")[0].split(":").pop()):(v="CC"+f,f+=2,g=m),p.set(v,hr(g))}else p.set("CC1","und");else"urn:mpeg:dash:role:2011"==f&&null!=h&&(a.push(h),"captions"==h&&(o="caption"))}if(u)return null;var y=lu(u=Zs(n,"ContentProtection"),e.i.dash.ignoreDrmInfo),b=hr(n.getAttribute("lang")||"und"),S=n.getAttribute("label");if((u=Zs(n,"Label"))&&u.length&&((u=u[0]).textContent&&(S=u.textContent)),u=Zs(n,"Representation"),0==(n=u.map((function(n){return function(e,t,n,r,i,a,o,s,u,c){if(t.F=uc(c,t.aa,null),!function(e){var t=e.Lb?1:0;return t+=e.Ma?1:0,0==(t+=e.Mb?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Lb&&(e.Ma=null),e.Mb=null),!0)}(t.F))return null;var l=t.O.start;t.bandwidth=eu(c,"bandwidth",au)||0;var d=t.F.contentType;d="text"==d||"application"==d;try{var f=function(t,n,r){return function(e,t,n,r){var i,a,o,s,u;return R((function(c){return 1==c.a?(i=Xe,a=Fi(t,n,r,e.i.retryParameters),o=e.s.networkingEngine,s=o.request(i,a),Ge(e.c,s),_(c,s.promise,2)):(u=c.b,c.return(u.data))}))}(e,t,n,r)};if(t.F.Lb)var p=Ou(t,f);else if(t.F.Ma)p=Ru(t,e.f);else if(t.F.Mb)p=Nu(t,f,e.f,!!e.o,e.i.dash.initialSegmentLimit);else{var h=t.F.na,v=t.O.duration||0;p={hb:function(){return Promise.resolve(yi(l,v,h))}}}}catch(e){if(d&&4002==e.code)return null;throw e}d=function(e,t,n){var r=lu(e,n);if(t.xd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==r.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=r.drmInfos),t.xd=!1;else if(0<r.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return r.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new he(2,4,4008);return r.ud||t.ud}(d=Zs(c,"ContentProtection"),n,e.i.dash.ignoreDrmInfo),d=new Set(d?[d]:[]),Zs(c,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.F.mimeType="audio/eac3-joc");var m={id:e.m++,originalId:t.F.id,createSegmentIndex:function(){var e;return R((function(t){if(1==t.a)return m.segmentIndex?t.u(0):(e=m,_(t,p.hb(),3));e.segmentIndex=t.b,A(t)}))},segmentIndex:null,mimeType:t.F.mimeType,codecs:t.F.codecs,frameRate:t.F.frameRate,pixelAspectRatio:t.F.pixelAspectRatio,bandwidth:t.bandwidth,width:t.F.width,height:t.F.height,kind:r,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:d,language:i,label:a,type:t.aa.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.F.emsgSchemeIdUris,roles:s,channelsCount:t.F.Wc,audioSamplingRate:t.F.audioSamplingRate,closedCaptions:u};return m}(e,t,y,o,b,S,r,a,p,n)})).filter((function(e){return!!e}))).length){if(e.i.dash.ignoreEmptyAdaptationSet||s)return null;throw new he(2,4,4003)}if(!t.aa.contentType||"application"==t.aa.contentType)for(t.aa.contentType=dc(n[0].mimeType,n[0].codecs),s=c(n),d=s.next();!d.done;d=s.next())d.value.type=t.aa.contentType;for(s=c(n),d=s.next();!d.done;d=s.next())for(d=d.value,f=c(y.drmInfos),h=f.next();!h.done;h=f.next())(h=h.value).keyIds=h.keyIds&&d.keyIds?new Set(l(h.keyIds).concat(l(d.keyIds))):h.keyIds||d.keyIds;return s=u.map((function(e){return e.getAttribute("id")})).filter(St),{id:t.aa.id||"__fake__"+e.m++,contentType:t.aa.contentType,language:b,If:r,streams:n,drmInfos:y.drmInfos,od:i,Pe:s}}(e,t,n)})).filter(St),t.Na){r=[];for(var a=(i=c(n)).next();!a.done;a=i.next())for(var o=(a=c(a.value.Pe)).next();!o.done;o=a.next())r.push(o.value);if(r.length!=new Set(r).size)throw new he(2,4,4018)}for(r=n.filter((function(e){return!e.od})),i=(n=c(n=n.filter((function(e){return e.od})))).next();!i.done;i=n.next()){i=(a=i.value).streams[0],a=a.od;for(var s=(o=c(r)).next();!s.done;s=o.next())if((s=s.value).id==a)for(var u=(s=c(s.streams)).next();!u.done;u=s.next())u.value.trickModeVideo=i}if(i=e.i.disableAudio?[]:oc(r,"audio"),a=e.i.disableVideo?[]:oc(r,"video"),n=e.i.disableText?[]:oc(r,"text"),!a.length&&!i.length)throw new he(2,4,4004);for(r=[],o=(i=c(i)).next();!o.done;o=i.next())r.push.apply(r,l(o.value.streams));for(i=[],o=(a=c(a)).next();!o.done;o=a.next())i.push.apply(i,l(o.value.streams));for(a=[],o=(n=c(n)).next();!o.done;o=n.next())a.push.apply(a,l(o.value.streams));return{id:t.ka.id,$b:r,qc:i,textStreams:a}}function oc(e,t){return e.filter((function(e){return e.contentType==t}))}function sc(e,t){0>e.h||e.g.R(Math.max(3,e.h-t,H(e.j)))}function uc(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Wc:null,audioSamplingRate:null},n=n||t.na;for(var r=Zs(e,"BaseURL").map($s),i=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,o=e.getAttribute("codecs")||t.codecs,s=eu(e,"frameRate",su)||t.frameRate,u=e.getAttribute("sar")||t.pixelAspectRatio,l=Zs(e,"InbandEventStream"),d=t.emsgSchemeIdUris.slice(),f=(l=c(l)).next();!f.done;f=l.next())f=f.value.getAttribute("schemeIdUri"),d.includes(f)||d.push(f);return l=function(e){for(var t=(e=c(e)).next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(t=parseInt(n,10)))continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16)){for(e=0;t;)1&t&&++e,t>>=1;return e}}}return null}(l=Zs(e,"AudioChannelConfiguration"))||t.Wc,f=eu(e,"audioSamplingRate",ou)||t.audioSamplingRate,i||(i=dc(a,o)),{na:wt(n,r),Lb:qs(e,"SegmentBase")||t.Lb,Ma:qs(e,"SegmentList")||t.Ma,Mb:qs(e,"SegmentTemplate")||t.Mb,width:eu(e,"width",ou)||t.width,height:eu(e,"height",ou)||t.height,contentType:i,mimeType:a,codecs:o,frameRate:s,pixelAspectRatio:u,emsgSchemeIdUris:d,id:e.getAttribute("id"),Wc:l,audioSamplingRate:f}}function cc(e,t,n,r){var i,a,o,s,u,c;return R((function(l){if(1==l.a)return i=wt(t,[n]),(a=Ke(i,e.i.retryParameters)).method=r,o=e.s.networkingEngine.request(4,a),Ge(e.c,o),_(l,o.promise,2);if(s=l.b,"HEAD"==r){if(!s.headers||!s.headers.date)return l.return(0);u=s.headers.date}else u=at(s.data);return c=Date.parse(u),isNaN(c)?l.return(0):l.return(c-Date.now())}))}function lc(e,t,n,r){for(var i=r.getAttribute("schemeIdUri")||"",a=r.getAttribute("value")||"",o=eu(r,"timescale",ou)||1,s=(r=c(Zs(r,"Event"))).next();!s.done;s=r.next()){var u=eu(s=s.value,"presentationTime",ou)||0,l=eu(s,"duration",ou)||0;l=(u=u/o+t)+l/o,null!=n&&(u=Math.min(u,t+n),l=Math.min(l,t+n)),s={schemeIdUri:i,value:a,startTime:u,endTime:l,id:s.getAttribute("id")||"",eventElement:s},e.s.onTimelineRegionAdded(s)}}function dc(e,t){return Kn(It(e,t))?"text":e.split("/")[0]}function fc(e,t,n,r){this.a=e,this.type=t,this.V=n,this.segments=r||null}function pc(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r}function hc(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function vc(e,t){var n=e.getAttribute(t);if(!n)throw new he(2,4,4023,t);return n.value}function mc(e,t){this.V=t,this.a=e}function gc(e,t){this.name=e,this.value=t}function yc(e,t){return e.filter((function(e){return e.name==t}))}function bc(e,t){return e.filter((function(e){return vc(e,"TYPE")==t}))}function _c(e,t){var n=yc(e,t);return n.length?n[0]:null}function Ac(e,t,n){return n=void 0===n?0:n,(e=_c(e,t))?Number(e.value):n}function Sc(e){this.b=e,this.a=0}function Ec(e){wc(e,/[ \t]+/gm)}function wc(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)}function Tc(e){return e.a==e.b.length?null:(e=wc(e,/[^ \t\n]*/gm))?e[0]:null}function Pc(){this.a=0}function Cc(e,t,n){var r=(t=(t=at(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new he(2,4,4015);t=0;for(var i=!0,a=c(r),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||i)i=!1;else{if(o=Oc(e.a++,o),--e.a,kc.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(i=!0)}a=[],i=!0;for(var s=(o=c($(r))).next();!s.done;s=o.next()){var u=s.value;s=u.Y;var l=u.item;if(u=u.next,/^#(?!EXT)/m.test(l)||i)i=!1;else{if(l=Oc(e.a++,l),Ic.includes(l.name)){if(1!=t)throw new he(2,4,4017);for(l=r.splice(s,r.length-s),r=n,i=[],o=[],s=null,u=(l=c(l)).next();!u.done;u=l.next())u=u.value,/^(#EXT)/.test(u)?(u=Oc(e.a++,u),kc.includes(u.name)?a.push(u):"EXT-X-MAP"==u.name?s=u:o.push(u)):/^#(?!EXT)/m.test(u)||(u=wt([r],[u.trim()])[0],s&&o.push(s),i.push(new mc(u,o)),o=[]);return new fc(n,t,a,i)}a.push(l),"EXT-X-STREAM-INF"==l.name&&(l.a.push(new gc("URI",u)),i=!0)}}return new fc(n,t,a)}function Oc(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new he(2,4,4016,t);var r,i=n[1],a=n[2];if(n=[],a){var o;(o=wc(a=new Sc(a),/^([^,=]+)(?:,|$)/g))&&(r=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=wc(a,s);)n.push(new gc(o[1],o[2]||o[3]))}return new pc(e,i,n,r)}(r=rc.prototype).configure=function(e){this.i=e},r.start=function(e,t){var n,r=this;return R((function(i){if(1==i.a)return r.b=[e],r.s=t,_(i,ic(r),2);if(n=i.b,r.s&&sc(r,n),!r.s)throw new he(2,7,7001);return i.return(r.o)}))},r.stop=function(){for(var e=c(Object.values(this.f)),t=e.next();!t.done;t=e.next())t.value.release();return this.a&&this.a.release(),this.i=this.s=null,this.b=[],this.o=null,this.f={},this.a=null,null!=this.g&&(this.g.stop(),this.g=null),this.c.destroy()},r.update=function(){var e,t=this;return R((function(n){return 1==n.a?(S(n,2),_(n,ic(t),4)):2!=n.a?w(n,0):(e=T(n),t.s&&e?(t.s.onError(e),void A(n)):n.return())}))},r.onExpirationUpdated=function(){},r.Ib=function(){var e,t,n=this;return R((function(r){switch(r.a){case 1:return e=0,S(r,2),_(r,ic(n),4);case 4:e=r.b,w(r,3);break;case 2:t=T(r),n.s&&(t.severity=1,n.s.onError(t));case 3:if(!n.s)return r.return();sc(n,e),A(r)}}))},U("shaka.dash.DashParser",rc),qr.mpd=function(){return new rc},Yr["application/dash+xml"]=function(){return new rc},Yr["video/vnd.mpeg.dash.mpd"]=function(){return new rc},pc.prototype.toString=function(){var e="#"+this.name,t=this.a?this.a.map((function(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)})):[];return this.value&&t.unshift(this.value),0<t.length&&(e+=":"+t.join(",")),e},pc.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var kc="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Ic="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function xc(){}function Dc(e){try{var t=Rc(e);return Ee({uri:e,Jd:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return Ae(e)}}function Rc(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new he(2,1,1004,t);if(2>(n=n.slice(1).join(":").split(",")).length)throw new he(2,1,1004,t);var r=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return 1<n.length&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?zt(t):ut(t),contentType:r}}function Mc(){var e=this;this.i=this.s=null,this.Ba=1,this.j=new Map,this.g=new Map,this.ra=new Set,this.a=new Map,this.b=null,this.I="",this.G=new Pc,this.ca=0,this.h=new me((function(){e.Ib()})),this.c=rl,this.o=null,this.M=0,this.T=1/0,this.m=new He,this.W=[],this.w=new Map,this.Aa=!1,this.f=new Map,this.C=null,this.H=new Map,this.v=new Map}function Nc(e,t){var n,r,i,a,o,s,u,c,l;return R((function(d){if(1==d.a)return n=ol,r=t.Yd,_(d,Jc(e,Ke([r],e.i.retryParameters),0),2);if(3!=d.a){if(i=d.b,1!=(a=Cc(e.G,i.data,i.uri)).type)throw new he(2,4,4017);return o=yc(a.V,"EXT-X-DEFINE"),s=Lc(e,o),u=t.stream,_(d,Wc(e,t.pc,a,u.mimeType,t.Ed,s),3)}c=d.b,u.segmentIndex.kb(c),c.length&&u.segmentIndex.Oa(c[0].startTime),l=c[c.length-1],_c(a.V,"EXT-X-ENDLIST")&&(Qc(e,n.Wd),e.b.ya(l.endTime)),A(d)}))}function Lc(e,t){for(var n=new Map,r=c(t),i=r.next();!i.done;i=r.next()){var a=i.value;i=hc(a,"NAME");var o=hc(a,"VALUE");a=hc(a,"IMPORT"),i&&o&&n.set(i,o),a&&(i=e.j.get(a))&&n.set(a,i)}return n}function jc(e,t){var n=[];e.i.disableVideo||n.push("avc1.42E01E"),e.i.disableAudio||n.push("mp4a.40.2");var r=hc(t,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;for(var i=[],a=(r=c(r)).next();!a.done;a=r.next()){var o=xt(a=a.value)[0];n.has(o)||(i.push(a),n.add(o))}return i}function Bc(e){return hr(e=hc(e,"LANGUAGE")||"und")}function Uc(e,t){var n,r,i,a,o,s,u,c,l,d,f;return R((function(p){if(1==p.a){n=vc(t,"GROUP-ID"),r="";var h=vc(t,"TYPE").toLowerCase();return"subtitles"==h&&(h="text"),"text"!=(i=h)&&n&&e.f.has(n)&&(r=e.f.get(n)),a=Xc(vc(t,"URI"),e.j),e.a.has(a)?p.return(e.a.get(a)):(o=Bc(t),s=hc(t,"NAME"),u=t.getAttribute("DEFAULT"),c="YES"==u,h="audio"==i&&(h=hc(t,"CHANNELS"))?parseInt(h.split("/")[0],10):null,l=h,d=hc(t,"CHARACTERISTICS"),_(p,Vc(e,a,r,i,o,c,s,l,null,d),2))}return f=p.b,e.g.has(n)?e.g.get(n).push(f):e.g.set(n,[f]),null==f?p.return(null):e.a.has(a)?p.return(e.a.get(a)):(e.a.set(a,f),p.return(f))}))}function Vc(e,t,n,r,i,a,o,s,u,d){var f,p,h,v,m,g,y,b,A,E,P,C,O,k,I,x,D,M,N,L,j,B,U,V,F,H,G,W,z,Y,q,X,Z;return R((function(Q){switch(Q.a){case 1:return f=wt([e.I],[t])[0],_(Q,Jc(e,Ke([f],e.i.retryParameters),0),2);case 2:if(p=Q.b,f=p.uri,1!=(h=Cc(e.G,p.data,f)).type)throw new he(2,4,4017);if(v=[],h.segments)for(m=c(h.segments),g=m.next();!g.done;g=m.next())y=g.value,b=yc(y.V,"EXT-X-KEY"),v.push.apply(v,l(b));for(A=!1,E=[],P=new Set,C=c(v),O=C.next();!O.done;O=C.next())if(k=O.value,"NONE"!=(I=vc(k,"METHOD"))){if(A=!0,"AES-128"==I)return e.Aa=!0,Q.return(null);if(x=vc(k,"KEYFORMAT"),M=(D=nl[x])?D(k):null){if(M.keyIds)for(N=c(M.keyIds),L=N.next();!L.done;L=N.next())j=L.value,P.add(j);E.push(M)}}if(A&&!E.length)throw new he(2,4,4026);return B=yc(h.V,"EXT-X-DEFINE"),U=Lc(e,B),function(e,t){var n=_c(t.V,"EXT-X-PLAYLIST-TYPE"),r=_c(t.V,"EXT-X-ENDLIST");r=n&&"VOD"==n.value||r,n=n&&"EVENT"==n.value&&!r,n=!r&&!n,r?Qc(e,rl):(Qc(e,n?al:il),r=Zc(t.V,"EXT-X-TARGETDURATION"),r=Number(r.value),e.M=Math.max(r,e.M),e.T=Math.min(r,e.T))}(e,h),_(Q,function(e,t,n,r,i){var a,o,s,u,c,l,d,f,p,h;return R((function(v){if(1==v.a)return a=Pt,o=Xe,s=Xc(r.segments[0].a,i),u=new te(s),c=u.ja.split(".").pop(),l=tl[t],(d=l[c])?v.return(d):t==a.$?n&&"vtt"!=n&&"wvtt"!=n?v.return("application/mp4"):v.return("text/vtt"):((f=Ke([s],e.i.retryParameters)).method="HEAD",_(v,Jc(e,f,o),2));if(p=v.b,!(h=p.headers["content-type"]))throw new he(2,4,4021,c);return v.return(h.split(";")[0])}))}(e,r,n,h,U),3);case 3:return V=Q.b,el.includes(V)&&(n=""),F=new Map,S(Q,4),_(Q,Wc(e,t,h,V,F,U),6);case 6:H=Q.b,w(Q,5);break;case 4:if(4035==(G=T(Q)).code)return K("Skipping unsupported HLS stream",V,t),Q.return(null);throw G;case 5:return W=H[0].startTime,z=H[H.length-1].endTime,Y=new gi(H),q="text"==r?"subtitle":void 0,X=[],d&&X.push(d),Z={id:e.Ba++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Y,mimeType:V,codecs:n,kind:q,encrypted:A,drmInfos:E,keyIds:P,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:X,channelsCount:s,audioSamplingRate:null,closedCaptions:u},Q.return({stream:Z,pc:t,Yd:f,Fd:W,Ee:z,Ed:F})}}))}function Fc(e,t,n,r){return(n=_c(n,"EXT-X-MAP"))?(t=[r=Xc(wt([t],[vc(n,"URI")])[0],r),hc(n,"BYTERANGE","")].join("-"),e.H.has(t)||(n=function(e,t){var n=0,r=null,i=hc(t,"BYTERANGE");return i&&(n=i.split("@"),r=Number(n[0]),n=Number(n[1]),r=n+r-1),new Xr((function(){return[e]}),n,r)}(r,n),e.H.set(t,n)),e.H.get(t)):null}function Hc(e,t,n,r,i,a){var o=n.V,s=Xc(n.a,a);n=Zc(o,"EXTINF").value.split(","),n=r+Number(n[0]),a=0;var u=null;return(o=_c(o,"EXT-X-BYTERANGE"))&&(a=o.value.split("@"),o=Number(a[0]),u=(a=a[1]?Number(a[1]):t.a+1)+o-1),new Zr(r,n,(function(){return[s]}),a,u,e,i,0,1/0)}function Gc(e){if(e.b){for(var t=c(e.W),n=t.next();!n.done;n=t.next())e.b.mb(n.value);e.W=[]}}function Wc(e,t,n,r,i,a){var o,s,u,l,d,f,p,h,v,m,g,y,b,A,S,E,w;return R((function(T){switch(T.a){case 1:if(o=n.segments,u=Ac(n.V,"EXT-X-MEDIA-SEQUENCE",0),e.c!=rl&&i.has(u)){l=i.get(u),T.u(2);break}if(null!=e.C){T.u(3);break}return s=Fc(e,n.a,o[0].V,a),d=e,_(T,Kc(e,t,s,r,u,!1,o[0],a),4);case 4:d.C=T.b;case 3:l=e.C;case 2:o[0].a.split("/").pop(),f=Ac(n.V,"EXT-X-DISCONTINUITY-SEQUENCE"),p=e.v.get(f)||0,h=[],v=c(function(e){return $(e)}(o)),m=v.next();case 5:if(m.done){T.u(7);break}if(g=m.value,y=g.Y,b=g.item,A=h[h.length-1],S=0==y?l:A.endTime,E=u+y,i.set(E,S),s=Fc(e,n.a,b.V,a),!_c(b.V,"EXT-X-DISCONTINUITY")){T.u(8);break}return f++,_(T,function(e,t,n,r,i,a,o,s,u){var c,l;return R((function(d){return 1==d.a?(c=0,e.v.has(t)?(c=e.v.get(t),d.u(2)):_(d,Kc(e,n,r,i,a,!0,o,s),3)):(2!=d.a&&(l=d.b,c=u-l,e.v.set(t,c)),d.return(c))}))}(e,f,t,s,r,E,b,a,S),9);case 9:p=T.b;case 8:w=Hc(s,A,b,S,p,a),h.push(w),m=v.next(),T.u(5);break;case 7:return e.W.push(h),Gc(e),T.return(h)}}))}function zc(e,t){var n,r,i,a,o,s;return R((function(u){switch(u.a){case 1:return n=Xe,r=Fi(t.c(),t.b,t.a,e.i.retryParameters),e.i.hls.useFullSegmentsForStartTime?u.return(Jc(e,r,n)):(i=Fi(t.c(),t.b,t.b+2048-1,e.i.retryParameters),S(u,2),_(u,Jc(e,i,n),4));case 4:return a=u.b,u.return(a);case 2:if(7001==(o=T(u)).code)throw o;return K("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),_(u,Jc(e,r,n),5);case 5:return s=u.b,u.return(s)}}))}function Kc(e,t,n,r,i,a,o,s){var u,c,l,d,f,p,h,v;return R((function(m){switch(m.a){case 1:if(u=Hc(n,null,o,0,0,s),e.o&&!a&&(c=e.a.get(t),null!=(l=c.Ed.get(i))))return m.return(l);if(r=r.toLowerCase(),el.includes(r))throw K("Raw formats are not yet supported.  Skipping "+r),new he(1,4,4035);if("video/webm"==r)throw K("WebM in HLS is not yet supported.  Skipping."),new he(1,4,4035);if("video/mp4"!=r&&"audio/mp4"!=r){m.u(2);break}return d=[zc(e,u)],n&&d.push(zc(e,n)),_(m,Promise.all(d),3);case 3:return f=m.b,p=f[0],h=f[1]||f[0],m.return(function(e,t,n,r){var i=0;if((new Ri).L("moov",Mi).L("trak",Mi).L("mdia",Mi).ea("mdhd",(function(e){e.reader.skip(0==e.version?8:16),i=e.reader.J(),e.parser.stop()})).parse(r,!0),!i)throw new he(2,4,4030,e,t);var a=0,o=!1;if((new Ri).L("moof",Mi).L("traf",Mi).ea("tfdt",(function(e){a=(0==e.version?e.reader.J():e.reader.pb())/i,o=!0,e.parser.stop()})).parse(n,!0),!o)throw new he(2,4,4030,e,t);return a}(t,p.uri,p.data,h.data));case 2:if("video/mp2t"!=r){m.u(4);break}return _(m,zc(e,u),5);case 5:return v=m.b,m.return(function(e,t,n){function r(){a.seek(o+188),71!=(s=a.oa())&&(a.seek(o+192),s=a.oa()),71!=s&&(a.seek(o+204),s=a.oa()),71!=s&&i(),a.Md(1)}function i(){throw new he(2,4,4030,e,t)}for(var a=new Ii(n,0),o=0,s=0;;)if(o=a.B,71!=(s=a.oa())&&i(),8191==(8191&(n=a.Kb())))r();else if(16384&n){if(0!=(n=(48&a.oa())>>4)&&2!=n||i(),3==n&&(n=a.oa(),a.skip(n)),1==a.J()>>8){a.skip(3),0!=(n=a.oa()>>6)&&1!=n||i(),0==a.oa()&&i(),n=a.oa();var u=a.Kb(),c=a.Kb();return(1073741824*((14&n)>>1)+((65534&u)<<14|(65534&c)>>1))/9e4}r()}else r()}(t,v.uri,v.data));case 4:throw new he(2,4,4030,t)}}))}function Yc(e,t){if(1==t.length)return t[0];var n=qc(e,t);if(null!=n)return n;throw new he(2,4,4025,t)}function qc(e,t){for(var n=c($c[e]),r=n.next();!r.done;r=n.next()){r=r.value;for(var i=c(t),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return"text"==e?"":null}function Xc(e,t){var n=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),r=n.match(/{\$\w*}/g);if(r)for(var i=(r=c(r)).next();!i.done;i=r.next()){var a=(i=i.value).slice(2,i.length-1),o=t.get(a);if(!o)throw new he(2,4,4039,a);n=n.replace(i,o)}return n}function Zc(e,t){var n=_c(e,t);if(!n)throw new he(2,4,4024,t);return n}function Qc(e,t){e.c=t,e.b&&e.b.Nb(e.c==rl),e.c!=rl||e.h.stop()}function Jc(e,t,n){if(!e.m)throw new he(2,7,7001);return t=e.s.networkingEngine.request(n,t),Ge(e.m,t),t.promise}U("shaka.net.DataUriPlugin",xc),xc.parse=Dc,ze("data",Dc),(r=Mc.prototype).configure=function(e){this.i=e},r.start=function(e,t){var n,r,i=this;return R((function(a){return 1==a.a?(i.s=t,_(a,Jc(i,Ke([e],i.i.retryParameters),0),2)):3!=a.a?(n=a.b,i.I=n.uri,_(a,function(e,t){var n,r,i,a,o,s,u,l,d,f,p,h,v,m;return R((function(g){switch(g.a){case 1:if(0!=(n=Cc(e.G,t,e.I)).type)throw new he(2,4,4022);for(var y=c(yc(n.V,"EXT-X-DEFINE")),b=y.next();!b.done;b=y.next()){var A=b.value;b=hc(A,"NAME"),A=hc(A,"VALUE"),b&&A&&(e.j.has(b)||e.j.set(b,A))}for(r=yc(n.V,"EXT-X-MEDIA"),b=(y=c(i=yc(n.V,"EXT-X-STREAM-INF"))).next();!b.done;b=y.next()){var E=b.value;A=hc(E,"AUDIO"),b=hc(E,"VIDEO");var w=hc(E,"SUBTITLES");if(E=jc(e,E),w){var P=qc("text",E);e.f.set(w,P),Ue(E,P)}A&&(w=Yc("audio",E),e.f.set(A,w)),b&&(A=Yc("video",E),e.f.set(b,A))}return _(g,function(e,t){var n;return R((function(r){return 1==r.a?(t=t.filter((function(e){var t=hc(e,"URI")||"";return"SUBTITLES"!=hc(e,"TYPE")&&""!=t}))).length?_(r,Uc(e,t[0]),2):r.u(2):(n=t.slice(1).map((function(t){return Uc(e,t)})),_(r,Promise.all(n),0))}))}(e,r),2);case 2:for(b=(y=c(y=bc(r,"CLOSED-CAPTIONS"))).next();!b.done;b=y.next())b=Bc(w=b.value),A=vc(w,"GROUP-ID"),w=vc(w,"INSTREAM-ID"),e.w.get(A)||e.w.set(A,new Map),e.w.get(A).set(w,b);return _(g,function(e,t){var n,r,i;return R((function(a){return 1==a.a?(n=t.map((function(t){var n,r,i,a,o,s,u;return R((function(l){return 1==l.a?(n=hc(t,"FRAME-RATE"),r=Number(vc(t,"BANDWIDTH")),i=hc(t,"RESOLUTION"),a=c(i?i.split("x"):[null,null]),o=a.next().value,s=a.next().value,_(l,function(e,t,n,r){var i,a,o,s,u,l,d,f,p,h,v,m,g,y;return R((function(b){if(1==b.a)return i=Pt,a=jc(e,t),o=hc(t,"AUDIO"),s=hc(t,"VIDEO"),l=(u=o||s)&&e.g.has(u)?e.g.get(u):[],d={audio:o?l:[],video:s?l:[]},p=!1,h=vc(t,"URI"),v=d.audio.find((function(e){return e&&e.pc==h})),m=qc(i.Ca,a),g=n||r||m,1!=a.length||g?!l.length&&1<a.length?(f=i.Ca,a=[a.join(",")]):d.audio.length&&v?(f=i.eb,p=!0):f=d.video.length?i.eb:i.Ca:f=i.eb,p?b.u(2):_(b,function(e,t,n,r){var i,a,o,s;return R((function(u){if(1==u.a){if(i=Xc(vc(t,"URI"),e.j),e.a.has(i))return u.return(e.a.get(i));var c=hc(t,"CLOSED-CAPTIONS");return a="video"==r&&c&&"NONE"!=c?e.w.get(c):null,o=Yc(r,n),_(u,Vc(e,i,o,r,"und",!1,null,null,a,null),2)}return null==(s=u.b)?u.return(null):e.a.has(i)?u.return(e.a.get(i)):(e.a.set(i,s),u.return(s))}))}(e,t,a,f),3);if(2!=b.a&&(y=b.b),y)d[y.stream.type]=[y];else if(null===y)return b.return(null);return function(e){for(var t=(e=c(e.audio.concat(e.video))).next();!t.done;t=e.next())if(t=t.value){var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}}(d),b.return(d)}))}(e,t,i,n),2)):(u=l.b)?l.return(function(e,t,n,r,i,a,o){for(var s=c(n),u=s.next();!u.done;u=s.next()){u=u.value.stream;var l=a,d=o;u&&(u.width=Number(i)||void 0,u.height=Number(l)||void 0,u.frameRate=Number(d)||void 0)}i=e.i.disableAudio,(!t.length||i)&&(t=[null]);i=e.i.disableVideo,(!n.length||i)&&(n=[null]);for(i=[],t=c(t),a=t.next();!a.done;a=t.next())for(a=a.value,o=c(n),s=o.next();!s.done;s=o.next()){var f=s.value;s=a?a.stream:null,u=f?f.stream:null,l=a?a.stream.drmInfos:null,d=f?f.stream.drmInfos:null,f=(f?f.pc:"")+" - "+(a?a.pc:""),s&&u&&l.length&&d.length&&!(0<dn(l,d).length)||e.ra.has(f)||(s={id:e.Ba++,language:s?s.language:"und",primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0},i.push(s),e.ra.add(f))}return i}(e,u.audio,u.video,r,o,s,n)):l.return([])}))})),_(a,Promise.all(n),2)):(r=a.b,i=(i=r.reduce(_t,[])).filter((function(e){return null!=e})),a.return(i))}))}(e,i),3);case 3:return a=g.b,_(g,function(e,t){var n,r,i,a,o,s,u,l,d,f,p;return R((function(h){if(1==h.a)return n=bc(t,"SUBTITLES"),r=n.map((function(t){var n,r;return R((function(i){if(1==i.a)return e.i.disableText?i.return(null):(S(i,2),_(i,Uc(e,t),4));if(2!=i.a)return n=i.b,i.return(n.stream);if(r=T(i),e.i.hls.ignoreTextStreamFailures)return i.return(null);throw r}))})),_(h,Promise.all(r),2);for(i=h.b,a=c(n),o=a.next();!o.done;o=a.next())if(s=o.value,u=vc(s,"GROUP-ID"),(l=e.f.get(u))&&(d=e.g.get(u)))for(f=c(d),p=f.next();!p.done;p=f.next())p.value.stream.codecs=l;return h.return(i.filter((function(e){return e})))}))}(e,r),4);case 4:if(o=g.b,!e.s)throw new he(2,7,7001);if(e.Aa&&0==a.length)throw new he(2,4,4034);for(u=s=1/0,l=c(e.a.values()),d=l.next();!d.done;d=l.next())f=d.value,s=Math.min(s,f.Fd),"text"!=f.stream.type&&(u=Math.min(u,f.Ee-f.Fd));if(e.c!=rl?(e.b=new Qr(0,e.i.defaultPresentationDelay||3*e.M),e.b.Nb(!1)):(e.b=new Qr(null,0),e.b.Nb(!0)),Gc(e),e.c!=rl)e.ca=e.T,p=ol,e.c==p.Vd&&(h=e.b.mc,isNaN(e.i.availabilityWindowOverride)||(h=e.i.availabilityWindowOverride),e.b.ld(h));else for(e.b.ya(u),e.b.offset(-s),v=c(e.a.values()),d=v.next();!d.done;d=v.next())(m=d.value).stream.segmentIndex.offset(-s),m.stream.segmentIndex.Ja(0,u);return e.o={presentationTimeline:e.b,variants:a,textStreams:o,offlineSessionIds:[],minBufferTime:0},e.s.makeTextStreamsForClosedCaptions(e.o),_(g,e.s.filter(e.o),0)}}))}(i,n.data),3)):(0<(r=i.ca)&&i.h.R(r),a.return(i.o))}))},r.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.m&&(e.push(this.m.destroy()),this.m=null),this.i=this.s=null,this.ra.clear(),this.o=null,this.a.clear(),this.g.clear(),this.f.clear(),this.j.clear(),Promise.all(e)},r.update=function(){var e,t,n,r=this;return R((function(i){if(1==i.a)return r.c==rl?i.return():(e=[],r.C=null,(t=Array.from(r.a.values())).length?_(i,Nc(r,t[0]),2):i.u(2));for(n=1;n<t.length;n++)e.push(Nc(r,t[n]));return _(i,Promise.all(e),0)}))},r.onExpirationUpdated=function(){},r.Ib=function(){var e,t,n=this;return R((function(r){return 1==r.a?n.s?(S(r,2),_(r,n.update(),4)):r.return():2!=r.a?(e=n.ca,n.h.R(e),w(r,0)):(t=T(r),n.s?(t.severity=1,n.s.onError(t),n.h.R(.1),void A(r)):r.return())}))},U("shaka.hls.HlsParser",Mc);var $c={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},el=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],tl={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},nl={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=vc(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=Tt("com.widevine.alpha",[{initDataType:"cenc",initData:t=Ie((t=Rc(t=vc(e,"URI"))).data)}]),(e=hc(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null}},rl="VOD",il="EVENT",al="LIVE",ol={Wd:rl,mf:il,Vd:al};function sl(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return{uri:i||r,Jd:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=st(t)}catch(e){}throw new he(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function ul(){}function cl(e,t,n,r){var i=new hl;Ct(t.headers).forEach((function(e,t){i.append(t,e)}));var a=new fl,o={sd:!1,Sd:!1};if(e=new _e(e=function(e,t,n,r,i){var a,o,s,u,c,l,d,f,p,h,v,m;return R((function(g){switch(g.a){case 1:return a=dl,o=pl,l=c=0,d=Date.now(),S(g,2),_(g,a(e,n),4);case 4:return s=g.b,f=s.clone().body.getReader(),h=(p=s.headers.get("Content-Length"))?parseInt(p,10):0,new o({start:function(e){!function t(){var n,r;return R((function(a){switch(a.a){case 1:return S(a,2),_(a,f.read(),4);case 4:n=a.b,w(a,3);break;case 2:return T(a),a.return();case 3:n.done||(c+=n.value.byteLength),(100<(r=Date.now())-d||n.done)&&(i(r-d,c-l,h-c),l=c,d=r),n.done?e.close():(e.enqueue(n.value),t()),A(a)}}))}()}}),_(g,s.arrayBuffer(),5);case 5:u=g.b,w(g,3);break;case 2:if(v=T(g),r.sd)throw new he(1,1,7001,e,t);if(r.Sd)throw new he(1,1,1003,e,t);throw new he(1,1,1002,e,v,t);case 3:return m={},s.headers.forEach((function(e,t){m[t.trim()]=e})),g.return(sl(m,u,s.status,e,s.url,t))}}))}(e,n,{body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,r),(function(){return o.sd=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new me((function(){o.Sd=!0,a.abort()}));s.R(t/1e3),e.finally((function(){s.stop()}))}return e}function ll(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(e){return!1}return!(!e.fetch||!e.AbortController)}qr.m3u8=function(){return new Mc},Yr["application/x-mpegurl"]=function(){return new Mc},Yr["application/vnd.apple.mpegurl"]=function(){return new Mc},U("shaka.net.HttpFetchPlugin",ul),ul.isSupported=ll,ul.parse=cl;var dl=e.fetch,fl=e.AbortController,pl=e.ReadableStream,hl=e.Headers;function vl(){}function ml(e,t,n,r){var i=new gl,a=Date.now(),o=0;return new _e(new Promise((function(s,u){for(var l in i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){u(new he(1,1,7001,e,n))},i.onload=function(t){for(var r=(t=t.target).getAllResponseHeaders().trim().split("\r\n"),i={},a=(r=c(r)).next();!a.done;a=r.next())i[(a=a.value.split(": "))[0].toLowerCase()]=a.slice(1).join(": ");try{var o=sl(i,t.response,t.status,e,t.responseURL,n);s(o)}catch(e){u(e)}},i.onerror=function(t){u(new he(1,1,1002,e,t,n))},i.ontimeout=function(){u(new he(1,1,1003,e,n))},i.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(r(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)i.setRequestHeader(l.toLowerCase(),t.headers[l]);i.send(t.body)})),(function(){return i.abort(),Promise.resolve()}))}ll()&&(ze("http",cl,2),ze("https",cl,2)),U("shaka.net.HttpXHRPlugin",vl),vl.parse=ml;var gl=e.XMLHttpRequest;function yl(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function bl(e){var t=this;this.N=e,this.a=new Map,this.D=new Je((function(){var e=Array.from(t.a.values());return Promise.all(e.map((function(e){return e.catch((function(){}))})))})),this.b=[],this.Id=function(){},this.Hd=function(){},this.Bb=new yl}function _l(e){var t=e.b.map((function(e){return e()}));return e.b=[],Promise.all(t)}function Al(e,t,n,r,i,a){$e(e.D);var o=function(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}(e.Bb,r);return r=(e.a.get(t)||Promise.resolve()).then((function(){var t,r,s,u,c,l,d;return R((function(f){if(1==f.a)return _(f,function(e,t){var n,r,i,a;return R((function(o){return 1==o.a?(n=Xe,r=e.N.request(n,t),i=function(){return r.abort()},e.b.push(i),_(o,r.promise,2)):(a=o.b,Ue(e.b,i),o.return(a.data))}))}(e,n),2);if(t=f.b,e.D.a)throw new he(2,9,7001);if(i)for(u in r=Ie(t),(s=new Ys(r)).data)c=Number(u),l=s.data[c],d=s.a[c],e.Hd(l,d);e.Bb.close(o,t.byteLength);var p=e.Bb;return e.Id(0==p.b?0:p.f/p.b,e.Bb.a),f.return(a(t))}))})),e.a.set(t,r),r}function Sl(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new be,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function El(e,t){return new Promise((function(n,r){var i=e.b.openCursor();i.onerror=r,i.onsuccess=function(){var e;return R((function(r){if(1==r.a)return null==i.result?(n(),r.return()):(e=i.result,_(r,t(e.key,e.value,e),2));e.continue(),A(r)}))}}))}function wl(e){this.b=e,this.a=[]}function Tl(e,t){return Pl(e,t,"readwrite")}function Pl(e,t,n){var r=new Sl(n=e.b.transaction([t],n),t);return e.a.push(r),r.promise().then((function(){Ue(e.a,r)}),(function(){Ue(e.a,r)})),r}function Cl(e,t,n){this.b=new wl(e),this.c=t,this.a=n}function Ol(e){return Promise.reject(new he(2,9,9011,"Cannot add new value to "+e))}function kl(e,t,n,r){t=(e=Tl(e.b,t)).store();for(var i={},a=(n=c(n)).next();!a.done;i={Sb:i.Sb},a=n.next())i.Sb=a.value,t.delete(i.Sb).onsuccess=function(e){return function(){return r(e.Sb)}}(i);return e.promise()}function Il(e,t,n){var r,i,a,o,s,u,l;return R((function(d){if(1==d.a){for(r=Pl(e.b,t,"readonly"),i=r.store(),a={},o=[],s={},u=c(n),l=u.next();!l.done;s={vb:s.vb,tb:s.tb},l=u.next())s.tb=l.value,s.vb=i.get(s.tb),s.vb.onsuccess=function(e){return function(){null==e.vb.result&&o.push(e.tb),a[e.tb]=e.vb.result}}(s);return _(d,r.promise(),2)}if(o.length)throw new he(2,9,9012,"Could not find values for "+o);return d.return(n.map((function(e){return a[e]})))}))}function xl(e){this.a=new wl(e)}function Dl(){this.a=new Map}function Rl(e,t,n){if(!(e=e.a.get(t)))throw new he(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells().get(n)))throw new he(2,9,9013,"Could not find cell with name "+n);return t}function Ml(e,t){Nl.set(e,t)}ze("http",ml,1),ze("https",ml,1),yl.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c.delete(e),this.f+=n,this.a+=t}},bl.prototype.destroy=function(){return this.D.destroy()},Sl.prototype.abort=function(){var e=this;return R((function(t){if(1==t.a){try{e.c.abort()}catch(e){}return S(t,2),_(t,e.a,4)}if(2!=t.a)return w(t,0);T(t),A(t)}))},Sl.prototype.store=function(){return this.b},Sl.prototype.promise=function(){return this.a},wl.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},(r=Cl.prototype).destroy=function(){return this.b.destroy()},r.hasFixedKeySpace=function(){return!0},r.addSegments=function(){return Ol(this.c)},r.removeSegments=function(e,t){return kl(this,this.c,e,t)},r.getSegments=function(e){var t,n=this;return R((function(r){return 1==r.a?_(r,Il(n,n.c,e),2):(t=r.b,r.return(t.map((function(e){return n.td(e)}))))}))},r.addManifests=function(){return Ol(this.a)},r.updateManifestExpiration=function(e,t){var n=Tl(this.b,this.a),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},r.removeManifests=function(e,t){return kl(this,this.a,e,t)},r.getManifests=function(e){var t,n=this;return R((function(r){return 1==r.a?_(r,Il(n,n.a,e),2):(t=r.b,r.return(Promise.all(t.map((function(e){return n.Ab(e)})))))}))},r.getAllManifests=function(){var e,t,n=this;return R((function(r){return 1==r.a?(e=Pl(n.b,n.a,"readonly"),t=new Map,_(r,El(e,(function(e,r){var i;return R((function(a){if(1==a.a)return _(a,n.Ab(r),2);i=a.b,t.set(e,i),A(a)}))})),2)):3!=r.a?_(r,e.promise(),3):r.return(t)}))},r.td=function(e){return e},r.Ab=function(e){return Promise.resolve(e)},r.add=function(e,t){var n,r,i,a,o,s,u,l=this;return R((function(d){if(1==d.a){for(n=Tl(l.b,e),r=n.store(),i=[],a={},o=c(t),s=o.next();!s.done;a={Tb:a.Tb},s=o.next())u=s.value,a.Tb=r.add(u),a.Tb.onsuccess=function(e){return function(){i.push(e.Tb.result)}}(a);return _(d,n.promise(),2)}return d.return(i)}))},xl.prototype.destroy=function(){return this.a.destroy()},xl.prototype.getAll=function(){var e,t,n=this;return R((function(r){return 1==r.a?(e=Pl(n.a,"session-ids","readonly"),t=[],_(r,El(e,(function(e,n){t.push(n)})),2)):3!=r.a?_(r,e.promise(),3):r.return(t)}))},xl.prototype.add=function(e){for(var t=Tl(this.a,"session-ids"),n=t.store(),r=(e=c(e)).next();!r.done;r=e.next())n.add(r.value);return t.promise()},xl.prototype.remove=function(e){var t,n=this;return R((function(r){return 1==r.a?_(r,El(t=Tl(n.a,"session-ids"),(function(t,n,r){e.includes(n.sessionId)&&r.delete()})),2):_(r,t.promise(),0)}))},Dl.prototype.destroy=function(){for(var e=[],t=c(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},Dl.prototype.init=function(){var e=this;Nl.forEach((function(t,n){var r=t();r&&e.a.set(n,r)}));for(var t=[],n=c(this.a.values()),r=n.next();!r.done;r=n.next())t.push(r.value.init());return Promise.all(t)},U("shaka.offline.StorageMuxer",Dl),Dl.unregister=function(e){Nl.delete(e)},Dl.register=Ml,Dl.prototype.destroy=Dl.prototype.destroy;var Nl=new Map;function Ll(){Cl.apply(this,arguments)}function jl(e,t){!function(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=c(t),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(n=c(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,e.length&&!t.length){var i=n++,a=c(e);for(r=a.next();!r.done;r=a.next())r.value.variantIds.push(i)}if(!e.length&&t.length)for(i=n++,a=c(t),r=a.next();!r.done;r=a.next())r.value.variantIds.push(i);if(e.length&&t.length)for(t=c(t),r=t.next();!r.done;r=t.next())for(r=r.value,i=c(e),a=i.next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(e);for(var n=c(e.streams),r=n.next();!r.done;r=n.next());return e.streams.map((function(n){return function(e,t,n){var r=e.initSegmentUri?Bl(e.initSegmentUri):null,i=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:r,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=Bl(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:t,appendWindowEnd:a,timestampOffset:i}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}(n,e.startTime,t)}))}function Bl(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new he(2,9,9004,"Could not parse uri "+e)}function Ul(){Cl.apply(this,arguments)}function Vl(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(r){return{startTime:t+r.startTime,endTime:t+r.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:r.dataKey}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function Fl(){Cl.apply(this,arguments)}function Hl(){this.h=this.f=this.c=this.b=this.a=this.g=null}function Gl(e,t,n,r){this.a=e,this.g=t,this.f=n,this.c=r,this.b=["offline:",e,"/",t,"/",n,"/",r].join("")}function Wl(e){if(null==(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new Gl(t,n,r,Number(e[4])):null}function zl(e,t){this.b=e,this.a=t}function Kl(e,t){var n=new Qr(null,0);n.ya(t.duration);var r=t.streams.filter((function(e){return"audio"==e.type})),i=t.streams.filter((function(e){return"video"==e.type}));r=function(e,t,n,r){for(var i=new Set,a=c(t),o=a.next();!o.done;o=a.next()){var s=c(o.value.variantIds);for(o=s.next();!o.done;o=s.next())i.add(o.value)}for(a=c(n),o=a.next();!o.done;o=a.next())for(s=c(o.value.variantIds),o=s.next();!o.done;o=s.next())i.add(o.value);for(a=new Map,i=c(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});for(t=c(t),i=t.next();!i.done;i=t.next())for(i=i.value,o=Yl(e,i,r),s=c(i.variantIds),i=s.next();!i.done;i=s.next())(i=a.get(i.value)).language=o.language,i.primary=i.primary||o.primary,i.audio=o;for(n=c(n),t=n.next();!t.done;t=n.next())for(i=t.value,t=Yl(e,i,r),o=c(i.variantIds),i=o.next();!i.done;i=o.next())(i=a.get(i.value)).primary=i.primary||t.primary,i.video=t;return a}(e,r,i,n),i=t.streams.filter((function(e){return"text"==e.type})).map((function(t){return Yl(e,t,n)}));var a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var o=c(r.values()),s=o.next();!s.done;s=o.next())(s=s.value).audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(r.values()),textStreams:i}}function Yl(e,t,n){var r=t.segments.map((function(t){return function(e,t){var n=new Gl("segment",e.b,e.a,t.dataKey);return new Zr(t.startTime,t.endTime,(function(){return[n.toString()]}),0,null,null!=t.initSegmentKey?function(e,t){var n=new Gl("segment",e.b,e.a,t);return new Xr((function(){return[n.toString()]}),0,null)}(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}(e,t)}));return n.mb(r),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new gi(r),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,closedCaptions:t.closedCaptions}}function ql(){this.a=null}function Xl(){}function Zl(e){var t=Wl(e);return t&&"manifest"==t.a?e=Ee(e={uri:e,Jd:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}}):e=t&&"segment"==t.a?function(e,t){var n=new Dl;return Ee(void 0).U((function(){return n.init()})).U((function(){return Rl(n,t.wa(),t.ba())})).U((function(e){return e.getSegments([t.key()])})).U((function(e){return{uri:t,data:e[0].data,headers:{}}})).finally((function(){return n.destroy()}))}(t.key(),t):Ae(new he(2,1,9004,e)),e}function Ql(e,t,n){var r,i,a,o,s,u;return R((function(l){switch(l.a){case 1:r=[];for(var d=[],f=c(n),p=f.next();!p.done;p=f.next()){p=p.value;for(var h=!1,v=c(d),m=v.next();!m.done;m=v.next())if(Jl((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||d.push({info:p,sessionIds:[p.sessionId]})}i=c(d),a=i.next();case 2:if(a.done){l.u(4);break}return o=a.value,s=function(e,t,n){var r,i;return R((function(a){switch(a.a){case 1:return r=new Xt({lb:t,onError:function(){},jc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),S(a,2),r.configure(e),_(a,function(e,t,n,r,i,a){var o=new Map;return(i={audioCapabilities:i,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t}).drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:r,initData:null,keyIds:null}],o.set(t,i),rn(e,o)}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:w(a,3);break;case 2:return T(a),_(a,r.destroy(),5);case 5:return a.return([]);case 3:return S(a,6),_(a,Jt(r),8);case 8:w(a,7);break;case 6:return T(a),_(a,r.destroy(),9);case 9:return a.return([]);case 7:return i=[],_(a,Promise.all(n.sessionIds.map((function(e){return R((function(t){return 1==t.a?(S(t,2),_(t,function(e,t){var n,r,i;return R((function(a){return 1==a.a?_(a,an(e,t),2):(n=a.b)?(r=[],(i=e.f.get(n))&&(i.za=new be,r.push(i.za)),r.push(n.remove()),_(a,Promise.all(r),0)):a.return()}))}(r,e),4)):2!=t.a?(i.push(e),w(t,0)):(T(t),void A(t))}))}))),10);case 10:return _(a,r.destroy(),11);case 11:return a.return(i)}}))}(e,t,o),_(l,s,5);case 5:u=l.b,r=r.concat(u),a=i.next(),l.u(2);break;case 4:return l.return(r)}}))}function Jl(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Ve(e.audioCapabilities,t.audioCapabilities,n)&&Ve(e.videoCapabilities,t.videoCapabilities,n)}function $l(e,t){var n=Kl(new zl(e.wa(),e.ba()),t),r=t.appMetadata||{};return n=ed(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r}}function ed(e){for(var t=[],n=function(e){return e.filter((function(e){return Cr(e)}))}(e.variants),r=(n=c(n)).next();!r.done;r=n.next())t.push(Sr(r.value));for(n=(e=c(e.textStreams)).next();!n.done;n=e.next())t.push(Er(n.value));return t}function td(){this.a={}}function nd(e,t){var n=e.a[t];return null==n&&(n=0),n}function rd(e){var t=this;if(e&&e.constructor!=Ia)throw new he(2,9,9008);this.N=this.i=null,e?(this.i=e.i,this.N=e.Db()):(this.i=Aa(),this.N=new We),this.nc=[],this.Jb=[],this.Zc=[],this.a=new Map,this.a.set(null,Promise.resolve(null)),this.b=new Map;var n=!e;this.D=new Je((function(){var e,r,i,a,o;return R((function(s){switch(s.a){case 1:return _(s,Promise.all(t.Zc.map((function(e){return _l(e)}))),2);case 2:for(e=function(){},r=[],i=c(t.Jb),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(e,e));return _(s,Promise.all(r),3);case 3:if(!n){s.u(4);break}return _(s,t.N.destroy(),4);case 4:t.i=null,t.N=null,A(s)}}))}))}function id(){if(Rt())e:{for(var e=c(Nl.values()),t=e.next();!t.done;t=e.next())if(t=(t=t.value)()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function ad(e,t){for(var n=[],r=c(e.streams),i=r.next();!i.done;i=r.next())i=i.value,t&&"video"==i.type?n.push({contentType:It(i.mimeType,i.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=i.type||n.push({contentType:It(i.mimeType,i.codecs),robustness:e.drmInfo.audioRobustness});return n}function od(e,t,n){return R((function(r){return _(r,function(e,t,n,r){var i,a,o;return R((function(s){return 1==s.a?r.drmInfo?(i=function(e){var t=Array.from(e.a.keys());if(!t.length)throw new he(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(e){return{sessionId:e,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:ad(r,!1),videoCapabilities:ad(r,!0)}})),_(s,Ql(t,e,a),2)):s.return():3!=s.a?(o=s.b,_(s,i.remove(o),3)):_(s,i.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}(e.N,e.i.drm,n,t),0)}))}function sd(e,t,n){function r(){}var i=function(e){for(var t=[],n=(e=c(e.streams)).next();!n.done;n=e.next())for(var r=(n=c(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&t.push(r.initSegmentKey),t.push(r.dataKey);return t}(n);return $l(t,n),Promise.all([e.removeSegments(i,r),e.removeManifests([t.key()],r)])}function ud(e,t,n,r,i,a,o){var s={id:a.id,originalId:a.originalId,primary:a.primary,type:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,encrypted:a.encrypted,keyIds:a.keyIds,segments:[],variantIds:[],roles:a.roles,channelsCount:a.channelsCount,audioSamplingRate:a.audioSamplingRate,closedCaptions:a.closedCaptions},u=a.id;return function(e,t,n){if(null!=(t=e.segmentIndex.find(t)))for(var r=e.segmentIndex.get(t);r;)n(r),r=e.segmentIndex.get(++t)}(a,i.presentationTimeline.Qa(),(function(i){var c=function(e,t,n,r,i,a,o,s){return e.a.has(o)?e.a.get(o):(s=Fi(o.c(),o.b,o.a,s.streaming.retryParameters),t=Al(t,n,s,.5*nd(a,r),!0,(function(t){var n;return R((function(r){return 1==r.a?_(r,i.addSegments([{data:t}]),2):(n=r.b,e.nc.push(n[0]),r.return(n[0]))}))})),e.a.set(o,t),t)}(e,t,u,a.id,n,r,i.f,o),l=function(e,t,n,r,i,a,o,s){var u=[o.c()[0],o.b,o.a].join("-");return e.b.has(u)?e.b.get(u):(s=Fi(o.c(),o.b,o.a,s.streaming.retryParameters),t=Al(t,n,s,function(e,t,n){return n=n.endTime-n.startTime,nd(e,t)*n}(a,r,o),!1,(function(t){var n;return R((function(r){return 1==r.a?_(r,i.addSegments([{data:t}]),2):(n=r.b,e.nc.push(n[0]),r.return(n[0]))}))})),e.b.set(u,t),t)}(e,t,u,a.id,n,r,i,o);!function(e,t,n){$e(e.D);var r=(e.a.get(t)||Promise.resolve()).then((function(){return R((function(e){return _(e,n(),0)}))}));e.a.set(t,r)}(t,u,(function(){var e,t;return R((function(n){return 1==n.a?_(n,c,2):3!=n.a?(e=n.b,_(n,l,3)):(t=n.b,s.segments.push({initSegmentKey:e,startTime:i.startTime,endTime:i.endTime,appendWindowStart:i.appendWindowStart,appendWindowEnd:i.appendWindowEnd,timestampOffset:i.timestampOffset,dataKey:t}),void A(n))}))}))})),s}function cd(e){if(e.D.a)throw new he(2,9,7001)}function ld(){if(!id())throw new he(2,9,9e3)}function dd(e,t){return R((function(n){return 1==n.a?(e.Jb.push(t),E(n),_(n,t,4)):2!=n.a?n.return(n.b):(P(n),Ue(e.Jb,t),C(n,0))}))}function fd(e){for(var t=new Set,n=c(e.textStreams),r=n.next();!r.done;r=n.next())t.add(r.value);for(n=(e=c(e.variants)).next();!n.done;n=e.next())(n=n.value).audio&&t.add(n.audio),n.video&&t.add(n.video);return t}m(Ll,Cl),Ll.prototype.updateManifestExpiration=function(e,t){var n,r,i,a=this;return R((function(o){return n=Tl(a.b,a.a),r=n.store(),i=new be,r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new he(2,9,9012,"Could not find values for "+e))},_(o,Promise.all([n.promise(),i]),0)}))},Ll.prototype.Ab=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n)r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime,a=jl(e.periods[n],i),t.push(a);return _(s,Uu(t),2)}return o=s.b,s.return({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},Ll.prototype.td=function(e){return{data:e.data}},m(Ul,Cl),Ul.prototype.Ab=function(e){var t,n,r,i,a,o;return R((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n){r=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,i=r-e.periods[n].startTime;for(var u=e.periods[n],l=[],d=c(u.streams),f=d.next();!f.done;f=d.next())0!=(f=f.value).variantIds.length&&l.push(Vl(f,u.startTime,u.startTime+i));a=l,t.push(a)}return _(s,Uu(t),2)}return o=s.b,s.return({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},m(Fl,Cl),Fl.prototype.hasFixedKeySpace=function(){return!1},Fl.prototype.addSegments=function(e){return this.add(this.c,e)},Fl.prototype.addManifests=function(e){return this.add(this.a,e)},Fl.prototype.Ab=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},(r=Hl.prototype).init=function(){var t=this,n=new be,r=e.indexedDB.open("shaka_offline_db",5);return r.onsuccess=function(){var e=r.result;t.g=e;var i=e.objectStoreNames;i=i.contains("manifest")&&i.contains("segment")?new Ll(e,"segment","manifest"):null,t.a=i,i=(i=e.objectStoreNames).contains("manifest-v2")&&i.contains("segment-v2")?new Ul(e,"segment-v2","manifest-v2"):null,t.b=i,i=(i=e.objectStoreNames).contains("manifest-v3")&&i.contains("segment-v3")?new Ul(e,"segment-v3","manifest-v3"):null,t.c=i,i=(i=e.objectStoreNames).contains("manifest-v5")&&i.contains("segment-v5")?new Fl(e,"segment-v5","manifest-v5"):null,t.f=i,e=e.objectStoreNames.contains("session-ids")?new xl(e):null,t.h=e,n.resolve()},r.onupgradeneeded=function(){for(var e=r.result,t=c(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},r.onerror=function(e){n.reject(new he(2,9,9001,r.error)),e.preventDefault()},n},r.destroy=function(){var e=this;return R((function(t){switch(t.a){case 1:if(!e.a){t.u(2);break}return _(t,e.a.destroy(),2);case 2:if(!e.b){t.u(4);break}return _(t,e.b.destroy(),4);case 4:if(!e.c){t.u(6);break}return _(t,e.c.destroy(),6);case 6:if(!e.f){t.u(8);break}return _(t,e.f.destroy(),8);case 8:if(!e.h){t.u(10);break}return _(t,e.h.destroy(),10);case 10:e.g&&e.g.close(),A(t)}}))},r.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),this.f&&e.set("v5",this.f),e},r.getEmeSessionCell=function(){return this.h},r.erase=function(){var t=this;return R((function(n){switch(n.a){case 1:if(!t.a){n.u(2);break}return _(n,t.a.destroy(),2);case 2:if(!t.b){n.u(4);break}return _(n,t.b.destroy(),4);case 4:if(!t.c){n.u(6);break}return _(n,t.c.destroy(),6);case 6:if(!t.f){n.u(8);break}return _(n,t.f.destroy(),8);case 8:return t.g&&t.g.close(),_(n,function(){var t=new be,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new he(2,9,9001,n.error)),e.preventDefault()},t}(),10);case 10:return t.g=null,t.a=null,t.b=null,t.c=null,t.f=null,_(n,t.init(),0)}}))},Ml("idb",(function(){return Bt("CrKey")||!e.indexedDB?null:new Hl})),Gl.prototype.wa=function(){return this.g},Gl.prototype.ba=function(){return this.f},Gl.prototype.key=function(){return this.c},Gl.prototype.toString=function(){return this.b},(r=ql.prototype).configure=function(){},r.start=function(e,t){var n,r,i,a,o,s,u=this;return R((function(c){switch(c.a){case 1:if(n=Wl(e),u.a=n,null==n||"manifest"!=n.a)throw new he(2,1,9004,e);return r=new Dl,E(c),_(c,r.init(),4);case 4:return _(c,Rl(r,n.wa(),n.ba()),5);case 5:return _(c,c.b.getManifests([n.key()]),6);case 6:return i=c.b,a=i[0],o=new zl(n.wa(),n.ba()),s=Kl(o,a),t.makeTextStreamsForClosedCaptions(s),c.return(s);case 2:return P(c),_(c,r.destroy(),7);case 7:C(c,0)}}))},r.stop=function(){return Promise.resolve()},r.update=function(){},r.onExpirationUpdated=function(e,t){var n,r,i,a,o,s,u,c=this;return R((function(l){switch(l.a){case 1:return n=c.a,r=new Dl,S(l,2,3),_(l,r.init(),5);case 5:return _(l,Rl(r,n.wa(),n.ba()),6);case 6:return _(l,(i=l.b).getManifests([n.key()]),7);case 7:if(a=l.b,o=a[0],s=o.sessionIds.includes(e),u=null==o.expiration||o.expiration>t,!s||!u){l.u(3);break}return _(l,i.updateManifestExpiration(n.key(),t),3);case 3:return P(l),_(l,r.destroy(),10);case 10:C(l,0);break;case 2:T(l),l.u(3)}}))},Yr["application/x-offline-manifest"]=function(){return new ql},U("shaka.offline.OfflineScheme",Xl),Xl.plugin=Zl,ze("offline",Zl),(r=rd.prototype).destroy=function(){return this.D.destroy()},r.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=ba(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(mt("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),Sa(this.i,e)},r.getConfiguration=function(){var e=Aa();return Sa(e,this.i,Aa()),e},r.Db=function(){return this.N},r.store=function(e,t,n){var r=this,i=this.getConfiguration(),a=new bl(this.N);this.Zc.push(a);var o=new _e(t=function(e,t,n,r,i,a){var o,s,u,l,d,f,p,h,v,m;return R((function(g){switch(g.a){case 1:return ld(),s=o=null,u=new Dl,d=l=null,S(g,2,3),_(g,r(),5);case 5:return o=g.b,_(g,function(e,t,n,r){var i,a,o,s,u;return R((function(c){if(1==c.a)return i=null,a=e.N,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){i=e}},n.configure(r.manifest),cd(e),_(c,n.start(t,o),2);if(3!=c.a)return s=c.b,cd(e),u=fd(s),_(c,Promise.all(Q(u,(function(e){return e.createSegmentIndex()}))),3);if(cd(e),i)throw i;return c.return(s)}))}(e,t,o,i),6);case 6:if(f=g.b,cd(e),!(!f.presentationTimeline.S()&&!f.presentationTimeline.Ta()))throw new he(2,9,9005,t);return _(g,function(e,t,n,r){var i;return R((function(a){switch(a.a){case 1:return(i=new Xt({lb:e.N,onError:n,jc:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(r.drm),_(a,function(e,t,n){return e.v=[],e.w=n,Qt(e,t)}(i,t.variants,r.offline.usePersistentLicense),2);case 2:return _(a,Jt(i),3);case 3:return _(a,$t(i),4);case 4:return a.return(i)}}))}(e,f,(function(e){d=d||e}),i),7);case 7:if(s=g.b,cd(e),d)throw d;return _(g,e.fb(f,s,i),8);case 8:return _(g,u.init(),9);case 9:return cd(e),_(g,function(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){e.hasFixedKeySpace()||t||(t={path:{wa:n,ba:r},ba:e})}))})),t)return t;throw new he(2,9,9013,"Could not find a cell that supports add-operations")}(u),10);case 10:return l=g.b,cd(e),_(g,function(e,t,n,r,i,a,o,s){var u,l,d,f,p,h,v,m,g,y;return R((function(b){switch(b.a){case 1:return u=function(e,t,n){return{offlineUri:null,originalManifestUri:e,duration:t.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:t=ed(t),appMetadata:n}}(i,r,a),l=o.offline.progressCallback,function(e,t,n){e.Id=t,e.Hd=n}(s,(function(e,t){u.size=t,l(u,e)}),(function(e,t){p&&o.offline.usePersistentLicense&&h==t&&en(n,"cenc",e)})),d=r.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),f=r.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),h=null,(p=d&&!f)&&(v=n.c,h=pd.get(v.keySystem)),E(b),g=m=function(e,t,n,r,i,a,o,s){for(var u=new td,l=c(i.variants),d=l.next();!d.done;d=l.next()){var f=u,p=(d=d.value).audio,h=d.video;if(p&&!h&&(f.a[p.id]=p.bandwidth||d.bandwidth),!p&&h&&(f.a[h.id]=h.bandwidth||d.bandwidth),p&&h){var v=p.bandwidth||393216,m=h.bandwidth||d.bandwidth-v;0>=m&&(m=d.bandwidth),f.a[p.id]=v,f.a[h.id]=m}}for(l=c(i.textStreams),f=l.next();!f.done;f=l.next())u.a[f.value.id]=52;for(f=fd(i),l=new Map,f=c(f),d=f.next();!d.done;d=f.next())d=d.value,p=ud(e,t,n,u,i,d,s),l.set(d.id,p);for(e=c(i.variants),d=e.next();!d.done;d=e.next())(t=d.value).audio&&l.get(t.audio.id).variantIds.push(t.id),t.video&&l.get(t.video.id).variantIds.push(t.id);return e=Array.from(l.values()),s=s.offline.usePersistentLicense,(t=r.c)&&s&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:a,duration:i.presentationTimeline.getDuration(),size:0,expiration:r.Cb(),streams:e,sessionIds:s?nn(r):[],drmInfo:t,appMetadata:o}}(e,s,t,n,r,i,a,o),_(b,function(e){return R((function(t){return 1==t.a?_(t,Promise.all(e.a.values()),2):t.return(e.Bb.a)}))}(s),4);case 4:if(g.size=b.b,m.expiration=n.Cb(),y=nn(n),m.sessionIds=o.offline.usePersistentLicense?y:[],d&&o.offline.usePersistentLicense&&!y.length)throw new he(2,9,9007);return b.return(m);case 2:return P(b),_(b,s.destroy(),5);case 5:C(b,0)}}))}(e,l.ba,s,f,t,n,i,a),11);case 11:if(p=g.b,cd(e),d)throw d;return _(g,l.ba.addManifests([p]),12);case 12:return h=g.b,cd(e),v=new Gl("manifest",l.path.wa,l.path.ba,h[0]),g.return($l(v,p));case 3:return P(g),e.nc=[],_(g,u.destroy(),13);case 13:if(!o){g.u(14);break}return _(g,o.stop(),14);case 14:if(!s){g.u(16);break}return _(g,s.destroy(),16);case 16:C(g,0);break;case 2:if(m=T(g),!l){g.u(18);break}return _(g,l.ba.removeSegments(e.nc,(function(){})),18);case 18:throw d||m}}))}(this,e,t||{},(function(){var t;return R((function(a){return 1==a.a?_(a,zr(e,r.N,i.manifest.retryParameters,n||null),2):(t=a.b,a.return(Et(t)))}))}),i,a),(function(){return _l(a)}));return o.finally((function(){Ue(r.Zc,a)})),o.then=function(e){return mt("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},function(e,t){var n=t.promise;return e.Jb.push(n),t.finally((function(){Ue(e.Jb,n)}))}(this,o)},r.xe=function(){return mt("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},r.fb=function(e,t,n){var r,i,a,o,s,u,l,d,f,p,h,v,m,g,y;return R((function(b){if(1==b.a){for(r={width:1/0,height:1/0},function(e,t,n){e.variants=e.variants.filter((function(e){return _r(e,t,n)}))}(e,n.restrictions,r),function(e){e.variants=e.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&Zn(e.audio)),e.video&&(t=t&&Zn(e.video)),t}))}(e),function(e,t){e.variants=e.variants.filter((function(e){return ln(t,e)}))}(e,t),i=[],a=n.preferredAudioChannelCount,br(e,a),o=c(e.variants),s=o.next();!s.done;s=o.next())u=s.value,i.push(Sr(u));for(l=c(e.textStreams),d=l.next();!d.done;d=l.next())f=d.value,i.push(Er(f));return _(b,n.offline.trackSelectionCallback(i),2)}for(p=b.b,h=new Set,v=new Set,m=c(p),g=m.next();!g.done;g=m.next())"variant"==(y=g.value).type&&h.add(y.id),"text"==y.type&&v.add(y.id);e.variants=e.variants.filter((function(e){return h.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return v.has(e.id)})),function(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=c(t),r=n.next();!r.done;r=n.next())for(var i=(r=c(t)).next();!i.done;i=r.next());for(t=c(e),n=t.next();!n.done;n=t.next())for(n=c(e),r=n.next();!r.done;r=n.next());}(e),A(b)}))},r.remove=function(e){return dd(this,function(e,t){var n,r,i,a,o,s;return R((function(u){switch(u.a){case 1:if(ld(),null==(n=Wl(t))||"manifest"!=n.a)throw new he(2,9,9004,t);return r=n,i=new Dl,E(u),_(u,i.init(),4);case 4:return _(u,Rl(i,r.wa(),r.ba()),5);case 5:return _(u,(a=u.b).getManifests([r.key()]),6);case 6:return o=u.b,s=o[0],_(u,Promise.all([od(e,s,i),sd(a,r,s)]),2);case 2:return P(u),_(u,i.destroy(),8);case 8:C(u,0)}}))}(this,e))},r.Oe=function(){return dd(this,function(e){var t,n,r,i,a,o,s,u,l,d;return R((function(f){switch(f.a){case 1:return ld(),t=e.N,n=e.i.drm,r=new Dl,i=!1,E(f),_(f,r.init(),4);case 4:a=[],function(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}(r,(function(e){return a.push(e)})),o=c(a),s=o.next();case 5:if(s.done){f.u(2);break}return _(f,(u=s.value).getAll(),8);case 8:return l=f.b,_(f,Ql(n,t,l),9);case 9:return d=f.b,_(f,u.remove(d),10);case 10:d.length!=l.length&&(i=!0),s=o.next(),f.u(5);break;case 2:return P(f),_(f,r.destroy(),11);case 11:C(f,3);break;case 3:return f.return(!i)}}))}(this))},r.list=function(){return dd(this,R((function(r){switch(r.a){case 1:return ld(),e=[],t=new Dl,E(r),_(r,t.init(),4);case 4:return n=Promise.resolve(),function(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,r){t({wa:n,ba:r},e)}))}))}(t,(function(t,r){n=n.then((function(){return R((function(n){if(1==n.a)return _(n,r.getAllManifests(),2);n.b.forEach((function(n,r){var i=$l(new Gl("manifest",t.wa,t.ba,r),n);e.push(i)})),A(n)}))}))})),_(r,n,2);case 2:return P(r),_(r,t.destroy(),6);case 6:C(r,3);break;case 3:return r.return(e)}})));var e,t,n},U("shaka.offline.Storage",rd),rd.deleteAll=function(){var e;return R((function(t){return 1==t.a?(e=new Dl,E(t),_(t,function(e){var t,n;return R((function(r){return 1==r.a?(t=Array.from(e.a.values()),(n=0<t.length)||Nl.forEach((function(e){(e=e())&&t.push(e)})),_(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.u(0):_(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}(e),2)):5!=t.a?(P(t),_(t,e.destroy(),5)):C(t,0)}))},rd.prototype.list=rd.prototype.list,rd.prototype.removeEmeSessions=rd.prototype.Oe,rd.prototype.remove=rd.prototype.remove,rd.prototype.getStoreInProgress=rd.prototype.xe,rd.prototype.store=rd.prototype.store,rd.prototype.getNetworkingEngine=rd.prototype.Db,rd.prototype.getConfiguration=rd.prototype.getConfiguration,rd.prototype.configure=rd.prototype.configure,rd.prototype.destroy=rd.prototype.destroy,rd.support=id;var pd=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function hd(){}function vd(e,t){for(var n={priority:t||0,Zd:e},r=c($(md)),i=r.next();!i.done;i=r.next()){var a=(i=i.value).Y;if(i.item.priority<n.priority)return void md.splice(a,0,n)}md.push(n)}Fo.offline=id,U("shaka.polyfill",hd),hd.register=vd,hd.installAll=function(){for(var e=c(md),t=e.next();!t.done;t=e.next()){t=t.value;try{t.Zd()}catch(e){K("Error installing polyfill!",e)}}};var md=[];function gd(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else(n=document.createEvent("Event")).initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function yd(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function bd(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return(n=e.apply(this,n)).abort=function(){},n}}function _d(e,t){try{var n=new Ed(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Ad(e){var t=this.mediaKeys;return t&&t!=e&&Td(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Td(e,this):Promise.resolve()}function Sd(e){if(xe(e=Ie(e.initData)).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=ut(e=ot(e.subarray(4),!0));var t=new Event("encrypted");t.initDataType="skd",t.initData=ke(e),this.dispatchEvent(t)}function Ed(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=c(t),r=n.next();!r.done;r=n.next()){var i=r.value;if("required"==i.persistentState)r=null;else{r={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label};var a=!1,o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(r.audioCapabilities.push(u),o=!0));if(i.videoCapabilities)for(u=(i=c(i.videoCapabilities)).next();!u.done;u=i.next())(s=u.value).contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(r.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),r=o?r:null}if(r)return void(this.a=r)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function wd(e){this.a=new WebKitMediaKeys(e),this.b=new et}function Td(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"webkitneedkey",Sd);try{return ri(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.webkitSetMediaKeys(e.a)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function Pd(e){Ne.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new et,this.sessionId="",this.expiration=NaN,this.closed=new be,this.keyStatuses=new Od}function Cd(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new Re("keystatuseschange"),e.dispatchEvent(n)}function Od(){this.size=0,this.a=void 0}function kd(e,t){try{var n=new xd(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Id(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=ke(function(e){if(!e)return e;var t=new Ys(e);if(1>=t.data.length)return e;e=[];for(var n={},r=(t=c(t.data)).next();!r.done;n={Qb:n.Qb},r=t.next())n.Qb=r.value,e.some(function(e){return function(t){return Ce(t,e.Qb)}}(n))||e.push(n.Qb);return qt.apply(Ht,l(e))}(e.initData)),this.dispatchEvent(t)}}function xd(e,t){this.keySystem=e;for(var n=!1,r=c(t),i=r.next();!i.done;i=r.next()){var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(i=i.value).initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=c(i.audioCapabilities),u=s.next();!u.done;u=s.next())(u=u.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(a.audioCapabilities.push(u),n=!0));if(i.videoCapabilities)for(u=(s=c(i.videoCapabilities)).next();!u.done;u=s.next())(u=u.value).contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw(n=Error("Unsupported keySystem")).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Dd(e){var t=this.mediaKeys;return t&&t!=e&&Md(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Md(e,this):Promise.resolve()}function Rd(e){this.a=new MSMediaKeys(e),this.b=new et}function Md(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"msneedkey",Id);try{return ri(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.msSetMediaKeys(e.a)})),Promise.resolve()}catch(e){return Promise.reject(e)}}function Nd(e){Ne.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new et,this.sessionId="",this.expiration=NaN,this.closed=new be,this.keyStatuses=new jd}function Ld(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new Re("keystatuseschange"),e.dispatchEvent(n)}function jd(){this.size=0,this.a=void 0}function Bd(){return Promise.reject(Error("The key system specified is not supported."))}function Ud(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function Vd(){throw new TypeError("Illegal constructor.")}function Fd(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Hd(e){return $d?$d+e.charAt(0).toUpperCase()+e.slice(1):e}function Gd(e,t){try{var n=new zd(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Wd(e){var t=this.mediaKeys;return t&&t!=e&&Yd(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Yd(e,this),Promise.resolve()}function zd(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=c(t),o=a.next();!o.done;o=a.next()){var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(o=o.value).initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var l=c(o.audioCapabilities),d=l.next();!d.done;d=l.next())(d=d.value).contentType&&(u=!0,i.canPlayType(d.contentType.split(";")[0],this.a)&&(s.audioCapabilities.push(d),r=!0));if(o.videoCapabilities)for(d=(l=c(o.videoCapabilities)).next();!d.done;d=l.next())(d=d.value).contentType&&(u=!0,i.canPlayType(d.contentType,this.a)&&(s.videoCapabilities.push(d),r=!0));if(u||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),(n=Error(n)).name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Kd(e){this.g=e,this.a=null,this.b=new et,this.c=[],this.f=new Map}function Yd(e,t){e.a=t,e.b.Xa();var n=$d;t&&(e.b.l(t,n+"needkey",(function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("encrypted",!1,!1,null),n.initDataType="cenc",n.initData=ke(t.initData),e.a.dispatchEvent(n)})),e.b.l(t,n+"keymessage",(function(t){var n=qd(e,t.sessionId);n&&(t=new Re("message",{messageType:null==n.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),n.b&&(n.b.resolve(),n.b=null),n.dispatchEvent(t))})),e.b.l(t,n+"keyadded",(function(t){(t=qd(e,t.sessionId))&&(Qd(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.b.l(t,n+"keyerror",(function(t){var n=qd(e,t.sessionId);n&&n.handleError(t)})))}function qd(e,t){var n=e.f.get(t);return n||((n=e.c.shift())?(n.sessionId=t,e.f.set(t,n),n):null)}function Xd(e,t,n){Ne.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new be,this.keyStatuses=new Jd}function Zd(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=Ie(ut("LOAD_SESSION|"+n));else{var i=ut("PERSISTENT|");r=qt(i,t)}else r=Ie(t)}catch(e){return Promise.reject(e)}e.b=new be;var a=Hd("generateKeyRequest");try{e.f[a](e.c,r)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);new me((function(){try{e.f[a](e.c,r)}catch(t){e.b.reject(t),e.b=null}})).R(.01)}return e.b}function Qd(e,t){var n=e.keyStatuses;n.size=null==t?0:1,n.a=t,n=new Re("keystatuseschange"),e.dispatchEvent(n)}function Jd(){this.size=0,this.a=void 0}vd((function(){ep()}),-1),vd((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,(t=Document.prototype).exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",gd),document.addEventListener("webkitfullscreenerror",gd),document.addEventListener("mozfullscreenchange",gd),document.addEventListener("mozfullscreenerror",gd),document.addEventListener("MSFullscreenChange",gd),document.addEventListener("MSFullscreenError",gd)}})),vd((function(){Bt("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=yd)})),vd((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),vd((function(){})),vd((function(){var t=jt();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}():t?(function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}(),12>=t?(bd(),function(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}()):bd()):(Bt("Tizen 2")||Bt("Tizen 3")||Bt("Tizen 4"))&&function(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=xt(t)[0]&&e(t)}}())})),Ed.prototype.createMediaKeys=function(){var e=new wd(this.keySystem);return Promise.resolve(e)},Ed.prototype.getConfiguration=function(){return this.a},wd.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Pd(this.a,e)},wd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(Pd,Ne),(r=Pd.prototype).generateRequest=function(e,t){var n=this;this.a=new be;try{var r=this.g.createSession("video/mp4",Ie(t));this.f=r,this.sessionId=r.sessionId||"",this.b.l(this.f,"webkitkeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new Re("message",{messageType:null==n.keyStatuses.a?"license-request":"license-renewal",message:ke(e.message)}),n.dispatchEvent(e)})),this.b.l(r,"webkitkeyadded",(function(){n.c&&(Cd(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(r,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:Cd(n,"output-not-allowed");break;default:Cd(n,"internal-error")}})),Cd(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.c=new be;try{this.f.update(Ie(e))}catch(e){this.c.reject(e)}return this.c},r.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(e){this.closed.reject(e)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=Od.prototype).forEach=function(e){this.a&&e(this.a,gn.value())},r.get=function(e){if(this.has(e))return this.a},r.has=function(e){var t=gn.value();return!(!this.a||!Ce(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){},vd((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ad,e.MediaKeys=wd,e.MediaKeySystemAccess=Ed,navigator.requestMediaKeySystemAccess=_d)})),xd.prototype.createMediaKeys=function(){var e=new Rd(this.keySystem);return Promise.resolve(e)},xd.prototype.getConfiguration=function(){return this.a},Rd.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new Nd(this.a,e)},Rd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(Nd,Ne),(r=Nd.prototype).generateRequest=function(e,t){var n=this;this.a=new be;try{this.f=this.g.createSession("video/mp4",Ie(t),null),this.b.l(this.f,"mskeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new Re("message",{messageType:null==n.keyStatuses.a?"license-request":"license-renewal",message:ke(e.message)}),n.dispatchEvent(e)})),this.b.l(this.f,"mskeyadded",(function(){n.a?(Ld(n,"usable"),n.a.resolve(),n.a=null):n.c&&(Ld(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(this.f,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ld(n,"output-not-allowed");break;default:Ld(n,"internal-error")}})),Ld(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},r.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},r.update=function(e){this.c=new be;try{this.f.update(Ie(e))}catch(e){this.c.reject(e)}return this.c},r.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(e){this.closed.reject(e)}return this.closed},r.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(r=jd.prototype).forEach=function(e){this.a&&e(this.a,gn.value())},r.get=function(e){if(this.has(e))return this.a},r.has=function(e){var t=gn.value();return!(!this.a||!Ce(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){},vd((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=Rd,e.MediaKeySystemAccess=xd,navigator.requestMediaKeySystemAccess=kd,HTMLMediaElement.prototype.setMediaKeys=Dd)})),Vd.prototype.createSession=function(){},Vd.prototype.setServerCertificate=function(){},Fd.prototype.getConfiguration=function(){},Fd.prototype.createMediaKeys=function(){},vd((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=Bd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ud,e.MediaKeys=Vd,e.MediaKeySystemAccess=Fd)}),-10),zd.prototype.createMediaKeys=function(){var e=new Kd(this.a);return Promise.resolve(e)},zd.prototype.getConfiguration=function(){return this.b},Kd.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.a||document.createElement("video");return t.src||(t.src="about:blank"),e=new Xd(t,this.g,e),this.c.push(e),e},Kd.prototype.setServerCertificate=function(){return Promise.resolve(!1)},m(Xd,Ne),(r=Xd.prototype).handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.b?(45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Qd(this,"output-restricted"):Qd(this,1==t?"expired":"internal-error"))},r.generateRequest=function(e,t){return Zd(this,t,null)},r.load=function(e){return"persistent-license"==this.g?Zd(this,null,e):Promise.reject(Error("Not a persistent session."))},r.update=function(e){var t=new be;return function e(t,n,r){if(t.a)t.a.then((function(){return e(t,n,r)})).catch((function(){return e(t,n,r)}));else{if(t.a=n,"webkit-org.w3.clearkey"==t.c){var i=at(r),a=JSON.parse(i);"oct"!=a.keys[0].kty&&(t.a.reject(Error("Response is not a valid JSON Web Key Set.")),t.a=null),i=zt(a.keys[0].k),a=zt(a.keys[0].kid)}else i=Ie(r),a=null;var o=Hd("addKey");try{t.f[o](t.c,i,a,t.sessionId)}catch(e){t.a.reject(e),t.a=null}}}(this,t,e),t},r.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Hd("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},r.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},(r=Jd.prototype).forEach=function(e){this.a&&e(this.a,gn.value())},r.get=function(e){if(this.has(e))return this.a},r.has=function(e){var t=gn.value();return!(!this.a||!Ce(e,t))},r.entries=function(){},r.keys=function(){},r.values=function(){};var $d="";function ef(e){if("picture-in-picture"==(e=e.target).webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function tf(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function nf(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function rf(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function af(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function of(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function sf(t,n,r){return new e.TextTrackCue(t,n,r)}function uf(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function cf(){}function lf(e){var t=[];if(!e)return t;for(var n=c(e.childNodes),r=n.next();!r.done;r=n.next())(r=r.value).nodeType==Node.ELEMENT_NODE&&"br"!==r.nodeName&&(r=lf(r),t=t.concat(r));return t.length||t.push(e),t}function df(e,t,n,r,i,a,o,s,u,l){if(u&&"br"==e.nodeName)return(e=new Cn(0,0,"")).spacer=!0,e;var d=/^[\s\n]*$/.test(e.textContent),f=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||f&&d||f&&!u)return null;d=yf(e.getAttribute("begin"),n),f=yf(e.getAttribute("end"),n);var p=yf(e.getAttribute("dur"),n);if(null==f&&null!=p&&(f=d+p),!u&&(null==d||null==f))throw new he(2,2,2001);if(d=u&&null==d?0:d+t,f=u&&null==f?0:f+t,p="",u=[],Array.from(e.childNodes).some((function(e){return e.nodeType==Node.TEXT_NODE&&/\S+/.test(e.textContent)})))p=function e(t,n){for(var r="",i=c(t.childNodes),a=i.next();!a.done;a=i.next())"br"==(a=a.value).nodeName&&t.childNodes[0]!==a?r+="\n":a.childNodes&&0<a.childNodes.length?r+=e(a,n):n?r+=a=(a=a.textContent.trim()).replace(/\s+/g," "):r+=a.textContent;return r}(e,s);else for(var h=c(e.childNodes),v=h.next();!v.done;v=h.next())(v=df(v.value,t,n,r,i,a,o,s,!0,l))&&(v.startTime=v.startTime||d,v.endTime=v.endTime||f,u.push(v));if((t=new Cn(d,f,p)).nestedCues=u,l&&(t.cellResolution=l),(a=gf(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var m=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==m}))[0]}return function(e,t,n,r,i){"rtl"==pf(t,n,i,"direction")&&(e.direction="rtl");var a=pf(t,n,i,"writingMode");"tb"==a||"tblr"==a?e.writingMode="vertical-lr":"tbrl"==a?e.writingMode="vertical-rl":"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=Mn),(a=pf(t,n,i,"textAlign"))?(e.positionAlign=Mf[a],e.lineAlign=Rf[a],e.textAlign=xn[a.toUpperCase()]):e.textAlign="start",(a=pf(t,n,i,"displayAlign"))&&(e.displayAlign=Rn[a.toUpperCase()]);(a=pf(t,n,i,"color"))&&(e.color=a);(a=pf(t,n,i,"backgroundColor"))&&(e.backgroundColor=a);(a=pf(t,n,i,"border"))&&(e.border=a);(a=pf(t,n,i,"fontFamily"))&&(e.fontFamily=a);(a=pf(t,n,i,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=pf(t,n,i,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=pf(t,n,i,"lineHeight"))&&a.match(Tf)&&(e.lineHeight=a),(a=pf(t,n,i,"fontSize"))&&(a.match(Tf)||a.match(wf))&&(e.fontSize=a),(a=pf(t,n,i,"fontStyle"))&&(e.fontStyle=Fn[a.toUpperCase()]);if(r){a=r.getAttribute("imagetype");var o=r.getAttribute("encoding");r=r.textContent.trim(),"PNG"==a&&"Base64"==o&&r&&(e.backgroundImage="data:image/png;base64,"+r)}(r=pf(t,n,i,"letterSpacing"))&&r.match(Tf)&&(e.letterSpacing=r),(r=pf(t,n,i,"linePadding"))&&r.match(Tf)&&(e.linePadding=r),(r=pf(t,n,i,"opacity"))&&(e.opacity=parseFloat(r));(n=hf(n,i,"textDecoration"))&&ff(e,n),(t=vf(t,i,"textDecoration"))&&ff(e,t)}(t,e,a,r=gf(e,"smpte:backgroundImage",r,"#")[0],i),t}function ff(e,t){for(var n=c(t.split(" ")),r=n.next();!r.done;r=n.next())switch(r.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Ue(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Ue(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Ue(e.textDecoration,"overline")}}function pf(e,t,n,r){return(e=vf(e,n,r))?e:hf(t,n,r)}function hf(e,t,n){if(!e)return null;for(var r=lf(e),i=(r=c(r)).next();!i.done;i=r.next())if(i=Js(i.value,"http://www.w3.org/ns/ttml#styling",n))return i;return mf(e,t,n)}function vf(e,t,n){var r=Js(e,"http://www.w3.org/ns/ttml#styling",n);return r||mf(e,t,n)}function mf(e,t,n){e=gf(e,"style",t,"");for(var r=null,i=0;i<e.length;i++){var a=Js(e[i],"urn:ebu:tt:style",n);a||(a=Js(e[i],"http://www.w3.org/ns/ttml#styling",n)),a||(a=vf(e[i],t,n)),a&&(r=a)}return r}function gf(e,t,n,r){var i=[];if(!e||1>n.length)return i;var a=e;for(e=null;a&&!(e=a.getAttribute(t))&&(a=a.parentNode)instanceof Element;);if(t=e)for(e=(t=c(t.split(" "))).next();!e.done;e=t.next()){e=e.value;for(var o=(a=c(n)).next();!o.done;o=a.next())if(r+(o=o.value).getAttribute("xml:id")==e){i.push(o);break}}return i}function yf(e,t){var n=null;if(Cf.test(e)){n=Cf.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);n=(a+=(o+=(Number(n[5])||0)/t.b)/t.frameRate)+60*i+3600*r}else Of.test(e)?n=bf(Of,e):kf.test(e)?n=bf(kf,e):If.test(e)?(n=If.exec(e),n=Number(n[1])/t.frameRate):xf.test(e)?(n=xf.exec(e),n=Number(n[1])/t.a):Df.test(e)&&(n=bf(Df,e));return n}function bf(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function _f(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}vd((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)$d="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Gd,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Wd,e.MediaKeys=Kd,e.MediaKeySystemAccess=zd}})),vd((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=tf,Object.defineProperty(t,"disablePictureInPicture",{get:rf,set:af,enumerable:!0,configurable:!0}),document.exitPictureInPicture=nf,document.addEventListener("webkitpresentationmodechanged",ef,!0))}})),vd((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch((function(){})),e}}})),vd((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=of)}})),vd((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=sf;else if(6==n)t=uf;else{try{var r=!!sf(1,2,"")}catch(e){r=!1}r&&(t=sf)}t&&(e.VTTCue=function(e,n,r){return t(e,n,r)})}})),cf.prototype.parseInit=function(){},cf.prototype.parseMedia=function(e,t){var n=at(e),r=[],i=new DOMParser,a=null;if(""==n)return r;try{a=i.parseFromString(n,"text/xml")}catch(e){throw new he(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new he(2,2,2005,n.textContent);if(!(i=a.getElementsByTagName("tt")[0]))throw new he(2,2,2005,"TTML does not contain <tt> tag.");var o=Js(i,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Js(i,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Js(i,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),l=Js(i,"http://www.w3.org/ns/ttml#parameter","tickRate"),d=Js(i,"http://www.w3.org/ns/ttml#parameter","cellResolution");if(a=i.getAttribute("xml:space")||"default",n=Js(i,"http://www.w3.org/ns/ttml#styling","extent"),"default"!=a&&"preserve"!=a)throw new he(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new _f(o,s,u,l),d=d&&(d=/^(\d+) (\d+)$/.exec(d))?{columns:parseInt(d[1],10),rows:parseInt(d[2],10)}:null,s=lf(i.getElementsByTagName("metadata")[0]),u=lf(i.getElementsByTagName("styling")[0]);for(var f=[],p=c(l=lf(i.getElementsByTagName("layout")[0])),h=p.next();!h.done;h=p.next()){var v=h.value,m=n;h=new Hn;var g,y,b=v.getAttribute("xml:id");if(b)h.id=b,b=null,m&&(b=Ef.exec(m)||Pf.exec(m)),m=b?Number(b[1]):null,b=b?Number(b[2]):null,(g=hf(v,u,"extent"))&&(null!=(g=(y=Ef.exec(g))||Pf.exec(g))&&(h.width=null!=m?100*Number(g[1])/m:Number(g[1]),h.height=null!=b?100*Number(g[2])/b:Number(g[2]),h.widthUnits=y||null!=m?Gn:0,h.heightUnits=y||null!=b?Gn:0)),(v=hf(v,u,"origin"))&&(null!=(g=(y=Ef.exec(v))||Pf.exec(v))&&(h.viewportAnchorX=null!=b?100*Number(g[1])/b:Number(g[1]),h.viewportAnchorY=null!=m?100*Number(g[2])/m:Number(g[2]),h.viewportAnchorUnits=y||null!=m?Gn:0));else h=null;h&&f.push(h)}for(n=function e(t){if(!t)return[];for(var n=[],r=(t=c(t.childNodes)).next();!r.done;r=t.next())(r=r.value)instanceof Element&&(r.hasAttribute("begin")?n.push(r):n=n.concat(e(r)));return n}(i.getElementsByTagName("body")[0]),i=(n=c(n)).next();!i.done;i=n.next())(i=df(i.value,t.periodStart,o,s,u,l,f,a,!1,d))&&r.push(i)}return r},U("shaka.text.TtmlTextParser",cf),cf.prototype.parseMedia=cf.prototype.parseMedia,cf.prototype.parseInit=cf.prototype.parseInit;var Af,Sf,Ef=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,wf=/^(\d{1,2}(?:\.\d+)?|100)%$/,Tf=/^(\d+px|\d+em|\d*\.?\d+c)$/,Pf=/^(\d+)px (\d+)px$/,Cf=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Of=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,kf=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,If=/^(\d*(?:\.\d*)?)f$/,xf=/^(\d*(?:\.\d*)?)t$/,Df=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Rf={left:jn,center:"center",right:"end",start:jn,end:"end"},Mf={left:"line-left",center:"center",right:"line-right"};function Nf(){this.m=new cf}function Lf(){}function jf(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?In:xn[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=function(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Bn[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Ln,e.line=Number(n[1]),n[2]&&(e.lineAlign=Bn[n[2].toUpperCase()]))}function Bf(e){if(null==(e=wc(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Uf(){this.a=null}function Vf(e,t,n){var r,i,a;return(new Ri).L("payl",Li((function(e){r=at(e)}))).L("iden",Li((function(e){i=at(e)}))).L("sttg",Li((function(e){a=at(e)}))).parse(e),r?function(e,t,n,r,i){if(e=new Cn(r,i,e),t&&(e.id=t),n)for(t=new Sc(n),n=Tc(t);n;)jf(e,n,[]),Ec(t),n=Tc(t);return e}(r,i,a,t,n):null}
/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function Ff(){}function Hf(){Af?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(Af=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=Gf):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function Gf(e,t){var n,r=this;return R((function(i){return 1==i.a?(console.assert(r==navigator,'bad "this" for requestMediaKeySystemAccess'),_(i,Af.call(r,e,t),2)):Jf(n=i.b)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=Af,i.return(n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=Wf,i.return(Wf.call(r,e,t)))}))}function Wf(e,t){var n,r,i,a,o,s,u,l,d,f,p=this;return R((function(h){if(1==h.a){for(console.assert(p==navigator,'bad "this" for requestMediaKeySystemAccess'),n=Qf(e),r=[],i=c(t),a=i.next();!a.done;a=i.next())o=a.value,s=zf(o.videoCapabilities,n),u=zf(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(d=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",d.code=DOMException.NOT_SUPPORTED_ERR,d;return _(h,Af.call(p,e,r),2)}return f=h.b,h.return(new Zf(f,n))}))}function zf(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function Kf(){}function Yf(){navigator.mediaCapabilities?(Sf=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=qf):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function qf(e){var t,n=this;return R((function(r){return 1==r.a?(console.assert(n==navigator.mediaCapabilities,'bad "this" for decodingInfo'),_(r,Sf.call(n,e),2)):(t=r.b,e.keySystemConfiguration?Jf(t.keySystemAccess)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=Sf,r.return(t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Xf,r.return(Xf.call(n,e))):r.return(t))}))}function Xf(e){var t,n,r,i,a,o,s,u=this;return R((function(c){return 1==c.a?(console.assert(u==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,r=n.keySystem,i=n.audio&&n.audio.encryptionScheme,a=n.video&&n.video.encryptionScheme,t=Qf(r),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},i&&i!=t||a&&a!=t)?c.return(o):_(c,Sf.call(u,e),2)):((s=c.b).keySystemAccess&&(s.keySystemAccess=new Zf(s.keySystemAccess,t)),c.return(s))}))}function Zf(e,t){this.b=e,this.a=t,this.keySystem=e.keySystem}function Qf(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function Jf(e){var t=(e=e.getConfiguration()).audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function $f(){}function ep(){Hf(),Yf()}qn["application/ttml+xml"]=function(){return new cf},Nf.prototype.parseInit=function(e){var t=!1;if((new Ri).L("moov",Mi).L("trak",Mi).L("mdia",Mi).L("minf",Mi).L("stbl",Mi).ea("stsd",Ni).L("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new he(2,2,2007)},Nf.prototype.parseMedia=function(e,t){var n=this,r=!1,i=[];if((new Ri).L("mdat",Li((function(e){r=!0,i=i.concat(n.m.parseMedia(e,t))}))).parse(e,!1),!r)throw new he(2,2,2007);return i},U("shaka.text.Mp4TtmlParser",Nf),Nf.prototype.parseMedia=Nf.prototype.parseMedia,Nf.prototype.parseInit=Nf.prototype.parseInit,qn['application/mp4; codecs="stpp"']=function(){return new Nf},qn['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new Nf},qn['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new Nf},Lf.prototype.parseInit=function(){},Lf.prototype.parseMedia=function(e,t){var n=at(e),r=(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(r[0]))throw new he(2,2,2e3);if(n=t.periodStart,r[0].includes("X-TIMESTAMP-MAP")){var i=r[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=r[0].match(/MPEGTS:(\d+)/m);if(i&&a){if(null==(n=Bf(new Sc(i[1]))))throw new he(2,2,2e3);for(a=Number(a[1]),i=t.segmentStart;95443.7176888889<=i;)i-=95443.7176888889,a+=8589934592;n=t.periodStart+a/9e4-n}}a=[];for(var o=(i=c(r[0].split("\n"))).next();!o.done;o=i.next())if(o=o.value,/^Region:/.test(o)){o=new Sc(o);var s=new Hn;Tc(o),Ec(o);for(var u=Tc(o);u;){var l=s,d=u;(u=/^id=(.*)$/.exec(d))?l.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(d))?l.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(d))?(l.height=Number(u[1]),l.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.regionAnchorX=Number(u[1]),l.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(l.viewportAnchorX=Number(u[1]),l.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(d)&&(l.scroll="up"),Ec(o),u=Tc(o)}a.push(s)}for(i=[],o=(r=c(r.slice(1))).next();!o.done;o=r.next()){if(u=n,1==(l=o.value.split("\n")).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0])o=null;else{o=null,l[0].includes("--\x3e")||(o=l[0],l.splice(0,1)),d=Bf(s=new Sc(l[0]));var f=wc(s,/[ \t]+--\x3e[ \t]+/g),p=Bf(s);if(null==d||null==f||null==p)throw new he(2,2,2001);for(l=new Cn(d+u,p+u,l.slice(1).join("\n").trim()),Ec(s),u=Tc(s);u;)jf(l,u,a),Ec(s),u=Tc(s);null!=o&&(l.id=o),o=l}o&&i.push(o)}return i},U("shaka.text.VttTextParser",Lf),Lf.prototype.parseMedia=Lf.prototype.parseMedia,Lf.prototype.parseInit=Lf.prototype.parseInit,qn["text/vtt"]=function(){return new Lf},qn['text/vtt; codecs="vtt"']=function(){return new Lf},qn['text/vtt; codecs="wvtt"']=function(){return new Lf},Uf.prototype.parseInit=function(e){var t=this,n=!1;if((new Ri).L("moov",Mi).L("trak",Mi).L("mdia",Mi).ea("mdhd",(function(e){0==e.version?(e.reader.skip(4),e.reader.skip(4),t.a=e.reader.J(),e.reader.skip(4)):(e.reader.skip(8),e.reader.skip(8),t.a=e.reader.J(),e.reader.skip(8)),e.reader.skip(4)})).L("minf",Mi).L("stbl",Mi).ea("stsd",Ni).L("wvtt",(function(){n=!0})).parse(e),!this.a)throw new he(2,2,2008);if(!n)throw new he(2,2,2008)},Uf.prototype.parseMedia=function(e,t){if(!this.a)throw new he(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,l=null;if((new Ri).L("moof",Mi).L("traf",Mi).ea("tfdt",(function(e){o=!0,r=0==e.version?e.reader.J():e.reader.pb()})).ea("tfhd",(function(e){var t=e.flags;(e=e.reader).skip(4),1&t&&e.skip(8),2&t&&e.skip(4),l=8&t?e.J():null})).ea("trun",(function(e){s=!0;var t=e.version,n=e.flags,r=(e=e.reader).J();1&n&&e.skip(4),4&n&&e.skip(4);for(var a=[],o=(r=c(J(r))).next();!o.done;o=r.next())o={duration:null,sampleSize:null,nd:null},256&n&&(o.duration=e.J()),512&n&&(o.sampleSize=e.J()),1024&n&&e.skip(4),2048&n&&(o.nd=0==t?e.J():e.Kd()),a.push(o);i=a})).L("mdat",Li((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new he(2,2,2008);for(var d=r,f=new Ii(n,0),p=c(i),h=p.next();!h.done;h=p.next()){var v=(h=h.value).duration||l,m=h.nd?r+h.nd:d;d=m+(v||0);var g=0;do{var y=f.J();g+=y;var b=null;"vttc"==Bi(f.J())?8<y&&(b=f.Wa(y-8)):f.skip(y-8),v&&b&&(y=Vf(b,t.periodStart+m/this.a,t.periodStart+d/this.a),a.push(y))}while(h.sampleSize&&g<h.sampleSize)}return a.filter(St)},U("shaka.text.Mp4VttParser",Uf),Uf.prototype.parseMedia=Uf.prototype.parseMedia,Uf.prototype.parseInit=Uf.prototype.parseInit,qn['application/mp4; codecs="wvtt"']=function(){return new Uf},U("EmeEncryptionSchemePolyfill",Ff),Ff.install=Hf,U("McEncryptionSchemePolyfill",Kf),Kf.install=Yf,Zf.prototype.getConfiguration=function(){var e=this.b.getConfiguration();if(e.videoCapabilities)for(var t=c(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.a;if(e.audioCapabilities)for(n=(t=c(e.audioCapabilities)).next();!n.done;n=t.next())n.value.encryptionScheme=this.a;return e},Zf.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},U("EncryptionSchemePolyfills",$f),$f.install=ep,void 0!==n&&n.exports&&(n.exports=$f)}.call(r,n,n,void 0),r.shaka)t[i]=r.shaka[i]}()}).call(this,n(45))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.getOptions=function(){return null},n.isSingleton=function(){return!0},n}return i(t,e),t}(a(n(13)).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=s(n(75)),f=s(n(13)),p=n(35),h=s(n(212)),v=n(292),m=s(n(710)),g=n(60),y=s(n(22)),b=n(101),_=s(n(31)),A="EllationPlayhead",S=function(e){function t(){var t=e.call(this,"EllationPlayhead")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!1},t.handleEnded=t.handleEnded.bind(t),t.handleEndedAdBreak=t.handleEndedAdBreak.bind(t),t.handleFireInterval=t.handleFireInterval.bind(t),t.handleReadyToken=t.handleReadyToken.bind(t),t.handleStartPlayback=t.handleStartPlayback.bind(t),t.handleStopPlayback=t.handleStopPlayback.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.postToPlayhead=t.postToPlayhead.bind(t),t.register=t.register.bind(t),t.startPlayheadTimer=t.startPlayheadTimer.bind(t),t}return i(t,e),t.isPlayheadEnabled=function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=t.sent().ellationPlayhead,[2,_.default.get(e,"enabled",!1)]}}))},t.prototype.handleEnded=function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.isPlayheadEnabled()];case 1:return e.sent()?[4,this.handleStopPlayback({action:c.playerActionCreators.ended})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleFireInterval=function(e){var t=e.payload;return o(this,(function(e){switch(e.label){case 0:return t!==A?[3,2]:[4,this.postToPlayhead()];case 1:e.sent(),e.label=2;case 2:return[2]}}))},t.prototype.handleEndedAdBreak=function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.isPlayheadEnabled()];case 1:return e.sent()?[4,this.postToPlayhead()]:[3,4];case 2:return e.sent(),[4,this.startPlayheadTimer(!1)];case 3:e.sent(),e.label=4;case 4:return[2]}}))},t.prototype.handleReadyToken=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.select(l.playerSelectors.all)];case 1:return e=r.sent(),t=e.isLoaded,n=e.isPaused,!t||n?[3,3]:[4,this.handleStartPlayback()];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t.prototype.handleStartPlayback=function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.isPlayheadEnabled()];case 1:return e.sent()?[4,this.startPlayheadTimer(!0)]:[2];case 2:return e.sent(),[2]}}))},t.prototype.startPlayheadTimer=function(e){var t;return void 0===e&&(e=!1),o(this,(function(n){switch(n.label){case 0:return[4,u.select(l.coreSelectors.isTaskActive,A)];case 1:return n.sent()?[3,6]:e?[4,this.postToPlayhead()]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,u.select(l.configurationSelectors.self)];case 4:return t=n.sent().ellationPlayhead,[4,u.put(c.coreActionCreators.startIntervalTask({name:A,interval:_.default.get(t,"interval")}))];case 5:n.sent(),n.label=6;case 6:return[2]}}))},t.prototype.handleStopPlayback=function(e){var n=e.action;return o(this,(function(e){switch(e.label){case 0:return[4,t.isPlayheadEnabled()];case 1:return e.sent()?[4,u.select(l.coreSelectors.isTaskActive,A)]:[2];case 2:return e.sent()?[4,u.put(c.coreActionCreators.stopIntervalTask(A))]:[3,5];case 3:return e.sent(),[4,this.postToPlayhead()];case 4:return e.sent(),[3,6];case 5:console.warn("Playhead stop when already stopped",n),e.label=6;case 6:return[2]}}))},t.prototype.handleUnloadContent=function(){return o(this,(function(e){switch(e.label){case 0:return[4,t.isPlayheadEnabled()];case 1:return e.sent()?[4,this.handleStopPlayback({action:c.contentLifecycleActionCreators.unloadContent})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.postToPlayhead=function(){var e,t,n,r,i,s,f,A,S,E,w,T,P,C,O,k,I,x,D,R,M,N,L;return o(this,(function(o){switch(o.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=o.sent().metadata,[4,u.select(l.configurationSelectors.self)];case 2:return t=o.sent(),n=t.organization,r=t.user,f=(s=l.coreSelectors).all,[4,u.select()];case 3:return i=f.apply(s,[o.sent()]).isMobileNetworkAvailable,[4,u.select(l.ellationCoreSelectors.all)];case 4:return A=o.sent().accountId,S=n.apiDomain,[4,u.select(l.mediaSelectors.all)];case 5:return E=o.sent().contentTime,w=Math.ceil(E),T=y.default.isYoui()||y.default.isMobileNative(),(P=T?_.default.get(r,"id"):A)?[3,7]:(x={playhead:w,failedReason:v.EllationPlayheadFailedType.NO_USER_ID},[4,u.put(c.ellationPlayheadActionCreators.reportPlayheadFailed(x))]);case 6:return o.sent(),[2];case 7:return C=d.default.findInstance(h.default),[4,u.call(C.getToken)];case 8:return O=o.sent(),k=O.token,(I=O.error)?(x={playhead:w,failedReason:v.EllationPlayheadFailedType.MISSING_JWT},[4,u.put(c.ellationPlayheadActionCreators.reportPlayheadFailed(x))]):[3,10];case 9:return o.sent(),console.warn("Playhead failed to get JWT token -",I),[2];case 10:return D=!1,y.default.isMobileNative()&&!i?[3,13]:(R={content_id:e.id,playhead:w},M=a(a({},b.basePostOptions),{body:JSON.stringify(R),headers:a(a({},b.basePostOptions.headers),{Authorization:"Bearer "+k})}),N="https://"+S+p.EllationAPIEndpoints.PLAYHEAD+P,[4,u.call(b.fetchUrl,N,M)]);case 11:return L=o.sent(),D=L.type===b.CallStatus.SUCCESS,[4,u.put(c.ellationPlayheadActionCreators.reportPlayhead(w))];case 12:o.sent(),o.label=13;case 13:return m.default.sendMessageToClient({type:g.MessageType.CLIENT_PLAYHEAD_UPDATE,payload:{playhead:w,requestSuccess:D}}),[2]}}))},t.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.adsManagerActionCreators.endedAdBreak,this.handleEndedAdBreak),u.takeEvery(c.ellationCoreActionCreators.readyToken,this.handleReadyToken),u.takeEvery(c.contentLifecycleActionCreators.startedPlaying,this.handleStartPlayback),u.takeEvery(c.contentLifecycleActionCreators.stoppedPlaying,this.handleStopPlayback),u.takeEvery(c.coreActionCreators.fireInterval,this.handleFireInterval),u.takeEvery(c.playerActionCreators.ended,this.handleEnded),u.takeEvery(c.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent)])];case 1:return e.sent(),[2]}}))},t}(f.default);t.default=S},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(8),l=n(40),d=n(85),f=o(n(716)),p=o(n(13)),h=n(334),v=n(27),m=n(7),g=o(n(282)),y=function(e){function t(){var t=e.call(this,"AdsManager")||this;return t.shouldMonitorTimeline=!0,t.getOptions=function(){return{reducerMap:{adsManager:g.default},sagas:[t.register]}},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.handleStartedAdBreak=t.handleStartedAdBreak.bind(t),t.handleAddingGenericTasks=t.handleAddingGenericTasks.bind(t),t.handleProcessStreams=t.handleProcessStreams.bind(t),t.handleEndedAdBreak=t.handleEndedAdBreak.bind(t),t.handleEndedAdSlot=t.handleEndedAdSlot.bind(t),t.handleUpdateTime=t.handleUpdateTime.bind(t),t.handleRequestSeekToContentTime=t.handleRequestSeekToContentTime.bind(t),t.handleEndSeek=t.handleEndSeek.bind(t),t.handleStartSeek=t.handleStartSeek.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.fork(f.default),s.takeEvery(u.adsManagerActionCreators.startedAdBreak,this.handleStartedAdBreak),s.takeEvery(u.coreActionCreators.startApp,this.handleAddingGenericTasks),s.takeEvery(u.mediaActionCreators.setUnprocessedSource,this.handleProcessStreams),s.takeEvery(u.adsManagerActionCreators.endedAdBreak,this.handleEndedAdBreak),s.takeEvery(u.adsManagerActionCreators.endedAdSlot,this.handleEndedAdSlot),s.takeEvery([u.mediaActionCreators.updateTime,u.mediaActionCreators.updateStreamTime],this.handleUpdateTime),s.takeEvery(u.playerActionCreators.requestSeekToContentTime,this.handleRequestSeekToContentTime),s.takeEvery(u.playerActionCreators.endSeek,this.handleEndSeek),s.takeEvery(u.playerActionCreators.startSeek,this.handleStartSeek)])];case 1:return e.sent(),[2]}}))},t.prototype.handleStartSeek=function(){this.shouldMonitorTimeline=!1},t.prototype.handleEndSeek=function(){this.shouldMonitorTimeline=!0},t.prototype.handleRequestSeekToContentTime=function(){this.shouldMonitorTimeline=!1},t.prototype.handleEndedAdBreak=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.coreActionCreators.enableSeeking())];case 1:return e.sent(),[2]}}))},t.prototype.handleStartedAdBreak=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.coreActionCreators.disableSeeking())];case 1:return e.sent(),[2]}}))},t.prototype.handleAddingGenericTasks=function(){return a(this,(function(e){switch(e.label){case 0:return[4,m.gateUtils.addTask(u.mediaActionCreators.finishProcessingSource,h.NO_PROCESSING_NEEDED)];case 1:return e.sent(),[2]}}))},t.prototype.handleProcessStreams=function(){return a(this,(function(e){switch(e.label){case 0:return[4,m.gateUtils.completeTask(u.mediaActionCreators.finishProcessingSource,h.NO_PROCESSING_NEEDED)];case 1:return e.sent(),[2]}}))},t.prototype.handleEndedAdSlot=function(e){var t,n,r,i,o=e.payload;return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return t=e.sent(),l.isUsingKatana(t)?[4,s.select(c.adsManagerSelectors.all)]:[2];case 2:return n=e.sent().adBreaks,[4,s.select(c.adsManagerSelectors.property,"targetAdBreakIndex")];case 3:return r=e.sent(),i=o.sequence,i>=n[r].adSlots.length?[4,s.put(u.adsManagerActionCreators.endedAdBreak(n[r]))]:[3,5];case 4:e.sent(),e.label=5;case 5:return[2]}}))},t.prototype.handleUpdateTime=function(){var e,t,n,r,i,o,f,p,h,m,g,y,b,_,A,S,E,w,T,P,C;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=a.sent(),[4,s.select(c.adsManagerSelectors.all)];case 2:return t=a.sent(),n=t.adBreaks,r=t.isInAdBreak,[4,s.select(c.mediaSelectors.all)];case 3:return i=a.sent().streamTime,o=-.5,!r&&l.isUsingKatana(e)&&this.shouldMonitorTimeline?[3,7]:(y=(g=c.adsManagerSelectors).all,[4,s.select()]);case 4:return f=y.apply(g,[a.sent()]),p=f.adBreaks,h=f.targetAdBreakIndex,m=f.targetAdSlotIndex,b=p[h],(_=null===(C=null==b?void 0:b.adSlots)||void 0===C?void 0:C[m])?(A=b.offset||b.contentTimeOffset,S=b.duration,S-(i-A)<o?[4,s.put(u.adsManagerActionCreators.endedAdSlot(_))]:[3,6]):[3,6];case 5:a.sent(),a.label=6;case 6:return[2,!1];case 7:return[4,s.select(c.mediaSelectors.all)];case 8:return E=a.sent().processedSource,w=v.StreamType.HLS===(null==E?void 0:E.type)?1:0,T=i+w,!(P=d.getPreviousAdBreak(n,T))||P.isPlayed?[3,10]:[4,s.put(u.adsManagerActionCreators.startedAdBreak(P))];case 9:return[2,a.sent()];case 10:return[2]}}))},t}(p.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_PROCESSING_NEEDED=t.StreamLocationType=void 0,function(e){e.network="network",e.local="local"}(t.StreamLocationType||(t.StreamLocationType={})),t.NO_PROCESSING_NEEDED="no processing needed"},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(49);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(49),i=n(728),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(s=n(339)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(202))},function(e,t,n){"use strict";var r=n(49),i=n(729),a=n(731),o=n(336),s=n(732),u=n(735),c=n(736),l=n(340);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers;r.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+v)}var m=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(m,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var g=(e.withCredentials||c(m))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;g&&(f[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),d||(d=null),p.send(d)}))}},function(e,t,n){"use strict";var r=n(730);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},function(e,t,n){"use strict";var r=n(49);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(a,c),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(a).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(d,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(751),t),i(n(344),t),i(n(213),t),i(n(214),t),i(n(348),t),i(n(345),t),i(n(763),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;var a=n(148),o=n(752),s=n(754),u=n(755),c=n(756),l=n(757),d=n(758),f=n(345),p=function(){function e(e,t,n){void 0===n&&(n=new f.EventValidator),this.apiHost=e,this.apiKey=t,this.validator=n,e.startsWith("//")&&(this.apiHost=e.replace(/^\/\//,""))}return e.prototype.identify=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new u.Identify(e,t,n))]}))}))},e.prototype.group=function(e,t,n,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new s.Group(e,t,n,a))]}))}))},e.prototype.track=function(e,t,n,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new d.Track(e,t,n,a))]}))}))},e.prototype.page=function(e,t,n,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new c.Page(e,t,void 0,n,a))]}))}))},e.prototype.screen=function(e,t,n,a){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new l.Screen(e,t,void 0,n,a))]}))}))},e.prototype.alias=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return[2,this.send(new o.Alias(e,t,n))]}))}))},e.prototype.send=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:if(!this.isValid(e))return console.warn("EEC action does not validate",e),[2,!1];if(e.setSentAt(new Date),e.setApiKey(this.apiKey),t="https://"+this.apiHost+"/"+e.getType(),n=JSON.stringify(e),"undefined"!=typeof navigator&&navigator.sendBeacon&&(r=navigator.sendBeacon(t,n)))return[2,r];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,fetch(t,{body:n,method:"POST",headers:{Authorization:"Basic "+a.encode(this.apiKey+":"),"Content-Type":"text/plain"}})];case 2:return[2,i.sent().ok];case 3:return i.sent(),[2,!1];case 4:return[2]}}))}))},e.prototype.isValid=function(e){return!this.validator.validate(e).hasFailed()},e}();t.Client=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventValidator=void 0;var r=n(86),i=n(759),a=n(346),o=n(347),s=n(760),u=function(){function e(){}return e.prototype.validate=function(e){switch(e.getType()){case r.ActionMethod.Track:return this.validateTrackEvent(e);case r.ActionMethod.Group:return this.validateGroupEvent(e);case r.ActionMethod.Identify:return this.validateIdentifyEvent(e);case r.ActionMethod.Page:return this.validatePageEvent(e);case r.ActionMethod.Screen:return this.validateScreenEvent(e);case r.ActionMethod.Alias:return this.validateAliasEvent(e)}},e.prototype.validateTrackEvent=function(e){var t=this.validateUser(e);return t.hasFailed()?t:this.assert(e.getEvent(),i.ErrorStrings.MissingEvent)},e.prototype.validateGroupEvent=function(e){var t=this.validateUser(e);return t.hasFailed()?t:this.assert(e.getGroupId(),i.ErrorStrings.MissingGroupId)},e.prototype.validateIdentifyEvent=function(e){return this.validateUser(e)},e.prototype.validatePageEvent=function(e){return this.validateUser(e)},e.prototype.validateScreenEvent=function(e){return this.validateUser(e)},e.prototype.validateAliasEvent=function(e){var t=this.assert(e.getUserId(),i.ErrorStrings.MissingUserId);return t.hasFailed()?t:this.assert(e.getPreviousId(),i.ErrorStrings.MissingPreviousId)},e.prototype.validateUser=function(e){return this.assert(e.getAnonymousId()||e.getUserId(),i.ErrorStrings.MissingUserIdAndAnonymousId)},e.prototype.assert=function(e,t){return e?new s.ValidatorResult(this.success()):new s.ValidatorResult(this.fail(e,!0,t))},e.prototype.fail=function(e,t,n){var r=new a.EventError(n);return r.actualValue=e,r.expectedValue=t,r},e.prototype.success=function(){return new o.EventSuccess},e}();t.EventValidator=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EventError=void 0;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="AnalyticsEventError",t}return i(t,e),t}(Error);t.EventError=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventSuccess=void 0;var r=function(){this.name="EventSuccess"};t.EventSuccess=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBuilderFactory=void 0;var r=n(761),i=n(762),a=function(){function e(){}return e.create=function(){var e=new i.PlatformContextInfo;return new r.ContextBuilder(e)},e}();t.ContextBuilderFactory=a},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleUnloadContent=t.handleStartSeek=t.handleStopPlayback=t.handleFireInterval=t.startHeartbeatInterval=t.handleEndedAdBreak=t.handleStartPlayback=t.handleLoadContent=t.sendHeartbeat=t.ELLATION_HEARTBEAT_TASK=void 0;var s=n(9),u=n(2),c=n(8),l=n(7),d=a(n(146)),f=n(215);t.ELLATION_HEARTBEAT_TASK="EllationHeartbeat";function p(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,f.getHeartbeatData()];case 1:return e=t.sent(),[4,s.put(d.reportHeartbeat(e))];case 2:return t.sent(),[2]}}))}function h(){return o(this,(function(e){switch(e.label){case 0:return[4,s.put(d.startSession())];case 1:return e.sent(),[4,l.gateUtils.addTask(u.contentLifecycleActionCreators.completeUnloadContent,"Ellation Heartbeat unload")];case 2:return e.sent(),[2]}}))}function v(){return o(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return e.sent(),[2]}}))}function m(){return o(this,(function(e){switch(e.label){case 0:return[4,g()];case 1:return e.sent(),[2]}}))}function g(){var e,n;return o(this,(function(r){switch(r.label){case 0:return[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_HEARTBEAT_TASK)];case 1:return r.sent()?[3,5]:[4,p()];case 2:return r.sent(),[4,s.select(c.configurationSelectors.self)];case 3:return e=r.sent().ellationAnalytics,n=l._.get(e,"heartbeatInterval",30),[4,s.put(u.coreActionCreators.startIntervalTask({name:t.ELLATION_HEARTBEAT_TASK,interval:n}))];case 4:r.sent(),r.label=5;case 5:return[2]}}))}function y(e){var n=e.payload;return o(this,(function(e){switch(e.label){case 0:return n!==t.ELLATION_HEARTBEAT_TASK?[3,2]:[4,p()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function b(e){var n,r,i,a,l=e.action;return o(this,(function(e){switch(e.label){case 0:return[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_HEARTBEAT_TASK)];case 1:return n=e.sent(),[4,s.select(c.playerSelectors.all)];case 2:return r=e.sent(),i=r.isLoaded,a=r.isSeeking,i&&!a?[3,3]:[2];case 3:return n?[4,p()]:[3,6];case 4:return e.sent(),[4,s.put(u.coreActionCreators.stopIntervalTask(t.ELLATION_HEARTBEAT_TASK))];case 5:return e.sent(),[3,7];case 6:console.warn("Attempt to send stop heartbeat while inactive",l),e.label=7;case 7:return[2]}}))}function _(e){var n=e.action;return o(this,(function(e){switch(e.label){case 0:return[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_HEARTBEAT_TASK)];case 1:return e.sent()?[4,p()]:[3,4];case 2:return e.sent(),[4,s.put(u.coreActionCreators.stopIntervalTask(t.ELLATION_HEARTBEAT_TASK))];case 3:return e.sent(),[3,5];case 4:console.warn("Attempt to send seek heartbeat while inactive",n),e.label=5;case 5:return[2]}}))}function A(){return o(this,(function(e){switch(e.label){case 0:return[4,b({action:u.contentLifecycleActionCreators.unloadContent})];case 1:return e.sent(),[4,l.gateUtils.completeTask(u.contentLifecycleActionCreators.completeUnloadContent,"Ellation Heartbeat unload")];case 2:return e.sent(),[2]}}))}t.sendHeartbeat=p,t.handleLoadContent=h,t.handleStartPlayback=v,t.handleEndedAdBreak=m,t.startHeartbeatInterval=g,t.handleFireInterval=y,t.handleStopPlayback=b,t.handleStartSeek=_,t.handleUnloadContent=A,t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.adsManagerActionCreators.endedAdBreak,m),s.takeEvery(u.coreActionCreators.fireInterval,y),s.takeEvery(u.contentLifecycleActionCreators.startedPlaying,v),s.takeEvery(u.contentLifecycleActionCreators.stoppedPlaying,b),s.takeEvery(u.contentLifecycleActionCreators.unloadContent,A),s.takeEvery(u.contentLifecycleActionCreators.loadContent,h),s.takeEvery(u.playerActionCreators.startSeek,_)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseLambdaResponse=t.hmsToSeconds=void 0;var u=n(9),c=n(2),l=n(8),d=n(59),f=n(85),p=s(n(13)),h=n(7);t.hmsToSeconds=function(e){var t=e.split(":");return 60*+t[0]*60+60*+t[1]+ +t[2]},t.parseLambdaResponse=function(e){var n=e["vmap:VMAP"]["vmap:AdBreak"],r=n.map((function(e){return e["vmap:AdSource"]["vmap:VASTAdData"].VAST.Ad})).map((function(e){return Array.isArray(e)?e:[e]})),i=function(e){var t=e;try{for(var n in t)t.hasOwnProperty(n)&&("_"===n?t=t._:"url"===n&&(t=t.url))}catch(e){}return t},o=function(e,t){void 0===t&&(t=!1);var n=s(e);if(t)if(Array.isArray(n)){var r=[];n.forEach((function(e){var t=o(e);t=i(t),r.push(t)}))}else n=[e];else n=i(n);return n},s=function(e){var t=e||null;if(Array.isArray(t)){var n=[];return t.forEach((function(e){var t=o(e);t=i(t),n.push(t)})),n}return t},u=function(e,t){return Array.isArray(t)?t.find((function(t){return t.Linear[e]})).Linear[e]:t.Linear[e]},c=[],l=function(e,t){t&&c.push({event:e,url:t})},p=function(e,t){var n=s(t);n=i(n),l(e,n)},h=n.map((function(e,n){var i,a=t.hmsToSeconds(e.$.timeOffset),s=e["vmap:Extensions"]["vmap:Extension"],f=Array.isArray(s)?s.find((function(e){return e["yospace:AdBreak"]})):s["yospace:AdBreak"];f&&f["yospace:AdBreak"]&&(f=f["yospace:AdBreak"]);var h=t.hmsToSeconds(f.$.duration);if(!h||h<=0)return null;var v=Array.isArray(s)?Number(null===(i=s.find((function(e){return e["yospacenet:Trim"]})))||void 0===i?void 0:i["yospacenet:Trim"].$.duration):0;return{adSlots:r[n].map((function(e){var n;c=[];var r=e.InLine,i=r.Creatives.Creative,a=u("Duration",i),s=o(r.AdSystem),d=o(r.AdTitle),f=o(r.Description),h=null===(n=u("TrackingEvents",i))||void 0===n?void 0:n.Tracking;null==h||h.forEach((function(e){l(e.$.event,e._)}));var v=u("VideoClicks",i),m=o(null==v?void 0:v.ClickThrough);return function(e){for(var t,n=function(e,n){var r=o(n);null===(t=[r])||void 0===t||t.forEach((function(t){Array.isArray(t)?null==t||t.forEach((function(t){p(e,t)})):p(e,t)}))},r=0,i=Object.entries(e);r<i.length;r++){var a=i[r];n(a[0],a[1])}}({clickTrack:null==v?void 0:v.ClickTracking,impression:r.Impression,error:r.Error}),{adSystem:s,adTitle:d,clickThroughUrl:m,description:f,duration:t.hmsToSeconds(a),id:e.$.id,isPlayed:!1,isVPAID:!1,sequence:Number(e.$.sequence),beaconEvents:c}})),duration:t.hmsToSeconds(f.$.duration),index:n,isPlayed:!1,isVPAID:!1,offset:a,trim:v,type:0===a?d.AdBreakType.PREROLL:d.AdBreakType.MIDROLL}})).filter((function(e){return null!=e})),v=h.map((function(e){return a(a({},e),{contentTimeOffset:e.offset-f.determineContentOffSet(h,e.offset)})})),m=e["vmap:VMAP"]["vmap:Extensions"]["vmap:Extension"]["yospace:Stream"],g=m.$.urlDomain,y=m.$.urlSuffix;return{duration:t.hmsToSeconds(m.$.duration),processedStreamUrl:"https://"+g+y,adBreaksWithContentTimeOffset:v}};var v=function(e){function n(){var t=e.call(this,"LambdaResponseParser")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.getComponent=function(){return null},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.handleReceivedVmap=t.handleReceivedVmap.bind(t),t}return i(n,e),n.prototype.handleReceivedVmap=function(e){var n,r,i,a,s,d,p,v,m=e.payload;return o(this,(function(e){switch(e.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:if(n=e.sent(),!f.isUsingSSAI(n))return[2];e.label=2;case 2:return e.trys.push([2,6,,8]),r=m,h.environmentUtils.isJest()||(r=JSON.parse(m)),[4,t.parseLambdaResponse(r)];case 3:return i=e.sent(),a=i.adBreaksWithContentTimeOffset,s=i.duration,d=i.processedStreamUrl,p={duration:s,processedStreamUrl:d},[4,u.put(c.adsManagerActionCreators.updateAdBreaks(a))];case 4:return e.sent(),[4,u.put(c.lambdaResponseActions.parsedVMAP(p))];case 5:return e.sent(),[3,8];case 6:return v=e.sent(),[4,u.put(c.mediaActionCreators.error({code:"LRP-1",message:v}))];case 7:return e.sent(),[3,8];case 8:return[2]}}))},n.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.ssaiActionCreators.receivedVmap,this.handleReceivedVmap)])];case 1:return e.sent(),[2]}}))},n}(p.default);t.default=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(7),f=u(n(791)),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isRokuInAdBreak:!1},t}return i(t,e),t.prototype.componentDidUpdate=function(e){var t=this;e.isInAdBreak!==this.props.isInAdBreak&&d.environmentUtils.isRoku()&&setTimeout((function(){return t.setState({isRokuInAdBreak:t.props.isInAdBreak})}),1e3)},t.prototype.render=function(){var e=this.props.isInAdBreak,t=this.state.isRokuInAdBreak;return(d.environmentUtils.isRoku()?t:e)?c.default.createElement(f.default,null):null},t}(c.Component);t.default=l.connect((function(e){return{isInAdBreak:e.adsManager.isInAdBreak,selectedDesign:e.ui.selectedDesign}}),null)(p)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(156)),p=u(n(12)),h=u(n(26)),v=n(7),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.ads,n=e.isAdSlotVPAID,r=e.profile,i=e.style,a=e.streamTime,o=v.adsUtils.getCurrentAdPod(t);if(p.default.adsUIDebugMode)return c.default.createElement(l.View,{style:r.adsInfo.backgroundStyle},c.default.createElement(l.Text,{style:[r.adsInfo.adLabel,i],testID:p.default.testIDs.adLabel,accessibilityLabel:p.default.testIDs.adLabel},h.default.t("ads.adNumberStatus",{currentAdNumber:1,totalAds:1})));if(null===o)return null;var s=t.targetAdSlotIndex+1,u=t.numberOfAdsInBreak,d=a-(o.offset||o.contentTimeOffset),f=Math.round(o.duration-d),m=h.default.t("ads.adNumberStatus",{currentAdNumber:s,totalAds:u});if((v.environmentUtils.isWeb()||v.environmentUtils.isMobileNative())&&!n){var g=Math.max(f,0);m=m+" ("+v.timeUtils.formatDisplayTime(g)+")"}return c.default.createElement(l.View,{style:r.adsInfo.backgroundStyle},c.default.createElement(l.Text,{style:[r.adsInfo.adLabel,i],testID:p.default.testIDs.adLabel,accessibilityLabel:p.default.testIDs.adLabel},m))},t}(c.Component);t.default=d.connect((function(e){return{ads:e.adsManager,streamTime:e.media.streamTime,profile:e.theme.profiles[e.theme.activeProfile],isAdSlotVPAID:e.adsManager.isAdSlotVPAID}}))(f.default(m))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=(r=o)&&r.__esModule?r:{default:r},u=n(3);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;c(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={width:1,height:1},r.measure=function(e){var t=e.nativeEvent;return r.setState({width:t.layout.width,height:t.layout.height})},r.getAngle=function(){return r.props.useAngle?r.props.angle+"deg":Math.atan2(r.state.width*(r.props.end.y-r.props.start.y),r.state.height*(r.props.end.x-r.props.start.x))+Math.PI/2+"rad"},r.getColors=function(){return r.props.colors.map((function(e,t){var n=r.props.locations[t],i="";return n&&(i=" "+100*n+"%"),e+i})).join(",")},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=(e.start,e.end,e.colors,e.locations,e.useAngle,e.angleCenter,e.angle,e.style),n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["start","end","colors","locations","useAngle","angleCenter","angle","style","children"]);return s.default.createElement(u.View,i({},r,{style:[t,{backgroundImage:"linear-gradient("+this.getAngle()+","+this.getColors()+")"}],onLayout:this.measure,__source:{fileName:"src/index.js",lineNumber:72}}),n)}}]),t}(o.PureComponent);d.defaultProps={start:{x:.5,y:0},end:{x:.5,y:1},locations:[],colors:[],useAngle:!1,angle:0},t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=u(n(355)),f=u(n(12)),p=n(7),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.ads,n=e.media,r=p.adsUtils.getCurrentAdPod(t),i=r.offset||r.contentTimeOffset,a=(null==r?void 0:r.duration)?(n.streamTime-i)/r.duration*100:0;return c.default.createElement(d.default,{backgroundColor:"#a0a0a0",testID:f.default.testIDs.adProgressBar,primaryProgressTestID:f.default.testIDs.adSecondaryProgress,secondaryProgressTestID:f.default.testIDs.secondaryProgress,componentStyle:{height:4,opacity:.74},primaryColor:"#d8d8d8",primaryPercentage:a,secondaryColor:"#d8d8d8",secondaryPercentage:0})},t}(c.Component);t.default=l.connect((function(e){return{ads:e.adsManager,media:e.media}}))(h)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=r(n(356)),o=r(n(796)),s=r(n(217)),u=r(n(357));t.default=function(e){var t=e.backgroundColor,n=e.componentStyle,r=e.primaryPercentage,c=e.secondaryPercentage,l=e.primaryColor,d=e.secondaryColor,f=e.testID,p=e.primaryProgressTestID,h=e.secondaryProgressTestID;return i.default.createElement(s.default,null,i.default.createElement(u.default,{height:n.height,animHeight:n.animHeight,borderRadius:n.borderRadius,animBorderRadius:n.animBorderRadius,backgroundColor:t,testID:f},i.default.createElement(a.default,null,i.default.createElement(o.default,{accessibilityLabel:""+c,color:d,width:c,borderRadius:n.borderRadius,animBorderRadius:n.animBorderRadius,testID:h})),i.default.createElement(a.default,null,i.default.createElement(o.default,{accessibilityLabel:""+r,color:l,width:r,borderRadius:n.borderRadius,animBorderRadius:n.animBorderRadius,testID:p}))))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3);t.default=function(e){var t=e.children,n=e.style,r=[s.absoluteLayer,n];return a.default.createElement(o.View,{style:r},t)};var s=o.StyleSheet.create({absoluteLayer:r(r({},o.StyleSheet.absoluteFillObject),{height:"100%",width:"100%",flexDirection:"row",alignItems:"center"})})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3);t.default=function(e){var t=e.children,n=e.height,r=void 0===n?0:n,s=e.animHeight,u=e.borderRadius,c=e.animBorderRadius,l=e.backgroundColor,d=e.opacity,f=e.animOpacity,p=e.testID;return i.default.createElement(a.Animated.View,{testID:p,accessibilityLabel:p,style:[o.progressContainer,{backgroundColor:l,borderRadius:c||u,height:s||r,opacity:f||d}]},t)};var o=a.StyleSheet.create({progressContainer:{flex:1,flexDirection:"row",overflow:"hidden",width:"100%"}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=c(n(12)),f=c(n(32)),p=c(n(220)),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseEnter=function(e,n){var r=n.isDragging,i=n.isHovering;t.props.onMouseEnter&&t.props.onMouseEnter(e,{isDragging:r,isHovering:i}),f.default.suspend()},t.onMouseLeave=function(e,n){var r=n.isDragging,i=n.isHovering;t.props.onMouseLeave&&t.props.onMouseLeave(e,{isDragging:r,isHovering:i}),d.default.alwaysHoverSliderBar||f.default.resume()},t.onPressIn=function(e,n,r){var i=r.isDragging,a=r.isHovering;t.props.onPressIn&&t.props.onPressIn(e,n,{isDragging:i,isHovering:a}),f.default.lock()},t.onPressOut=function(e,n,r){var i=r.isDragging,a=r.isHovering;t.props.onPressOut&&t.props.onPressOut(e,n,{isDragging:i,isHovering:a}),f.default.unlock()},t}return i(t,e),t.prototype.componentWillUnmount=function(){f.default.resume()},t.prototype.render=function(){return l.default.createElement(p.default,a({},this.props,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPressIn:this.onPressIn,onPressOut:this.onPressOut}))},t}(l.Component);t.default=h},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(353));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=r(n(12)),s=r(n(159)).default((function(e){var t=e.icons,n=e.profile,r=e.title,o={color:n.settingsControl.titleColor,fontSize:n.settingsControl.titleFontSize};return i.default.createElement(a.View,{style:u.entryContainer},i.default.createElement(a.Image,{style:u.leftChevron,source:t.leftChevron}),i.default.createElement(a.Text,{style:[u.titleText,n.text,o]},r))}));t.default=function(e){var t=e.icons,n=e.onPress,r=e.profile,c=e.title;return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.View,{style:u.spacer}),i.default.createElement(s,{icons:t,onPress:n,profile:r,testID:o.default.testIDs.settingsBackButton,accessibilityLabel:o.default.testIDs.settingsBackButton,title:c}))};var u=a.StyleSheet.create({spacer:{height:10},entryContainer:{alignItems:"center",flexDirection:"row"},titleText:{marginLeft:6,lineHeight:26},leftChevron:{marginLeft:-2,width:24,height:24}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(6),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isDisabled,r=t.isHovered,i=t.isSelected,a=t.profile.radioButton,o=a.backgroundColor,s=a.disabledColor,c=a.disabledOpacity,l=a.hoverColor,d=a.selectedColor,f=a.size,p=a.unselectedColor,h=1;return i?e=d:r?e=l:n?(e=s,h=c):e=p,u.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:f,width:f},viewBox:"0 0 20 20"},u.default.createElement("circle",{style:{fill:o,opacity:h},className:"bg",cx:"10",cy:"10",r:"9"}),i&&u.default.createElement("circle",{style:{fill:e},className:"dot",cx:"10",cy:"10",r:"4"}),u.default.createElement("path",{style:{fill:e},className:"outer_circle",d:"M10,2a8,8,0,1,1-8,8,8.009,8.009,0,0,1,8-8m0-2A10,10,0,1,0,20,10,10,10,0,0,0,10,0Z"}))},t.defaultProps={isDisabled:!1,isHovered:!1,isSelected:!1},t}(u.Component);t.default=c.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}))(l)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.formatHardSubTracks=t.formatTextTrackEntries=void 0;var a=i(n(26)),o=n(35),s=n(28),u=n(7),c=i(n(68));t.formatTextTrackEntries=function(e,t){var n={},i=[s.TextTrackKind.CAPTIONS,s.TextTrackKind.SUBTITLES],l=e.filter((function(e){return u.textTrackUtils.isSupported(e.type)&&i.includes(e.kind)})).filter((function(e){var t=e.language+"_"+e.label,r=!n[t];return n[t]=!0,r})).map((function(e){var n=e.index,r=e.kind,i=e.label,a=e.language;return{text:i||c.default(a).desc||o.UNKNOWN_LOCALE_LABEL,flagText:r===s.TextTrackKind.CAPTIONS?"CC":null,isSelected:n===t,value:n}})),d={text:a.default.t("settings.noneOption"),flagText:null,isSelected:t===s.TEXT_TRACK_NONE,value:s.TEXT_TRACK_NONE};return r(l,[d])},t.formatHardSubTracks=function(e,t){var n={},r=[];return e.forEach((function(e,i){if(!n[e.hardsub_lang]){n[e.hardsub_lang]=!0;var s=e.hardsub_lang?c.default(e.hardsub_lang).desc||o.UNKNOWN_LOCALE_LABEL:a.default.t("settings.noneOption");r.push({text:s,flagText:null,isSelected:i===t,value:i})}})),r}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(3),l=c.Dimensions.get("window"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:0,height:0},t.onLayout=function(e){t.view.measure((function(e,n,r,i,a,o){t.setState({width:r,height:i})}))},t.absoluteToRelative=function(e){return e-t.props.containerLeft},t}return i(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.absoluteX,i=n.padding,a=n.maxX,o=n.minX,s=n.relativeY,l=n.style,d=void 0===l?{}:l,f=this.state.width/2;e=r-f<o+i?this.absoluteToRelative(f+i):r+f>a-i?this.absoluteToRelative(a-f-i):this.absoluteToRelative(r);var p={position:"absolute",bottom:s,left:e-=f};return u.default.createElement(c.View,{ref:function(e){return t.view=e},onLayout:this.onLayout,style:[p,d]},this.props.children)},t.defaultProps={maxX:l.width,maxY:l.height,minX:0,minY:0,relativeX:0,relativeY:0},t}(u.Component);t.default=d},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6);t.default=o.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){var t=e.children,n=e.profile,r=e.style;return i.default.createElement(a.View,{style:[n.tooltipContainer,r]},i.default.createElement(a.Text,{style:[n.text,n.tooltipText]},t))}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=c(n(366)),h=n(33),v=function(e){function t(t){var n=e.call(this,t)||this;n.state={data:null};var r=p.default.getThumbnailAt(t.timestamp);return n.state={data:r},n}return i(t,e),t.prototype.componentDidUpdate=function(e){if(e.timestamp!==this.props.timestamp){var t=p.default.getThumbnailAt(this.props.timestamp);t!==this.state.data&&this.setState({data:t})}},t.prototype.render=function(){var e=this.props,t=e.isCenter,n=e.isPlaceholder,r=e.profile.trickscrubImages,i=r.centerImageBorderColor,o=r.centerImageBorderWidth,s=r.emptyImageBackgroundColor,u=r.imageHeight,c=r.imageWidth,f={shadowColor:r.shadowColor,shadowOpacity:r.shadowOpacity,shadowRadius:r.shadowRadius};t&&o&&(f=a(a({},f),{borderWidth:o,borderColor:i,height:u+o,width:c+o,marginLeft:h.toRelativeScale(o),marginRight:h.toRelativeScale(o)}));var p={backgroundColor:n?"transparent":s,height:u,width:c},v=!!this.state.data;return l.default.createElement(d.View,{style:[m.container,f]},v&&l.default.createElement(d.Image,{source:{uri:this.state.data},style:p}),!v&&l.default.createElement(d.View,{style:p}))},t}(l.Component),m=d.StyleSheet.create({container:{justifyContent:"center",alignItems:"center"}});t.default=f.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}))(v)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=n(9),c=n(2),l=n(7),d=function(e){function t(t){var n=e.call(this,t)||this;return s=n,n.handleReadyToPlay=n.handleReadyToPlay.bind(n),n.handleUnloadContent=n.handleUnloadContent.bind(n),n.register=n.register.bind(n),n.getThumbnailAtInterval=n.getThumbnailAtInterval.bind(n),n.readyToPlay=n.readyToPlay.bind(n),n.unloadContent=n.unloadContent.bind(n),n}return i(t,e),t.getThumbnailAt=function(e){if(s)return s.getThumbnailAtInterval(e)},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.addTask(c.contentLifecycleActionCreators.completeUnloadContent,this.name)];case 1:return e.sent(),[4,u.all([u.takeEvery(c.contentLifecycleActionCreators.readyToPlay,this.handleReadyToPlay),u.takeEvery(c.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent)])];case 2:return e.sent(),[2]}}))},t.prototype.handleReadyToPlay=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.readyToPlay()];case 1:return e.sent(),[2]}}))},t.prototype.handleUnloadContent=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.unloadContent()];case 1:return e.sent(),[4,l.gateUtils.completeTask(c.contentLifecycleActionCreators.completeUnloadContent,this.name)];case 2:return e.sent(),[2]}}))},t}(o(n(13)).default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={getAdvertisingId:function(){return""}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=i(n(12)),c=i(n(26)),l=n(33),d=n(7),f=o.StyleSheet.create({container:r(r({},o.StyleSheet.absoluteFillObject),{backgroundColor:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center"}),errorInfoContainer:{position:"absolute",bottom:10,left:10},errorIdContainer:{position:"absolute",bottom:10,right:10},errorIdText:{fontSize:l.toRelativeScale(12)},image:{marginBottom:10},text:r({textAlign:"center"},d.styleUtils.webStyle({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}))});t.default=s.connect((function(e){return{error:e.core.error||{},dumpId:e.core.dumpId,isVisible:e.ui.isErrorScreenVisible,profile:e.theme.profiles[e.theme.activeProfile],theme:e.theme}}))((function(e){var t=e.error,n=e.dumpId,i=e.isVisible,s=e.profile,l=e.theme;if(!i||!s)return null;var p,h,v={width:s.errorScreen.iconSize,height:s.errorScreen.iconSize},m=r(r(r({},s.text),f.text),{fontSize:s.errorScreen.fontSize,lineHeight:s.errorScreen.lineHeight});return"string"==typeof t.message&&t.message.includes("Required output protections are not active")?p=c.default.t("error.protectionNotActive"):(p=c.default.t("error.genericMessageLine1"),h=c.default.t("error.genericMessageLine2")),a.default.createElement(o.View,{pointerEvents:"auto",style:f.container},a.default.createElement(o.Image,{style:[v,f.image],source:l.icons.errorIcon}),a.default.createElement(o.Text,{style:m,testID:u.default.testIDs.errorMessageTitle,accessibilityLabel:u.default.testIDs.errorMessageTitle},p),!d.environmentUtils.isYoui()&&a.default.createElement(o.Text,{style:m,testID:u.default.testIDs.errorSubTitle,accessibilityLabel:u.default.testIDs.errorSubTitle},h),a.default.createElement(o.View,{style:f.errorInfoContainer},a.default.createElement(o.Text,{style:[s.text,f.errorIdText]},"Code: ",t.code),!1),a.default.createElement(o.View,{style:f.errorIdContainer},a.default.createElement(o.Text,{style:[s.text,f.errorIdText]},"Session ID: ",n)))}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingSpinner=void 0;var l=u(n(1)),d=n(3),f=n(6),p=c(n(12)),h=n(33),v=n(41),m=c(n(22)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={rotationValue:new d.Animated.Value(0)},t}return i(t,e),t.prototype.componentDidMount=function(){var e=d.Animated.timing(this.state.rotationValue,{toValue:1,duration:600,easing:d.Easing.linear,useNativeDriver:!m.default.isWeb()});d.Animated.loop(e).start()},t.prototype.render=function(){var e=this.props,t=e.icons,n=e.profile,r=e.selectedDesign,i=n.loadingIndicator.size,a={height:i,width:i},o=this.state.rotationValue.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]}),s=m.default.isYoui()&&r===v.LayoutDesign.TV_DESIGN_2?y.containerStyleForDesign2:y.containerStyle;return m.default.isRoku()?null:l.default.createElement(d.View,{accessibilityLabel:p.default.testIDs.loadingIndicator,pointerEvents:"none",style:[y.container,s],testID:p.default.testIDs.loadingIndicator},l.default.createElement(d.Animated.View,{style:{transform:[{rotate:o}]}},l.default.createElement(d.Image,{style:a,source:t.loadingIndicator})))},t}(l.Component);t.LoadingSpinner=g;var y=d.StyleSheet.create({container:a(a({},d.StyleSheet.absoluteFillObject),{padding:h.toRelativeScale(16)}),containerStyle:{alignItems:"center",justifyContent:"center"},containerStyleForDesign2:{alignItems:"flex-start",justifyContent:"flex-end"}});t.default=f.connect((function(e){return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile],selectedDesign:e.ui.selectedDesign}}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3);t.default=function(e,t){void 0===e&&(e=0);var n=t.showDurationMs,a=t.hideDurationMs,o=t.showEasingAnimation,s=t.hideEasingAnimation,u=r.useState(new i.Animated.Value(e))[0];return{onShow:function(){i.Animated.timing(u,{duration:n,toValue:1,easing:o,useNativeDriver:!0}).start()},onHide:function(){i.Animated.timing(u,{duration:a,toValue:0,easing:s,useNativeDriver:!0}).start()},opacity:u}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t}(a(n(13)).default);t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var c=u(n(1)),l=n(6),d=n(14),f=n(2),p=n(7),h=n(39),v=n(27),m=n(28),g=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleRef=function(e){e&&(t.videoRef=e,e.textTracks&&(e.textTracks.onaddtrack=n.onAddTextTrack,e.textTracks.onchange=n.onChangeTextTrack))},n.handleBrowserRefresh=function(){n.props.playerActions.stopped()},n.onAddTextTrack=function(e){var t=p._.pick(e.track,["kind","label","language","mode"]),r=a(a({},t),{type:m.TextTrackType.VTT});n.props.playerActions.addTextTrack(r)},n.onChangeTextTrack=function(e){var r,i=n.props.player.textTracks;Array.from(null===(r=t.videoRef)||void 0===r?void 0:r.textTracks).forEach((function(e,t){var r;i[t]&&i[t].mode!==e.mode&&n.props.playerActions.updateTextTrack(a(a({},i[t]),{mode:null===(r=e.mode)||void 0===r?void 0:r.toString()}))}))},n.onDurationChange=function(e){var r,i=null===(r=t.videoRef)||void 0===r?void 0:r.duration;i&&(n.props.mediaActions.setStreamDuration(i),h.isUsingSSAI(n.props.configuration)||n.props.mediaActions.setContentDuration(i))},n.onEnded=function(e){n.props.playerActions.ended()},n.onError=function(e){var t,r;n.props.player.attachedTech===v.PlayerTechType.SHAKA?console.warn("Video element error",e):n.props.playerActions.error({code:null===(t=null==e?void 0:e.nativeEvent)||void 0===t?void 0:t.code,message:null===(r=null==e?void 0:e.nativeEvent)||void 0===r?void 0:r.message})},n.onLoadedData=function(e){n.props.playerActions.loadedData()},n.onLoadedMetadata=function(e){n.props.playerActions.loadedMetadata()},n.onLoadStart=function(e){n.props.player.attachedTech!==v.PlayerTechType.SHAKA&&n.props.playerActions.loadStart()},n.onPause=function(e){n.props.playerActions.pause()},n.onPlay=function(e){n.props.playerActions.play()},n.onPlaying=function(e){},n.onProgress=function(e){for(var r,i=[],a=(null===(r=t.videoRef)||void 0===r?void 0:r.buffered)||new TimeRanges,o=0;o<(null==a?void 0:a.length);++o){var s=(null==a?void 0:a.start(o))<.1?0:null==a?void 0:a.start(o);i.push({start:s,end:null==a?void 0:a.end(o)})}n.props.playerActions.progress(i)},n.onRateChange=function(e){},n.onSeeked=function(e){n.props.playerActions.endSeek()},n.onTimeUpdate=function(e){},n.onWaiting=function(e){n.props.playerActions.waiting()},n.clearedSource=function(e){var t=n.props.player,r=t.attachedTech,i=t.source;if(!r||e===r)return i},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props.player.name;this.props.playerActions.createdPlayer(e),t.videoRef.textTracks&&(t.videoRef.textTracks.onaddtrack=this.onAddTextTrack,t.videoRef.textTracks.onchange=this.onChangeTextTrack),window.addEventListener("beforeunload",this.handleBrowserRefresh)},t.prototype.componentWillUnmount=function(){t.videoRef=null,window.removeEventListener("beforeunload",this.handleBrowserRefresh)},t.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.player,r=e.isAlternativePlayerRendererVisibile,i=n.areControlsVisible,o=n.name,s=t&&!r?y.visible:y.hidden;return c.default.createElement("video",{autoPlay:p.environmentUtils.isSafari(),controls:i,id:o,onDurationChange:this.onDurationChange,onEnded:this.onEnded,onError:this.onError,onLoadStart:this.onLoadStart,onLoadedData:this.onLoadedData,onLoadedMetadata:this.onLoadedMetadata,onPause:this.onPause,onPlay:this.onPlay,onPlaying:this.onPlaying,onProgress:this.onProgress,onRateChange:this.onRateChange,onSeeked:this.onSeeked,onTimeUpdate:this.onTimeUpdate,onWaiting:this.onWaiting,playsInline:!0,ref:this.handleRef,style:a(a({},y.video),s)})},t}(c.Component);t.Player=g;var y={video:{display:"flex",width:"100%",height:"100%"},visible:{},hidden:{visibility:"hidden"}};t.default=l.connect((function(e){return{core:e.core,configuration:e.configuration,isWaiting:e.player0.isWaiting,isInAdBreak:e.adsManager.isInAdBreak,isVisible:e.ui.isPlayerVisible&&e.player0.isActive,player:e.player0,isAlternativePlayerRendererVisibile:null!==e.ui.alternativePlayerRenderer}}),(function(e){return{coreActions:d.bindActionCreators(f.coreActionCreators,e),playerActions:d.bindActionCreators(f.playerActionCreators,e),mediaActions:d.bindActionCreators(f.mediaActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=o(n(44)),c=function(e){function t(t){var n=e.call(this,t)||this;return n.getOptions=function(){return null},n.isSingleton=function(){return!0},n.detectDrms=n.detectDrms.bind(n),n.detectPlatformDrms=n.detectPlatformDrms.bind(n),n}return i(t,e),t.prototype.detectDrms=function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this.detectPlatformDrms()];case 1:return e=t.sent(),u.default.dispatch(s.coreActionCreators.detectedDrms(e)),[2]}}))},t}(o(n(13)).default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseVideoTracks=void 0;var u=n(14),c=n(50),l=n(9),d=s(n(330)),f=s(n(901)),p=n(2),h=n(8),v=n(85),m=n(39),g=n(904),y=s(n(75)),b=s(n(44)),_=s(n(13)),A=s(n(331)),S=n(27),E=n(28),w=n(7),T=n(84);t.parseVideoTracks=function(e){var t=w._.uniqWith(e,(function(e,t){return e.height===t.height&&e.bandwidth===t.bandwidth})).map((function(e){return{id:e.id,name:e.label,width:e.width,height:e.height,bitrate:e.bandwidth,codec:e.videoCodec,frameRate:e.frameRate}}));return t.filter((function(e){return t.find((function(t){return t.width===e.width&&t.bitrate>e.bitrate}))?null:e}))};var P,C;d.default.polyfill.installAll(),function(e){e.ABR_CHANGED="abrstatuschanged",e.BUFFERING="buffering",e.ERROR="error",e.LOADING="loading",e.MANIFEST_PARSED="manifestparsed",e.TRACK_CHANGED="trackschanged"}(P||(P={})),function(e){e.INITIALIZING="INITIALIZING",e.WAITING_FOR_SOURCE="WAITING_FOR_SOURCE",e.LOADING="LOADING",e.LOADED="LOADED",e.UNLOADING="UNLOADING"}(C||(C={}));var O=function(e){function n(t,n){void 0===t&&(t="player0"),void 0===n&&(n=p.playerActionCreators);var r=e.call(this,"Shaka for "+t)||this;return r.cdnMetrics=new g.CDNMetrics,r.isInitSegmentRequested=!1,r.loadStatus=C.INITIALIZING,r.getOptions=function(){return{sagas:[r.register]}},r.isSingleton=function(){return!1},r.load=function(e,t){return a(r,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.shaka.load(e,t)];case 1:return n.sent(),[2,null];case 2:return[2,n.sent()];case 3:return[2]}}))}))},r.unload=function(){return a(r,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.shaka.unload()];case 1:return e.sent(),[2]}}))}))},r.initializeDRM=function(){return a(r,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return this.setDrmConfig(),e=this.emePlugin.getShakaOptions(),t=[],e.requestFilter&&t.push(this.shaka.getNetworkingEngine().registerRequestFilter(e.requestFilter)),e.responseFilter&&t.push(this.shaka.getNetworkingEngine().registerResponseFilter(e.responseFilter)),t.length?[4,Promise.all(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},r.setDrmConfig=function(){var e={preferredAudioLanguage:"en-US",drm:r.getDrmConfig()};r.shaka.configure(e)},r.getDrmConfig=function(){if(b.default.getState()[r.playerName].drm){var e=b.default.getState().configuration.drm,t=e.fairPlayLicenseURL,n=e.playReadyLicenseURL,i=e.widevineLicenseURL,a=e.widevineRobustness,o={servers:{},advanced:{"com.widevine.alpha":{videoRobustness:a,audioRobustness:a}},initDataTransform:null};return t&&w.environmentUtils.isSafari()&&(o.initDataTransform=r.transformInitData,o.servers[T.KeySystems[T.DRM.FAIRPLAY]]=t),n&&(o.servers[T.KeySystems[T.DRM.PLAYREADY]]=n),i&&(o.servers[T.KeySystems[T.DRM.WIDEVINE]]=i),o}},r.transformInitData=function(e){r.emePlugin.setContentId(b.default.getState().media,e);var t=r.emePlugin.getContentId(),n=r.shaka.drmInfo().serverCertificate;return d.default.util.FairPlayUtils.initDataTransform(e,t,n)},r.registerNetworkFilters=function(){r.shaka.getNetworkingEngine().registerRequestFilter(r.filterRequest),r.shaka.getNetworkingEngine().registerResponseFilter(r.filterResponse)},r.filterRequest=function(e,t){var n=b.default.getState()[r.playerName].isDrmCertificateLoaded;switch(e){case d.default.net.NetworkingEngine.RequestType.LICENSE:n?r.playerActions.requestDrmLicense():r.playerActions.requestDrmCertificate();break;case d.default.net.NetworkingEngine.RequestType.MANIFEST:r.playerActions.requestManifest();break;case d.default.net.NetworkingEngine.RequestType.SEGMENT:r.isInitSegmentRequested||(r.isInitSegmentRequested=!0,r.playerActions.requestInitSegment())}},r.filterResponse=function(e,t){var n=new f.default(t.uri,!0).host,i=b.default.getState()[r.playerName].isDrmCertificateRequested;switch(e){case d.default.net.NetworkingEngine.RequestType.MANIFEST:r.cdnMetrics.setManifestHost(n),r.playerActions.fetchedManifest(t.timeMs);break;case d.default.net.NetworkingEngine.RequestType.LICENSE:i?r.playerActions.loadedDrmCertificate():r.playerActions.loadedDrmLicense();break;case d.default.net.NetworkingEngine.RequestType.SEGMENT:if(t.fromCache)return;var a=void 0;if(t.headers["content-type"].includes("audio"))a="audio";else{if(!t.headers["content-type"].includes("video"))return;a="video"}var o={bitrate:8*parseInt(t.headers["content-length"])/r.segmentLength,contentType:a,responseTime:t.timeMs/1e3};r.cdnMetrics.addSegment(n,o),r.playerActions.updateCdnMetrics(r.cdnMetrics.state)}},r.createEventChannel=function(){return c.eventChannel((function(e){var t=function(){return e({type:P.ABR_CHANGED})},n=function(t){return e({type:P.BUFFERING,buffering:t})},i=function(t){var n=t.detail;return e({type:P.ERROR,detail:n})},a=function(){return e({type:P.LOADING})},o=function(){return e({type:P.MANIFEST_PARSED})},s=function(){return e({type:P.TRACK_CHANGED})};return r.shaka.addEventListener(P.ABR_CHANGED,t),r.shaka.addEventListener(P.BUFFERING,n),r.shaka.addEventListener(P.ERROR,i),r.shaka.addEventListener(P.LOADING,a),r.shaka.addEventListener(P.MANIFEST_PARSED,o),r.shaka.addEventListener(P.TRACK_CHANGED,s),function(){r.shaka.removeEventListener(P.ABR_CHANGED,t),r.shaka.removeEventListener(P.BUFFERING,n),r.shaka.removeEventListener(P.ERROR,i),r.shaka.removeEventListener(P.LOADING,a),r.shaka.removeEventListener(P.MANIFEST_PARSED,o),r.shaka.removeEventListener(P.TRACK_CHANGED,s)}}))},r.shaka=new d.default.Player,r.playerName=t,r.playerActions=u.bindActionCreators(n,b.default.dispatch),r.playerActionCreators=n,r.handleCreatedPlayer=r.handleCreatedPlayer.bind(r),r.handleEvents=r.handleEvents.bind(r),r.handleSetConfig=r.handleSetConfig.bind(r),r.handleSetVideoTrackQuality=r.handleSetVideoTrackQuality.bind(r),r.handleSourceChange=r.handleSourceChange.bind(r),r.handleUnloadedShaka=r.handleUnloadedShaka.bind(r),r.onAbr=r.onAbr.bind(r),r.onBuffering=r.onBuffering.bind(r),r.onLoading=r.onLoading.bind(r),r.onManifestParsed=r.onManifestParsed.bind(r),r.onShakaErrorEvent=r.onShakaErrorEvent.bind(r),r.onShakaException=r.onShakaException.bind(r),r.onTracksChanged=r.onTracksChanged.bind(r),r.register=r.register.bind(r),r.loadSource=r.loadSource.bind(r),r.loadTracks=r.loadTracks.bind(r),r.prepareSource=r.prepareSource.bind(r),r.unloadSource=r.unloadSource.bind(r),r}return i(n,e),n.isSupported=function(){return!!w.environmentUtils.isWeb()&&d.default.Player.isBrowserSupported()},n.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,l.all([l.takeEvery(this.playerActionCreators.createdPlayer,this.handleCreatedPlayer),l.takeEvery([p.contentLifecycleActionCreators.loadConfig,p.contentLifecycleActionCreators.updateConfig],this.handleSetConfig),l.takeEvery(this.playerActionCreators.setVideoTrackQuality,this.handleSetVideoTrackQuality),l.takeEvery([p.contentLifecycleActionCreators.completeUnloadContent,this.playerActionCreators.setSource],this.handleSourceChange),l.takeEvery(this.playerActionCreators.unloadedShaka,this.handleUnloadedShaka)])];case 1:return e.sent(),[2]}}))},n.prototype.handleCreatedPlayer=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return this.emePlugin=y.default.findInstance(A.default),e=document.getElementById(this.playerName),this.shaka.attach(e),[4,l.put(this.playerActionCreators.attachedTech({attachedTech:S.PlayerTechType.SHAKA,attachedTechVersion:d.default.Player.version}))];case 1:return n.sent(),[4,l.fork(this.handleEvents)];case 2:return n.sent(),this.registerNetworkFilters(),this.loadStatus=C.WAITING_FOR_SOURCE,[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 3:return(t=n.sent().source)?[4,l.call(this.prepareSource,t)]:[3,5];case 4:return[2,n.sent()];case 5:return[2]}}))},n.prototype.handleSetConfig=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,l.select(h.configurationSelectors.self)];case 1:return e=r.sent(),(null===(t=null==e?void 0:e.shaka)||void 0===t?void 0:t.config)&&this.shaka.configure(null===(n=null==e?void 0:e.shaka)||void 0===n?void 0:n.config),[2]}}))},n.prototype.handleSetVideoTrackQuality=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.applyVideoQuality("playerActions.setVideoTrackQuality")];case 1:return e.sent(),[2]}}))},n.prototype.handleSourceChange=function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 1:return e=t.sent().source,this.loadStatus!==C.INITIALIZING?[3,2]:[2];case 2:return[C.LOADING,C.LOADED].includes(this.loadStatus)?[4,this.unloadSource()]:[3,4];case 3:return[2,t.sent()];case 4:return e?[3,5]:[2];case 5:return this.loadStatus!==C.WAITING_FOR_SOURCE?[3,7]:[4,l.call(this.prepareSource,e)];case 6:return[2,t.sent()];case 7:return console.warn("Attempting to load source when in invalid state"),[2]}}))},n.prototype.handleUnloadedShaka=function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 1:return(e=t.sent().source)?[4,l.call(this.prepareSource,e)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))},n.prototype.prepareSource=function(e){var t,n,r,i;return o(this,(function(a){switch(a.label){case 0:return[4,l.select(h.configurationSelectors.self)];case 1:return t=a.sent(),[4,l.select(h.mediaSelectors.all)];case 2:return n=a.sent(),[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 3:return r=a.sent().drm,this.loadStatus=C.LOADING,[4,l.call(this.initializeDRM)];case 4:return a.sent(),r&&this.emePlugin.getShakaOptions().preLoadSource?[4,l.call(this.emePlugin.getShakaOptions().preLoadSource,t,n)]:[3,13];case 5:return a.sent()?[3,7]:[4,l.put(this.playerActionCreators.failedDrmLoad())];case 6:a.sent(),a.label=7;case 7:return w.environmentUtils.isSafari()?[4,l.put(this.playerActionCreators.requestDrmCertificate())]:[3,13];case 8:return a.sent(),[4,l.call(this.emePlugin.getFairPlayCertificate,t)];case 9:return(i=a.sent())?(this.shaka.configure("drm.advanced.com\\.apple\\.fps\\.1_0.serverCertificate",i),[4,l.put(this.playerActionCreators.loadedDrmCertificate())]):[3,11];case 10:return a.sent(),[3,13];case 11:return[4,l.put(this.playerActionCreators.failedDrmLoad())];case 12:a.sent(),a.label=13;case 13:return[4,l.call(this.loadSource,e)];case 14:return a.sent(),[2]}}))},n.prototype.loadSource=function(e){var t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return[4,l.put(this.playerActionCreators.loadingShaka())];case 1:return o.sent(),[4,l.select(h.configurationSelectors.self)];case 2:return t=o.sent(),i=(r=h.playerSelectors).playerByName,[4,l.select()];case 3:return n=i.apply(r,[o.sent(),this.playerName]).startTime,m.isUsingSSAI(t)&&"player0"===this.playerName&&0!==n?m.isUsingYospace(t)?[4,m.yospaceSsaiSeek(n,!0)]:[3,5]:[3,8];case 4:return a=o.sent(),[3,7];case 5:return[4,v.ssaiSeek(n,!0)];case 6:a=o.sent(),o.label=7;case 7:return[3,9];case 8:a=n,o.label=9;case 9:return[4,l.call(this.load,e,a)];case 10:return(s=o.sent())?[4,this.onShakaException(s)]:[3,12];case 11:return o.sent(),this.loadStatus=C.WAITING_FOR_SOURCE,[2];case 12:return[4,l.put(this.playerActionCreators.loadedShaka())];case 13:return o.sent(),this.loadStatus=C.LOADED,[4,this.loadTracks()];case 14:return o.sent(),[2]}}))},n.prototype.unloadSource=function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.loadStatus=C.UNLOADING,this.isInitSegmentRequested=!1,null===(e=this.emePlugin)||void 0===e||e.clear(),[4,l.put(this.playerActionCreators.unloadingShaka())];case 1:return t.sent(),[4,l.call(this.unload)];case 2:return t.sent(),[4,l.put(this.playerActionCreators.unloadedShaka())];case 3:return t.sent(),this.loadStatus=C.WAITING_FOR_SOURCE,[2]}}))},n.prototype.applyVideoQuality=function(e){var t,n,r,i,a,s,u,c;return o(this,(function(e){switch(e.label){case 0:return[4,l.select(h.configurationSelectors.self)];case 1:return t=e.sent(),[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 2:return n=e.sent().activeVideoTrackQuality,r=this.shaka.getConfiguration(),i=n===E.VIDEO_QUALITY_AUTO,(null===(c=r.abr)||void 0===c?void 0:c.enabled)!==i&&this.shaka.configure({abr:{enabled:i}}),n===E.VIDEO_QUALITY_AUTO?[2]:(a=this.shaka.getVariantTracks(),(null==(s=a.find((function(e){return e.height===n})))?void 0:s.active)||(!0,30,4,u=m.isUsingSSAI(t)?4:30,this.shaka.selectVariantTrack(s,!0,u)),[2])}}))},n.prototype.loadTracks=function(){var e,n,r,i;return o(this,(function(a){switch(a.label){case 0:return e=this.shaka.getVariantTracks(),n={},r=e.map((function(e){return n[e.audioId]?null:(n[e.audioId]=!0,{id:e.audioId,label:e.label,language:e.language,codec:e.audioCodec,bitrate:e.audioBandwidth})})).filter((function(e){return null!==e})),[4,l.put(this.playerActionCreators.loadedAudioTracks(r))];case 1:return a.sent(),i=t.parseVideoTracks(e),[4,l.put(this.playerActionCreators.loadedVideoTracks(i))];case 2:return a.sent(),[2]}}))},n.prototype.handleEvents=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:e=this.createEventChannel(),n.label=1;case 1:n.trys.push([1,,18,19]),n.label=2;case 2:return[4,l.take(e)];case 3:switch(t=n.sent(),t.type){case P.ABR_CHANGED:return[3,4];case P.BUFFERING:return[3,6];case P.ERROR:return[3,8];case P.LOADING:return[3,10];case P.MANIFEST_PARSED:return[3,12];case P.TRACK_CHANGED:return[3,14]}return[3,16];case 4:return[4,this.onAbr()];case 5:return n.sent(),[3,16];case 6:return[4,this.onBuffering(t.buffering)];case 7:return n.sent(),[3,16];case 8:return[4,this.onShakaErrorEvent({detail:t.detail})];case 9:return n.sent(),[3,16];case 10:return[4,this.onLoading()];case 11:return n.sent(),[3,16];case 12:return[4,this.onManifestParsed()];case 13:return n.sent(),[3,16];case 14:return[4,this.onTracksChanged()];case 15:return n.sent(),[3,16];case 16:return[3,2];case 17:return[3,19];case 18:return e.close(),[7];case 19:return[2]}}))},n.prototype.onAbr=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.applyVideoQuality("onAbr")];case 1:return e.sent(),[2]}}))},n.prototype.onBuffering=function(e){var t,n=e.buffering;return o(this,(function(e){switch(e.label){case 0:return[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 1:return(t=e.sent().isWaiting)||!n?[3,3]:[4,l.put(this.playerActionCreators.waiting())];case 2:return e.sent(),[3,5];case 3:return!t||n?[3,5]:[4,l.put(this.playerActionCreators.endWaiting())];case 4:e.sent(),e.label=5;case 5:return[2]}}))},n.prototype.onLoading=function(){return o(this,(function(e){switch(e.label){case 0:return[4,l.put(this.playerActionCreators.loadStart())];case 1:return e.sent(),[2]}}))},n.prototype.onManifestParsed=function(){return o(this,(function(e){switch(e.label){case 0:return this.segmentLength=this.shaka.getManifest().presentationTimeline.getMaxSegmentDuration(),[4,l.put(this.playerActionCreators.parsedManifest())];case 1:return e.sent(),[2]}}))},n.prototype.onShakaException=function(e){var t,r,i;return o(this,(function(a){switch(a.label){case 0:return console.warn("Shaka exception. Code: "+e.code),[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 1:return t=a.sent(),r=t.drm,i=t.isLoaded,!r||i?[3,3]:[4,l.put(this.playerActionCreators.failedDrmLoad())];case 2:return a.sent(),[3,5];case 3:return[4,l.put(this.playerActionCreators.error({code:"SHAK-"+e.code,message:n.formatErrorMessage(e.data)}))];case 4:a.sent(),a.label=5;case 5:return[2]}}))},n.prototype.onShakaErrorEvent=function(e){var t,r,i,a=e.detail;return o(this,(function(e){switch(e.label){case 0:return 1002===(null==a?void 0:a.code)?[2]:[4,l.select(h.playerSelectors.playerByName,this.playerName)];case 1:return t=e.sent(),r=t.drm,i=t.isLoaded,!r||i?[3,3]:[4,l.put(this.playerActionCreators.failedDrmLoad())];case 2:return e.sent(),[3,5];case 3:return[4,l.put(this.playerActionCreators.error({code:"SHAK-"+(null==a?void 0:a.code),message:n.formatErrorMessage(null==a?void 0:a.data)}))];case 4:e.sent(),e.label=5;case 5:return[2]}}))},n.prototype.onTracksChanged=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.applyVideoQuality("onTracksChanged")];case 1:return e.sent(),[2]}}))},n.formatErrorMessage=function(e){return void 0===e&&(e=[]),e.map((function(e){return null==e?void 0:e.toString().slice(0,200).replace(/[\n\r]/g,"")})).join(",")},n}(_.default);t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={abrIndex:null,activeAudioTrack:null,activeVideoTrackQuality:n(27).VIDEO_QUALITY_AUTO,areControlsVisible:!1,audioTracks:[],attachedTech:null,attachedTechVersion:null,buffered:[],cdnMetrics:{affinityHost:null,avgAudioBitrate:null,avgAudioTransferRate:null,avgVideoBitrate:null,avgVideoTransferRate:null,hosts:{},initialVideoBitrate:null,manifestHost:null},contentSeekTime:null,drm:!1,duration:null,error:null,isBufferingDisabled:!1,isDrmAuthorizationLoaded:!1,isDrmAuthorizationRequested:!1,isDrmCdmReadyForLicense:!1,isDrmCertificateLoaded:!1,isDrmCertificateRequested:!1,isDrmFailed:!1,isDrmLicenseLoaded:!1,isDrmLicenseRequested:!1,isDrmLicenseRequestFailed:!1,hasStartedInitialPlay:!1,isActive:!1,isAutoPlayEnabled:!0,isEnded:!1,isInitialPlayGranted:!1,isLoaded:!1,isMetadataLoaded:!1,isPauseRequested:!1,isPaused:!0,isPlayRejected:!1,isPlayRequested:!1,isReadyToPlay:!1,isSeeking:!1,isSeekRequested:!1,isStopped:!1,isWaiting:!1,name:null,playerType:null,playPauseCaller:null,startTime:null,seekTime:null,source:void 0,type:null,videoTracks:[],warnings:[]};t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=s(n(13)),f=n(154),p=n(52),h=function(e){function t(){var t=e.call(this,"SkipEvents")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.registerSkipEvents=t.registerSkipEvents.bind(t),t.handleLoadContent=t.handleLoadContent.bind(t),t.handlePressSkipButton=t.handlePressSkipButton.bind(t),t.handleStartedAdBreak=t.handleStartedAdBreak.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.handleUpdateTime=t.handleUpdateTime.bind(t),t.getSkipEvent=t.getSkipEvent.bind(t),t}return i(t,e),t.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.contentLifecycleActionCreators.loadContent,this.handleLoadContent),u.takeEvery(c.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent)])];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadContent=function(){var e,t,n,r,i,s,d;return o(this,(function(o){switch(o.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=o.sent(),p.getQueryParamValue("skip")||(null===(s=e.skipEvents)||void 0===s?void 0:s.enabled)?(t=this,[4,u.fork(this.registerSkipEvents)]):[2];case 2:return t.handlerTask=o.sent(),[4,u.select(l.configurationSelectors.self)];case 3:n=o.sent(),r=0,o.label=4;case 4:return r<(null===(d=n.metadata.skipEvents)||void 0===d?void 0:d.length)?(i=a(a({},n.metadata.skipEvents[r]),{source:f.SkipSource.PRODUCTION}),[4,u.put(c.uiActionCreators.setSkipEvent(i))]):[3,7];case 5:o.sent(),o.label=6;case 6:return++r,[3,4];case 7:return[2]}}))},t.prototype.handleUnloadContent=function(){return o(this,(function(e){switch(e.label){case 0:return this.handlerTask?[4,u.cancel(this.handlerTask)]:[3,2];case 1:e.sent(),this.handlerTask=null,e.label=2;case 2:return[2]}}))},t.prototype.registerSkipEvents=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.adsManagerActionCreators.startedAdBreak,this.handleStartedAdBreak),u.takeEvery([c.mediaActionCreators.updateTime,c.uiActionCreators.setSkipSource],this.handleUpdateTime),u.takeEvery(c.uiActionCreators.pressSkipButton,this.handlePressSkipButton)])];case 1:return e.sent(),[2]}}))},t.prototype.handlePressSkipButton=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.put(c.uiActionCreators.hideSkipButton())];case 1:return r.sent(),[4,u.select(l.mediaSelectors.all)];case 2:return e=r.sent().contentTime,[4,this.getSkipEvent(e)];case 3:return(t=r.sent()).end!==f.END_OF_CONTENT?[3,5]:[4,u.put(c.contentLifecycleActionCreators.requestSkipToNext(!1))];case 4:return r.sent(),[3,7];case 5:return n=t.end,[4,u.put(c.playerActionCreators.requestSeekToContentTime(n))];case 6:r.sent(),r.label=7;case 7:return[2]}}))},t.prototype.handleStartedAdBreak=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.select(l.uiSelectors.all)];case 1:return e.sent().currentSkipType?[4,u.put(c.uiActionCreators.hideSkipButton())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleUpdateTime=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.select(l.mediaSelectors.all)];case 1:return e=r.sent().contentTime,[4,u.select(l.uiSelectors.all)];case 2:return t=r.sent().currentSkipType,[4,this.getSkipEvent(e)];case 3:return(n=r.sent())&&n.type!==t?[4,u.put(c.uiActionCreators.showSkipButton(n.type))]:[3,5];case 4:return r.sent(),[3,7];case 5:return n||!t?[3,7]:[4,u.put(c.uiActionCreators.hideSkipButton())];case 6:r.sent(),r.label=7;case 7:return[2]}}))},t.prototype.getSkipEvent=function(e){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return a=(i=l.uiSelectors).all,[4,u.select()];case 1:return t=a.apply(i,[o.sent()]),n=t.skipEvents,r=t.skipSource,[2,n.find((function(t){var n=t.end,i=t.source,a=t.start<=e,o=n===f.END_OF_CONTENT||e<=n-.02;return a&&o&&i===r}))]}}))},t}(d.default);t.default=h},function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(!(r instanceof t)){function i(){}i.prototype=t.prototype,n(r,i=new i),e.prototype=r=i}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},a=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,u=i.CDATA_SECTION_NODE=4,c=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,d=i.PROCESSING_INSTRUCTION_NODE=7,f=i.COMMENT_NODE=8,p=i.DOCUMENT_NODE=9,h=i.DOCUMENT_TYPE_NODE=10,v=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,g={},y={},b=(g.INDEX_SIZE_ERR=(y[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),_=(g.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),g.NOT_FOUND_ERR=(y[8]="Not found",8)),A=(g.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));g.INVALID_STATE_ERR=(y[11]="Invalid state",11),g.SYNTAX_ERR=(y[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),g.NAMESPACE_ERR=(y[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(y[15]="Invalid access",15);function S(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,S);return n.code=e,t&&(this.message=this.message+": "+t),n}function E(){}function w(e,t){this._node=e,this._refresh=t,T(this)}function T(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function P(){}function C(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function O(e,t,n,r){if(r?t[C(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&N(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function k(e,t,n){var r=C(t,n);if(!(r>=0))throw S(_,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&(N(a,e,n),n.ownerElement=null)}}function I(e){if(this._features={},e)for(var t in e)this._features=e[t]}function x(){}function D(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function R(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(R(e,t))return!0}while(e=e.nextSibling)}function M(){}function N(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function L(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a}}}function j(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,L(e.ownerDocument,e),t}function B(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===v){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=n?n.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=n,o?o.nextSibling=i:e.firstChild=i,null==n?e.lastChild=a:n.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return L(e.ownerDocument||e,e),t.nodeType==v&&(t.firstChild=t.lastChild=null),t}function U(){this._nsMap={}}function V(){}function F(){}function H(){}function G(){}function W(){}function z(){}function K(){}function Y(){}function q(){}function X(){}function Z(){}function Q(){}function J(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ee(this,n,e,t,o),n.join("")}function $(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix==r)return o.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case a:i||(i=[]);i.length;var l=e.attributes,m=l.length,g=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var b=0;b<m;b++){"xmlns"==(_=l.item(b)).prefix?i.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&i.push({prefix:"",namespace:_.value})}for(b=0;b<m;b++){var _;if($(_=l.item(b),0,i)){var A=_.prefix||"",S=_.namespaceURI,E=A?" xmlns:"+A:" xmlns";t.push(E,'="',S,'"'),i.push({prefix:A,namespace:S})}ee(_,t,n,r,i)}if($(e,0,i)){A=e.prefix||"",S=e.namespaceURI,E=A?" xmlns:"+A:" xmlns";t.push(E,'="',S,'"'),i.push({prefix:A,namespace:S})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;g;)g.data?t.push(g.data):ee(g,t,n,r,i),g=g.nextSibling;else for(;g;)ee(g,t,n,r,i),g=g.nextSibling;t.push("</",y,">")}else t.push("/>");return;case p:case v:for(g=e.firstChild;g;)ee(g,t,n,r,i),g=g.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[&"]/g,D),'"');case s:return t.push(e.data.replace(/[<&]/g,D).replace(/]]>/g,"]]&gt;"));case u:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case h:var w=e.publicId,T=e.systemId;if(t.push("<!DOCTYPE ",e.name),w)t.push(" PUBLIC ",w),T&&"."!=T&&t.push(" ",T),t.push(">");else if(T&&"."!=T)t.push(" SYSTEM ",T,">");else{var P=e.internalSubset;P&&t.push(" [",P,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case c:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}S.prototype=Error.prototype,n(g,S),E.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},w.prototype.item=function(e){return T(this),this[e]},r(w,E),P.prototype={length:0,item:E.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new S(A);var n=this.getNamedItem(e.nodeName);return O(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new S(A);return t=this.getNamedItemNS(e.namespaceURI,e.localName),O(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return k(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},I.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new M;if(r.implementation=this,r.childNodes=new E,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new z;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},x.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return j(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var s in n){var u=n[s];"object"!=typeof u&&u!=i[s]&&(i[s]=u)}n.childNodes&&(i.childNodes=new E);switch(i.ownerDocument=t,i.nodeType){case a:var c=n.attributes,l=i.attributes=new P,d=c.length;l._ownerElement=i;for(var f=0;f<d;f++)i.setAttributeNode(e(t,c.item(f),!0));break;case o:r=!0}if(r)for(var p=n.firstChild;p;)i.appendChild(e(t,p,r)),p=p.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,x),n(i,x.prototype),M.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==a&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),j(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case a:(i=n.cloneNode(!1)).ownerDocument=t;case v:break;case o:r=!0}i||(i=n.cloneNode(!1));if(i.ownerDocument=t,i.parentNode=null,r)for(var s=n.firstChild;s;)i.appendChild(e(t,s,r)),s=s.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return R(this.documentElement,(function(n){if(n.nodeType==a&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new w(this,(function(e){var n=[];return R(e.documentElement,(function(r){r!==e&&r.nodeType==a&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new U;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new E,(t.attributes=new P)._ownerElement=t,t},createDocumentFragment:function(){var e=new X;return e.ownerDocument=this,e.childNodes=new E,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new V;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new U,r=t.split(":"),i=n.attributes=new P;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new V,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(M,x),U.prototype={nodeType:a,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===v?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,L(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new w(this,(function(t){var n=[];return R(t,(function(r){r===t||r.nodeType!=a||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new w(this,(function(n){var r=[];return R(n,(function(i){i===n||i.nodeType!==a||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},M.prototype.getElementsByTagName=U.prototype.getElementsByTagName,M.prototype.getElementsByTagNameNS=U.prototype.getElementsByTagNameNS,r(U,x),V.prototype.nodeType=o,r(V,x),F.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r(F,x),H.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(H,F),G.prototype={nodeName:"#comment",nodeType:f},r(G,F),W.prototype={nodeName:"#cdata-section",nodeType:u},r(W,F),z.prototype.nodeType=h,r(z,x),K.prototype.nodeType=m,r(K,x),Y.prototype.nodeType=l,r(Y,x),q.prototype.nodeType=c,r(q,x),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=v,r(X,x),Z.prototype.nodeType=d,r(Z,x),Q.prototype.serializeToString=function(e,t,n){return J.call(e,t,n)},x.prototype.toString=J;try{if(Object.defineProperty){Object.defineProperty(w.prototype,"length",{get:function(){return T(this),this.$$length}}),Object.defineProperty(x.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case a:case v:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case a:case v:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n}}}catch(e){}t.Node=x,t.DOMException=S,t.DOMImplementation=I,t.XMLSerializer=Q},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputPrefix=void 0;var i=r(n(76)),a={" ":i.default.SPACE,0:i.default.CHAR_0,1:i.default.CHAR_1,2:i.default.CHAR_2,3:i.default.CHAR_3,4:i.default.CHAR_4,5:i.default.CHAR_5,6:i.default.CHAR_6,7:i.default.CHAR_7,8:i.default.CHAR_8,9:i.default.CHAR_9,c:i.default.CHAR_C,f:i.default.CHAR_F,j:i.default.CHAR_J,k:i.default.CHAR_K,l:i.default.CHAR_L,m:i.default.CHAR_M,"shift+ ":i.default.SPACE,"shift+<":i.default.COMMA,"shift+>":i.default.PERIOD,"shift+b":i.default.CHAR_SHIFT_B,"shift+c":i.default.CHAR_C,"shift+d":i.default.CHAR_SHIFT_D,"shift+f":i.default.CHAR_SHIFT_F,"shift+g":i.default.CHAR_SHIFT_G,"shift+j":i.default.CHAR_J,"shift+k":i.default.CHAR_K,"shift+l":i.default.CHAR_L,"shift+m":i.default.CHAR_M,"shift+n":i.default.CHAR_SHIFT_N,"shift+t":i.default.CHAR_SHIFT_T,arrowdown:i.default.ARROW_DOWN,arrowleft:i.default.ARROW_LEFT,arrowright:i.default.ARROW_RIGHT,arrowup:i.default.ARROW_UP,escape:i.default.ESCAPE,home:i.default.HOME,space:i.default.SPACE,tab:i.default.TAB};t.InputPrefix={metaKey:"meta+",shiftKey:"shift+",ctrlKey:"ctrl+"},t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stopScrubbing=void 0;var a=n(9),o=n(2),s=n(8),u=i(n(32)),c=i(n(378)),l=i(n(31)),d=i(n(76)),f=n(229),p=n(234),h=n(69),v=n(164);function m(e,t){var n,i,o,u,c=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,a.select(p.getNavigationMode)];case 1:return n=e.sent(),[4,a.select(s.uiSelectors.all)];case 2:if(i=e.sent().isErrorScreenVisible,n!==h.NavigationMode.SCRUBBING)return[2];if(i)return[2];switch(o=f.DEFAULT_SCRUB_INCREMENT,u=3*f.DEFAULT_SCRUB_INCREMENT,c){case d.default.ARROW_LEFT:case d.default.CHAR_Q:case d.default.GAMEPAD_LEFT_BUMPER:case d.default.PREVIOUS_TRACK:case d.default.REWIND:return[3,3];case d.default.ARROW_RIGHT:case d.default.CHAR_W:case d.default.GAMEPAD_RIGHT_BUMPER:case d.default.FAST_FORWARD:case d.default.NEXT_TRACK:return[3,5];case d.default.GAMEPAD_LEFT_TRIGGER:return[3,7];case d.default.GAMEPAD_RIGHT_TRIGGER:return[3,9];case d.default.ARROW_UP:case d.default.ARROW_DOWN:return[3,11];case d.default.ENTER:case d.default.GAMEPAD_0:case d.default.PAUSE:case d.default.PLAY:case d.default.PLAY_PAUSE:case d.default.SELECT:return[3,13]}return[3,15];case 3:return[4,a.call(v.throttledUpdateScrubTime,-o,u)];case 4:return[2,e.sent()];case 5:return[4,a.call(v.throttledUpdateScrubTime,o,u)];case 6:return[2,e.sent()];case 7:return[4,a.call(v.updateScrubTime,-u)];case 8:return[2,e.sent()];case 9:return[4,a.call(v.updateScrubTime,u)];case 10:return[2,e.sent()];case 11:return[4,g(!1)];case 12:return[2,e.sent()];case 13:return[4,g(!0)];case 14:return[2,e.sent()];case 15:return[3,16];case 16:return[2]}}))}function g(e){var t,n,i,c,d;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return t=r.sent().scrubTime,[4,a.select(s.mediaSelectors.all)];case 2:return n=r.sent(),i=n.contentDuration,c=n.contentTime,!e||isNaN(t)||t===c?[3,4]:(d=l.default.clamp(t,0,i),[4,a.put(o.playerActionCreators.requestSeekToContentTime(d))]);case 3:r.sent(),r.label=4;case 4:return[4,a.put(o.playerActionCreators.endScrub())];case 5:return r.sent(),u.default.unlock(),u.default.stop(!1),[4,v.playPlayer()];case 6:return r.sent(),[2]}}))}function y(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,a.call(v.handleHeldEvent,t)];case 1:return e.sent(),[2]}}))}t.stopScrubbing=g;var b=null;function _(e){return r(this,(function(t){switch(t.label){case 0:return null!==b?[3,7]:(b=e,[4,a.delay(200)]);case 1:return t.sent(),[4,a.select(s.playerSelectors.all)];case 2:return t.sent().isScrubbing?[3,4]:[4,a.call(v.startScrubbing)];case 3:t.sent(),t.label=4;case 4:return null===b?[3,7]:[4,a.delay(100)];case 5:return t.sent(),[4,a.call(m,{payload:e},!0)];case 6:return t.sent(),[3,4];case 7:return[2]}}))}function A(e){return r(this,(function(t){return b===e&&(b=null),[2]}))}function S(e){var t;return r(this,(function(n){switch(n.label){case 0:return[4,a.select(s.uiSelectors.all)];case 1:if(n.sent().isSettingsMenuVisible)return[2];switch(t=c.default[e.payload],t){case d.default.GAMEPAD_LEFT_TRIGGER:case d.default.GAMEPAD_RIGHT_TRIGGER:return[3,2]}return[3,4];case 2:return[4,a.call(_,t)];case 3:return[2,n.sent()];case 4:return[3,5];case 5:return[2]}}))}function E(e){var t;return r(this,(function(n){switch(n.label){case 0:switch(t=c.default[e.payload],t){case d.default.GAMEPAD_LEFT_TRIGGER:case d.default.GAMEPAD_RIGHT_TRIGGER:return[3,1]}return[3,3];case 1:return[4,a.call(A,t)];case 2:return[2,n.sent()];case 3:return[3,4];case 4:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.inputActionCreators.inputNormalized,m),a.takeEvery(o.inputActionCreators.inputRawEvent,y),a.takeEvery(o.processInputActionCreators.startHeldEvent,S),a.takeEvery(o.processInputActionCreators.endHeldEvent,E)])];case 1:return e.sent(),[2]}}))}},function(e){e.exports=JSON.parse('{"ads":{"adBreaks":[],"pidEndpointOverride":"","pubId":"","adTech":"Vendri"},"analytics":{"conviva":{"enable":{"added":null}}},"audio":{},"client":{"id":"cx-web","accountingId":"vrv"},"controls":{},"drm":{"fairPlayCertificateURL":"https://lic.drmtoday.com/license-server-fairplay/cert/","fairPlayLicenseURL":"https://lic.drmtoday.com/license-server-fairplay/","playReadyLicenseURL":"https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx","widevineLicenseURL":"https://lic.drmtoday.com/license-proxy-widevine/cenc/","widevineRobustness":"SW_SECURE_CRYPTO","policy":"if-available"},"ellationAnalytics":{"enabled":true,"heartbeatInterval":30},"ellationPlayhead":{"enabled":false,"interval":30},"metadata":{"id":"GR49GM4W6","channelId":"crunchyroll","description":"After 100 years, peace is broken by the appearance of a fifty meter tall Titan.","distributionNumber":"1","duration":1450099,"sequenceNumber":1,"seriesId":"GR751KNZY","seriesTitle":"Attack on Titan","skipEvents":[{"type":"intro","start":123.47,"end":215.02,"isVerified":true},{"type":"credits","start":1398.46,"end":1433.98,"isVerified":true},{"type":"outro","start":1433.98,"end":1450,"isVerified":true}],"title":"To You, 2,000 Years in the Future - The Fall of Zhiganshina (1)","type":"episode","restrictions":[]},"upNextMetadata":{"id":"GRJQK1ZEY","channelId":null,"description":"As Titans continue to rampage, the townspeople gather at the inner gate.  But a new Titan breaks through and this one is unlike the others.","distributionNumber":"2","duration":1450000,"sequenceNumber":2,"seriesId":"GR751KNZY","seriesTitle":"Attack on Titan","title":"That Day - The Fall of Zhiganshina (2)","type":"episode","restrictions":[]},"media":{"reportingParent":{"type":"series","id":"GR751KNZY","title":"Attack on Titan|Attack on Titan|To You, 2,000 Years in the Future -The Fall of Zhiganshina (1)"},"playlists":[{"drm":false,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,.urlset/manifest.mpd"},{"drm":false,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,.urlset/manifest.mpd"},{"drm":false,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,.urlset/manifest.mpd"},{"drm":false,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,.urlset/manifest.mpd"},{"drm":false,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757437.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,.urlset/manifest.mpd"},{"drm":true,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,.urlset/manifest.mpd"},{"drm":true,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,.urlset/manifest.mpd"},{"drm":true,"mime_type":"DASH","multitrack":false,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,.urlset/manifest.mpd"},{"drm":true,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":false,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757437.mp4,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,39919.txt,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,39919.txt,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,39919.txt,.urlset/master.m3u8"},{"drm":true,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/d68e303c82a0952070c9b5aaef912544/assets/p/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,39919.txt,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757441.mp4,1757445.mp4,1757437.mp4,1757433.mp4,1757429.mp4,39919.txt,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"en-us","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,1757439.mp4,1757443.mp4,1757435.mp4,1757431.mp4,1757427.mp4,39919.txt,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"es-la","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3262273.mp4,3262274.mp4,3262272.mp4,3262271.mp4,3262270.mp4,39919.txt,.urlset/master.m3u8"},{"drm":false,"mime_type":"HLS","multitrack":true,"language":"ja-JP","hardsub_lang":"pt-br","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_,3267078.mp4,3267079.mp4,3267077.mp4,3267076.mp4,3267075.mp4,39919.txt,.urlset/master.m3u8"},{"drm":false,"mime_type":null,"multitrack":false,"language":"ja-JP","hardsub_lang":"","src":""}],"externalTextTracks":[{"kind":"subtitles","label":"English (United States)","language":"en-us","type":"ass","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_39919.txt","cssSrc":"","index":0},{"kind":"subtitles","label":"Spanish","language":"es-419","type":"ass","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_165786.txt","cssSrc":"","index":1},{"kind":"subtitles","label":"Portuguese (Brazil)","language":"pt-br","type":"ass","src":"https://vo.vrv.co/evs/53b0593fb09e609306f88f606daa925a/assets/snqor0jn15yihs8_168638.txt","cssSrc":"","index":2}],"images":[{"height":1080,"mediaId":"GR49GM4W6","mediaType":"episode","orientation":"landscape","src":"https://static.vrv.co/imgsrv/display/thumbnail/1200x675/catalog/crunchyroll/b199406edeebc19a7f4e4412d6e1dfcc.jpg","width":1920}],"previews":[{"src":"https://vo.vrv.co/evs/3ccf4a07ca45a103c5c795151747ef57/assets/snqor0jn15yihs8_bif.bif"}]},"organization":{"apiDomain":"api.vrv.co"},"player":{"startTime":0},"eec":{"enabled":true,"anonymousId":"c4708684-28ef-4814-8a1d-5fd31385bebf","apiHost":"//cr-eec.etp-proto0.com/v1","apiKey":"SIeNJozAqhQxDdHOOY6mvnSKKzHo1BvJ"},"shaka":{"config":{"streaming":{"bufferingGoal":180,"rebufferingGoal":2,"smallGapLimit":2},"manifest":{"dash":{"ignoreMinBufferTime":true}},"abr":{"switchInterval":4,"defaultBandwidthEstimate":2000000}}},"user":{"allowedRestrictions":[],"id":"3495466","preferredLanguage":"en-us"},"version":4,"previous":{}}')},function(e){e.exports=JSON.parse('{"version":4,"ads":{"adBreaks":[],"adTech":"Vendri"},"analytics":{},"media":{"type":"movie","id":"","title":"sintel","reportingParent":{"type":"movie","id":"Sintel","title":"Sintel"},"playlists":[{"mime_type":"HLS","drm":false,"isSSAICompatible":false,"language":"en-us","hardsub_lang":"","src":"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8"},{"mime_type":"DASH","drm":false,"isSSAICompatible":false,"language":"en-us","hardsub_lang":"","src":"http://amssamples.streaming.mediaservices.windows.net/f1ee994f-fcb8-455f-a15d-07f6f2081a60/SintelMultiAudio.ism/manifest(format=mpd-time-csf)"}],"externalTextTracks":[{"index":0,"type":"vtt","language":"de-de","label":"Deutsche","kind":"subtitles","src":"https://bitdash-a.akamaihd.net/content/sintel/hls/subtitles_de.vtt","cssSrc":""},{"index":1,"type":"vtt","language":"en-us","label":"English","kind":"subtitles","src":"https://bitdash-a.akamaihd.net/content/sintel/hls/subtitles_en.vtt","cssSrc":""},{"index":2,"type":"vtt","language":"es-mx","label":"Espaol","kind":"subtitles","src":"https://bitdash-a.akamaihd.net/content/sintel/hls/subtitles_es.vtt","cssSrc":""},{"index":3,"type":"vtt","language":"fr-fr","label":"Franais","kind":"subtitles","src":"https://bitdash-a.akamaihd.net/content/sintel/hls/subtitles_fr.vtt","cssSrc":""}],"previews":[{"src":"https://bif-sintel-sample.s3-us-west-2.amazonaws.com/sintel.mp4.sd.bif"}]},"drm":{"policy":"never"},"player":{"startTime":0,"autoplay":true},"metadata":{"id":"Sintel","title":"Sintel","type":"movie","description":"The film follows a girl named Sintel who is searching for a baby dragon she calls Scales.","duration":888000,"restrictions":[]},"upNextMetadata":{"id":"SintelUpNext","title":"Sintel","type":"movie","description":"The film follows a girl named Sintel who is searching for a baby dragon she calls Scales.","duration":888000,"restrictions":[]},"user":{}}')},function(e,t,n){"use strict";n.r(t),n.d(t,"getUniqueId",(function(){return b})),n.d(t,"syncUniqueId",(function(){return A})),n.d(t,"getInstanceId",(function(){return S})),n.d(t,"getInstanceIdSync",(function(){return E})),n.d(t,"getSerialNumber",(function(){return w})),n.d(t,"getSerialNumberSync",(function(){return T})),n.d(t,"getAndroidId",(function(){return P})),n.d(t,"getAndroidIdSync",(function(){return C})),n.d(t,"getIpAddress",(function(){return O})),n.d(t,"getIpAddressSync",(function(){return k})),n.d(t,"isCameraPresent",(function(){return I})),n.d(t,"isCameraPresentSync",(function(){return x})),n.d(t,"getMacAddress",(function(){return D})),n.d(t,"getMacAddressSync",(function(){return R})),n.d(t,"getDeviceId",(function(){return M})),n.d(t,"getManufacturer",(function(){return N})),n.d(t,"getManufacturerSync",(function(){return L})),n.d(t,"getModel",(function(){return j})),n.d(t,"getBrand",(function(){return B})),n.d(t,"getSystemName",(function(){return U})),n.d(t,"getSystemVersion",(function(){return V})),n.d(t,"getBuildId",(function(){return F})),n.d(t,"getBuildIdSync",(function(){return H})),n.d(t,"getApiLevel",(function(){return G})),n.d(t,"getApiLevelSync",(function(){return W})),n.d(t,"getBundleId",(function(){return z})),n.d(t,"getInstallerPackageName",(function(){return K})),n.d(t,"getInstallerPackageNameSync",(function(){return Y})),n.d(t,"getApplicationName",(function(){return q})),n.d(t,"getBuildNumber",(function(){return X})),n.d(t,"getVersion",(function(){return Z})),n.d(t,"getReadableVersion",(function(){return Q})),n.d(t,"getDeviceName",(function(){return J})),n.d(t,"getDeviceNameSync",(function(){return $})),n.d(t,"getUsedMemory",(function(){return ee})),n.d(t,"getUsedMemorySync",(function(){return te})),n.d(t,"getUserAgent",(function(){return ne})),n.d(t,"getUserAgentSync",(function(){return re})),n.d(t,"getFontScale",(function(){return ie})),n.d(t,"getFontScaleSync",(function(){return ae})),n.d(t,"getBootloader",(function(){return oe})),n.d(t,"getBootloaderSync",(function(){return se})),n.d(t,"getDevice",(function(){return ue})),n.d(t,"getDeviceSync",(function(){return ce})),n.d(t,"getDisplay",(function(){return le})),n.d(t,"getDisplaySync",(function(){return de})),n.d(t,"getFingerprint",(function(){return fe})),n.d(t,"getFingerprintSync",(function(){return pe})),n.d(t,"getHardware",(function(){return he})),n.d(t,"getHardwareSync",(function(){return ve})),n.d(t,"getHost",(function(){return me})),n.d(t,"getHostSync",(function(){return ge})),n.d(t,"getProduct",(function(){return ye})),n.d(t,"getProductSync",(function(){return be})),n.d(t,"getTags",(function(){return _e})),n.d(t,"getTagsSync",(function(){return Ae})),n.d(t,"getType",(function(){return Se})),n.d(t,"getTypeSync",(function(){return Ee})),n.d(t,"getBaseOs",(function(){return we})),n.d(t,"getBaseOsSync",(function(){return Te})),n.d(t,"getPreviewSdkInt",(function(){return Pe})),n.d(t,"getPreviewSdkIntSync",(function(){return Ce})),n.d(t,"getSecurityPatch",(function(){return Oe})),n.d(t,"getSecurityPatchSync",(function(){return ke})),n.d(t,"getCodename",(function(){return Ie})),n.d(t,"getCodenameSync",(function(){return xe})),n.d(t,"getIncremental",(function(){return De})),n.d(t,"getIncrementalSync",(function(){return Re})),n.d(t,"isEmulator",(function(){return Me})),n.d(t,"isEmulatorSync",(function(){return Ne})),n.d(t,"isTablet",(function(){return Le})),n.d(t,"isPinOrFingerprintSet",(function(){return je})),n.d(t,"isPinOrFingerprintSetSync",(function(){return Be})),n.d(t,"hasNotch",(function(){return Ve})),n.d(t,"hasGms",(function(){return Fe})),n.d(t,"hasGmsSync",(function(){return He})),n.d(t,"hasHms",(function(){return Ge})),n.d(t,"hasHmsSync",(function(){return We})),n.d(t,"getFirstInstallTime",(function(){return ze})),n.d(t,"getFirstInstallTimeSync",(function(){return Ke})),n.d(t,"getInstallReferrer",(function(){return Ye})),n.d(t,"getInstallReferrerSync",(function(){return qe})),n.d(t,"getLastUpdateTime",(function(){return Xe})),n.d(t,"getLastUpdateTimeSync",(function(){return Ze})),n.d(t,"getPhoneNumber",(function(){return Qe})),n.d(t,"getPhoneNumberSync",(function(){return Je})),n.d(t,"getCarrier",(function(){return $e})),n.d(t,"getCarrierSync",(function(){return et})),n.d(t,"getTotalMemory",(function(){return tt})),n.d(t,"getTotalMemorySync",(function(){return nt})),n.d(t,"getMaxMemory",(function(){return rt})),n.d(t,"getMaxMemorySync",(function(){return it})),n.d(t,"getTotalDiskCapacity",(function(){return at})),n.d(t,"getTotalDiskCapacitySync",(function(){return ot})),n.d(t,"getTotalDiskCapacityOld",(function(){return st})),n.d(t,"getTotalDiskCapacityOldSync",(function(){return ut})),n.d(t,"getFreeDiskStorage",(function(){return ct})),n.d(t,"getFreeDiskStorageSync",(function(){return lt})),n.d(t,"getFreeDiskStorageOld",(function(){return dt})),n.d(t,"getFreeDiskStorageOldSync",(function(){return ft})),n.d(t,"getBatteryLevel",(function(){return pt})),n.d(t,"getBatteryLevelSync",(function(){return ht})),n.d(t,"getPowerState",(function(){return vt})),n.d(t,"getPowerStateSync",(function(){return mt})),n.d(t,"isBatteryCharging",(function(){return gt})),n.d(t,"isBatteryChargingSync",(function(){return yt})),n.d(t,"isLandscape",(function(){return bt})),n.d(t,"isLandscapeSync",(function(){return _t})),n.d(t,"isAirplaneMode",(function(){return At})),n.d(t,"isAirplaneModeSync",(function(){return St})),n.d(t,"getDeviceType",(function(){return Et})),n.d(t,"getDeviceTypeSync",(function(){return wt})),n.d(t,"supportedAbis",(function(){return Tt})),n.d(t,"supportedAbisSync",(function(){return Pt})),n.d(t,"supported32BitAbis",(function(){return Ct})),n.d(t,"supported32BitAbisSync",(function(){return Ot})),n.d(t,"supported64BitAbis",(function(){return kt})),n.d(t,"supported64BitAbisSync",(function(){return It})),n.d(t,"hasSystemFeature",(function(){return xt})),n.d(t,"hasSystemFeatureSync",(function(){return Dt})),n.d(t,"getSystemAvailableFeatures",(function(){return Rt})),n.d(t,"getSystemAvailableFeaturesSync",(function(){return Mt})),n.d(t,"isLocationEnabled",(function(){return Nt})),n.d(t,"isLocationEnabledSync",(function(){return Lt})),n.d(t,"isHeadphonesConnected",(function(){return jt})),n.d(t,"isHeadphonesConnectedSync",(function(){return Bt})),n.d(t,"getAvailableLocationProviders",(function(){return Ut})),n.d(t,"getAvailableLocationProvidersSync",(function(){return Vt})),n.d(t,"getDeviceToken",(function(){return Ft})),n.d(t,"useBatteryLevel",(function(){return Gt})),n.d(t,"useBatteryLevelIsLow",(function(){return Wt})),n.d(t,"usePowerState",(function(){return zt})),n.d(t,"useIsHeadphonesConnected",(function(){return Kt})),n.d(t,"useFirstInstallTime",(function(){return Yt})),n.d(t,"useDeviceName",(function(){return qt})),n.d(t,"useHasSystemFeature",(function(){return Xt})),n.d(t,"useIsEmulator",(function(){return Zt})),n.d(t,"useManufacturer",(function(){return Qt})),n.d(t,"AsyncHookResult",(function(){return y.AsyncHookResult})),n.d(t,"DeviceType",(function(){return y.DeviceType})),n.d(t,"LocationProviderInfo",(function(){return y.LocationProviderInfo})),n.d(t,"PowerState",(function(){return y.PowerState}));var r=n(1),i=n(72),a=n(65),o=n(237),s=n(89);function u(e,t){const[n,i]=Object(r.useState)({loading:!0,result:t});return Object(r.useEffect)(()=>{(async()=>{const t=await e();i({loading:!1,result:t})})()},[e]),n}const c=new o.a(s.a.RNDeviceInfo);var l=[{brand:"Apple",model:"iPhone 12 mini"},{brand:"Apple",model:"iPhone 12"},{brand:"Apple",model:"iPhone 12 Pro"},{brand:"Apple",model:"iPhone 12 Pro Max"},{brand:"Apple",model:"iPhone 11"},{brand:"Apple",model:"iPhone 11 Pro"},{brand:"Apple",model:"iPhone 11 Pro Max"},{brand:"Apple",model:"iPhone X"},{brand:"Apple",model:"iPhone XS"},{brand:"Apple",model:"iPhone XS Max"},{brand:"Apple",model:"iPhone XR"},{brand:"Asus",model:"ZenFone 5"},{brand:"Asus",model:"ZenFone 5z"},{brand:"google",model:"Pixel 3 XL"},{brand:"google",model:"Pixel 3a"},{brand:"Huawei",model:"P20"},{brand:"Huawei",model:"P20 Plus"},{brand:"Huawei",model:"P20 Lite"},{brand:"Huawei",model:"ANE-LX1"},{brand:"Huawei",model:"INE-LX1"},{brand:"Huawei",model:"POT-LX1"},{brand:"Huawei",model:"Honor 10"},{brand:"Huawei",model:"Mate 20 Lite"},{brand:"Huawei",model:"Mate 20 Pro"},{brand:"Huawei",model:"ELE-L29"},{brand:"Huawei",model:"P30 Lite"},{brand:"Huawei",model:"P30 Pro"},{brand:"Huawei",model:"Nova 3"},{brand:"Huawei",model:"Nova 3i"},{brand:"Leagoo",model:"S9"},{brand:"LG",model:"G7"},{brand:"LG",model:"G7 ThinQ"},{brand:"LG",model:"G7+ ThinQ"},{brand:"LG",model:"LM-Q910"},{brand:"LG",model:"LM-G710"},{brand:"LG",model:"LM-V405"},{brand:"Motorola",model:"Moto g7 Play"},{brand:"Motorola",model:"Moto g7 Power"},{brand:"Motorola",model:"One"},{brand:"Motorola",model:"Motorola One Vision"},{brand:"Nokia",model:"5.1 Plus"},{brand:"Nokia",model:"Nokia 6.1 Plus"},{brand:"Nokia",model:"7.1"},{brand:"Nokia",model:"8.1"},{brand:"OnePlus",model:"6"},{brand:"OnePlus",model:"A6003"},{brand:"ONEPLUS",model:"A6000"},{brand:"OnePlus",model:"OnePlus A6003"},{brand:"OnePlus",model:"ONEPLUS A6010"},{brand:"OnePlus",model:"ONEPLUS A6013"},{brand:"OnePlus",model:"ONEPLUS A6000"},{brand:"Oppo",model:"R15"},{brand:"Oppo",model:"R15 Pro"},{brand:"Oppo",model:"F7"},{brand:"Oukitel",model:"U18"},{brand:"Redmi",model:"M2004J19C"},{brand:"Sharp",model:"Aquos S3"},{brand:"Vivo",model:"V9"},{brand:"Vivo",model:"X21"},{brand:"Vivo",model:"X21 UD"},{brand:"xiaomi",model:"MI 8"},{brand:"xiaomi",model:"MI 8 Explorer Edition"},{brand:"xiaomi",model:"MI 8 SE"},{brand:"xiaomi",model:"MI 8 UD"},{brand:"xiaomi",model:"MI 8 Lite"},{brand:"xiaomi",model:"Mi 9"},{brand:"xiaomi",model:"POCO F1"},{brand:"xiaomi",model:"POCOPHONE F1"},{brand:"xiaomi",model:"Redmi 6 Pro"},{brand:"xiaomi",model:"Redmi Note 7"},{brand:"xiaomi",model:"Redmi 7"},{brand:"xiaomi",model:"Redmi Note 8"},{brand:"xiaomi",model:"Mi A2 Lite"},{brand:"Blackview",model:"A30"},{brand:"Samsung",model:"SM-A217F"}];let d=s.a.RNDeviceInfo;if("web"!==i.a.OS&&"dom"!==i.a.OS||(d=n(592)),!d&&("android"===i.a.OS||"ios"===i.a.OS||"web"===i.a.OS||"dom"===i.a.OS))throw new Error("@react-native-community/react-native-device-info: NativeModule.RNDeviceInfo is null. To fix this issue try these steps:\n   For react-native <= 0.59: Run `react-native link react-native-device-info` in the project root.\n   Rebuild and re-run the app.\n   If you are using CocoaPods on iOS, run `pod install` in the `ios` directory and then rebuild and re-run the app. You may also need to re-open Xcode to get the new pods.\n  If none of these fix the issue, please open an issue on the Github repository: https://github.com/react-native-community/react-native-device-info");var f=d;let p={};function h(e,t,n){let r={};return e.filter(e=>i.a.OS==e).forEach(e=>r[e]=t),i.a.select({...r,default:n})}function v({getter:e,supportedPlatforms:t,defaultValue:n,memoKey:r}){if(r&&null!=p[r])return p[r];{const i=h(t,e,()=>n)();return r&&(p[r]=i),i}}async function m({getter:e,supportedPlatforms:t,defaultValue:n,memoKey:r}){if(r&&null!=p[r])return p[r];{const i=await h(t,e,()=>Promise.resolve(n))();return r&&(p[r]=i),i}}function g({syncGetter:e,...t}){return[()=>m(t),()=>v({...t,getter:e})]}var y=n(118);const b=()=>v({defaultValue:"unknown",memoKey:"uniqueId",supportedPlatforms:["android","ios","windows"],getter:()=>f.uniqueId});let _;async function A(){return _="ios"===i.a.OS?await f.syncUniqueId():b(),_}const[S,E]=g({memoKey:"instanceId",supportedPlatforms:["android"],getter:()=>f.getInstanceId(),syncGetter:()=>f.getInstanceIdSync(),defaultValue:"unknown"}),[w,T]=g({memoKey:"serialNumber",supportedPlatforms:["android"],getter:()=>f.getSerialNumber(),syncGetter:()=>f.getSerialNumberSync(),defaultValue:"unknown"}),[P,C]=g({memoKey:"androidId",supportedPlatforms:["android"],getter:()=>f.getAndroidId(),syncGetter:()=>f.getAndroidIdSync(),defaultValue:"unknown"}),[O,k]=g({supportedPlatforms:["android","ios","windows"],getter:()=>f.getIpAddress(),syncGetter:()=>f.getIpAddressSync(),defaultValue:"unknown"}),[I,x]=g({supportedPlatforms:["android","windows","web"],getter:()=>f.isCameraPresent(),syncGetter:()=>f.isCameraPresentSync(),defaultValue:!1});async function D(){return"android"===i.a.OS?f.getMacAddress():"ios"===i.a.OS?"02:00:00:00:00:00":"unknown"}function R(){return"android"===i.a.OS?f.getMacAddressSync():"ios"===i.a.OS?"02:00:00:00:00:00":"unknown"}const M=()=>v({defaultValue:"unknown",memoKey:"deviceId",getter:()=>f.deviceId,supportedPlatforms:["android","ios","windows"]}),[N,L]=g({memoKey:"manufacturer",supportedPlatforms:["android","ios","windows"],getter:()=>"ios"==i.a.OS?Promise.resolve("Apple"):f.getSystemManufacturer(),syncGetter:()=>"ios"==i.a.OS?"Apple":f.getSystemManufacturerSync(),defaultValue:"unknown"}),j=()=>v({memoKey:"model",defaultValue:"unknown",supportedPlatforms:["ios","android","windows"],getter:()=>f.model}),B=()=>v({memoKey:"brand",supportedPlatforms:["android","ios","windows"],defaultValue:"unknown",getter:()=>f.brand}),U=()=>v({defaultValue:"unknown",supportedPlatforms:["ios","android","windows"],memoKey:"systemName",getter:()=>i.a.select({ios:f.systemName,android:"Android",windows:"Windows",default:"unknown"})}),V=()=>v({defaultValue:"unknown",getter:()=>f.systemVersion,supportedPlatforms:["android","ios","windows"],memoKey:"systemVersion"}),[F,H]=g({memoKey:"buildId",supportedPlatforms:["android","ios","windows"],getter:()=>f.getBuildId(),syncGetter:()=>f.getBuildIdSync(),defaultValue:"unknown"}),[G,W]=g({memoKey:"apiLevel",supportedPlatforms:["android"],getter:()=>f.getApiLevel(),syncGetter:()=>f.getApiLevelSync(),defaultValue:-1}),z=()=>v({memoKey:"bundleId",supportedPlatforms:["android","ios","windows"],defaultValue:"unknown",getter:()=>f.bundleId}),[K,Y]=g({memoKey:"installerPackageName",supportedPlatforms:["android","windows"],getter:()=>f.getInstallerPackageName(),syncGetter:()=>f.getInstallerPackageNameSync(),defaultValue:"unknown"}),q=()=>v({memoKey:"appName",defaultValue:"unknown",getter:()=>f.appName,supportedPlatforms:["android","ios","windows"]}),X=()=>v({memoKey:"buildNumber",supportedPlatforms:["android","ios","windows"],getter:()=>f.buildNumber,defaultValue:"unknown"}),Z=()=>v({memoKey:"version",defaultValue:"unknown",supportedPlatforms:["android","ios","windows"],getter:()=>f.appVersion});function Q(){return Z()+"."+X()}const[J,$]=g({memoKey:"deviceName",supportedPlatforms:["android","ios","windows"],getter:()=>f.getDeviceName(),syncGetter:()=>f.getDeviceNameSync(),defaultValue:"unknown"}),[ee,te]=g({supportedPlatforms:["android","ios","windows","web"],getter:()=>f.getUsedMemory(),syncGetter:()=>f.getUsedMemorySync(),defaultValue:-1}),ne=()=>m({memoKey:"userAgent",defaultValue:"unknown",supportedPlatforms:["android","ios","web"],getter:()=>f.getUserAgent()}),re=()=>v({memoKey:"userAgent",defaultValue:"unknown",supportedPlatforms:["android","web"],getter:()=>f.getUserAgentSync()}),[ie,ae]=g({supportedPlatforms:["android","ios","windows"],getter:()=>f.getFontScale(),syncGetter:()=>f.getFontScaleSync(),defaultValue:-1}),[oe,se]=g({memoKey:"bootloader",supportedPlatforms:["android"],getter:()=>f.getBootloader(),syncGetter:()=>f.getBootloaderSync(),defaultValue:"unknown"}),[ue,ce]=g({getter:()=>f.getDevice(),syncGetter:()=>f.getDeviceSync(),defaultValue:"unknown",memoKey:"device",supportedPlatforms:["android"]}),[le,de]=g({memoKey:"display",supportedPlatforms:["android"],getter:()=>f.getDisplay(),syncGetter:()=>f.getDisplaySync(),defaultValue:"unknown"}),[fe,pe]=g({memoKey:"fingerprint",supportedPlatforms:["android"],getter:()=>f.getFingerprint(),syncGetter:()=>f.getFingerprintSync(),defaultValue:"unknown"}),[he,ve]=g({memoKey:"hardware",supportedPlatforms:["android"],getter:()=>f.getHardware(),syncGetter:()=>f.getHardwareSync(),defaultValue:"unknown"}),[me,ge]=g({memoKey:"host",supportedPlatforms:["android"],getter:()=>f.getHost(),syncGetter:()=>f.getHostSync(),defaultValue:"unknown"}),[ye,be]=g({memoKey:"product",supportedPlatforms:["android"],getter:()=>f.getProduct(),syncGetter:()=>f.getProductSync(),defaultValue:"unknown"}),[_e,Ae]=g({memoKey:"tags",supportedPlatforms:["android"],getter:()=>f.getTags(),syncGetter:()=>f.getTagsSync(),defaultValue:"unknown"}),[Se,Ee]=g({memoKey:"type",supportedPlatforms:["android"],getter:()=>f.getType(),syncGetter:()=>f.getTypeSync(),defaultValue:"unknown"}),[we,Te]=g({memoKey:"baseOs",supportedPlatforms:["android","web","windows"],getter:()=>f.getBaseOs(),syncGetter:()=>f.getBaseOsSync(),defaultValue:"unknown"}),[Pe,Ce]=g({memoKey:"previewSdkInt",supportedPlatforms:["android"],getter:()=>f.getPreviewSdkInt(),syncGetter:()=>f.getPreviewSdkIntSync(),defaultValue:-1}),[Oe,ke]=g({memoKey:"securityPatch",supportedPlatforms:["android"],getter:()=>f.getSecurityPatch(),syncGetter:()=>f.getSecurityPatchSync(),defaultValue:"unknown"}),[Ie,xe]=g({memoKey:"codeName",supportedPlatforms:["android"],getter:()=>f.getCodename(),syncGetter:()=>f.getCodenameSync(),defaultValue:"unknown"}),[De,Re]=g({memoKey:"incremental",supportedPlatforms:["android"],getter:()=>f.getIncremental(),syncGetter:()=>f.getIncrementalSync(),defaultValue:"unknown"}),[Me,Ne]=g({memoKey:"emulator",supportedPlatforms:["android","ios","windows"],getter:()=>f.isEmulator(),syncGetter:()=>f.isEmulatorSync(),defaultValue:!1}),Le=()=>v({defaultValue:!1,supportedPlatforms:["android","ios","windows"],memoKey:"tablet",getter:()=>f.isTablet}),[je,Be]=g({supportedPlatforms:["android","ios","windows"],getter:()=>f.isPinOrFingerprintSet(),syncGetter:()=>f.isPinOrFingerprintSetSync(),defaultValue:!1});let Ue;function Ve(){if(void 0===Ue){let e=B(),t=j();Ue=-1!==l.findIndex(n=>n.brand.toLowerCase()===e.toLowerCase()&&n.model.toLowerCase()===t.toLowerCase())}return Ue}const[Fe,He]=g({supportedPlatforms:["android"],getter:()=>f.hasGms(),syncGetter:()=>f.hasGmsSync(),defaultValue:!1}),[Ge,We]=g({supportedPlatforms:["android"],getter:()=>f.hasHms(),syncGetter:()=>f.hasHmsSync(),defaultValue:!1}),[ze,Ke]=g({memoKey:"firstInstallTime",supportedPlatforms:["android","windows"],getter:()=>f.getFirstInstallTime(),syncGetter:()=>f.getFirstInstallTimeSync(),defaultValue:-1}),[Ye,qe]=g({memoKey:"installReferrer",supportedPlatforms:["android","windows","web"],getter:()=>f.getInstallReferrer(),syncGetter:()=>f.getInstallReferrerSync(),defaultValue:"unknown"}),[Xe,Ze]=g({memoKey:"lastUpdateTime",supportedPlatforms:["android"],getter:()=>f.getLastUpdateTime(),syncGetter:()=>f.getLastUpdateTimeSync(),defaultValue:-1}),[Qe,Je]=g({supportedPlatforms:["android"],getter:()=>f.getPhoneNumber(),syncGetter:()=>f.getPhoneNumberSync(),defaultValue:"unknown"}),[$e,et]=g({supportedPlatforms:["android","ios"],getter:()=>f.getCarrier(),syncGetter:()=>f.getCarrierSync(),defaultValue:"unknown"}),[tt,nt]=g({memoKey:"totalMemory",supportedPlatforms:["android","ios","windows","web"],getter:()=>f.getTotalMemory(),syncGetter:()=>f.getTotalMemorySync(),defaultValue:-1}),[rt,it]=g({memoKey:"maxMemory",supportedPlatforms:["android","windows","web"],getter:()=>f.getMaxMemory(),syncGetter:()=>f.getMaxMemorySync(),defaultValue:-1}),[at,ot]=g({supportedPlatforms:["android","ios","windows","web"],getter:()=>f.getTotalDiskCapacity(),syncGetter:()=>f.getTotalDiskCapacitySync(),defaultValue:-1});async function st(){return"android"===i.a.OS?f.getTotalDiskCapacityOld():"ios"===i.a.OS||"windows"===i.a.OS||"web"===i.a.OS?at():-1}function ut(){return"android"===i.a.OS?f.getTotalDiskCapacityOldSync():"ios"===i.a.OS||"windows"===i.a.OS||"web"===i.a.OS?ot():-1}const[ct,lt]=g({supportedPlatforms:["android","ios","windows","web"],getter:()=>f.getFreeDiskStorage(),syncGetter:()=>f.getFreeDiskStorageSync(),defaultValue:-1});async function dt(){return"android"===i.a.OS?f.getFreeDiskStorageOld():"ios"===i.a.OS||"windows"===i.a.OS||"web"===i.a.OS?ct():-1}function ft(){return"android"===i.a.OS?f.getFreeDiskStorageOldSync():"ios"===i.a.OS||"windows"===i.a.OS||"web"===i.a.OS?lt():-1}const[pt,ht]=g({supportedPlatforms:["android","ios","windows","web"],getter:()=>f.getBatteryLevel(),syncGetter:()=>f.getBatteryLevelSync(),defaultValue:-1}),[vt,mt]=g({supportedPlatforms:["ios","android","windows","web"],getter:()=>f.getPowerState(),syncGetter:()=>f.getPowerStateSync(),defaultValue:{}}),[gt,yt]=g({supportedPlatforms:["android","ios","windows","web"],getter:()=>f.isBatteryCharging(),syncGetter:()=>f.isBatteryChargingSync(),defaultValue:!1});async function bt(){return Promise.resolve(_t())}function _t(){const{height:e,width:t}=a.a.get("window");return t>=e}const[At,St]=g({supportedPlatforms:["android","web"],getter:()=>f.isAirplaneMode(),syncGetter:()=>f.isAirplaneModeSync(),defaultValue:!1}),Et=()=>"windows"===i.a.OS?"Desktop":v({memoKey:"deviceType",supportedPlatforms:["android","ios"],defaultValue:"unknown",getter:()=>f.deviceType}),wt=()=>"windows"===i.a.OS?"Desktop":v({memoKey:"deviceType",supportedPlatforms:["android","ios"],defaultValue:"unknown",getter:()=>f.deviceType}),[Tt,Pt]=g({memoKey:"_supportedAbis",supportedPlatforms:["android","ios"],getter:()=>f.getSupportedAbis(),syncGetter:()=>f.getSupportedAbisSync(),defaultValue:[]}),[Ct,Ot]=g({memoKey:"_supported32BitAbis",supportedPlatforms:["android"],getter:()=>f.getSupported32BitAbis(),syncGetter:()=>f.getSupported32BitAbisSync(),defaultValue:[]}),[kt,It]=g({memoKey:"_supported64BitAbis",supportedPlatforms:["android"],getter:()=>f.getSupported64BitAbis(),syncGetter:()=>f.getSupported64BitAbisSync(),defaultValue:[]});async function xt(e){return"android"===i.a.OS&&f.hasSystemFeature(e)}function Dt(e){return"android"===i.a.OS&&f.hasSystemFeatureSync(e)}const[Rt,Mt]=g({supportedPlatforms:["android"],getter:()=>f.getSystemAvailableFeatures(),syncGetter:()=>f.getSystemAvailableFeaturesSync(),defaultValue:[]}),[Nt,Lt]=g({supportedPlatforms:["android","ios","web"],getter:()=>f.isLocationEnabled(),syncGetter:()=>f.isLocationEnabledSync(),defaultValue:!1}),[jt,Bt]=g({supportedPlatforms:["android","ios"],getter:()=>f.isHeadphonesConnected(),syncGetter:()=>f.isHeadphonesConnectedSync(),defaultValue:!1}),[Ut,Vt]=g({supportedPlatforms:["android","ios"],getter:()=>f.getAvailableLocationProviders(),syncGetter:()=>f.getAvailableLocationProvidersSync(),defaultValue:{}});async function Ft(){return"ios"===i.a.OS?f.getDeviceToken():"unknown"}const Ht=new o.a(s.a.RNDeviceInfo);function Gt(){const[e,t]=Object(r.useState)(null);return Object(r.useEffect)(()=>{(async()=>{const e=await pt();t(e)})();const e=Ht.addListener("RNDeviceInfo_batteryLevelDidChange",e=>{t(e)});return()=>e.remove()},[]),e}function Wt(){const[e,t]=Object(r.useState)(null);return Object(r.useEffect)(()=>{(async()=>{const e=await pt();t(e)})();const e=Ht.addListener("RNDeviceInfo_batteryLevelIsLow",e=>{t(e)});return()=>e.remove()},[]),e}function zt(){const[e,t]=Object(r.useState)({});return Object(r.useEffect)(()=>{(async()=>{const e=await vt();t(e)})();const e=Ht.addListener("RNDeviceInfo_powerStateDidChange",e=>{t(e)});return()=>e.remove()},[]),e}function Kt(){return function(e,t,n){const{loading:i,result:a}=u(t,n),[o,s]=Object(r.useState)(n);return Object(r.useEffect)(()=>{s(a)},[a]),Object(r.useEffect)(()=>{const t=c.addListener(e,s);return()=>t.remove()},[e]),{loading:i,result:o}}("RNDeviceInfo_headphoneConnectionDidChange",jt,!1)}function Yt(){return u(ze,-1)}function qt(){return u(J,"unknown")}function Xt(e){return u(Object(r.useCallback)(()=>xt(e),[e]),!1)}function Zt(){return u(Me,!1)}function Qt(){return u(N,"unknown")}const Jt={getAndroidId:P,getAndroidIdSync:C,getApiLevel:G,getApiLevelSync:W,getApplicationName:q,getAvailableLocationProviders:Ut,getAvailableLocationProvidersSync:Vt,getBaseOs:we,getBaseOsSync:Te,getBatteryLevel:pt,getBatteryLevelSync:ht,getBootloader:oe,getBootloaderSync:se,getBrand:B,getBuildId:F,getBuildIdSync:H,getBuildNumber:X,getBundleId:z,getCarrier:$e,getCarrierSync:et,getCodename:Ie,getCodenameSync:xe,getDevice:ue,getDeviceId:M,getDeviceName:J,getDeviceNameSync:$,getDeviceSync:ce,getDeviceToken:Ft,getDeviceType:Et,getDisplay:le,getDisplaySync:de,getFingerprint:fe,getFingerprintSync:pe,getFirstInstallTime:ze,getFirstInstallTimeSync:Ke,getFontScale:ie,getFontScaleSync:ae,getFreeDiskStorage:ct,getFreeDiskStorageOld:dt,getFreeDiskStorageSync:lt,getFreeDiskStorageOldSync:ft,getHardware:he,getHardwareSync:ve,getHost:me,getHostSync:ge,getIncremental:De,getIncrementalSync:Re,getInstallerPackageName:K,getInstallerPackageNameSync:Y,getInstallReferrer:Ye,getInstallReferrerSync:qe,getInstanceId:S,getInstanceIdSync:E,getIpAddress:O,getIpAddressSync:k,getLastUpdateTime:Xe,getLastUpdateTimeSync:Ze,getMacAddress:D,getMacAddressSync:R,getManufacturer:N,getManufacturerSync:L,getMaxMemory:rt,getMaxMemorySync:it,getModel:j,getPhoneNumber:Qe,getPhoneNumberSync:Je,getPowerState:vt,getPowerStateSync:mt,getPreviewSdkInt:Pe,getPreviewSdkIntSync:Ce,getProduct:ye,getProductSync:be,getReadableVersion:Q,getSecurityPatch:Oe,getSecurityPatchSync:ke,getSerialNumber:w,getSerialNumberSync:T,getSystemAvailableFeatures:Rt,getSystemAvailableFeaturesSync:Mt,getSystemName:U,getSystemVersion:V,getTags:_e,getTagsSync:Ae,getTotalDiskCapacity:at,getTotalDiskCapacityOld:st,getTotalDiskCapacitySync:ot,getTotalDiskCapacityOldSync:ut,getTotalMemory:tt,getTotalMemorySync:nt,getType:Se,getTypeSync:Ee,getUniqueId:b,getUsedMemory:ee,getUsedMemorySync:te,getUserAgent:ne,getUserAgentSync:re,getVersion:Z,hasGms:Fe,hasGmsSync:He,hasHms:Ge,hasHmsSync:We,hasNotch:Ve,hasSystemFeature:xt,hasSystemFeatureSync:Dt,isAirplaneMode:At,isAirplaneModeSync:St,isBatteryCharging:gt,isBatteryChargingSync:yt,isCameraPresent:I,isCameraPresentSync:x,isEmulator:Me,isEmulatorSync:Ne,isHeadphonesConnected:jt,isHeadphonesConnectedSync:Bt,isLandscape:bt,isLandscapeSync:_t,isLocationEnabled:Nt,isLocationEnabledSync:Lt,isPinOrFingerprintSet:je,isPinOrFingerprintSetSync:Be,isTablet:Le,supported32BitAbis:Ct,supported32BitAbisSync:Ot,supported64BitAbis:kt,supported64BitAbisSync:It,supportedAbis:Tt,supportedAbisSync:Pt,syncUniqueId:A,useBatteryLevel:Gt,useBatteryLevelIsLow:Wt,useDeviceName:qt,useFirstInstallTime:Yt,useHasSystemFeature:Xt,useIsEmulator:Zt,usePowerState:zt,useManufacturer:Qt,useIsHeadphonesConnected:Kt};t.default=Jt},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var u in s){var c=s[u];if((0,o.default)(c))s[u]=e(c);else if(Array.isArray(c)){for(var l=[],d=0,f=c.length;d<f;++d){var p=(0,i.default)(n,u,c[d],s,t);(0,a.default)(l,p||c[d])}l.length>0&&(s[u]=l)}else{var h=(0,i.default)(n,u,c,s,t);h&&(s[u]=h),s=(0,r.default)(t,u,s)}}return s}};var r=s(n(559)),i=s(n(560)),a=s(n(561)),o=s(n(562));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,a.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(115),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&i.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,a.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(115),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&r.hasOwnProperty(t))return r[t]};var r={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){Object.prototype.hasOwnProperty.call(i,e)&&(n[i[e]]=r[t]||t);if("flex"===e){if(Object.prototype.hasOwnProperty.call(a,t))return void(n.msFlex=a[t]);if(o.test(t))return void(n.msFlex=t+" 1 0%");var s=t.split(/\s/);switch(s.length){case 1:return void(n.msFlex="1 1 "+t);case 2:return void(o.test(s[1])?n.msFlex=s[0]+" "+s[1]+" 0%":n.msFlex=s[0]+" 1 "+s[1]);default:n.msFlex=t}}};var r={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},i={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},a={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},o=/^\d+(\.\d+)?$/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"==typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,a.default)(t)&&s.test(t))return o.map((function(e){return t.replace(s,(function(t){return e+t}))}))};var r,i=n(115),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,a.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(115),a=(r=i)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(i.hasOwnProperty(e)&&a.hasOwnProperty(t))return r.map((function(e){return e+t}))};var r=["-webkit-","-moz-",""],i={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"==typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),a=0,o=n.length;a<o;++a){var s=n[a],c=[s];for(var l in t){var d=(0,r.default)(l);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[l],p=0,h=f.length;p<h;++p)c.unshift(s.replace(d,u[f[p]]+d))}n[a]=c.join(",")}return n.join(",")}(t,o),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,a.default)(e)]=l,n["Moz"+(0,a.default)(e)]=d,c)}};var r=o(n(563)),i=o(n(115)),a=o(n(280));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},function(e,t,n){"use strict";var r="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+o(t))*e}function u(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+o(t)}e.exports=function(e,t,n,i){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var a=r?new Float32Array(11):new Array(11);if(e!==t||n!==i)for(var o=0;o<11;++o)a[o]=s(.1*o,e,n);function c(t){for(var r=0,i=1;10!==i&&a[i]<=t;++i)r+=.1;--i;var o=r+.1*((t-a[i])/(a[i+1]-a[i])),c=u(o,e,n);return c>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var a=u(t,n,r);if(0===a)return t;t-=(s(t,n,r)-e)/a}return t}(t,o,e,n):0===c?o:function(e,t,n,r,i){var a,o,u=0;do{(a=s(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++u<10);return o}(t,r,r+.1,e,n)}return function(r){return e===t&&n===i?r:0===r?0:1===r?1:s(c(r),t,i)}}},function(e,t,n){"use strict";(function(e){var r=n(105),i=n(16);var a=function(t){var n,r;function a(e){var n;return(n=t.call(this)||this)._deceleration=void 0!==e.deceleration?e.deceleration:.998,n._velocity=e.velocity,n._useNativeDriver=Object(i.c)(e),n.__isInteraction=void 0===e.isInteraction||e.isInteraction,n.__iterations=void 0!==e.iterations?e.iterations:1,n}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=a.prototype;return o.__getNativeAnimationConfig=function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}},o.start=function(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))},o.onUpdate=function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))},o.stop=function(){t.prototype.stop.call(this),this.__active=!1,e.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})},a}(r.a);t.a=a}).call(this,n(45))},function(e,t,n){"use strict";var r=n(567),i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function s(e,t,n){var a=t[n];if(null!=a){if(i.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");i.call(e,n)&&r(a)?e[n]=u(Object(e[n]),t[n]):e[n]=a}}function u(e,t){if(e===t)return e;for(var n in t=Object(t))i.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(t),o=0;o<r.length;o++)a.call(t,r[o])&&s(e,t,r[o]);return e}e.exports=function(e){e=o(e);for(var t=1;t<arguments.length;t++)u(e,arguments[t]);return e}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(892),i=n(893),a=n(894),o=n(896);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(235),d=n(3);var f=u(n(220)),p=n(7),h=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return i(t,e),t.prototype.render=function(){var e=this;return c.default.createElement(d.View,{style:{backgroundColor:"#fff",minHeight:"100%"}},p.environmentUtils.isYoui()&&c.default.createElement(d.View,{style:{height:16}}),c.default.createElement(d.ScrollView,{ref:function(t){return e.scrollView=t},onContentSizeChange:function(t,n){return e.scrollView.scrollToEnd()}},c.default.createElement(d.View,{style:{margin:50,display:"flex",height:30}},c.default.createElement(f.default,{scaleKnob:!0,knobSize:16,height:4,opacity:.7,activeOpacity:1,activeHeight:6,containerHeight:30,backgroundColor:"#a0a0a0",primaryColor:"#f47521",secondaryColor:"#d8d8d8",knobColor:"#f47521",animationDuration:100,testID:"SliderBar",accessibilityLabel:"SliderBar"}))))},t}(c.Component),v=h;p.environmentUtils.isWeb()&&(v=l.hot(h)),t.default=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(235),l=n(3);var d=n(7),f=s(n(992));var p=function(e){function t(t){var n=e.call(this,t)||this;return n.onPress=function(){var e=f.src,t=f.poster;location.search.includes("mp4")?(e="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",t="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg"):location.search.includes("dash")?e="https://vo.vrv.co/evs/bc89773b3668f529ccaafecb59822d93/assets/ad5f9d93440ccbfe76e9aa3243436993_,3494173.mp4,3494174.mp4,3494172.mp4,3494170.mp4,3494171.mp4,.urlset/manifest.mpd":location.search.includes("dash=akamai")&&(e="https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd"),function(e,t){var n=document.createElement("video");return n.style.maxWidth="400px",e.endsWith("mpd")?{play:function(){return Array.from(document.scripts).some((function(e){return e.src.endsWith("dash.all.min.js")}))?(window.dashjs.MediaPlayer().create().initialize(n,e,!0),document.body.appendChild(n),n.play()):new Promise((function(t,r){var i=document.createElement("script");i.src="https://cdn.dashjs.org/latest/dash.all.min.js",i.onload=function(){window.dashjs.MediaPlayer().create().initialize(n,e,!0),document.body.appendChild(n),t(n.play())},document.body.appendChild(i)}))}}:(e&&(n.src=e),n.setAttribute("playsinline",""),t&&n.setAttribute("poster",t),n.setAttribute("autoplay",""),n.setAttribute("data-videoslot","global"),document.body.appendChild(n),n)}(e,t).play().then((function(e){n.setState({status:"played"})})).catch((function(e){n.setState({status:e.message}),console.log(e)}))},n.componentDidMount=function(){n.onPress()},n.state={status:""},n}return i(t,e),t.prototype.render=function(){var e=this,t=this.state.status;return u.default.createElement(l.View,{style:{backgroundColor:"#fff",minHeight:"100%"}},d.environmentUtils.isYoui()&&u.default.createElement(l.View,{style:{height:16}}),u.default.createElement(l.ScrollView,{ref:function(t){return e.scrollView=t},onContentSizeChange:function(t,n){return e.scrollView.scrollToEnd()}},u.default.createElement(l.View,{style:{width:100,marginTop:100}},u.default.createElement(l.Button,{title:"Load video",onPress:this.onPress})),u.default.createElement(l.View,{style:{height:16}}),u.default.createElement(l.Text,null,"Status: ",t),u.default.createElement(l.View,{style:{marginTop:60}},u.default.createElement(l.Text,null,"Load a video type:"),u.default.createElement(l.View,{style:{height:".5em"}}),u.default.createElement(l.View,{style:{flexDirection:"row"}},u.default.createElement(l.View,{style:{marginRight:".5em"}},u.default.createElement(l.Button,{title:"Autoplay test",onPress:function(){return window.location.href="/video"}})),u.default.createElement(l.View,{style:{marginRight:".5em"}},u.default.createElement(l.Button,{title:"MP4",onPress:function(){return window.location.search="?bbb"}})),u.default.createElement(l.View,{style:{marginRight:".5em"}},u.default.createElement(l.Button,{title:"DASH",onPress:function(){return window.location.search="?dash"}}))))))},t}(u.Component),h=p;d.environmentUtils.isWeb()&&(h=c.hot(p)),t.default=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(235),d=n(3);var f=n(7),p=u(n(210)),h=u(n(380)),v=u(n(381)),m=u(n(174)),g=function(e){function t(t){var n=e.call(this,t)||this;return n.state={config:null},n}return i(t,e),t.prototype.render=function(){var e=this,t=this.state.config;return c.default.createElement(d.View,{style:{backgroundColor:"#fff",minHeight:"100%"}},f.environmentUtils.isYoui()&&c.default.createElement(d.View,{style:{height:16}}),c.default.createElement(d.ScrollView,{ref:function(t){return e.scrollView=t},onContentSizeChange:function(t,n){return e.scrollView.scrollToEnd()}},c.default.createElement(d.View,{style:{display:"flex",flexDirection:"row"}},c.default.createElement(d.View,{style:{width:700}},this.state.config&&c.default.createElement(p.default,{config:t,debug:!0,theme:m.default})),c.default.createElement(d.View,null,c.default.createElement(d.View,{style:{paddingLeft:30,paddingTop:22}},c.default.createElement(d.Text,null,"SSAI")),c.default.createElement(d.View,{style:{paddingLeft:30,paddingTop:12}},c.default.createElement(d.Text,null,"Non-SSAI")),c.default.createElement(d.View,{style:{display:"flex",flexDirection:"row"}},c.default.createElement(d.View,{style:{padding:30,paddingRight:0}},c.default.createElement(d.Button,{title:"Attack on titan",onPress:function(){return e.setState({config:h.default})}})),c.default.createElement(d.View,{style:{padding:30,paddingRight:0}},c.default.createElement(d.Button,{title:"Sintel",onPress:function(){return e.setState({config:v.default})}})))))))},t}(c.Component),y=g;f.environmentUtils.isWeb()&&(y=l.hot(g)),t.default=y},function(e,t,n){"use strict";n.r(t);n(405);var r=n(172),i=n(239),a=n.n(i),o=n(246),s=(n(987),n(401)),u=n.n(s),c=n(402),l=n.n(c),d=n(403),f=n.n(d),p=n(7);const{path:h}=p.environmentUtils;let v=null;try{v=p.environmentUtils.getParentPath()}catch(e){}r.a.registerComponent(o.a,()=>"/playground"===h&&u.a||"/html-video"===h&&l.a||"/video-playground"===h&&f.a||(v&&v.endsWith("/test.html")||null===v)&&a.a||a.a),r.a.runApplication(o.a,{rootTag:document.getElementById("vilos")})},function(e,t,n){"use strict";(function(e){var t=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],o="undefined"!=typeof MutationObserver,s=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&u()}function s(){i(o)}function u(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),o?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||r},l=m(0,0,0,0);function d(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return l;var r=c(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=d(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=f(r,"left","right")+a),Math.round(u+o)!==n&&(u-=f(r,"top","bottom")+o)),!function(e){return e===c(e).document.documentElement}(e)){var p=Math.round(s+a)-t,h=Math.round(u+o)-n;1!==Math.abs(p)&&(s-=p),1!==Math.abs(h)&&(u-=h)}return m(i.left,i.top,s,u)}var h="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return n?h(e)?function(e){var t=e.getBBox();return m(0,0,t.width,t.height)}(e):p(e):l}function m(e,t,n,r){return{x:e,y:t,width:n,height:r}}var g=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,r,i,a,o,s,c,l=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),c);u(this,{target:e,contentRect:l})},b=function(){function e(e,n,r){if(this.activeObservations_=[],this.observations_=new t,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new g(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new t,A=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=s.getInstance(),r=new b(t,n,this);_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){A.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));void 0!==r.ResizeObserver&&r.ResizeObserver}).call(this,n(45))},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(136),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,v=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);y(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A={};function S(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||_}function E(){}function w(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||_}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=S.prototype;var T=w.prototype=new E;T.constructor=w,r(T,S.prototype),T.isPureReactComponent=!0;var P={current:null},C={current:null},O=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r=void 0,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:C.current}}function x(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var D=/\/+/g,R=[];function M(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case o:u=!0}}if(u)return r(i,t,""===n?"."+j(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+j(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!=typeof t?l=null:l="function"==typeof(l=g&&t[g]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+j(s,c++),r,i);else"object"===s&&b("31","[object Object]"===(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,r,n,(function(e){return e})):null!=e&&(x(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+n)),r.push(e))}function V(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(D,"$&/")+"/"),L(e,U,t=M(t,a,r,i)),N(t)}function F(){var e=P.current;return null===e&&b("321"),e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return V(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,B,t=M(null,null,t,n)),N(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return V(e,t,null,(function(e){return e})),t},only:function(e){return x(e)||b("143"),e}},createRef:function(){return{current:null}},Component:S,PureComponent:w,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:v,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,StrictMode:u,Suspense:h,createElement:I,cloneElement:function(e,t,n){null==e&&b("267",e);var i=void 0,o=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=C.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)O.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){l=Array(i);for(var d=0;d<i;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:s,ref:u,props:o,_owner:c}},createFactory:function(e){var t=I.bind(null,e);return t.type=e,t},isValidElement:x,version:"16.8.6",unstable_ConcurrentMode:f,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:P,ReactCurrentOwner:C,assign:r}},G={default:H},W=G&&H||G;e.exports=W.default||W},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(175)),u=o(n(408)),c=o(n(209)),l=function(e){return r(r(r({},c[e]),s[e]),u[e])};t.default={adMarkers:l("adMarkers"),adsInfo:l("adsInfo"),adsScrubBar:l("adsScrubBar"),controls:l("controls"),errorScreen:l("errorScreen"),largeIcons:l("largeIcons"),loadingIndicator:l("loadingIndicator"),name:"Desktop",pluginButton:l("pluginButton"),premiumUpsellCTA:l("premiumUpsellCTA"),radioButton:l("radioButton"),scrubBar:l("scrubBar"),settingsControl:l("settingsControl"),settingsFlag:l("settingsFlag"),settingsMenu:l("settingsMenu"),settingsSubmenu:l("settingsSubmenu"),skipButton:l("skipButton"),smallIcons:l("smallIcons"),text:l("text"),tooltipContainer:l("tooltipContainer"),tooltipText:l("tooltipText"),trickscrubImages:l("trickscrubImages"),volumeControl:l("volumeControl"),volumeSlider:l("volumeSlider"),toggleSwitch:l("toggleSwitch")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.premiumUpsellCTA=t.adsInfo=t.trickscrubImages=t.text=t.settingsControl=t.scrubBar=t.errorScreen=t.loadingIndicator=t.controls=t.largeIcons=void 0;var r=n(7);t.largeIcons={containerSize:120,imageSize:60},t.controls={backgroundColor:"rgba(0, 0, 0, 0.2)"},t.loadingIndicator={size:64},t.errorScreen={iconSize:60,fontSize:22,lineHeight:28},t.scrubBar={opacity:.74,activeOpacity:1,knobSize:16,height:3,activeHeight:5,animationDuration:125,tooltipY:32},t.settingsControl={maxHeight:r.environmentUtils.isIframe()?"calc(100vh - 104px)":350},t.text={fontSize:14},t.trickscrubImages={imageHeight:135,imageWidth:240,relativeY:33,shadowRadius:4,shadowOpacity:.5,shadowColor:"black"},t.adsInfo={adLabel:{color:"#f9f9fa",fontFamily:"Lato",fontSize:14,fontWeight:"500"}},t.premiumUpsellCTA={container:{height:60,flexDirection:"row",position:"absolute",bottom:119},textContainer:{justifyContent:"center",backgroundColor:"rgba(20,21,25,0.8)",overflow:"hidden"},text:{color:"#fab818",fontSize:14,whiteSpace:"nowrap",paddingRight:16},iconContainer:{width:60,height:60,justifyContent:"center",backgroundColor:"rgba(20,21,25,0.8)"},icon:{width:24,height:24,alignSelf:"center"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.a9params=void 0,t.a9params=function(e){return e.a9.a9params}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.property=void 0,t.property=function(e,t){return e.adsManager[t]},t.all=function(e){return e.adsManager}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.freewheelParams=void 0,t.freewheelParams=function(e){return e.freewheel.freewheelParams}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userId=t.organization=t.general=void 0,t.general=function(e){return e.analytics.general},t.organization=function(e){return e.analytics.organization},t.userId=function(e){return e.analytics.user_id}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=void 0,t.all=function(e){return e.QoS}},function(e,t,n){var r=n(177),i=n(418);e.exports=function(e){return i(r(e).toLowerCase())}},function(e,t,n){var r=n(91),i=n(178),a=n(46),o=n(92),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(91),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(419)("toUpperCase");e.exports=r},function(e,t,n){var r=n(420),i=n(251),a=n(421),o=n(177);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},function(e,t,n){var r=n(250);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},function(e,t,n){var r=n(422),i=n(251),a=n(423);e.exports=function(e){return i(e)?a(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?"+u+("(?:\\u200d(?:"+[a,o,s].join("|")+")[\\ufe0e\\ufe0f]?"+u+")*"),l="(?:"+[a+r+"?",r,o,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+l+c,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){var r=n(425),i=n(179);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))==n?n:0),void 0!==t&&(t=(t=i(t))==t?t:0),r(i(e),t,n)}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(252),i=n(94),a=n(481),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:a(n);return u<0&&(u=o(s+u,0)),r(e,i(t,3),u)}},function(e,t,n){var r=n(428),i=n(471),a=n(267);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(180),i=n(184);e.exports=function(e,t,n,a){var o=n.length,s=o,u=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var l=(c=n[o])[0],d=e[l],f=c[1];if(u&&c[2]){if(void 0===d&&!(l in e))return!1}else{var p=new r;if(a)var h=a(d,f,l,e,t,p);if(!(void 0===h?i(f,d,3,a,p):h))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(138),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(138);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(138);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(138);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(137);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(137),i=n(182),a=n(183);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(253),i=n(440),a=n(62),o=n(254),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},function(e,t,n){var r,i=n(441),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(56)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(444),i=n(137),a=n(182);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(e,t,n){var r=n(445),i=n(446),a=n(447),o=n(448),s=n(449);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(139);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(139),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(139),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(139);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(140);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(140);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(140);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(140);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(180),i=n(255),a=n(459),o=n(461),s=n(113),u=n(46),c=n(142),l=n(189),d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,h,v){var m=u(e),g=u(t),y=m?"[object Array]":s(e),b=g?"[object Array]":s(t),_=(y="[object Arguments]"==y?d:y)==d,A=(b="[object Arguments]"==b?d:b)==d,S=y==b;if(S&&c(e)){if(!c(t))return!1;m=!0,_=!1}if(S&&!_)return v||(v=new r),m||l(e)?i(e,t,n,p,h,v):a(e,t,y,n,p,h,v);if(!(1&n)){var E=_&&f.call(e,"__wrapped__"),w=A&&f.call(t,"__wrapped__");if(E||w){var T=E?e.value():e,P=w?t.value():t;return v||(v=new r),h(T,P,n,p,v)}}return!!S&&(v||(v=new r),o(e,t,n,p,h,v))}},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(91),i=n(258),a=n(181),o=n(255),s=n(460),u=n(185),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var v=f.get(e);if(v)return v==t;r|=2,f.set(e,t);var m=o(p(e),p(t),r,c,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t,n){var r=n(259),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:i.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++d<l;){var g=e[f=c[d]],y=t[f];if(a)var b=u?a(y,g,f,t,e,s):a(g,y,f,e,t,s);if(!(void 0===b?g===y||o(g,y,n,a,s):b)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var _=e.constructor,A=t.constructor;_==A||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A||(v=!1)}return s.delete(e),s.delete(t),v}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(93),i=n(74);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(93),i=n(190),a=n(74),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(264)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(83)(n(56),"DataView");e.exports=r},function(e,t,n){var r=n(83)(n(56),"Promise");e.exports=r},function(e,t,n){var r=n(83)(n(56),"WeakMap");e.exports=r},function(e,t,n){var r=n(266),i=n(111);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},function(e,t,n){var r=n(184),i=n(268),a=n(269),o=n(192),s=n(266),u=n(267),c=n(97);e.exports=function(e,t){return o(e)&&s(t)?u(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},function(e,t,n){var r=n(474),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},function(e,t,n){var r=n(475);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(183);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(96),i=n(141),a=n(46),o=n(188),s=n(190),u=n(97);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,d=!1;++c<l;){var f=u(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=l?d:!!(l=null==e?0:e.length)&&s(l)&&o(f,l)&&(a(e)||i(e))}},function(e,t,n){var r=n(479),i=n(480),a=n(192),o=n(97);e.exports=function(e){return a(e)?r(o(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(114);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(482);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(179);e.exports=function(e){return e?(e=r(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(186),i=n(484);e.exports=function e(t,n,a,o,s){var u=-1,c=t.length;for(a||(a=i),s||(s=[]);++u<c;){var l=t[u];n>0&&a(l)?n>1?e(l,n-1,a,o,s):r(s,l):o||(s[s.length]=l)}return s}},function(e,t,n){var r=n(91),i=n(141),a=n(46),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,n){var r=n(263),i=n(113),a=n(141),o=n(46),s=n(112),u=n(142),c=n(144),l=n(189),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||a(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){var r=n(184);e.exports=function(e,t){return r(e,t)}},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var r=n(490),i=n(491),a=n(94);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},function(e,t,n){var r=n(92);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===u?s==s&&!r(s):n(s,u)))var u=s,c=o}return c}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){var r=n(178),i=n(493),a=n(515),o=n(96),s=n(98),u=n(518),c=n(275),l=n(274),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=o(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var d=t.length;d--;)a(n,t[d]);return n}));e.exports=d},function(e,t,n){var r=n(180),i=n(494),a=n(195),o=n(495),s=n(496),u=n(499),c=n(500),l=n(501),d=n(502),f=n(259),p=n(274),h=n(113),v=n(503),m=n(504),g=n(509),y=n(46),b=n(142),_=n(511),A=n(62),S=n(513),E=n(111),w=n(145),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,P,C,O,k){var I,x=1&n,D=2&n,R=4&n;if(P&&(I=O?P(t,C,O,k):P(t)),void 0!==I)return I;if(!A(t))return t;var M=y(t);if(M){if(I=v(t),!x)return c(t,I)}else{var N=h(t),L="[object Function]"==N||"[object GeneratorFunction]"==N;if(b(t))return u(t,x);if("[object Object]"==N||"[object Arguments]"==N||L&&!O){if(I=D||L?{}:g(t),!x)return D?d(t,s(I,t)):l(t,o(I,t))}else{if(!T[N])return O?t:{};I=m(t,N,x)}}k||(k=new r);var j=k.get(t);if(j)return j;k.set(t,I),S(t)?t.forEach((function(r){I.add(e(r,n,P,r,t,k))})):_(t)&&t.forEach((function(r,i){I.set(i,e(r,n,P,i,t,k))}));var B=M?void 0:(R?D?p:f:D?w:E)(t);return i(B||t,(function(r,i){B&&(r=t[i=r]),a(I,i,e(r,n,P,i,t,k))})),I}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(98),i=n(111);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(98),i=n(145);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(62),i=n(144),a=n(498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(56),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(95)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(98),i=n(187);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(98),i=n(273);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(197),i=n(505),a=n(506),o=n(507),s=n(508);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return a(e);case"[object Set]":return new u;case"[object Symbol]":return o(e)}}},function(e,t,n){var r=n(197);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(91),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){var r=n(197);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(510),i=n(194),a=n(144);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},function(e,t,n){var r=n(62),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(512),i=n(143),a=n(191),o=a&&a.isMap,s=o?i(o):r;e.exports=s},function(e,t,n){var r=n(113),i=n(74);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(514),i=n(143),a=n(191),o=a&&a.isSet,s=o?i(o):r;e.exports=s},function(e,t,n){var r=n(113),i=n(74);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(96),i=n(516),a=n(517),o=n(97);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[o(i(t))]}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(114),i=n(250);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){var r=n(271);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(520),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(u),r(e,this,c)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(522),i=n(524)(r);e.exports=i},function(e,t,n){var r=n(523),i=n(272),a=n(193),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=Date.now;e.exports=function(e){var t=0,r=0;return function(){var i=n(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(526),i=n(46);e.exports=function(e,t,n,a){return null==e?[]:(i(t)||(t=null==t?[]:[t]),i(n=a?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},function(e,t,n){var r=n(178),i=n(114),a=n(94),o=n(527),s=n(531),u=n(143),c=n(532),l=n(193),d=n(46);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var f=-1;t=r(t,u(a));var p=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},function(e,t,n){var r=n(276),i=n(112);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},function(e,t,n){var r=n(529)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},function(e,t,n){var r=n(112);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(533);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,u=n.length;++i<s;){var c=r(a[i],o[i]);if(c)return i>=u?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(92);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e==e,o=r(e),s=void 0!==t,u=null===t,c=t==t,l=r(t);if(!u&&!l&&!o&&e>t||o&&s&&c&&!u&&!l||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!l&&e<t||l&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!c)return-1}return 0}},function(e,t,n){var r=n(535)((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=r},function(e,t,n){var r=n(536),i=n(537),a=n(94),o=n(46);e.exports=function(e,t){return function(n,s){var u=o(n)?r:i,c=t?t():{};return u(n,e,a(s,2),c)}}},function(e,t){e.exports=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}},function(e,t,n){var r=n(276);e.exports=function(e,t,n,i){return r(e,(function(e,r,a){t(i,e,n(e),a)})),i}},function(e,t,n){var r=n(539),i=n(275)((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},function(e,t,n){var r=n(540),i=n(269);e.exports=function(e,t){return r(e,t,(function(t,n){return i(e,n)}))}},function(e,t,n){var r=n(114),i=n(278),a=n(96);e.exports=function(e,t,n){for(var o=-1,s=t.length,u={};++o<s;){var c=t[o],l=r(e,c);n(l,c)&&i(u,a(c,e),l)}return u}},function(e,t,n){var r=n(278);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(543),i=n(62);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},function(e,t,n){var r=n(62),i=n(544),a=n(179),o=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,d,f,p,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,f=setTimeout(A,t),v?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-h>=l}function A(){var e=i();if(_(e))return S(e);f=setTimeout(A,function(e){var n=t-(e-p);return m?s(n,l-(e-h)):n}(e))}function S(e){return f=void 0,g&&u?y(e):(u=c=void 0,d)}function E(){var e=i(),n=_(e);if(u=arguments,c=this,p=e,n){if(void 0===f)return b(p);if(m)return clearTimeout(f),f=setTimeout(A,t),y(p)}return void 0===f&&(f=setTimeout(A,t)),d}return t=a(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?o(a(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==f&&clearTimeout(f),h=0,u=p=c=f=void 0},E.flush=function(){return void 0===f?d:S(i())},E}},function(e,t,n){var r=n(56);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(98),i=n(145);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(94),i=n(279);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},function(e,t,n){var r=n(548);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(252),i=n(549),a=n(550);e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(265),i=n(553),a=n(185),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(279);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom-unstable-native-dependencies.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(71),i=n(136);function a(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);a(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var s=null,u=null,c=null;function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;return Array.isArray(t)&&o("103"),e.currentTarget=t?c(n):null,t=t?t(e):null,e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,t}function d(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function f(e,t,n){for(var r=[];e;)r.push(e),e=d(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function p(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function h(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}function v(e,t){var n=e.stateNode;if(!n)return null;var r=s(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&o("231",t,typeof n),n)}function m(e,t,n){(t=v(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=p(n._dispatchListeners,t),n._dispatchInstances=p(n._dispatchInstances,e))}function g(e){e&&e.dispatchConfig.phasedRegistrationNames&&f(e._targetInst,m,e)}function y(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;f(t=t?d(t):null,m,e)}}function b(e){if(e&&e.dispatchConfig.registrationName){var t=e._targetInst;if(t&&e&&e.dispatchConfig.registrationName){var n=v(t,e.dispatchConfig.registrationName);n&&(e._dispatchListeners=p(e._dispatchListeners,n),e._dispatchInstances=p(e._dispatchInstances,t))}}}function _(){return!0}function A(){return!1}function S(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?_:A,this.isPropagationStopped=A,this}function E(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function w(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function T(e){e.eventPool=[],e.getPooled=E,e.release=w}i(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=_)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=_)},persist:function(){this.isPersistent=_},isPersistent:A,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=A,this._dispatchInstances=this._dispatchListeners=null}}),S.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},S.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,T(n),n},T(S);var P=S.extend({touchHistory:function(){return null}});function C(e){return"touchstart"===e||"mousedown"===e}function O(e){return"touchmove"===e||"mousemove"===e}function k(e){return"touchend"===e||"touchcancel"===e||"mouseup"===e}var I=["touchstart","mousedown"],x=["touchmove","mousemove"],D=["touchcancel","touchend","mouseup"],R=[],M={touchBank:R,numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0};function N(e){return e.timeStamp||e.timestamp}function L(e){return null==(e=e.identifier)&&o("138"),e}function j(e){var t=L(e),n=R[t];n?(n.touchActive=!0,n.startPageX=e.pageX,n.startPageY=e.pageY,n.startTimeStamp=N(e),n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=N(e),n.previousPageX=e.pageX,n.previousPageY=e.pageY,n.previousTimeStamp=N(e)):(n={touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:N(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:N(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:N(e)},R[t]=n),M.mostRecentTimeStamp=N(e)}function B(e){var t=R[L(e)];t?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=N(e),M.mostRecentTimeStamp=N(e)):console.error("Cannot record touch move without a touch start.\nTouch Move: %s\n","Touch Bank: %s",V(e),F())}function U(e){var t=R[L(e)];t?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=N(e),M.mostRecentTimeStamp=N(e)):console.error("Cannot record touch end without a touch start.\nTouch End: %s\n","Touch Bank: %s",V(e),F())}function V(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:N(e)})}function F(){var e=JSON.stringify(R.slice(0,20));return 20<R.length&&(e+=" (original size: "+R.length+")"),e}var H={recordTouchTrack:function(e,t){if(O(e))t.changedTouches.forEach(B);else if(C(e))t.changedTouches.forEach(j),M.numberActiveTouches=t.touches.length,1===M.numberActiveTouches&&(M.indexOfSingleActiveTouch=t.touches[0].identifier);else if(k(e)&&(t.changedTouches.forEach(U),M.numberActiveTouches=t.touches.length,1===M.numberActiveTouches))for(e=0;e<R.length;e++)if(null!=(t=R[e])&&t.touchActive){M.indexOfSingleActiveTouch=e;break}},touchHistory:M};function G(e,t){return null==t&&o("29"),null==e?t:Array.isArray(e)?e.concat(t):Array.isArray(t)?[e].concat(t):[e,t]}var W=null,z=0;function K(e,t){var n=W;W=e,null!==q.GlobalResponderHandler&&q.GlobalResponderHandler.onChange(n,e,t)}var Y={startShouldSetResponder:{phasedRegistrationNames:{bubbled:"onStartShouldSetResponder",captured:"onStartShouldSetResponderCapture"},dependencies:I},scrollShouldSetResponder:{phasedRegistrationNames:{bubbled:"onScrollShouldSetResponder",captured:"onScrollShouldSetResponderCapture"},dependencies:["scroll"]},selectionChangeShouldSetResponder:{phasedRegistrationNames:{bubbled:"onSelectionChangeShouldSetResponder",captured:"onSelectionChangeShouldSetResponderCapture"},dependencies:["selectionchange"]},moveShouldSetResponder:{phasedRegistrationNames:{bubbled:"onMoveShouldSetResponder",captured:"onMoveShouldSetResponderCapture"},dependencies:x},responderStart:{registrationName:"onResponderStart",dependencies:I},responderMove:{registrationName:"onResponderMove",dependencies:x},responderEnd:{registrationName:"onResponderEnd",dependencies:D},responderRelease:{registrationName:"onResponderRelease",dependencies:D},responderTerminationRequest:{registrationName:"onResponderTerminationRequest",dependencies:[]},responderGrant:{registrationName:"onResponderGrant",dependencies:[]},responderReject:{registrationName:"onResponderReject",dependencies:[]},responderTerminate:{registrationName:"onResponderTerminate",dependencies:[]}},q={_getResponder:function(){return W},eventTypes:Y,extractEvents:function(e,t,n,r){if(C(e))z+=1;else if(k(e)){if(!(0<=z))return console.error("Ended a touch event which was not counted in `trackedTouchCount`."),null;--z}if(H.recordTouchTrack(e,n),t&&("scroll"===e&&!n.responderIgnoreScroll||0<z&&"selectionchange"===e||C(e)||O(e))){var i=C(e)?Y.startShouldSetResponder:O(e)?Y.moveShouldSetResponder:"selectionchange"===e?Y.selectionChangeShouldSetResponder:Y.scrollShouldSetResponder;if(W)e:{for(var a=W,o=0,s=a;s;s=d(s))o++;s=0;for(var c=t;c;c=d(c))s++;for(;0<o-s;)a=d(a),o--;for(;0<s-o;)t=d(t),s--;for(;o--;){if(a===t||a===t.alternate)break e;a=d(a),t=d(t)}a=null}else a=t;t=a===W,(a=P.getPooled(i,a,n,r)).touchHistory=H.touchHistory,h(a,t?y:g);e:{if(i=a._dispatchListeners,t=a._dispatchInstances,Array.isArray(i)){for(o=0;o<i.length&&!a.isPropagationStopped();o++)if(i[o](a,t[o])){i=t[o];break e}}else if(i&&i(a,t)){i=t;break e}i=null}a._dispatchInstances=null,a._dispatchListeners=null,a.isPersistent()||a.constructor.release(a),i&&i!==W?(a=void 0,(t=P.getPooled(Y.responderGrant,i,n,r)).touchHistory=H.touchHistory,h(t,b),o=!0===l(t),W?((s=P.getPooled(Y.responderTerminationRequest,W,n,r)).touchHistory=H.touchHistory,h(s,b),c=!s._dispatchListeners||l(s),s.isPersistent()||s.constructor.release(s),c?((s=P.getPooled(Y.responderTerminate,W,n,r)).touchHistory=H.touchHistory,h(s,b),a=G(a,[t,s]),K(i,o)):((i=P.getPooled(Y.responderReject,i,n,r)).touchHistory=H.touchHistory,h(i,b),a=G(a,i))):(a=G(a,t),K(i,o)),i=a):i=null}else i=null;if(a=W&&C(e),t=W&&O(e),o=W&&k(e),(a=a?Y.responderStart:t?Y.responderMove:o?Y.responderEnd:null)&&((a=P.getPooled(a,W,n,r)).touchHistory=H.touchHistory,h(a,b),i=G(i,a)),a=W&&"touchcancel"===e,e=W&&!a&&k(e))e:{if((e=n.touches)&&0!==e.length)for(t=0;t<e.length;t++)if(null!=(o=e[t].target)&&0!==o){s=u(o);t:{for(o=W;s;){if(o===s||o===s.alternate){o=!0;break t}s=d(s)}o=!1}if(o){e=!1;break e}}e=!0}return(e=a?Y.responderTerminate:e?Y.responderRelease:null)&&((n=P.getPooled(e,W,n,r)).touchHistory=H.touchHistory,h(n,b),i=G(i,n),K(null)),i},GlobalResponderHandler:null,injection:{injectGlobalResponderHandler:function(e){q.GlobalResponderHandler=e}}},X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,Z=X[3],Q=X[0],J=X[1];s=X[2],u=Q,c=J,e.exports={ResponderEventPlugin:q,ResponderTouchHistoryStore:H,injectEventPluginsByName:Z}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1),i=n(136),a=n(557);function o(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw e.framesToPop=1,e}}function s(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function u(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}r||s("227");var c=!1,l=null,d=!1,f=null,p={onError:function(e){c=!0,l=e}};function h(e,t,n,r,i,a,o,s,d){c=!1,l=null,u.apply(p,arguments)}var v=null,m={};function g(){if(v)for(var e in m){var t=m[e],n=v.indexOf(e);if(-1<n||s("96",e),!b[n])for(var r in t.extractEvents||s("97",e),b[n]=t,n=t.eventTypes){var i=void 0,a=n[r],o=t,u=r;_.hasOwnProperty(u)&&s("99",u),_[u]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&y(c[i],o,u);i=!0}else a.registrationName?(y(a.registrationName,o,u),i=!0):i=!1;i||s("98",r,e)}}}function y(e,t,n){A[e]&&s("100",e),A[e]=t,S[e]=t.eventTypes[n].dependencies}var b=[],_={},A={},S={},E=null,w=null,T=null;function P(e,t,n){var r=e.type||"unknown-event";e.currentTarget=T(n),function(e,t,n,r,i,a,o,u,p){if(h.apply(this,arguments),c){if(c){var v=l;c=!1,l=null}else s("198"),v=void 0;d||(d=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var k=null;function I(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)P(e,t[r],n[r]);else t&&P(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var x={injectEventPluginOrder:function(e){v&&s("101"),v=Array.prototype.slice.call(e),g()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];m.hasOwnProperty(t)&&m[t]===r||(m[t]&&s("102",t),m[t]=r,n=!0)}n&&g()}};function D(e,t){var n=e.stateNode;if(!n)return null;var r=E(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&s("231",t,typeof n),n)}function R(e){if(null!==e&&(k=C(k,e)),e=k,k=null,e&&(O(e,I),k&&s("95"),d))throw e=f,d=!1,f=null,e}var M=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+M,L="__reactEventHandlers$"+M;function j(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function B(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function U(e){if(5===e.tag||6===e.tag)return e.stateNode;s("33")}function V(e){return e[L]||null}function F(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function H(e,t,n){(t=D(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function G(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=F(t);for(t=n.length;0<t--;)H(n[t],"captured",e);for(t=0;t<n.length;t++)H(n[t],"bubbled",e)}}function W(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=D(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function z(e){e&&e.dispatchConfig.registrationName&&W(e._targetInst,null,e)}function K(e){O(e,G)}var Y=!("undefined"==typeof window||!window.document||!window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var X={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},Z={},Q={};function J(e){if(Z[e])return Z[e];if(!X[e])return e;var t,n=X[e];for(t in n)if(n.hasOwnProperty(t)&&t in Q)return Z[e]=n[t];return e}Y&&(Q=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var $=J("animationend"),ee=J("animationiteration"),te=J("animationstart"),ne=J("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,ae=null,oe=null;function se(){if(oe)return oe;var e,t,n=ae,r=n.length,i="value"in ie?ie.value:ie.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return oe=i.slice(e,1<t?1-t:void 0)}function ue(){return!0}function ce(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:ce,this.isPropagationStopped=ce,this}function de(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function fe(e){e instanceof this||s("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=de,e.release=fe}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,pe(n),n},pe(le);var he=le.extend({data:null}),ve=le.extend({data:null}),me=[9,13,27,32],ge=Y&&"CompositionEvent"in window,ye=null;Y&&"documentMode"in document&&(ye=document.documentMode);var be=Y&&"TextEvent"in window&&!ye,_e=Y&&(!ge||ye&&8<ye&&11>=ye),Ae=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ee=!1;function we(e,t){switch(e){case"keyup":return-1!==me.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Te(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pe=!1;var Ce={eventTypes:Se,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(ge)e:{switch(e){case"compositionstart":i=Se.compositionStart;break e;case"compositionend":i=Se.compositionEnd;break e;case"compositionupdate":i=Se.compositionUpdate;break e}i=void 0}else Pe?we(e,n)&&(i=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Se.compositionStart);return i?(_e&&"ko"!==n.locale&&(Pe||i!==Se.compositionStart?i===Se.compositionEnd&&Pe&&(a=se()):(ae="value"in(ie=r)?ie.value:ie.textContent,Pe=!0)),i=he.getPooled(i,t,n,r),a?i.data=a:null!==(a=Te(n))&&(i.data=a),K(i),a=i):a=null,(e=be?function(e,t){switch(e){case"compositionend":return Te(t);case"keypress":return 32!==t.which?null:(Ee=!0,Ae);case"textInput":return(e=t.data)===Ae&&Ee?null:e;default:return null}}(e,n):function(e,t){if(Pe)return"compositionend"===e||!ge&&we(e,t)?(e=se(),oe=ae=ie=null,Pe=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _e&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=ve.getPooled(Se.beforeInput,t,n,r)).data=e,K(t)):t=null,null===a?t:null===t?a:[a,t]}},Oe=null,ke=null,Ie=null;function xe(e){if(e=w(e)){"function"!=typeof Oe&&s("280");var t=E(e.stateNode);Oe(e.stateNode,e.type,t)}}function De(e){ke?Ie?Ie.push(e):Ie=[e]:ke=e}function Re(){if(ke){var e=ke,t=Ie;if(Ie=ke=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Me(e,t){return e(t)}function Ne(e,t,n){return e(t,n)}function Le(){}var je=!1;function Be(e,t){if(je)return e(t);je=!0;try{return Me(e,t)}finally{je=!1,(null!==ke||null!==Ie)&&(Le(),Re())}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function Fe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!Y)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function We(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ke=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ke.hasOwnProperty("ReactCurrentDispatcher")||(Ke.ReactCurrentDispatcher={current:null});var Ye=/^(.*)[\\\/]/,qe="function"==typeof Symbol&&Symbol.for,Xe=qe?Symbol.for("react.element"):60103,Ze=qe?Symbol.for("react.portal"):60106,Qe=qe?Symbol.for("react.fragment"):60107,Je=qe?Symbol.for("react.strict_mode"):60108,$e=qe?Symbol.for("react.profiler"):60114,et=qe?Symbol.for("react.provider"):60109,tt=qe?Symbol.for("react.context"):60110,nt=qe?Symbol.for("react.concurrent_mode"):60111,rt=qe?Symbol.for("react.forward_ref"):60112,it=qe?Symbol.for("react.suspense"):60113,at=qe?Symbol.for("react.memo"):60115,ot=qe?Symbol.for("react.lazy"):60116,st="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case Qe:return"Fragment";case Ze:return"Portal";case $e:return"Profiler";case Je:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case at:return ct(e.type);case ot:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=ct(e.type);n=null,r&&(n=ct(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(Ye,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,pt={},ht={};function vt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){mt[e]=new vt(e,0,!1,e,null)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];mt[t]=new vt(t,1,!1,e[1],null)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){mt[e]=new vt(e,2,!1,e.toLowerCase(),null)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){mt[e]=new vt(e,2,!1,e,null)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){mt[e]=new vt(e,3,!1,e.toLowerCase(),null)})),["checked","multiple","muted","selected"].forEach((function(e){mt[e]=new vt(e,3,!0,e,null)})),["capture","download"].forEach((function(e){mt[e]=new vt(e,4,!1,e,null)})),["cols","rows","size","span"].forEach((function(e){mt[e]=new vt(e,6,!1,e,null)})),["rowSpan","start"].forEach((function(e){mt[e]=new vt(e,5,!1,e.toLowerCase(),null)}));var gt=/[\-:]([a-z])/g;function yt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=mt.hasOwnProperty(t)?mt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ft.call(ht,e)||!ft.call(pt,e)&&(dt.test(e)?ht[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function _t(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function At(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_t(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Et(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function wt(e,t){Et(e,t);var n=_t(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pt(e,t.type,_t(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(gt,yt);mt[t]=new vt(t,1,!1,e,null)})),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(gt,yt);mt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink")})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(gt,yt);mt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")})),["tabIndex","crossOrigin"].forEach((function(e){mt[e]=new vt(e,1,!1,e.toLowerCase(),null)}));var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ot(e,t,n){return(e=le.getPooled(Ct.change,e,t,n)).type="change",De(n),K(e),e}var kt=null,It=null;function xt(e){R(e)}function Dt(e){if(ze(U(e)))return e}function Rt(e,t){if("change"===e)return t}var Mt=!1;function Nt(){kt&&(kt.detachEvent("onpropertychange",Lt),It=kt=null)}function Lt(e){"value"===e.propertyName&&Dt(It)&&Be(xt,e=Ot(It,e,Fe(e)))}function jt(e,t,n){"focus"===e?(Nt(),It=n,(kt=t).attachEvent("onpropertychange",Lt)):"blur"===e&&Nt()}function Bt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dt(It)}function Ut(e,t){if("click"===e)return Dt(t)}function Vt(e,t){if("input"===e||"change"===e)return Dt(t)}Y&&(Mt=He("input")&&(!document.documentMode||9<document.documentMode));var Ft={eventTypes:Ct,_isInputEventSupported:Mt,extractEvents:function(e,t,n,r){var i=t?U(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?a=Rt:Ve(i)?Mt?a=Vt:(a=Bt,o=jt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Ut),a&&(a=a(e,t)))return Ot(a,n,r);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Pt(i,"number",i.value)}},Ht=le.extend({view:null,detail:null}),Gt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Gt[e])&&!!t[e]}function zt(){return Wt}var Kt=0,Yt=0,qt=!1,Xt=!1,Zt=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:zt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,qt?"mousemove"===e.type?e.screenX-t:0:(qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),Qt=Zt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?j(t):null):a=null,a===t)return null;var o=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(o=Zt,s=Jt.mouseLeave,u=Jt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Qt,s=Jt.pointerLeave,u=Jt.pointerEnter,c="pointer");var l=null==a?i:U(a);if(i=null==t?i:U(t),(e=o.getPooled(s,a,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=o.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,a&&r)e:{for(i=r,c=0,o=t=a;o;o=F(o))c++;for(o=0,u=i;u;u=F(u))o++;for(;0<c-o;)t=F(t),c--;for(;0<o-c;)i=F(i),o--;for(;c--;){if(t===i||t===i.alternate)break e;t=F(t),i=F(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(c=a.alternate)||c!==i);)t.push(a),a=F(a);for(a=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)a.push(r),r=F(r);for(r=0;r<t.length;r++)W(t[r],"bubbled",e);for(r=a.length;0<r--;)W(a[r],"captured",n);return[e,n]}};function en(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tn=Object.prototype.hasOwnProperty;function nn(e,t){if(en(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!tn.call(t,n[r])||!en(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function an(e){2!==rn(e)&&s("188")}function on(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&s("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var o=i.child;o;){if(o===n)return an(i),e;if(o===r)return an(i),t;o=o.sibling}s("188")}if(n.return!==r.return)n=i,r=a;else{o=!1;for(var u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}o||s("189")}}n.alternate!==r&&s("190")}return 3!==n.tag&&s("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var sn=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=Ht.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=Ht.extend({key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:zt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),hn=Zt.extend({dataTransfer:null}),vn=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:zt}),mn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Zt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),yn=[["abort","abort"],[$,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},_n={};function An(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,_n[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach((function(e){An(e,!0)})),yn.forEach((function(e){An(e,!1)}));var Sn={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=_n[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=_n[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=pn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=vn;break;case $:case ee:case te:e=sn;break;case ne:e=mn;break;case"scroll":e=Ht;break;case"wheel":e=gn;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Qt;break;default:e=le}return K(t=e.getPooled(i,t,n,r)),t}},En=Sn.isInteractiveTopLevelEventType,wn=[];function Tn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=j(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Fe(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=null,s=0;s<b.length;s++){var u=b[s];u&&(u=u.extractEvents(r,t,a,i))&&(o=C(o,u))}R(o)}}var Pn=!0;function Cn(e,t){if(!t)return null;var n=(En(e)?kn:In).bind(null,e);t.addEventListener(e,n,!1)}function On(e,t){if(!t)return null;var n=(En(e)?kn:In).bind(null,e);t.addEventListener(e,n,!0)}function kn(e,t){Ne(In,e,t)}function In(e,t){if(Pn){var n=Fe(t);if(null===(n=j(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Be(Tn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var xn={},Dn=0,Rn="_reactListenersID"+(""+Math.random()).slice(2);function Mn(e){return Object.prototype.hasOwnProperty.call(e,Rn)||(e[Rn]=Dn++,xn[e[Rn]]={}),xn[e[Rn]]}function Nn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,r=Ln(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ln(r)}}function Bn(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Nn((e=t.contentWindow).document)}return t}function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Vn(e){var t=Bn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Un(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=jn(n,a);var o=jn(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fn=Y&&"documentMode"in document&&11>=document.documentMode,Hn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gn=null,Wn=null,zn=null,Kn=!1;function Yn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kn||null==Gn||Gn!==Nn(n)?null:("selectionStart"in(n=Gn)&&Un(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zn&&nn(zn,n)?null:(zn=n,(e=le.getPooled(Hn.select,Wn,e,t)).type="select",e.target=Gn,K(e),e))}var qn={eventTypes:Hn,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Mn(a),i=S.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?U(t):window,e){case"focus":(Ve(a)||"true"===a.contentEditable)&&(Gn=a,Wn=t,zn=null);break;case"blur":zn=Wn=Gn=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kn=!1,Yn(n,r);case"selectionchange":if(Fn)break;case"keydown":case"keyup":return Yn(n,r)}return null}};function Xn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Qn(e,t){return null!=t.dangerouslySetInnerHTML&&s("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&s("92"),Array.isArray(t)&&(1>=t.length||s("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:_t(n)}}function $n(e,t){var n=_t(t.value),r=_t(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function er(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),E=V,w=B,T=U,x.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Ft,SelectEventPlugin:qn,BeforeInputEventPlugin:Ce});var tr="http://www.w3.org/1999/xhtml",nr="http://www.w3.org/2000/svg";function rr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ir(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?rr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ar=void 0,or=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==nr||"innerHTML"in e)e.innerHTML=t;else{for((ar=ar||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ur={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];function lr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ur.hasOwnProperty(e)&&ur[e]?(""+t).trim():t+"px"}function dr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ur).forEach((function(e){cr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ur[t]=ur[e]}))}));var fr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pr(e,t){t&&(fr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&s("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&s("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||s("61")),null!=t.style&&"object"!=typeof t.style&&s("62",""))}function hr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vr(e,t){var n=Mn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":On("scroll",e);break;case"focus":case"blur":On("focus",e),On("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":He(i)&&On(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&Cn(i,e)}n[i]=!0}}}function mr(){}var gr=null,yr=null;function br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ar="function"==typeof setTimeout?setTimeout:void 0,Sr="function"==typeof clearTimeout?clearTimeout:void 0,Er=a.unstable_scheduleCallback,wr=a.unstable_cancelCallback;function Tr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Pr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Cr=[],Or=-1;function kr(e){0>Or||(e.current=Cr[Or],Cr[Or]=null,Or--)}function Ir(e,t){Or++,Cr[Or]=e.current,e.current=t}var xr={},Dr={current:xr},Rr={current:!1},Mr=xr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Lr(e){return null!=(e=e.childContextTypes)}function jr(e){kr(Rr),kr(Dr)}function Br(e){kr(Rr),kr(Dr)}function Ur(e,t,n){Dr.current!==xr&&s("168"),Ir(Dr,t),Ir(Rr,n)}function Vr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())a in e||s("108",ct(t)||"Unknown",a);return i({},n,r)}function Fr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||xr,Mr=Dr.current,Ir(Dr,t),Ir(Rr,Rr.current),!0}function Hr(e,t,n){var r=e.stateNode;r||s("169"),n?(t=Vr(e,t,Mr),r.__reactInternalMemoizedMergedChildContext=t,kr(Rr),kr(Dr),Ir(Dr,t)):kr(Rr),Ir(Rr,n)}var Gr=null,Wr=null;function zr(e){return function(t){try{return e(t)}catch(e){}}}function Kr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Yr(e,t,n,r){return new Kr(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Xr(e,t){var n=e.alternate;return null===n?((n=Yr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,r,i,a){var o=2;if(r=e,"function"==typeof e)qr(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case Qe:return Qr(n.children,i,a,t);case nt:return Jr(n,3|i,a,t);case Je:return Jr(n,2|i,a,t);case $e:return(e=Yr(12,n,t,4|i)).elementType=$e,e.type=$e,e.expirationTime=a,e;case it:return(e=Yr(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:o=10;break e;case tt:o=9;break e;case rt:o=11;break e;case at:o=14;break e;case ot:o=16,r=null;break e}s("130",null==e?e:typeof e,"")}return(t=Yr(o,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function Qr(e,t,n,r){return(e=Yr(7,e,r,t)).expirationTime=n,e}function Jr(e,t,n,r){return e=Yr(8,e,r,t),t=0==(1&t)?Je:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=Yr(6,e,null,t)).expirationTime=n,e}function ei(e,t,n){return(t=Yr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ti(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ii(t,e)}function ni(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ii(t,e)}function ri(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ii(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,a=t.latestPingedTime;0===(i=0!==i?i:a)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ai(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var oi=(new r.Component).refs;function si(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ui={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ms(),i=Fa(r=Fo(r,e));i.payload=t,null!=n&&(i.callback=n),No(),Ga(e,i),zo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ms(),i=Fa(r=Fo(r,e));i.tag=La,i.payload=t,null!=n&&(i.callback=n),No(),Ga(e,i),zo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ms(),r=Fa(n=Fo(n,e));r.tag=ja,null!=t&&(r.callback=t),No(),Ga(e,r),zo(e,n)}};function ci(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,a))}function li(e,t,n){var r=!1,i=xr,a=t.contextType;return"object"==typeof a&&null!==a?a=Na(a):(i=Lr(t)?Mr:Dr.current,a=(r=null!=(r=t.contextTypes))?Nr(e,i):xr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function di(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function fi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=oi;var a=t.contextType;"object"==typeof a&&null!==a?i.context=Na(a):(a=Lr(t)?Mr:Dr.current,i.context=Nr(e,a)),null!==(a=e.updateQueue)&&(Ya(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(si(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ui.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(Ya(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var pi=Array.isArray;function hi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&s("309"),r=n.stateNode),r||s("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===oi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&s("284"),n._owner||s("290",e)}return e}function vi(e,t){"textarea"!==e.type&&s("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function mi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Xr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function o(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=hi(e,t,n),r.return=e,r):((r=Zr(n.type,n.key,n.props,null,e.mode,r)).ref=hi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ei(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Qr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Xe:return(n=Zr(t.type,t.key,t.props,null,e.mode,n)).ref=hi(e,null,t),n.return=e,n;case Ze:return(t=ei(t,e.mode,n)).return=e,t}if(pi(t)||ut(t))return(t=Qr(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xe:return n.key===i?n.type===Qe?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ze:return n.key===i?l(e,t,n,r):null}if(pi(n)||ut(n))return null!==i?null:d(e,t,n,r,null);vi(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xe:return e=e.get(null===r.key?n:r.key)||null,r.type===Qe?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ze:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(pi(r)||ut(r))return d(t,e=e.get(n)||null,r,i,null);vi(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(i,d,s[v],u);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(i,d),c;if(null===d){for(;v<s.length;v++)(d=f(i,s[v],u))&&(o=a(d,o,v),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(i,d);v<s.length;v++)(m=h(d,i,v,s[v],u))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),c}function m(i,o,u,c){var l=ut(u);"function"!=typeof l&&s("150"),null==(u=l.call(u))&&s("151");for(var d=l=null,v=o,m=o=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(i,v,y.value,c);if(null===b){v||(v=g);break}e&&v&&null===b.alternate&&t(i,v),o=a(b,o,m),null===d?l=b:d.sibling=b,d=b,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(o=a(y,o,m),null===d?l=y:d.sibling=y,d=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=h(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),o=a(y,o,m),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"==typeof a&&null!==a&&a.type===Qe&&null===a.key;c&&(a=a.props.children);var l="object"==typeof a&&null!==a;if(l)switch(a.$$typeof){case Xe:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?a.type===Qe:c.elementType===a.type){n(e,c.sibling),(r=i(c,a.type===Qe?a.props.children:a.props)).ref=hi(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===Qe?((r=Qr(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Zr(a.type,a.key,a.props,null,e.mode,u)).ref=hi(e,r,a),u.return=e,e=u)}return o(e);case Ze:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=ei(a,e.mode,u)).return=e,e=r}return o(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$r(a,e.mode,u)).return=e,e=r),o(e);if(pi(a))return v(e,r,a,u);if(ut(a))return m(e,r,a,u);if(l&&vi(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:s("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var gi=mi(!0),yi=mi(!1),bi={},_i={current:bi},Ai={current:bi},Si={current:bi};function Ei(e){return e===bi&&s("174"),e}function wi(e,t){Ir(Si,t),Ir(Ai,e),Ir(_i,bi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ir(null,"");break;default:t=ir(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}kr(_i),Ir(_i,t)}function Ti(e){kr(_i),kr(Ai),kr(Si)}function Pi(e){Ei(Si.current);var t=Ei(_i.current),n=ir(t,e.type);t!==n&&(Ir(Ai,e),Ir(_i,n))}function Ci(e){Ai.current===e&&(kr(_i),kr(Ai))}var Oi=Ke.ReactCurrentDispatcher,ki=0,Ii=null,xi=null,Di=null,Ri=null,Mi=null,Ni=null,Li=0,ji=null,Bi=0,Ui=!1,Vi=null,Fi=0;function Hi(){s("321")}function Gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Wi(e,t,n,r,i,a){if(ki=a,Ii=t,Di=null!==e?e.memoizedState:null,Oi.current=null===Di?ra:ia,t=n(r,i),Ui){do{Ui=!1,Fi+=1,Di=null!==e?e.memoizedState:null,Ni=Ri,ji=Mi=xi=null,Oi.current=ia,t=n(r,i)}while(Ui);Vi=null,Fi=0}return Oi.current=na,(e=Ii).memoizedState=Ri,e.expirationTime=Li,e.updateQueue=ji,e.effectTag|=Bi,e=null!==xi&&null!==xi.next,ki=0,Ni=Mi=Ri=Di=xi=Ii=null,Li=0,ji=null,Bi=0,e&&s("300"),t}function zi(){Oi.current=na,ki=0,Ni=Mi=Ri=Di=xi=Ii=null,Li=0,ji=null,Bi=0,Ui=!1,Vi=null,Fi=0}function Ki(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Mi?Ri=Mi=e:Mi=Mi.next=e,Mi}function Yi(){if(null!==Ni)Ni=(Mi=Ni).next,Di=null!==(xi=Di)?xi.next:null;else{null===Di&&s("310");var e={memoizedState:(xi=Di).memoizedState,baseState:xi.baseState,queue:xi.queue,baseUpdate:xi.baseUpdate,next:null};Mi=null===Mi?Ri=e:Mi.next=e,Di=xi.next}return Mi}function qi(e,t){return"function"==typeof t?t(e):t}function Xi(e){var t=Yi(),n=t.queue;if(null===n&&s("311"),n.lastRenderedReducer=e,0<Fi){var r=n.dispatch;if(null!==Vi){var i=Vi.get(n);if(void 0!==i){Vi.delete(n);var a=t.memoizedState;do{a=e(a,i.action),i=i.next}while(null!==i);return en(a,t.memoizedState)||(va=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var o=t.baseUpdate;if(a=t.baseState,null!==o?(null!==r&&(r.next=null),r=o.next):r=null!==r?r.next:null,null!==r){var u=i=null,c=r,l=!1;do{var d=c.expirationTime;d<ki?(l||(l=!0,u=o,i=a),d>Li&&(Li=d)):a=c.eagerReducer===e?c.eagerState:e(a,c.action),o=c,c=c.next}while(null!==c&&c!==r);l||(u=o,i=a),en(a,t.memoizedState)||(va=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ji?(ji={lastEffect:null}).lastEffect=e.next=e:null===(t=ji.lastEffect)?ji.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ji.lastEffect=e),e}function Qi(e,t,n,r){var i=Ki();Bi|=e,i.memoizedState=Zi(t,n,void 0,void 0===r?null:r)}function Ji(e,t,n,r){var i=Yi();r=void 0===r?null:r;var a=void 0;if(null!==xi){var o=xi.memoizedState;if(a=o.destroy,null!==r&&Gi(r,o.deps))return void Zi(0,n,a,r)}Bi|=e,i.memoizedState=Zi(t,n,a,r)}function $i(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ea(){}function ta(e,t,n){25>Fi||s("301");var r=e.alternate;if(e===Ii||null!==r&&r===Ii)if(Ui=!0,e={expirationTime:ki,action:n,eagerReducer:null,eagerState:null,next:null},null===Vi&&(Vi=new Map),void 0===(n=Vi.get(t)))Vi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{No();var i=ms(),a={expirationTime:i=Fo(i,e),action:n,eagerReducer:null,eagerState:null,next:null},o=t.last;if(null===o)a.next=a;else{var u=o.next;null!==u&&(a.next=u),o.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,l=r(c,n);if(a.eagerReducer=r,a.eagerState=l,en(l,c))return}catch(e){}zo(e,i)}}var na={readContext:Na,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi},ra={readContext:Na,useCallback:function(e,t){return Ki().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:function(e,t){return Qi(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Qi(4,36,$i.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qi(4,36,e,t)},useMemo:function(e,t){var n=Ki();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ki();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ta.bind(null,Ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ki().memoizedState=e},useState:function(e){var t=Ki();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e}).dispatch=ta.bind(null,Ii,e),[t.memoizedState,e]},useDebugValue:ea},ia={readContext:Na,useCallback:function(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Na,useEffect:function(e,t){return Ji(516,192,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ji(4,36,$i.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4,36,e,t)},useMemo:function(e,t){var n=Yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Xi,useRef:function(){return Yi().memoizedState},useState:function(e){return Xi(qi)},useDebugValue:ea},aa=null,oa=null,sa=!1;function ua(e,t){var n=Yr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ca(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function la(e){if(sa){var t=oa;if(t){var n=t;if(!ca(e,t)){if(!(t=Tr(n))||!ca(e,t))return e.effectTag|=2,sa=!1,void(aa=e);ua(aa,n)}aa=e,oa=Pr(t)}else e.effectTag|=2,sa=!1,aa=e}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;aa=e}function fa(e){if(e!==aa)return!1;if(!sa)return da(e),sa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_r(t,e.memoizedProps))for(t=oa;t;)ua(e,t),t=Tr(t);return da(e),oa=aa?Tr(e.stateNode):null,!0}function pa(){oa=aa=null,sa=!1}var ha=Ke.ReactCurrentOwner,va=!1;function ma(e,t,n,r){t.child=null===e?yi(t,null,n,r):gi(t,e.child,n,r)}function ga(e,t,n,r,i){n=n.render;var a=t.ref;return Ma(t,i),r=Wi(e,t,n,r,a,i),null===e||va?(t.effectTag|=1,ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Pa(e,t,i))}function ya(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||qr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zr(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ba(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?Pa(e,t,a):(t.effectTag|=1,(e=Xr(o,r)).ref=t.ref,e.return=t,t.child=e)}function ba(e,t,n,r,i,a){return null!==e&&nn(e.memoizedProps,r)&&e.ref===t.ref&&(va=!1,i<a)?Pa(e,t,a):Aa(e,t,n,r,a)}function _a(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Aa(e,t,n,r,i){var a=Lr(n)?Mr:Dr.current;return a=Nr(t,a),Ma(t,i),n=Wi(e,t,n,r,a,i),null===e||va?(t.effectTag|=1,ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Pa(e,t,i))}function Sa(e,t,n,r,i){if(Lr(n)){var a=!0;Fr(t)}else a=!1;if(Ma(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),li(t,n,r),fi(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=Na(c):c=Nr(t,c=Lr(n)?Mr:Dr.current);var l=n.getDerivedStateFromProps,d="function"==typeof l||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==c)&&di(t,o,r,c),Ba=!1;var f=t.memoizedState;u=o.state=f;var p=t.updateQueue;null!==p&&(Ya(t,p,r,o,i),u=t.memoizedState),s!==r||f!==u||Rr.current||Ba?("function"==typeof l&&(si(t,n,l,r),u=t.memoizedState),(s=Ba||ci(t,n,s,r,f,u,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ai(t.type,s),u=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=Na(c):c=Nr(t,c=Lr(n)?Mr:Dr.current),(d="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||u!==c)&&di(t,o,r,c),Ba=!1,u=t.memoizedState,f=o.state=u,null!==(p=t.updateQueue)&&(Ya(t,p,r,o,i),f=t.memoizedState),s!==r||u!==f||Rr.current||Ba?("function"==typeof l&&(si(t,n,l,r),f=t.memoizedState),(l=Ba||ci(t,n,s,r,u,f,c))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=c,r=l):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ea(e,t,n,r,a,i)}function Ea(e,t,n,r,i,a){_a(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Hr(t,n,!1),Pa(e,t,a);r=t.stateNode,ha.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=gi(t,e.child,null,a),t.child=gi(t,null,s,a)):ma(e,t,s,a),t.memoizedState=r.state,i&&Hr(t,n,!0),t.child}function wa(e){var t=e.stateNode;t.pendingContext?Ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ur(0,t.context,!1),wi(e,t.containerInfo)}function Ta(e,t,n){var r=t.mode,i=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var o=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=i.fallback;e=Qr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Qr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=yi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,o?(n=i.fallback,i=Xr(r,r.pendingProps),0==(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=o)),r=i.sibling=Xr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=gi(t,r.child,i.children,n)):(s=e.child,o?(o=i.fallback,(i=Qr(null,r,0,null)).child=s,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Qr(o,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=gi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function Pa(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&s("153"),null!==t.child){for(n=Xr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Xr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ca(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Rr.current)va=!0;else if(r<n){switch(va=!1,t.tag){case 3:wa(t),pa();break;case 5:Pi(t);break;case 1:Lr(t.type)&&Fr(t);break;case 4:wi(t,t.stateNode.containerInfo);break;case 10:Da(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ta(e,t,n):null!==(t=Pa(e,t,n))?t.sibling:null}return Pa(e,t,n)}}else va=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Nr(t,Dr.current);if(Ma(t,n),i=Wi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,zi(),Lr(r)){var a=!0;Fr(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var o=r.getDerivedStateFromProps;"function"==typeof o&&si(t,r,o,e),i.updater=ui,t.stateNode=i,i._reactInternalFiber=t,fi(t,r,e,n),t=Ea(null,t,r,!0,a,n)}else t.tag=0,ma(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return qr(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===at)return 14}return 2}(e),a=ai(e,a),o=void 0,i){case 0:o=Aa(null,t,e,a,n);break;case 1:o=Sa(null,t,e,a,n);break;case 11:o=ga(null,t,e,a,n);break;case 14:o=ya(null,t,e,ai(e.type,a),r,n);break;default:s("306",e,"")}return o;case 0:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 1:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 3:return wa(t),null===(r=t.updateQueue)&&s("282"),i=null!==(i=t.memoizedState)?i.element:null,Ya(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(pa(),t=Pa(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(oa=Pr(t.stateNode.containerInfo),aa=t,i=sa=!0),i?(t.effectTag|=2,t.child=yi(t,null,r,n)):(ma(e,t,r,n),pa()),t=t.child),t;case 5:return Pi(t),null===e&&la(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,_r(r,i)?o=null:null!==a&&_r(r,a)&&(t.effectTag|=16),_a(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ma(e,t,o,n),t=t.child),t;case 6:return null===e&&la(t),null;case 13:return Ta(e,t,n);case 4:return wi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=gi(t,null,r,n):ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ga(e,t,r,i=t.elementType===r?i:ai(r,i),n);case 7:return ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,Da(t,a=i.value),null!==o){var u=o.value;if(0===(a=en(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(o.children===i.children&&!Rr.current){t=Pa(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.contextDependencies;if(null!==c){o=u.child;for(var l=c.first;null!==l;){if(l.context===r&&0!=(l.observedBits&a)){1===u.tag&&((l=Fa(n)).tag=ja,Ga(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),l=n;for(var d=u.return;null!==d;){var f=d.alternate;if(d.childExpirationTime<l)d.childExpirationTime=l,null!==f&&f.childExpirationTime<l&&(f.childExpirationTime=l);else{if(!(null!==f&&f.childExpirationTime<l))break;f.childExpirationTime=l}d=d.return}c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else o=10===u.tag&&u.type===t.type?null:u.child;if(null!==o)o.return=u;else for(o=u;null!==o;){if(o===t){o=null;break}if(null!==(u=o.sibling)){u.return=o.return,o=u;break}o=o.return}u=o}}ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Ma(t,n),r=r(i=Na(i,a.unstable_observedBits)),t.effectTag|=1,ma(e,t,r,n),t.child;case 14:return a=ai(i=t.type,t.pendingProps),ya(e,t,i,a=ai(i.type,a),r,n);case 15:return ba(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ai(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Lr(r)?(e=!0,Fr(t)):e=!1,Ma(t,n),li(t,r,i),fi(t,r,i,n),Ea(null,t,r,!0,e,n)}s("156")}var Oa={current:null},ka=null,Ia=null,xa=null;function Da(e,t){var n=e.type._context;Ir(Oa,n._currentValue),n._currentValue=t}function Ra(e){var t=Oa.current;kr(Oa),e.type._context._currentValue=t}function Ma(e,t){ka=e,xa=Ia=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(va=!0),e.contextDependencies=null}function Na(e,t){return xa!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(xa=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ia?(null===ka&&s("308"),Ia=t,ka.contextDependencies={first:t,expirationTime:0}):Ia=Ia.next=t),e._currentValue}var La=1,ja=2,Ba=!1;function Ua(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Va(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Fa(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Ha(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ga(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Ua(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Ua(e.memoizedState),i=n.updateQueue=Ua(n.memoizedState)):r=e.updateQueue=Va(i):null===i&&(i=n.updateQueue=Va(r));null===i||r===i?Ha(r,t):null===r.lastUpdate||null===i.lastUpdate?(Ha(r,t),Ha(i,t)):(Ha(r,t),i.lastUpdate=t)}function Wa(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ua(e.memoizedState):za(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function za(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Va(t)),t}function Ka(e,t,n,r,a,o){switch(n.tag){case La:return"function"==typeof(e=n.payload)?e.call(o,r,a):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=n.payload)?e.call(o,r,a):e))break;return i({},r,a);case ja:Ba=!0}return r}function Ya(e,t,n,r,i){Ba=!1;for(var a=(t=za(e,t)).baseState,o=null,s=0,u=t.firstUpdate,c=a;null!==u;){var l=u.expirationTime;l<i?(null===o&&(o=u,a=c),s<l&&(s=l)):(c=Ka(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var d=u.expirationTime;d<i?(null===l&&(l=u,null===o&&(a=c)),s<d&&(s=d)):(c=Ka(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===l&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function qa(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Xa(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Xa(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Xa(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&s("191",n),n.call(r)}e=e.nextEffect}}function Za(e,t){return{value:e,source:t,stack:lt(t)}}function Qa(e){e.effectTag|=4}var Ja,$a,eo;Ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(Ei(_i.current),e=null,n){case"input":o=At(s,o),r=At(s,r),e=[];break;case"option":o=Xn(s,o),r=Xn(s,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=Qn(s,o),r=Qn(s,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(s.onclick=mr)}pr(n,r),s=n=void 0;var u=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var c=o[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(A.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(A.hasOwnProperty(n)?(null!=l&&vr(a,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),a=e,(t.updateQueue=a)&&Qa(t)}},eo=function(e,t,n,r){n!==r&&Qa(t)};var to="function"==typeof WeakSet?WeakSet:Set;function no(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ro(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Vo(e,t)}else t.current=null}function io(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}0!=(r.tag&t)&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ao(e){switch("function"==typeof Wr&&Wr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Vo(i,e)}}n=n.next}while(n!==t)}break;case 1:if(ro(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Vo(e,t)}break;case 5:ro(e);break;case 4:uo(e)}}function oo(e){return 5===e.tag||3===e.tag||4===e.tag}function so(e){e:{for(var t=e.return;null!==t;){if(oo(t)){var n=t;break e}t=t.return}s("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:s("161")}16&n.effectTag&&(sr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||oo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var a=t,o=i.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(o,u):a.insertBefore(o,u)}else t.insertBefore(i.stateNode,n);else r?(o=t,u=i.stateNode,8===o.nodeType?(a=o.parentNode).insertBefore(u,o):(a=o).appendChild(u),null!=(o=o._reactRootContainer)||null!==a.onclick||(a.onclick=mr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function uo(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&s("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,o=a;;)if(ao(o),null!==o.child&&4!==o.tag)o.child.return=o,o=o.child;else{if(o===a)break;for(;null===o.sibling;){if(null===o.return||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}i?(a=r,o=t.stateNode,8===a.nodeType?a.parentNode.removeChild(o):a.removeChild(o)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ao(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function co(e,t){switch(t.tag){case 0:case 11:case 14:case 15:io(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,n,r,i){e[L]=i,"input"===n&&"radio"===i.type&&null!=i.name&&Et(e,i),hr(n,r),r=hr(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?dr(e,s):"dangerouslySetInnerHTML"===o?or(e,s):"children"===o?sr(e,s):bt(e,o,s,r)}switch(n){case"input":wt(e,i);break;case"textarea":$n(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Zn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Zn(e,!!i.multiple,i.defaultValue,!0):Zn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,a,i,e,r)}break;case 6:null===t.stateNode&&s("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ms())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var o=t.stateNode;null===o&&(o=t.stateNode=new to),n.forEach((function(e){var n=Go.bind(null,t,e);o.has(e)||(o.add(e),e.then(n,n))}))}break;case 17:break;default:s("163")}}var lo="function"==typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps(r),no(e,t)},n}function po(e,t,n){(n=Fa(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===ko?ko=new Set([this]):ko.add(this));var n=t.value,i=t.stack;no(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function ho(e){switch(e.tag){case 1:Lr(e.type)&&jr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Ti(),Br(),0!=(64&(t=e.effectTag))&&s("285"),e.effectTag=-2049&t|64,e;case 5:return Ci(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Ti(),null;case 10:return Ra(e),null;default:return null}}var vo=Ke.ReactCurrentDispatcher,mo=Ke.ReactCurrentOwner,go=1073741822,yo=!1,bo=null,_o=null,Ao=0,So=-1,Eo=!1,wo=null,To=!1,Po=null,Co=null,Oo=null,ko=null;function Io(){if(null!==bo)for(var e=bo.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&jr();break;case 3:Ti(),Br();break;case 5:Ci(t);break;case 4:Ti();break;case 10:Ra(t)}e=e.return}_o=null,Ao=0,So=-1,Eo=!1,bo=null}function xo(){for(;null!==wo;){var e=wo.effectTag;if(16&e&&sr(wo.stateNode,""),128&e){var t=wo.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:so(wo),wo.effectTag&=-3;break;case 6:so(wo),wo.effectTag&=-3,co(wo.alternate,wo);break;case 4:co(wo.alternate,wo);break;case 8:uo(e=wo),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}wo=wo.nextEffect}}function Do(){for(;null!==wo;){if(256&wo.effectTag)e:{var e=wo.alternate,t=wo;switch(t.tag){case 0:case 11:case 15:io(2,0,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ai(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:s("163")}}wo=wo.nextEffect}}function Ro(e,t){for(;null!==wo;){var n=wo.effectTag;if(36&n){var r=wo.alternate,i=wo,a=t;switch(i.tag){case 0:case 11:case 15:io(16,32,i);break;case 1:var o=i.stateNode;if(4&i.effectTag)if(null===r)o.componentDidMount();else{var u=i.elementType===i.type?r.memoizedProps:ai(i.type,r.memoizedProps);o.componentDidUpdate(u,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&qa(0,r,o);break;case 3:if(null!==(r=i.updateQueue)){if(o=null,null!==i.child)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}qa(0,r,o)}break;case 5:a=i.stateNode,null===r&&4&i.effectTag&&br(i.type,i.memoizedProps)&&a.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:s("163")}}128&n&&(null!==(i=wo.ref)&&(a=wo.stateNode,"function"==typeof i?i(a):i.current=a)),512&n&&(Po=e),wo=wo.nextEffect}}function Mo(e,t){Oo=Co=Po=null;var n=Qo;Qo=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var a=t;io(128,0,a),io(0,64,a)}catch(e){r=!0,i=e}r&&Vo(t,i)}t=t.nextEffect}while(null!==t);Qo=n,0!==(n=e.expirationTime)&&gs(e,n),rs||Qo||Ss(1073741823,!1)}function No(){null!==Co&&wr(Co),null!==Oo&&Oo()}function Lo(e,t){To=yo=!0,e.current===t&&s("177");var n=e.pendingCommitExpirationTime;0===n&&s("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?ti(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,ti(e,t)):t>n&&ti(e,t)}ii(0,e)}(e,i>r?i:r),mo.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,gr=Pn,yr=function(){var e=Bn();if(Un(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var a=0,o=-1,s=-1,u=0,c=0,l=e,d=null;t:for(;;){for(var f;l!==t||0!==r&&3!==l.nodeType||(o=a+r),l!==i||0!==n&&3!==l.nodeType||(s=a+n),3===l.nodeType&&(a+=l.nodeValue.length),null!==(f=l.firstChild);)d=l,l=f;for(;;){if(l===e)break t;if(d===t&&++u===r&&(o=a),d===i&&++c===n&&(s=a),null!==(f=l.nextSibling))break;d=(l=d).parentNode}l=f}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Pn=!1,wo=r;null!==wo;){i=!1;var o=void 0;try{Do()}catch(e){i=!0,o=e}i&&(null===wo&&s("178"),Vo(wo,o),null!==wo&&(wo=wo.nextEffect))}for(wo=r;null!==wo;){i=!1,o=void 0;try{xo()}catch(e){i=!0,o=e}i&&(null===wo&&s("178"),Vo(wo,o),null!==wo&&(wo=wo.nextEffect))}for(Vn(yr),yr=null,Pn=!!gr,gr=null,e.current=t,wo=r;null!==wo;){i=!1,o=void 0;try{Ro(e,n)}catch(e){i=!0,o=e}i&&(null===wo&&s("178"),Vo(wo,o),null!==wo&&(wo=wo.nextEffect))}if(null!==r&&null!==Po){var u=Mo.bind(null,e,r);Co=a.unstable_runWithPriority(a.unstable_NormalPriority,(function(){return Er(u)})),Oo=u}yo=To=!1,"function"==typeof Gr&&Gr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(ko=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function jo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){bo=e;e:{var a=t,o=Ao,u=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Lr(t.type)&&jr();break;case 3:Ti(),Br(),(u=t.stateNode).pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),null!==a&&null!==a.child||(fa(t),t.effectTag&=-3);break;case 5:Ci(t);var c=Ei(Si.current);if(o=t.type,null!==a&&null!=t.stateNode)$a(a,t,o,u,c),a.ref!==t.ref&&(t.effectTag|=128);else if(u){var l=Ei(_i.current);if(fa(t)){a=(u=t).stateNode;var d=u.type,f=u.memoizedProps,p=c;switch(a[N]=u,a[L]=f,o=void 0,c=d){case"iframe":case"object":Cn("load",a);break;case"video":case"audio":for(d=0;d<re.length;d++)Cn(re[d],a);break;case"source":Cn("error",a);break;case"img":case"image":case"link":Cn("error",a),Cn("load",a);break;case"form":Cn("reset",a),Cn("submit",a);break;case"details":Cn("toggle",a);break;case"input":St(a,f),Cn("invalid",a),vr(p,"onChange");break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Cn("invalid",a),vr(p,"onChange");break;case"textarea":Jn(a,f),Cn("invalid",a),vr(p,"onChange")}for(o in pr(c,f),d=null,f)f.hasOwnProperty(o)&&(l=f[o],"children"===o?"string"==typeof l?a.textContent!==l&&(d=["children",l]):"number"==typeof l&&a.textContent!==""+l&&(d=["children",""+l]):A.hasOwnProperty(o)&&null!=l&&vr(p,o));switch(c){case"input":We(a),Tt(a,f,!0);break;case"textarea":We(a),er(a);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(a.onclick=mr)}o=d,u.updateQueue=o,(u=null!==o)&&Qa(t)}else{f=t,p=o,a=u,d=9===c.nodeType?c:c.ownerDocument,l===tr&&(l=rr(p)),l===tr?"script"===p?((a=d.createElement("div")).innerHTML="<script><\/script>",d=a.removeChild(a.firstChild)):"string"==typeof a.is?d=d.createElement(p,{is:a.is}):(d=d.createElement(p),"select"===p&&(p=d,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):d=d.createElementNS(l,p),(a=d)[N]=f,a[L]=u,Ja(a,t),p=a;var h=c,v=hr(d=o,f=u);switch(d){case"iframe":case"object":Cn("load",p),c=f;break;case"video":case"audio":for(c=0;c<re.length;c++)Cn(re[c],p);c=f;break;case"source":Cn("error",p),c=f;break;case"img":case"image":case"link":Cn("error",p),Cn("load",p),c=f;break;case"form":Cn("reset",p),Cn("submit",p),c=f;break;case"details":Cn("toggle",p),c=f;break;case"input":St(p,f),c=At(p,f),Cn("invalid",p),vr(h,"onChange");break;case"option":c=Xn(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple},c=i({},f,{value:void 0}),Cn("invalid",p),vr(h,"onChange");break;case"textarea":Jn(p,f),c=Qn(p,f),Cn("invalid",p),vr(h,"onChange");break;default:c=f}pr(d,c),l=void 0;var m=d,g=p,y=c;for(l in y)if(y.hasOwnProperty(l)){var b=y[l];"style"===l?dr(g,b):"dangerouslySetInnerHTML"===l?null!=(b=b?b.__html:void 0)&&or(g,b):"children"===l?"string"==typeof b?("textarea"!==m||""!==b)&&sr(g,b):"number"==typeof b&&sr(g,""+b):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(A.hasOwnProperty(l)?null!=b&&vr(h,l):null!=b&&bt(g,l,b,v))}switch(d){case"input":We(p),Tt(p,f,!1);break;case"textarea":We(p),er(p);break;case"option":null!=f.value&&p.setAttribute("value",""+_t(f.value));break;case"select":(c=p).multiple=!!f.multiple,null!=(p=f.value)?Zn(c,!!f.multiple,p,!1):null!=f.defaultValue&&Zn(c,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof c.onClick&&(p.onclick=mr)}(u=br(o,u))&&Qa(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&s("166");break;case 6:a&&null!=t.stateNode?eo(0,t,a.memoizedProps,u):("string"!=typeof u&&(null===t.stateNode&&s("166")),a=Ei(Si.current),Ei(_i.current),fa(t)?(o=(u=t).stateNode,a=u.memoizedProps,o[N]=u,(u=o.nodeValue!==a)&&Qa(t)):(o=t,(u=(9===a.nodeType?a:a.ownerDocument).createTextNode(u))[N]=t,o.stateNode=u));break;case 11:break;case 13:if(u=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=o,bo=t;break e}u=null!==u,o=null!==a&&null!==a.memoizedState,null!==a&&!u&&o&&(null!==(a=a.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=a,a.nextEffect=c):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(u||o)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ti();break;case 10:Ra(t);break;case 9:case 14:break;case 17:Lr(t.type)&&jr();break;case 18:break;default:s("156")}bo=null}if(t=e,1===Ao||1!==t.childExpirationTime){for(u=0,o=t.child;null!==o;)(a=o.expirationTime)>u&&(u=a),(c=o.childExpirationTime)>u&&(u=c),o=o.sibling;t.childExpirationTime=u}if(null!==bo)return bo;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=ho(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Bo(e){var t=Ca(e.alternate,e,Ao);return e.memoizedProps=e.pendingProps,null===t&&(t=jo(e)),mo.current=null,t}function Uo(e,t){yo&&s("243"),No(),yo=!0;var n=vo.current;vo.current=na;var r=e.nextExpirationTimeToWorkOn;r===Ao&&e===_o&&null!==bo||(Io(),Ao=r,bo=Xr((_o=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==bo&&!_s();)bo=Bo(bo);else for(;null!==bo;)bo=Bo(bo)}catch(t){if(xa=Ia=ka=null,zi(),null===bo)i=!0,Ps(t);else{null===bo&&s("271");var a=bo,o=a.return;if(null!==o){e:{var u=e,c=o,l=a,d=t;if(o=Ao,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=d;d=c;var p=-1,h=-1;do{if(13===d.tag){var v=d.alternate;if(null!==v&&null!==(v=v.memoizedState)){h=10*(1073741822-v.timedOutAt);break}"number"==typeof(v=d.pendingProps.maxDuration)&&(0>=v?p=0:(-1===p||v<p)&&(p=v))}d=d.return}while(null!==d);d=c;do{if((v=13===d.tag)&&(v=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),v){if(null===(c=d.updateQueue)?((c=new Set).add(f),d.updateQueue=c):c.add(f),0==(1&d.mode)){d.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((o=Fa(1073741823)).tag=ja,Ga(l,o))),l.expirationTime=1073741823;break e}c=o;var m=(l=u).pingCache;null===m?(m=l.pingCache=new lo,v=new Set,m.set(f,v)):void 0===(v=m.get(f))&&(v=new Set,m.set(f,v)),v.has(c)||(v.add(c),l=Ho.bind(null,l,f,c),f.then(l,l)),-1===p?u=1073741823:(-1===h&&(h=10*(1073741822-ri(u,o))-5e3),u=h+p),0<=u&&So<u&&(So=u),d.effectTag|=2048,d.expirationTime=o;break e}d=d.return}while(null!==d);d=Error((ct(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(l))}Eo=!0,d=Za(d,l),u=c;do{switch(u.tag){case 3:u.effectTag|=2048,u.expirationTime=o,Wa(u,o=fo(u,d,o));break e;case 1:if(p=d,h=u.type,l=u.stateNode,0==(64&u.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==l&&"function"==typeof l.componentDidCatch&&(null===ko||!ko.has(l)))){u.effectTag|=2048,u.expirationTime=o,Wa(u,o=po(u,p,o));break e}}u=u.return}while(null!==u)}bo=jo(a);continue}i=!0,Ps(t)}}break}if(yo=!1,vo.current=n,xa=Ia=ka=null,zi(),i)_o=null,e.finishedWork=null;else if(null!==bo)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&s("281"),_o=null,Eo){if(i=e.latestPendingTime,a=e.latestSuspendedTime,o=e.latestPingedTime,0!==i&&i<r||0!==a&&a<r||0!==o&&o<r)return ni(e,r),void hs(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void hs(e,n,r,t,-1)}t&&-1!==So?(ni(e,r),(t=10*(1073741822-ri(e,r)))<So&&(So=t),t=10*(1073741822-ms()),t=So-t,hs(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Vo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ko||!ko.has(r)))return Ga(n,e=po(n,e=Za(t,e),1073741823)),void zo(n,1073741823);break;case 3:return Ga(n,e=fo(n,e=Za(t,e),1073741823)),void zo(n,1073741823)}n=n.return}3===e.tag&&(Ga(e,n=fo(e,n=Za(t,e),1073741823)),zo(e,1073741823))}function Fo(e,t){var n=a.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(yo&&!To)r=Ao;else{switch(n){case a.unstable_ImmediatePriority:r=1073741823;break;case a.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case a.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case a.unstable_LowPriority:case a.unstable_IdlePriority:r=1;break;default:s("313")}null!==_o&&r===Ao&&--r}return n===a.unstable_UserBlockingPriority&&(0===es||r<es)&&(es=r),r}function Ho(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==_o&&Ao===n?_o=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ii(n,e),0!==(n=e.expirationTime)&&gs(e,n)))}function Go(e,t){var n=e.stateNode;null!==n&&n.delete(t),null!==(e=Wo(e,t=Fo(t=ms(),e)))&&(ti(e,t),0!==(t=e.expirationTime)&&gs(e,t))}function Wo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function zo(e,t){null!==(e=Wo(e,t))&&(!yo&&0!==Ao&&t>Ao&&Io(),ti(e,t),yo&&!To&&_o===e||gs(e,e.expirationTime),ls>cs&&(ls=0,s("185")))}function Ko(e,t,n,r,i){return a.unstable_runWithPriority(a.unstable_ImmediatePriority,(function(){return e(t,n,r,i)}))}var Yo=null,qo=null,Xo=0,Zo=void 0,Qo=!1,Jo=null,$o=0,es=0,ts=!1,ns=null,rs=!1,is=!1,as=null,os=a.unstable_now(),ss=1073741822-(os/10|0),us=ss,cs=50,ls=0,ds=null;function fs(){ss=1073741822-((a.unstable_now()-os)/10|0)}function ps(e,t){if(0!==Xo){if(t<Xo)return;null!==Zo&&a.unstable_cancelCallback(Zo)}Xo=t,e=a.unstable_now()-os,Zo=a.unstable_scheduleCallback(As,{timeout:10*(1073741822-t)-e})}function hs(e,t,n,r,i){e.expirationTime=r,0!==i||_s()?0<i&&(e.timeoutHandle=Ar(vs.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function vs(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,fs(),us=ss,Es(e,n)}function ms(){return Qo||(ys(),0!==$o&&1!==$o||(fs(),us=ss)),us}function gs(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===qo?(Yo=qo=e,e.nextScheduledRoot=e):(qo=qo.nextScheduledRoot=e).nextScheduledRoot=Yo):t>e.expirationTime&&(e.expirationTime=t),Qo||(rs?is&&(Jo=e,$o=1073741823,ws(e,1073741823,!1)):1073741823===t?Ss(1073741823,!1):ps(e,t))}function ys(){var e=0,t=null;if(null!==qo)for(var n=qo,r=Yo;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===qo)&&s("244"),r===r.nextScheduledRoot){Yo=qo=r.nextScheduledRoot=null;break}if(r===Yo)Yo=i=r.nextScheduledRoot,qo.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===qo){(qo=n).nextScheduledRoot=Yo,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===qo)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}Jo=t,$o=e}var bs=!1;function _s(){return!!bs||!!a.unstable_shouldYield()&&(bs=!0)}function As(){try{if(!_s()&&null!==Yo){fs();var e=Yo;do{var t=e.expirationTime;0!==t&&ss<=t&&(e.nextExpirationTimeToWorkOn=ss),e=e.nextScheduledRoot}while(e!==Yo)}Ss(0,!0)}finally{bs=!1}}function Ss(e,t){if(ys(),t)for(fs(),us=ss;null!==Jo&&0!==$o&&e<=$o&&!(bs&&ss>$o);)ws(Jo,$o,ss>$o),ys(),fs(),us=ss;else for(;null!==Jo&&0!==$o&&e<=$o;)ws(Jo,$o,!1),ys();if(t&&(Xo=0,Zo=null),0!==$o&&ps(Jo,$o),ls=0,ds=null,null!==as)for(e=as,as=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ts||(ts=!0,ns=e)}}if(ts)throw e=ns,ns=null,ts=!1,e}function Es(e,t){Qo&&s("253"),Jo=e,$o=t,ws(e,t,!1),Ss(1073741823,!1)}function ws(e,t,n){if(Qo&&s("245"),Qo=!0,n){var r=e.finishedWork;null!==r?Ts(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Uo(e,n),null!==(r=e.finishedWork)&&(_s()?e.finishedWork=r:Ts(e,r,t)))}else null!==(r=e.finishedWork)?Ts(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Uo(e,n),null!==(r=e.finishedWork)&&Ts(e,r,t));Qo=!1}function Ts(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===as?as=[r]:as.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ds?ls++:(ds=e,ls=0),a.unstable_runWithPriority(a.unstable_ImmediatePriority,(function(){Lo(e,t)}))}function Ps(e){null===Jo&&s("246"),Jo.expirationTime=0,ts||(ts=!0,ns=e)}function Cs(e,t){var n=rs;rs=!0;try{return e(t)}finally{(rs=n)||Qo||Ss(1073741823,!1)}}function Os(e,t){if(rs&&!is){is=!0;try{return e(t)}finally{is=!1}}return e(t)}function ks(e,t,n){rs||Qo||0===es||(Ss(es,!1),es=0);var r=rs;rs=!0;try{return a.unstable_runWithPriority(a.unstable_UserBlockingPriority,(function(){return e(t,n)}))}finally{(rs=r)||Qo||Ss(1073741823,!1)}}function Is(e,t,n,r,i){var a=t.current;e:if(n){t:{2===rn(n=n._reactInternalFiber)&&1===n.tag||s("170");var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(null!==o);s("171"),o=void 0}if(1===n.tag){var u=n.type;if(Lr(u)){n=Vr(n,u,o);break e}}n=o}else n=xr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Fa(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),No(),Ga(a,i),zo(a,r),r}function xs(e,t,n,r){var i=t.current;return Is(e,t,n,i=Fo(ms(),i),r)}function Ds(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Rs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ms(e){var t=1073741822-25*(1+((1073741822-ms()+500)/25|0));t>=go&&(t=go-1),this._expirationTime=go=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ns(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ls(e,t,n){e={current:t=Yr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function js(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Bs(e,t,n,r,i){var a=n._reactRootContainer;if(a){if("function"==typeof i){var o=i;i=function(){var e=Ds(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ls(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Ds(a._internalRoot);s.call(e)}}Os((function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}))}return Ds(a._internalRoot)}function Us(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return js(t)||s("200"),Rs(e,t,null,n)}Oe=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=V(r);i||s("90"),ze(r),wt(r,i)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},Ms.prototype.render=function(e){this._defer||s("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ns;return Is(e,t,null,n,r._onCommit),r},Ms.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ms.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||s("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&s("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Es(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ms.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ns.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ns.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&s("191",n),n()}}},Ls.prototype.render=function(e,t){var n=this._internalRoot,r=new Ns;return null!==(t=void 0===t?null:t)&&r.then(t),xs(e,n,null,r._onCommit),r},Ls.prototype.unmount=function(e){var t=this._internalRoot,n=new Ns;return null!==(e=void 0===e?null:e)&&n.then(e),xs(null,t,null,n._onCommit),n},Ls.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Ns;return null!==(n=void 0===n?null:n)&&i.then(n),xs(t,r,e,i._onCommit),i},Ls.prototype.createBatch=function(){var e=new Ms(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Me=Cs,Ne=ks,Le=function(){Qo||0===es||(Ss(es,!1),es=0)};var Vs,Fs,Hs={createPortal:Us,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?s("188"):s("268",Object.keys(e))),e=null===(e=on(t))?null:e.stateNode},hydrate:function(e,t,n){return js(t)||s("200"),Bs(null,e,t,!0,n)},render:function(e,t,n){return js(t)||s("200"),Bs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return js(n)||s("200"),(null==e||void 0===e._reactInternalFiber)&&s("38"),Bs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return js(e)||s("40"),!!e._reactRootContainer&&(Os((function(){Bs(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return Us.apply(void 0,arguments)},unstable_batchedUpdates:Cs,unstable_interactiveUpdates:ks,flushSync:function(e,t){Qo&&s("187");var n=rs;rs=!0;try{return Ko(e,t)}finally{rs=n,Ss(1073741823,!1)}},unstable_createRoot:function(e,t){return js(e)||s("299","unstable_createRoot"),new Ls(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=rs;rs=!0;try{Ko(e)}finally{(rs=t)||Qo||Ss(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[B,U,V,x.injectEventPluginsByName,_,K,function(e){O(e,z)},De,Re,In,R]}};Fs=(Vs={findFiberByHostInstance:j,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Gr=zr((function(e){return t.onCommitFiberRoot(n,e)})),Wr=zr((function(e){return t.onCommitFiberUnmount(n,e)}))}catch(e){}}(i({},Vs,{overrideProps:null,currentDispatcherRef:Ke.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=on(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Fs?Fs(e):null}}));var Gs={default:Hs},Ws=Gs&&Hs||Gs;e.exports=Ws.default||Ws},function(e,t,n){"use strict";e.exports=n(558)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,a=-1,o=-1,s=!1,u=!1;function c(){if(!s){var e=n.expirationTime;u?E():u=!0,S(f,e)}}function l(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var a=i,s=o;i=e,o=t;try{var u=r()}finally{i=a,o=s}if("function"==typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=u.next=u.previous=u;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=u,c()),(t=r.previous).next=r.previous=u,u.next=r,u.previous=t}}function d(){if(-1===a&&null!==n&&1===n.priorityLevel){s=!0;try{do{l()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():u=!1}}}function f(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var a=t.unstable_now();if(!(n.expirationTime<=a))break;do{l()}while(null!==n&&n.expirationTime<=a)}else if(null!==n)do{l()}while(null!==n&&!w())}finally{s=!1,r=i,null!==n?c():u=!1,d()}}var p,h,v=Date,m="function"==typeof setTimeout?setTimeout:void 0,g="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function _(e){p=y((function(t){g(h),e(t)})),h=m((function(){b(p),e(t.unstable_now())}),100)}if("object"==typeof performance&&"function"==typeof performance.now){var A=performance;t.unstable_now=function(){return A.now()}}else t.unstable_now=function(){return v.now()};var S,E,w,T=null;if("undefined"!=typeof window?T=window:void 0!==e&&(T=e),T&&T._schedMock){var P=T._schedMock;S=P[0],E=P[1],w=P[2],t.unstable_now=P[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var C=null,O=function(e){if(null!==C)try{C(e)}finally{C=null}};S=function(e){null!==C?setTimeout(S,0,e):(C=e,setTimeout(O,0,!1))},E=function(){C=null},w=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,I=!1,x=-1,D=!1,R=!1,M=0,N=33,L=33;w=function(){return M<=t.unstable_now()};var j=new MessageChannel,B=j.port2;j.port1.onmessage=function(){I=!1;var e=k,n=x;k=null,x=-1;var r=t.unstable_now(),i=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return D||(D=!0,_(U)),k=e,void(x=n);i=!0}if(null!==e){R=!0;try{e(i)}finally{R=!1}}};var U=function(e){if(null!==k){_(U);var t=e-M+L;t<L&&N<L?(8>t&&(t=8),L=t<N?N:t):N=t,M=e+L,I||(I=!0,B.postMessage(void 0))}else D=!1};S=function(e,t){k=e,x=t,R||0>t?B.postMessage(void 0):D||(D=!0,_(U))},E=function(){k=null,I=!1,x=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,o=a;i=e,a=t.unstable_now();try{return n()}finally{i=r,a=o,d()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,o=a;i=n,a=t.unstable_now();try{return e()}finally{i=r,a=o,d()}},t.unstable_scheduleCallback=function(e,r){var o=-1!==a?a:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=o+r.timeout;else switch(i){case 1:r=o+-1;break;case 2:r=o+250;break;case 5:r=o+1073741823;break;case 4:r=o+1e4;break;default:r=o+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{o=null;var s=n;do{if(s.expirationTime>r){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,c()),(r=o.previous).next=o.previous=e,e.next=o,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,o=a;i=n,a=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,a=o,d()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<o||w())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},i=e[t],o=(0,a.default)(t),s=Object.keys(n),u=0;u<s.length;u++){var c=s[u];if(c===t)for(var l=0;l<i.length;l++)r[i[l]+o]=n[t];r[c]=n[c]}return r}return n};var r,i=n(280),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var a=0,o=e.length;a<o;++a){var s=e[a](t,n,r,i);if(s)return s}}},function(e,t,n){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)r(e,t[n]);else r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(e)};var r,i=n(125),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";var r=n(565);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(136),i={};function a(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}e.exports=function(e,t,n){var o=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(a(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return a("DEFINE_MANY_MERGED"===(u.hasOwnProperty(n)?u[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function l(e,t){var n=s.hasOwnProperty(t)?s[t]:null;y.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){a("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var o in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(o)&&"mixins"!==o){var u=n[o],d=r.hasOwnProperty(o);if(l(d,o),c.hasOwnProperty(o))c[o](e,u);else{var f=s.hasOwnProperty(o);if("function"==typeof u&&!f&&!d&&!1!==n.autobind)i.push(o,u),r[o]=u;else if(d){var v=s[o];a(f&&("DEFINE_MANY_MERGED"===v||"DEFINE_MANY"===v),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",v,o),"DEFINE_MANY_MERGED"===v?r[o]=p(r[o],u):"DEFINE_MANY"===v&&(r[o]=h(r[o],u))}else r[o]=u}}}else;}function f(e,t){for(var n in a(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return f(i,n),f(i,r),i}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function v(e,t){return t.bind(e)}var m={componentDidMount:function(){this.__isMounted=!0}},g={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,e.prototype,y),function(e){var t=function(e,r,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=v(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;a("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(d.bind(null,t)),d(t,m),d(t,e),d(t,g),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";e.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},function(e,t,n){"use strict";var r;n(20).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatedTimeline=t.failed=t.initialized=t.noAnalytics=t.passSDK=void 0;var r=n(21);t.passSDK=r.createAction("V/yospace/PASS_SDK"),t.noAnalytics=r.createAction("V/yospace/NO_ANALYTICS"),t.initialized=r.createAction("V/yospace/INITIALIZED"),t.failed=r.createAction("V/yospace/FAILED"),t.updatedTimeline=r.createAction("V/yospace/UPDATED_TIMELINE")},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginStatus=void 0,function(e){e.NOT_LOADED="NOT_LOADED",e.DISABLED="DISABLED",e.LOADING="LOADING",e.READY="READY"}(t.PluginStatus||(t.PluginStatus={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.resetFocus=t.focusLastElement=t.requestFocusEnd=t.requestFocusStart=t.blurSection=t.focusSection=t.setLastFocusedSectionElement=void 0;var i=n(21),a={lastFocusedElementInSection:{},focusedSection:null,requestedFocus:null},o=i.createReducer({},a);t.setLastFocusedSectionElement=i.createAction("V/FOCUS_CAPTURE/SET_LAST_FOCUSED_ELEMENT"),t.focusSection=i.createAction("V/FOCUS_CAPTURE/FOCUS_SECTION"),t.blurSection=i.createAction("V/FOCUS_CAPTURE/BLUR_SECTION"),t.requestFocusStart=i.createAction("V/FOCUS_CAPTURE/REQUEST_FOCUS_START"),t.requestFocusEnd=i.createAction("V/FOCUS_CAPTURE/REQUEST_FOCUS_END"),t.focusLastElement=i.createAction("V/FOCUS_CAPTURE/FOCUS_LAST_ELEMENT"),t.resetFocus=i.createAction("V/FOCUS_CAPTURE/RESET_FOCUS"),o.on(t.setLastFocusedSectionElement,(function(e,t){var n;return r(r({},e),{lastFocusedElementInSection:r(r({},e.lastFocusedElementInSection),(n={},n[e.focusedSection]=t,n))})})),o.on(t.focusSection,(function(e,t){return r(r({},e),{focusedSection:t})})),o.on(t.requestFocusStart,(function(e,t){return r(r({},e),{requestedFocus:t})})),o.on(t.requestFocusEnd,(function(e){return r(r({},e),{requestedFocus:null})})),o.on(t.blurSection,(function(e,t){return r(r({},e),{focusedSection:t===e.focusedSection?null:t})})),o.on(t.resetFocus,(function(){return a})),t.default=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.reportPlayheadFailed=t.reportPlayhead=void 0;var i=n(21),a=n(292);t.reportPlayhead=i.createAction("V/ellation_analytics/REPORT_PLAYHEAD"),t.reportPlayheadFailed=i.createAction("V/ellation_analytics/REPORT_PLAYHEAD_FAILED");var o={playhead:-1,failedReason:a.EllationPlayheadFailedType.NONE},s=i.createReducer({},o);s.on(t.reportPlayhead,(function(e,t){return r(r({},e),{playhead:t,failedReason:a.EllationPlayheadFailedType.NONE})})),s.on(t.reportPlayheadFailed,(function(e,t){return r(r({},e),{playhead:t.playhead,failedReason:t.failedReason})})),t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=t.parsedVMAP=void 0;var r=n(21);t.parsedVMAP=r.createAction("V/LAMBDA_RESPONSE_PARSED"),t.error=r.createAction("V/LAMBDA_RESPONSE_ERROR")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={error:null,contentDuration:null,totalDuration:null,contentOffset:0,contentTime:0,streamTime:0,textTrackOffset:0,orderedTextTrackList:[],orderedVideoTrackList:[],priorTextTrackIndex:null,priorVideoStream:null,processedSource:null,textTrackPlugin:{},unprocessedSource:null,isTrickScrubArchiveLoaded:!1}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};t.__esModule=!0;var i=n(14),a=n(577),o=n(303),s=n(579),u=n(304),c=n(581);t.createStore=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var l=e.initialState,d=void 0===l?{}:l,f=e.extensions,p=void 0===f?[]:f,h=e.enhancers,v=void 0===h?[]:h,m=e.advancedComposeEnhancers,g=void 0===m?a.composeWithDevTools({}):m,y=e.advancedCombineReducers,b=p.reduce((function(e,t){return t.middleware&&e.push.apply(e,t.middleware),e}),[]),_=u.getRefCountedManager(o.getMiddlewareManager(),(function(e,t){return e===t})),A=g.apply(void 0,r(v,[i.applyMiddleware.apply(void 0,r(b,[_.enhancer]))])),S=u.getRefCountedManager(s.getModuleManager(_,p,y),(function(e,t){return e.id===t.id}),(function(e){return e.retained})),E=i.createStore(S.getReducer,d,A);S.setDispatch(E.dispatch);var w=function(e){var t=c.flatten(e);return S.add(t),{remove:function(){S.remove(t)}}},T=function(e){return w([e])};return p.forEach((function(e){e.onModuleManagerCreated&&e.onModuleManagerCreated({addModule:T,addModules:w})})),E.addModule=T,E.addModules=w,E.dispose=function(){S.dispose(),_.dispose(),p.forEach((function(e){e.dispose&&e.dispose()}))},E.addModules(t),E}},function(e,t,n){"use strict";var r=n(14).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){"use strict";t.__esModule=!0,t.createDynamicMiddlewares=t.resetMiddlewares=t.removeMiddleware=t.addMiddleware=void 0;var r=n(14),i=function(){var e=[];return{enhancer:function(t){return function(n){return function(i){var a=e.map((function(e){return e(t)}));return r.compose.apply(void 0,a)(n)(i)}}},addMiddleware:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e=[].concat(e,n)},removeMiddleware:function(t){var n=e.findIndex((function(e){return e===t}));-1!==n?e=e.filter((function(e,t){return t!==n})):console.error("Middleware does not exist!",t)},resetMiddlewares:function(){e=[]}}},a=i();t.default=a.enhancer;var o=a.addMiddleware,s=a.removeMiddleware,u=a.resetMiddlewares;t.addMiddleware=o,t.removeMiddleware=s,t.resetMiddlewares=u,t.createDynamicMiddlewares=i},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};t.__esModule=!0;var i=n(580);t.getModuleManager=function(e,t,n){var a,o=null,s=[],u=new Set,c=function(e){if(e){if(!o)throw new Error("setDispatch should be called on ModuleManager before adding any modules.");e.forEach(o)}},l={getReducer:function(e,t){return a?a.reduce(e,t):e||null},setDispatch:function(e){o=e},getItems:function(){return[]},add:function(l){if(l&&0!==l.length){l=l.filter((function(e){return e}));var d=[];l.forEach((function(t){if(!u.has(t.id)){u.add(t.id),s.push(t),function(e){if(e)if(a)for(var t in e)a.add(t,e[t]);else a=i.getRefCountedReducerManager(i.getReducerManager(e,n))}(t.reducerMap);var r=t.middlewares;r&&function(t){t&&e.add(t)}(r),d.push(t)}})),o({type:"@@Internal/ModuleManager/SeedReducers"}),d.forEach((function(e){t.forEach((function(t){t.onModuleAdded&&t.onModuleAdded(e)}));var n={type:"@@Internal/ModuleManager/ModuleAdded",payload:e.id};c(e.initialActions?r([n],e.initialActions):[n])}))}},remove:function(n){n&&(n=n.filter((function(e){return e})).reverse()).forEach((function(n){var r;u.has(n.id)&&(c(n.finalActions),function(e){if(e&&a)for(var t in e)a.remove(t)}(n.reducerMap),(r=n.middlewares)&&e.remove(r),t.forEach((function(e){e.onModuleRemoved&&e.onModuleRemoved(n)})),u.delete(n.id),s=s.filter((function(e){return e.id!==n.id})),c([{type:"@@Internal/ModuleManager/ModuleRemoved",payload:n.id}]))}))},dispose:function(){l.remove(s)}};return l}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var i=n(14),a=n(201);function o(e,t){return void 0===t&&(t=i.combineReducers),e&&0!==Object.keys(e).length?t(e):function(e,t){return e||null}}t.getRefCountedReducerManager=function(e){var t=a.getStringRefCounter();for(var n in e.getReducerMap())t.add(n);return{reduce:e.reduce,getReducerMap:e.getReducerMap,add:function(n,r){0===t.getCount(n)&&e.add(n,r),t.add(n)},remove:function(n){t.remove(n),0===t.getCount(n)&&e.remove(n)}}},t.getReducerManager=function(e,t){void 0===t&&(t=i.combineReducers);var n=t(e),a=r({},e),s=[];return{getReducerMap:function(){return a},reduce:function(e,t){if(s.length>0){e=r({},e);for(var i=0,a=s;i<a.length;i++){delete e[a[i]]}s=[]}return void 0===e&&(e={}),n(e,t)},add:function(e,r){e&&!a[e]&&(a[e]=r,n=o(a,t))},remove:function(e){e&&a[e]&&(delete a[e],s.push(e),n=o(a,t))}}}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};t.__esModule=!0,t.flatten=function(e){if(e){for(var t=e.slice(),n=0;n<t.length;)Array.isArray(t[n])?t.splice.apply(t,r([n,1],t[n])):n++;return t}return e}},function(e,t,n){"use strict";t.__esModule=!0,t.getMap=function(e){var t=[],n={};return{keys:t,get:function(r){if(r){var i=t.findIndex((function(t){return t&&e(t,r)}));if(-1!==i)return n[i]}},add:function(r,i){r&&(-1===t.findIndex((function(t){return t&&e(t,r)}))&&(t.push(r),n[t.length-1]=i))},remove:function(r){if(r){var i=t.findIndex((function(t){return t&&e(t,r)}));if(-1!==i){delete t[i];var a=n[i];return delete n[i],a}}}}}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}t.__esModule=!0,r(n(147)),r(n(584))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};t.__esModule=!0;var o=n(1),s=n(6),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return o.createElement(s.ReactReduxContext.Consumer,null,(function(t){return o.createElement(c,a({},e.props,{reactReduxContext:t}))}))},t}(o.Component);t.DynamicModuleLoader=u;var c=function(e){function t(t){var n=e.call(this,t)||this;if(n._providerInitializationNeeded=!1,n._cleanup=function(){n._addedModules&&(n._addedModules.remove(),n._addedModules=void 0)},null==t.reactReduxContext){var r="Tried to render DynamicModuleLoader, but no ReactReduxContext was provided";throw console.error(r),new Error(r)}return n._store=t.reactReduxContext?t.reactReduxContext.store:void 0,n.props.strictMode?n.state={readyToRender:!1}:(n._addModules(),n.state={readyToRender:!0}),n}return i(t,e),t.prototype.render=function(){return this.state.readyToRender?this._providerInitializationNeeded?o.createElement(s.Provider,{store:this._store},o.createElement(u,a({},this.props))):o.createElement(o.Fragment,null,this._renderLoader(),o.createElement(l,{cleanup:this._cleanup})):null},t.prototype._renderLoader=function(){return this.props.children?"function"==typeof this.props.children?this.props.children():this.props.children:null},t.prototype._addModules=function(){var e=this.props,t=e.createStore,n=e.modules;if(this._store)this._addedModules=this._store.addModules(n);else{if(!t)throw new Error("Store could not be resolved from React context");this._store=t(),this._providerInitializationNeeded=!0}},t.prototype.componentDidMount=function(){this.props.strictMode&&(this._addModules(),this.setState({readyToRender:!0}))},t}(o.Component),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return null},t.prototype.componentWillUnmount=function(){this.props.cleanup()},t}(o.Component)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,A=r?Symbol.for("react.scope"):60119;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case o:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case g:case m:case c:return e;default:return t}}case a:return t}}}function E(e){return S(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||S(e)===d},t.isConcurrentMode=E,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===m},t.isPortal=function(e){return S(e)===a},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===u||e===s||e===h||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===_||e.$$typeof===A||e.$$typeof===y)},t.typeOf=S},function(e,t,n){"use strict";t.__esModule=!0,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(587))},function(e,t,n){"use strict";t.__esModule=!0;var r=n(50),i=n(147),a=n(588),o=n(305);t.getSagaExtension=function(e,t){var n=r.default({context:e,sagaMonitor:void 0,onError:t}),s=i.getRefCountedManager(a.getSagaManager(n),o.sagaEquals);return{middleware:[n],onModuleManagerCreated:function(t){e&&(e.moduleManager=t)},onModuleAdded:function(e){e.sagas&&s.add(e.sagas)},onModuleRemoved:function(e){e.sagas&&s.remove(e.sagas)},dispose:function(){s.dispose()}}}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};t.__esModule=!0;var i=n(305),a=n(147);t.getSagaManager=function(e){var t=a.getMap(i.sagaEquals);return{getItems:function(){return r(t.keys)},add:function(n){n&&n.forEach((function(n){n&&!t.get(n)&&t.add(n,function(e,t){if("function"==typeof t){var n=t;return e.run(n)}var r=t.saga,i=t.argument;return e.run(r,i)}(e,n))}))},remove:function(e){e&&e.forEach((function(e){t.get(e)&&t.remove(e).cancel()}))},dispose:function(){t.keys.forEach((function(e){return t.get(e).cancel()}))}}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMiddleware=void 0;var i=n(590),a=n(2),o=r(n(12)),s=n(7),u=r(n(594));t.getMiddleware=function(e){var t=[],n=i.createLogger({level:"info",collapsed:!0,predicate:function(t,n){return c(e)&&function(e){return e.type.includes("FIRE_INTERVAL")||e.type.includes("UPDATE_STREAM_TIME")||e.type.includes("UPDATE_TIME")?!!o.default.logSyntheticPlayhead:e.type.includes("video_QoS/UPDATE_PROPERTY")||e.type.includes("UPDATE_CDN_METRICS")?!!o.default.logQoSUpdate:!e.type.includes("player/PROGRESS")||!!o.default.logProgress}(n)}});return t.push(n),s.environmentUtils.isWeb()&&t.push(l(e)),o.default.logRemotely&&t.push(u.default({actionsBlacklist:[a.coreActionCreators.dumpLogs(null).type,a.coreActionCreators.fireInterval(null).type,a.mediaActionCreators.updateStreamTime(null).type,a.playerActionCreators.progress(null).type,a.playerActionCreators.updateCdnMetrics(null).type,a.videoQoSRollupActionCreators.updateQoSProperties(null).type,a.videoQoSRollupActionCreators.updateAutoPlayed(null).type],maxActions:2500,sendOnError:!0})),t};var c=function(e){if(s.environmentUtils.isMobileNative()||s.environmentUtils.isYoui())return e&&"undefined"!=typeof DedicatedWorkerGlobalScope;if(s.environmentUtils.isWeb()){var t=localStorage.VILOS_LOGGER;return!/false/.test(t)&&(e||/true/.test(t))}return!1},l=function(e){return function(t){return function(t){return function(n){try{c(e)&&window.dispatchEvent(new CustomEvent("seleniumActionEvent",{detail:{action:n}}))}catch(e){}t(n)}}}}},function(e,t,n){(function(e){!function(t){"use strict";function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function s(e,t,n){s.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":E(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,d,f,p){p=p||[];var h=(d=d||[]).slice(0);if(void 0!==f){if(r){if("function"==typeof r&&r(h,f))return;if("object"===(void 0===r?"undefined":E(r))){if(r.prefilter&&r.prefilter(h,f))return;if(r.normalize){var v=r.normalize(h,f,e,t);v&&(e=v[0],t=v[1])}}}h.push(f)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var m=void 0===e?"undefined":E(e),g=void 0===t?"undefined":E(t),y="undefined"!==m||p&&p[p.length-1].lhs&&p[p.length-1].lhs.hasOwnProperty(f),b="undefined"!==g||p&&p[p.length-1].rhs&&p[p.length-1].rhs.hasOwnProperty(f);if(!y&&b)n(new a(h,t));else if(!b&&y)n(new o(h,e));else if(c(e)!==c(t))n(new i(h,e,t));else if("date"===c(e)&&e-t!=0)n(new i(h,e,t));else if("object"===m&&null!==e&&null!==t)if(p.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(h,e,t));else{if(p.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new s(h,_,new o(void 0,e[_]))):l(e[_],t[_],n,r,h,_,p);for(;_<t.length;)n(new s(h,_,new a(void 0,t[_++])))}else{var A=Object.keys(e),S=Object.keys(t);A.forEach((function(i,a){var o=S.indexOf(i);o>=0?(l(e[i],t[i],n,r,h,i,p),S=u(S,o)):l(e[i],void 0,n,r,h,i,p)})),S.forEach((function(e){l(void 0,t[e],n,r,h,e,p)}))}p.length=p.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new i(h,e,t)))}function d(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":delete a[r.path[i]];break;case"E":case"N":a[r.path[i]]=r.rhs}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":t=u(t,n);break;case"E":case"N":t[n]=r.rhs}return t}(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e){return"color: "+P[e].color+"; font-weight: bold"}function h(e,t,n,r){var i=d(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}(e);n.log.apply(n,["%c "+P[t].text,p(t)].concat(w(r)))})):n.log(" no diff ");try{n.groupEnd()}catch(e){n.log(" diff end  ")}}function v(e,t,n,r){switch(void 0===e?"undefined":E(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,w(n)):e[r];case"function":return e(t);default:return e}}function m(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}(t):i,o=t.collapsed,s=t.colors,u=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach((function(i,d){var f=i.started,p=i.startedTime,m=i.action,g=i.prevState,y=i.error,b=i.took,_=i.nextState,S=e[d+1];S&&(_=S.prevState,b=S.started-f);var E=r(m),w="function"==typeof o?o((function(){return _}),m,i):o,T=A(p),P=s.title?"color: "+s.title(E)+";":"",C=["color: gray; font-weight: lighter;"];C.push(P),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var O=a(E,T,b);try{w?s.title&&l?n.groupCollapsed.apply(n,["%c "+O].concat(C)):n.groupCollapsed(O):s.title&&l?n.group.apply(n,["%c "+O].concat(C)):n.group(O)}catch(e){n.log(O)}var k=v(u,E,[g],"prevState"),I=v(u,E,[E],"action"),x=v(u,E,[y,g],"error"),D=v(u,E,[_],"nextState");if(k)if(s.prevState){var R="color: "+s.prevState(g)+"; font-weight: bold";n[k]("%c prev state",R,g)}else n[k]("prev state",g);if(I)if(s.action){var M="color: "+s.action(E)+"; font-weight: bold";n[I]("%c action    ",M,E)}else n[I]("action    ",E);if(y&&x)if(s.error){var N="color: "+s.error(y,g)+"; font-weight: bold;";n[x]("%c error     ",N,y)}else n[x]("error     ",y);if(D)if(s.nextState){var L="color: "+s.nextState(_)+"; font-weight: bold";n[D]("%c next state",L,_)}else n[D]("next state",_);c&&h(g,_,n,w);try{n.groupEnd()}catch(e){n.log(" log end ")}}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},C,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};u.push(l),l.started=S.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var d=void 0;if(o)try{d=e(c)}catch(e){l.error=i(e)}else d=e(c);l.took=S.now()-l.started,l.nextState=r(n());var f=t.diff&&"function"==typeof s?s(n,c):t.diff;if(m(u,Object.assign({},t,{diff:f})),u.length=0,l.error)throw l.error;return d}}}}var y,b,_=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},A=function(e){return _(e.getHours(),2)+":"+_(e.getMinutes(),2)+":"+_(e.getSeconds(),2)+"."+_(e.getMilliseconds(),3)},S="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},T=[];y="object"===(void 0===e?"undefined":E(e))&&e?e:"undefined"!=typeof window?window:{},(b=y.DeepDiff)&&T.push((function(){void 0!==b&&y.DeepDiff===d&&(y.DeepDiff=b,b=void 0)})),n(i,r),n(a,r),n(o,r),n(s,r),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||f(e,t,r)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":!function e(t,n,r){if(r.path&&r.path.length){var i,a=t[n],o=r.path.length-1;for(i=0;i<o;i++)a=a[r.path[i]];switch(r.kind){case"A":e(a[r.path[i]],r.index,r.item);break;case"D":case"E":a[r.path[i]]=r.lhs;break;case"N":delete a[r.path[i]]}}else switch(r.kind){case"A":e(t[n],r.index,r.item);break;case"D":case"E":t[n]=r.lhs;break;case"N":t=u(t,n)}return t}(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==b},enumerable:!0},noConflict:{value:function(){return T&&(T.forEach((function(e){e()})),T=null),d},enumerable:!0}});var P={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},C={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?g()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=C,t.createLogger=g,t.logger=O,t.default=O,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLUGINS=void 0,function(e){e.ADS="ads",e.ANALYTICS="analytics",e.TEXT_TRACKS="textTracks",e.VIDEO_PLAYER="videoPlayer"}(t.PLUGINS||(t.PLUGINS={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getMaxMemorySync",(function(){return l})),n.d(t,"getInstallReferrerSync",(function(){return d})),n.d(t,"isAirplaneModeSync",(function(){return f})),n.d(t,"getUserAgentSync",(function(){return p})),n.d(t,"isLocationEnabledSync",(function(){return h})),n.d(t,"getTotalMemorySync",(function(){return v})),n.d(t,"getUsedMemorySync",(function(){return m})),n.d(t,"getInstallReferrer",(function(){return g})),n.d(t,"getUserAgent",(function(){return y})),n.d(t,"isBatteryCharging",(function(){return b})),n.d(t,"isBatteryChargingSync",(function(){return _})),n.d(t,"isCameraPresent",(function(){return A})),n.d(t,"isCameraPresentSync",(function(){return S})),n.d(t,"getBatteryLevel",(function(){return E})),n.d(t,"getBatteryLevelSync",(function(){return w})),n.d(t,"isLocationEnabled",(function(){return T})),n.d(t,"isAirplaneMode",(function(){return P})),n.d(t,"getBaseOs",(function(){return C})),n.d(t,"getTotalDiskCapacity",(function(){return O})),n.d(t,"getTotalDiskCapacitySync",(function(){return k})),n.d(t,"getFreeDiskStorage",(function(){return I})),n.d(t,"getFreeDiskStorageSync",(function(){return x})),n.d(t,"getMaxMemory",(function(){return D})),n.d(t,"getUsedMemory",(function(){return R})),n.d(t,"getTotalMemory",(function(){return M})),n.d(t,"getPowerState",(function(){return N})),n.d(t,"getPowerStateSync",(function(){return L}));var r=n(237),i=n(89);const a=new r.a(i.a.RNDeviceInfo);let o=!1,s=-1,u={};const c=e=>{const{level:t,charging:n,chargingtime:r,dischargingtime:i}=e;return{batteryLevel:t,lowPowerMode:!1,batteryState:1===t?"full":n?"charging":"unplugged",chargingtime:r,dischargingtime:i}},l=()=>window.performance&&window.performance.memory?window.performance.memory.jsHeapSizeLimit:-1,d=()=>document.referrer,f=()=>!!navigator.onLine,p=()=>window.navigator.userAgent,h=()=>!!navigator.geolocation,v=()=>navigator.deviceMemory?1e9*navigator.deviceMemory:-1,m=()=>window.performance&&window.performance.memory?window.performance.memory.usedJSHeapSize:-1;(async()=>{if(navigator.getBattery){const e=await navigator.getBattery();o=e.charging,e.addEventListener("chargingchange",()=>{const{charging:t}=e;o=t,u=c(e),a.emit("RNDeviceInfo_powerStateDidChange",u)}),e.addEventListener("levelchange",()=>{const{level:t}=e;s=t,u=c(e),a.emit("RNDeviceInfo_batteryLevelDidChange",t),t<.2&&a.emit("RNDeviceInfo_batteryLevelIsLow",t)})}})();const g=async()=>d(),y=async()=>p(),b=async()=>{if(navigator.getBattery){return(await navigator.getBattery()).level}return!1},_=()=>o,A=async()=>{if(navigator.getBattery){return!!(await navigator.mediaDevices.enumerateDevices()).find(e=>"videoinput"===e.kind)}return!1},S=()=>(console.log("[react-native-device-info] isCameraPresentSync not supported - please use isCameraPresent"),!1),E=async()=>{if(navigator.getBattery){return(await navigator.getBattery()).level}return-1},w=()=>s,T=async()=>h(),P=async()=>f(),C=async()=>(()=>{const e=window.navigator.userAgent,t=window.navigator.platform;let n=t;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux"),n})(),O=async()=>{if(navigator.storage&&navigator.storage.estimate){const{quota:e}=await navigator.storage.estimate();return e}return-1},k=()=>(console.log("[react-native-device-info] getTotalDiskCapacitySync not supported - please use getTotalDiskCapacity"),-1),I=async()=>{if(navigator.storage&&navigator.storage.estimate){const{quota:e,usage:t}=await navigator.storage.estimate();return e-t}return-1},x=()=>(console.log("[react-native-device-info] getFreeDiskStorageSync not supported - please use getFreeDiskStorage"),-1),D=async()=>l(),R=async()=>m(),M=async()=>v(),N=async()=>{if(navigator.getBattery){const e=await navigator.getBattery();return c(e)}return{}},L=()=>u},function(e){e.exports=JSON.parse('{"af-na":"Afrikaans (Namibia)","af-za":"Afrikaans (South Africa)","af":"Afrikaans","ak-gh":"Akan (Ghana)","ak":"Akan","sq-al":"Albanian (Albania)","sq":"Albanian","am-et":"Amharic (Ethiopia)","am":"Amharic","ar-dz":" (Algeria)","ar-bh":" (Bahrain)","ar-eg":" (Egypt)","ar-iq":" (Iraq)","ar-jo":" (Jordan)","ar-kw":" (Kuwait)","ar-lb":" (Lebanon)","ar-ly":" (Libya)","ar-ma":" (Morocco)","ar-me":"","ar-om":" (Oman)","ar-qa":" (Qatar)","ar-sa":"","ar-sd":" (Sudan)","ar-sy":" (Syria)","ar-tn":" (Tunisia)","ar-ae":" (United Arab Emirates)","ar-ye":" (Yemen)","ar":"","hy-am":"Armenian (Armenia)","hy":"Armenian","as-in":"Assamese (India)","as":"Assamese","asa-tz":"Asu (Tanzania)","asa":"Asu","az-cyrl":"Azerbaijani (Cyrillic)","az-cyrl-az":"Azerbaijani (Cyrillic, Azerbaijan)","az-latn":"Azerbaijani (Latin)","az-latn-az":"Azerbaijani (Latin, Azerbaijan)","az":"Azerbaijani","bm-ml":"Bambara (Mali)","bm":"Bambara","eu-es":"Basque (Spain)","eu":"Basque","be-by":"Belarusian (Belarus)","be":"Belarusian","bem-zm":"Bemba (Zambia)","bem":"Bemba","bez-tz":"Bena (Tanzania)","bez":"Bena","bn-bd":"Bengali (Bangladesh)","bn-in":"Bengali (India)","bn":"Bengali","bs-ba":"Bosnian (Bosnia and Herzegovina)","bs":"Bosnian","bg-bg":"Bulgarian (Bulgaria)","bg":"Bulgarian","my-mm":"Burmese (Myanmar [Burma])","my":"Burmese","yue-hant-hk":"Cantonese (Traditional, Hong Kong SAR China)","ca-es":"Catalan (Spain)","ca":"Catalan","tzm-latn":"Central Morocco Tamazight (Latin)","tzm-latn-ma":"Central Morocco Tamazight (Latin, Morocco)","tzm":"Central Morocco Tamazight","chr-us":"Cherokee (United States)","chr":"Cherokee","cgg-ug":"Chiga (Uganda)","cgg":"Chiga","zh-hans":"Chinese (Simplified Han)","zh-hans-cn":"Chinese (Simplified Han, China)","zh-hans-hk":"Chinese (Simplified Han, Hong Kong SAR China)","zh-hans-mo":"Chinese (Simplified Han, Macau SAR China)","zh-hans-sg":"Chinese (Simplified Han, Singapore)","zh-hant":"Chinese (Traditional Han)","zh-hant-hk":"Chinese (Traditional Han, Hong Kong SAR China)","zh-hant-mo":"Chinese (Traditional Han, Macau SAR China)","zh-hant-tw":"Chinese (Traditional Han, Taiwan)","zh":"Chinese","kw-gb":"Cornish (United Kingdom)","kw":"Cornish","hr-hr":"Croatian (Croatia)","hr":"Croatian","cs-cz":"Czech (Czech Republic)","cs":"Czech","da-dk":"Danish (Denmark)","da":"Danish","nl-be":"Dutch (Belgium)","nl-nl":"Dutch (Netherlands)","nl":"Dutch","ebu-ke":"Embu (Kenya)","ebu":"Embu","en-as":"English (American Samoa)","en-au":"English (Australia)","en-be":"English (Belgium)","en-bz":"English (Belize)","en-bw":"English (Botswana)","en-ca":"English (Canada)","en-gu":"English (Guam)","en-hk":"English (Hong Kong SAR China)","en-in":"English (India)","en-ie":"English (Ireland)","en-il":"English (Israel)","en-jm":"English (Jamaica)","en-mt":"English (Malta)","en-mh":"English (Marshall Islands)","en-mu":"English (Mauritius)","en-na":"English (Namibia)","en-nz":"English (New Zealand)","en-mp":"English (Northern Mariana Islands)","en-pk":"English (Pakistan)","en-ph":"English (Philippines)","en-sg":"English (Singapore)","en-za":"English (South Africa)","en-tt":"English (Trinidad and Tobago)","en-um":"English (U.S. Minor Outlying Islands)","en-vi":"English (U.S. Virgin Islands)","en-gb":"English (United Kingdom)","en-us":"English (United States)","en-zw":"English (Zimbabwe)","en":"English","eo":"Esperanto","et-ee":"Estonian (Estonia)","et":"Estonian","ee-gh":"Ewe (Ghana)","ee-tg":"Ewe (Togo)","ee":"Ewe","fo-fo":"Faroese (Faroe Islands)","fo":"Faroese","fil-ph":"Filipino (Philippines)","fil":"Filipino","fi-fi":"Finnish (Finland)","fi":"Finnish","fr-be":"Franais (Belgium)","fr-bj":"Franais (Benin)","fr-bf":"Franais (Burkina Faso)","fr-bi":"Franais (Burundi)","fr-cm":"Franais (Cameroon)","fr-ca":"Franais (Canada)","fr-cf":"Franais (Central African Republic)","fr-td":"Franais (Chad)","fr-km":"Franais (Comoros)","fr-cg":"Franais (Congo - Brazzaville)","fr-cd":"Franais (Congo - Kinshasa)","fr-ci":"Franais (Cte dIvoire)","fr-dj":"Franais (Djibouti)","fr-gq":"Franais (Equatorial Guinea)","fr-fr":"Franais (France)","fr-ga":"Franais (Gabon)","fr-gp":"Franais (Guadeloupe)","fr-gn":"Franais (Guinea)","fr-lu":"Franais (Luxembourg)","fr-mg":"Franais (Madagascar)","fr-ml":"Franais (Mali)","fr-mq":"Franais (Martinique)","fr-mc":"Franais (Monaco)","fr-ne":"Franais (Niger)","fr-rw":"Franais (Rwanda)","fr-re":"Franais (Runion)","fr-bl":"Franais (Saint Barthlemy)","fr-mf":"Franais (Saint Martin)","fr-sn":"Franais (Senegal)","fr-ch":"Franais (Switzerland)","fr-tg":"Franais (Togo)","fr":"Franais","ff-sn":"Fulah (Senegal)","ff":"Fulah","gl-es":"Galician (Spain)","gl":"Galician","lg-ug":"Ganda (Uganda)","lg":"Ganda","ka-ge":"Georgian (Georgia)","ka":"Georgian","de-at":"Deutsch (Austria)","de-be":"Deutsch (Belgium)","de-de":"Deutsch (Germany)","de-li":"Deutsch (Liechtenstein)","de-lu":"Deutsch (Luxembourg)","de-ch":"Deutsch (Switzerland)","de":"Deutsch","el-cy":"Greek (Cyprus)","el-gr":"Greek (Greece)","el":"Greek","gu-in":"Gujarati (India)","gu":"Gujarati","guz-ke":"Gusii (Kenya)","guz":"Gusii","ha-latn":"Hausa (Latin)","ha-latn-gh":"Hausa (Latin, Ghana)","ha-latn-ne":"Hausa (Latin, Niger)","ha-latn-ng":"Hausa (Latin, Nigeria)","ha":"Hausa","haw-us":"Hawaiian (United States)","haw":"Hawaiian","he-il":"Hebrew (Israel)","he":"Hebrew","hi-in":"Hindi (India)","hi":"Hindi","hu-hu":"Hungarian (Hungary)","hu":"Hungarian","is-is":"Icelandic (Iceland)","is":"Icelandic","ig-ng":"Igbo (Nigeria)","ig":"Igbo","id-id":"Indonesian (Indonesia)","id":"Indonesian","ga-ie":"Irish (Ireland)","ga":"Irish","it-it":"Italian (Italy)","it-ch":"Italian (Switzerland)","it":"Italiano","ja-jp":" (Japan)","ja":"","kea-cv":"Kabuverdianu (Cape Verde)","kea":"Kabuverdianu","kab-dz":"Kabyle (Algeria)","kab":"Kabyle","kl-gl":"Kalaallisut (Greenland)","kl":"Kalaallisut","kln-ke":"Kalenjin (Kenya)","kln":"Kalenjin","kam-ke":"Kamba (Kenya)","kam":"Kamba","kn-in":"Kannada (India)","kn":"Kannada","kk-cyrl":"Kazakh (Cyrillic)","kk-cyrl-kz":"Kazakh (Cyrillic, Kazakhstan)","kk":"Kazakh","km-kh":"Khmer (Cambodia)","km":"Khmer","ki-ke":"Kikuyu (Kenya)","ki":"Kikuyu","rw-rw":"Kinyarwanda (Rwanda)","rw":"Kinyarwanda","kok-in":"Konkani (India)","kok":"Konkani","ko-kr":"Korean (South Korea)","ko":"Korean","khq-ml":"Koyra Chiini (Mali)","khq":"Koyra Chiini","ses-ml":"Koyraboro Senni (Mali)","ses":"Koyraboro Senni","lag-tz":"Langi (Tanzania)","lag":"Langi","lv-lv":"Latvian (Latvia)","lv":"Latvian","lt-lt":"Lithuanian (Lithuania)","lt":"Lithuanian","luo-ke":"Luo (Kenya)","luo":"Luo","luy-ke":"Luyia (Kenya)","luy":"Luyia","mk-mk":"Macedonian (Macedonia)","mk":"Macedonian","jmc-tz":"Machame (Tanzania)","jmc":"Machame","kde-tz":"Makonde (Tanzania)","kde":"Makonde","mg-mg":"Malagasy (Madagascar)","mg":"Malagasy","ms-bn":"Malay (Brunei)","ms-my":"Malay (Malaysia)","ms":"Malay","ml-in":"Malayalam (India)","ml":"Malayalam","mt-mt":"Maltese (Malta)","mt":"Maltese","gv-gb":"Manx (United Kingdom)","gv":"Manx","mr-in":"Marathi (India)","mr":"Marathi","mas-ke":"Masai (Kenya)","mas-tz":"Masai (Tanzania)","mas":"Masai","mer-ke":"Meru (Kenya)","mer":"Meru","mfe-mu":"Morisyen (Mauritius)","mfe":"Morisyen","naq-na":"Nama (Namibia)","naq":"Nama","ne-in":"Nepali (India)","ne-np":"Nepali (Nepal)","ne":"Nepali","nd-zw":"North Ndebele (Zimbabwe)","nd":"North Ndebele","nb-no":"Norwegian Bokml (Norway)","nb":"Norwegian Bokml","nn-no":"Norwegian Nynorsk (Norway)","nn":"Norwegian Nynorsk","nyn-ug":"Nyankole (Uganda)","nyn":"Nyankole","or-in":"Oriya (India)","or":"Oriya","om-et":"Oromo (Ethiopia)","om-ke":"Oromo (Kenya)","om":"Oromo","ps-af":"Pashto (Afghanistan)","ps":"Pashto","fa-af":"Persian (Afghanistan)","fa-ir":"Persian (Iran)","fa":"Persian","pl-pl":"Polish (Poland)","pl":"Polish","pt-br":"Portugus (Brasil)","pt-gw":"Portugus (Guinea-Bissau)","pt-mz":"Portugus (Mozambique)","pt-pt":"Portugus (Portugal)","pt":"Portugus","pa-arab":"Punjabi (Arabic)","pa-arab-pk":"Punjabi (Arabic, Pakistan)","pa-guru":"Punjabi (Gurmukhi)","pa-guru-in":"Punjabi (Gurmukhi, India)","pa":"Punjabi","ro-md":"Romanian (Moldova)","ro-ro":"Romanian (Romania)","ro":"Romanian","rm-ch":"Romansh (Switzerland)","rm":"Romansh","rof-tz":"Rombo (Tanzania)","rof":"Rombo","ru-md":" (Moldova)","ru-ru":" (Russia)","ru-ua":" (Ukraine)","ru":"","rwk-tz":"Rwa (Tanzania)","rwk":"Rwa","saq-ke":"Samburu (Kenya)","saq":"Samburu","sg-cf":"Sango (Central African Republic)","sg":"Sango","seh-mz":"Sena (Mozambique)","seh":"Sena","sr-cyrl":"Serbian (Cyrillic)","sr-cyrl-ba":"Serbian (Cyrillic, Bosnia and Herzegovina)","sr-cyrl-me":"Serbian (Cyrillic, Montenegro)","sr-cyrl-rs":"Serbian (Cyrillic, Serbia)","sr-latn":"Serbian (Latin)","sr-latn-ba":"Serbian (Latin, Bosnia and Herzegovina)","sr-latn-me":"Serbian (Latin, Montenegro)","sr-latn-rs":"Serbian (Latin, Serbia)","sr":"Serbian","sn-zw":"Shona (Zimbabwe)","sn":"Shona","ii-cn":"Sichuan Yi (China)","ii":"Sichuan Yi","si-lk":"Sinhala (Sri Lanka)","si":"Sinhala","sk-sk":"Slovak (Slovakia)","sk":"Slovak","sl-si":"Slovenian (Slovenia)","sl":"Slovenian","xog-ug":"Soga (Uganda)","xog":"Soga","so-dj":"Somali (Djibouti)","so-et":"Somali (Ethiopia)","so-ke":"Somali (Kenya)","so-so":"Somali (Somalia)","so":"Somali","es-ar":"Espaol (Argentina)","es-bo":"Espaol (Bolivia)","es-cl":"Espaol (Chile)","es-co":"Espaol (Colombia)","es-cr":"Espaol (Costa Rica)","es-do":"Espaol (Dominican Republic)","es-ec":"Espaol (Ecuador)","es-sv":"Espaol (El Salvador)","es-gq":"Espaol (Equatorial Guinea)","es-gt":"Espaol (Guatemala)","es-hn":"Espaol (Honduras)","es-419":"Espaol (Latin America)","es-la":"Espaol (Latin America)","es-mx":"Espaol (Mexico)","es-ni":"Espaol (Nicaragua)","es-pa":"Espaol (Panama)","es-py":"Espaol (Paraguay)","es-pe":"Espaol (Peru)","es-pr":"Espaol (Puerto Rico)","es-es":"Espaol (Espaa)","es-us":"Espaol (United States)","es-uy":"Espaol (Uruguay)","es-ve":"Espaol (Venezuela)","es":"Espaol","sw-ke":"Swahili (Kenya)","sw-tz":"Swahili (Tanzania)","sw":"Swahili","sv-fi":"Swedish (Finland)","sv-se":"Swedish (Sweden)","sv":"Swedish","gsw-ch":"Swiss Deutsch (Switzerland)","gsw":"Swiss Deutsch","shi-latn":"Tachelhit (Latin)","shi-latn-ma":"Tachelhit (Latin, Morocco)","shi-tfng":"Tachelhit (Tifinagh)","shi-tfng-ma":"Tachelhit (Tifinagh, Morocco)","shi":"Tachelhit","dav-ke":"Taita (Kenya)","dav":"Taita","ta-in":"Tamil (India)","ta-lk":"Tamil (Sri Lanka)","ta":"Tamil","te-in":"Telugu (India)","te":"Telugu","teo-ke":"Teso (Kenya)","teo-ug":"Teso (Uganda)","teo":"Teso","th-th":"Thai (Thailand)","th":"Thai","bo-cn":"Tibetan (China)","bo-in":"Tibetan (India)","bo":"Tibetan","ti-er":"Tigrinya (Eritrea)","ti-et":"Tigrinya (Ethiopia)","ti":"Tigrinya","to-to":"Tonga (Tonga)","to":"Tonga","tr-tr":"Turkish (Turkey)","tr":"Turkish","uk-ua":"Ukrainian (Ukraine)","uk":"Ukrainian","ur-in":"Urdu (India)","ur-pk":"Urdu (Pakistan)","ur":"Urdu","uz-arab":"Uzbek (Arabic)","uz-arab-af":"Uzbek (Arabic, Afghanistan)","uz-cyrl":"Uzbek (Cyrillic)","uz-cyrl-uz":"Uzbek (Cyrillic, Uzbekistan)","uz-latn":"Uzbek (Latin)","uz-latn-uz":"Uzbek (Latin, Uzbekistan)","uz":"Uzbek","vi-vn":"Vietnamese (Vietnam)","vi":"Vietnamese","vun-tz":"Vunjo (Tanzania)","vun":"Vunjo","cy-gb":"Welsh (United Kingdom)","cy":"Welsh","yo-ng":"Yoruba (Nigeria)","yo":"Yoruba","zu-za":"Zulu (South Africa)","zu":"Zulu","":""}')},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.filterState=t.filterLog=void 0;var a=n(595),o=i(n(596)),s=n(23),u=n(2),c=i(n(44));function l(e,t,n){var i;if(!n.hasGeneratedDump){var a,o=t.getState();if(!(null===(i=n.filters)||void 0===i?void 0:i.blacklist)||!s.containsRestriction(n.filters.blacklist,e.type))if(n.data.actions.length>=n.maxActions&&n.data.actions.shift(),a=[u.configurationActionCreators.extendConfig(null).type,u.configurationActionCreators.loadConfig(null).type].includes(e.type)?r(r({},e.payload),{eec:void 0,media:void 0}):e.payload,n.data.actions.push({type:e.type,payload:a}),n.data.state=o,n.sendOnError&&e.type===u.coreActionCreators.error(null).type){var l=d(n,o);c.default.dispatch(u.coreActionCreators.dumpLogs(l)),n.hasGeneratedDump=!0}}}function d(e,t){var n={log:e.data.actions,state:f(t)},r=o.default(n);return r.length>e.maxPayloadSize?r.slice(r.length-e.maxPayloadSize,r.length):r}function f(e){var t,n;return r(r({},e),{configuration:r(r({},e.configuration),{eec:r(r({},null===(t=e.configuration)||void 0===t?void 0:t.eec),{events:null}),media:null,previous:null}),core:r(r({},e.core),{dumpPayload:null}),player0:r(r({},e.player0),{cdnMetrics:r(r({},null===(n=e.player0)||void 0===n?void 0:n.cdnMetrics),{hosts:null})}),theme:r(r({},e.theme),{icons:null,profiles:null})})}t.default=function(e){return e.maxActions||(e.maxActions=500),e.hasGeneratedDump=!1,e.maxPayloadSize=1e6,e.data=[],e.data.actions=[],e.data.state=[],e.actionsBlacklist&&(e.filters={blacklist:a.arrToRegex(e.actionsBlacklist)}),function(t){return function(n){return function(r){try{void 0===e.preloadedState&&e.data&&0===e.data.length&&(e.preloadedState=t.getState());var i=n(r);return l(r,t,e),i}catch(n){throw console.error("Caught an exception!",n),l(r,t,e),n}}}}},t.filterLog=d,t.filterState=f},function(e,t,n){"use strict";t.__esModule=!0,t.FilterState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.arrToRegex=function(e){return"string"==typeof e?e:e.join("|")},t.getLocalFilter=function(e){if(e.actionsBlacklist||e.actionsWhitelist)return{whitelist:e.actionsWhitelist&&e.actionsWhitelist.join("|"),blacklist:e.actionsBlacklist&&e.actionsBlacklist.join("|")};return},t.isFiltered=d,t.filterStagedActions=function(e,t){if(!t)return e;var n=[],i=[];return e.stagedActionIds.forEach((function(r,a){d(e.actionsById[r],t)||(n.push(r),i.push(e.computedStates[a]))})),r({},e,{stagedActionIds:n,computedStates:i})},t.filterState=function(e,t,n,i,a,o,f){if("ACTION"===t)return i?i(e,o-1):e;if("STATE"!==t)return e;var p=l().filter;if(f||n||p&&p!==s.DO_NOT_FILTER){var h=[],v=[],m=a&&{},g=e.actionsById,y=e.computedStates;return e.stagedActionIds.forEach((function(e,t){var o=g[e],s=o.action,u=y[t],c=u.state;if(t){if(f&&!f(c,s))return;if(d(s,n))return}h.push(e),v.push(i?r({},u,{state:i(c,t)}):u),a&&(m[e]=r({},o,{action:a(s,e)}))})),r({},e,{actionsById:m||g,stagedActionIds:h,computedStates:v})}return i||a?r({},e,{actionsById:u(e.actionsById,a),computedStates:c(e.computedStates,i)}):e};var i,a=n(308),o=(i=a)&&i.__esModule?i:{default:i};var s=t.FilterState={DO_NOT_FILTER:"DO_NOT_FILTER",BLACKLIST_SPECIFIC:"BLACKLIST_SPECIFIC",WHITELIST_SPECIFIC:"WHITELIST_SPECIFIC"};function u(e,t){return t?(0,o.default)(e,(function(e,n){return r({},e,{action:t(e.action,n)})})):e}function c(e,t){return t?e.map((function(e,n){return r({},e,{state:t(e.state,n)})})):e}function l(){return"undefined"!=typeof window&&window.devToolsOptions||{}}function d(e,t){var n=(e.action||e).type,r=l();if(!t&&r.filter&&r.filter===s.DO_NOT_FILTER||n&&"function"!=typeof n.match)return!1;var i=t||r,a=i.whitelist,o=i.blacklist;return a&&!n.match(a)||o&&n.match(o)}},function(e,t){var n=Object.prototype.hasOwnProperty;function r(e){return"[Throws: "+(e?e.message:"?")+"]"}function i(e){var t=[];return function e(i){if(null===i||"object"!=typeof i)return i;if(-1!==t.indexOf(i))return"[Circular]";if(t.push(i),"function"==typeof i.toJSON)try{var a=e(i.toJSON());return t.pop(),a}catch(e){return r(e)}if(Array.isArray(i)){var o=i.map(e);return t.pop(),o}var s=Object.keys(i).reduce((function(t,a){return t[a]=e(function(e,t){if(n.call(e,t))try{return e[t]}catch(e){return r(e)}return e[t]}(i,a)),t}),{});return t.pop(),s}(e)}e.exports=function(e,t,n){return JSON.stringify(i(e),t,n)},e.exports.ensureProperties=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=void 0,t.all=function(e){return e.controls}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.property=t.environment=void 0;var r=n(35);t.environment=function(e){var t;switch(null===(t=e.organization)||void 0===t?void 0:t.apiDomain){case r.APIDomains.BETA_PROTO:case r.APIDomains.VRV_PROTO:return r.CrunchyrollEnv.PROTO;case r.APIDomains.BETA_STAGING:case r.APIDomains.VRV_STAGING:return r.CrunchyrollEnv.STAGING;default:return r.CrunchyrollEnv.PROD}},t.property=function(e,t){return e.ellation[t]},t.all=function(e){return e.ellation}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=void 0,t.all=function(e){return e.input}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAssetId=t.getTextMode=t.textTrackPlugin=t.all=t.property=void 0;var a=n(7),o=i(n(68));t.property=function(e,t){return e.media[t]},t.all=function(e){return e.media},t.textTrackPlugin=function(e,t){return e.media.textTrackPlugin[t]||{}},t.getTextMode=function(e){var t=e.configuration.media,n=t.externalTextTracks,i=t.playlists,s=o.default(e.configuration.user.preferredLanguage).code;if(a.environmentUtils.isIosWeb()||a.environmentUtils.isYoui()||!n[0])return a.environmentUtils.TEXT_MODE.HARDCODED;var u=null==n?void 0:n.map((function(e){return r(r({},e),{language:o.default(e.language).code})})),c=i.map((function(e){return r(r({},e),{hardsub_lang:o.default(e.hardsub_lang).code})}));return u.find((function(e){return e.language===s}))?a.environmentUtils.TEXT_MODE.EXTERNAL:c.find((function(e){return e.hardsub_lang===s}))?a.environmentUtils.TEXT_MODE.HARDCODED:a.environmentUtils.TEXT_MODE.EXTERNAL},t.getAssetId=function(e){var t=e.configuration.media.playlists.find((function(e){return!!e.src})).src,n=t.match(new RegExp("/assets/(.*?)_,","gm")).map((function(e){return e.slice("/assets/".length,-1*"_,".length)}));return n.length?n[0]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=void 0,t.all=function(e){return e.adsPlayer}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textTracks=t.activeTextTrack=t.activeTextTrackIndex=t.activeHardSubTrack=t.property=t.startTime=t.playerByName=t.all=void 0;var r=n(8),i=n(7),a=n(28);t.all=function(e){var t;return i.environmentUtils.isJest()?null!==(t=null==e?void 0:e.player0)&&void 0!==t?t:{}:e.player0},t.playerByName=function(e,t){return e[t]},t.startTime=function(e){return e.player0&&e.player0.isActive?e.player0.startTime:null},t.property=function(e,n){var r=t.all(e);return r?r[n]:null},t.activeHardSubTrack=function(e){var n=t.all(e).activeHardSubIndex;return r.mediaSelectors.all(e).orderedVideoTrackList[n]},t.activeTextTrackIndex=function(e){var n=t.all(e),r=n.activeExternalTextTrack,i=n.activeTextTrack;return n.useExternalTextTracks?r:i},t.activeTextTrack=function(e){var n=t.all(e),r=n.externalTextTracks,i=n.textTracks,o=n.useExternalTextTracks,s=t.activeTextTrackIndex(e);return s===a.TEXT_TRACK_NONE?null:o?r[s]:i[s]},t.textTracks=function(e){var n=t.all(e),r=n.externalTextTracks,i=n.textTracks;return n.useExternalTextTracks?r:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.property=void 0,t.property=function(e,t){return e.ui[t]},t.all=function(e){return e.ui}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),l=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(l(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-l)-1,p>>=-l,l+=s;l>0;a=256*a+e[t+d],d+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=r;l>0;o=256*o+e[t+d],d+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=c}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+p]=255&o,p+=h,o/=256,c-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(608);Object.defineProperty(t,"configurationMorpher",{enumerable:!0,get:function(){return r.default}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(59),s=n(203),u=n(77),c=n(43),l=n(311),d=n(35),f=n(27),p=n(28),h=n(84),v=a(n(68)),m=n(52),g=n(609),y=function(e){return function(t){var n,r=t.language,i=t.url,a=t.title,o=t.format,s=v.default(r),u=null!==(n=null!=a?a:s.desc)&&void 0!==n?n:d.UNKNOWN_LOCALE_LABEL;return{kind:e,label:u,language:s.code,type:o,src:i,cssSrc:""}}};t.default=function(e){var t,n,a,b,_,A,S,E,w,T,P,C,O={id:"",accountingId:"",environment:""},k=[],I={},x={},D={},R={},M={},N={},L={},j={},B={},U={},V={},F={ccpaDoNotSell:null!==(n=null===(t=e.privacy)||void 0===t?void 0:t.ccpa_do_not_sell)&&void 0!==n?n:null,gdprConsentString:null!==(b=null===(a=e.privacy)||void 0===a?void 0:a.gdpr_consent_string)&&void 0!==b?b:null,isGDPR:null!==(A=null===(_=e.privacy)||void 0===_?void 0:_.is_gdpr)&&void 0!==A?A:"0"},H={},G={},W={};if(e.version>=4)return e;if(e.client){var z=(X=e.client).includes("crunchyroll")?"crunchyroll":"vrv";g.set(O,"id",X),g.set(O,"accountingId",z)}var K,Y=g.get(e,"analytics.legacy.url")||"",q=g.get(e,"analytics.segment.api_host");if(K=/proto/.test(Y)||/proto/.test(q)?d.CrunchyrollEnv.PROTO:/stage.crunchyroll.com/.test(Y)||/staging/.test(q)?d.CrunchyrollEnv.STAGING:d.CrunchyrollEnv.PROD,g.set(O,"environment",K),e.analytics){var X=e.analytics,Z=g.get(X,"user_id");if(Z&&g.set(G,"id",Z),g.set(M,"anonymousId",g.get(X,"anonymous_id")||""),g.set(x,"conviva.enable.added",g.get(X,"convivaEnabled.enable.added")),e.analytics.segment){g.set(M,"enabled",!0),g.set(M,"apiKey",g.get(X.segment,"write_key")),g.set(M,"scriptHost",g.get(X.segment,"lib_host")),g.set(M,"events",g.get(X,"events"));var Q=void 0;q?Q=q:/proto/.test(Y)?Q=l.EllationEecHost.CR_ETP_PROTO0:/stage/.test(Y)?Q=l.EllationEecHost.CR_ETP_STAGING:/www.crunchyroll/.test(Y)&&(Q=l.EllationEecHost.CR_ETP_PROD),g.set(M,"apiHost",Q)}g.set(N,"enabled",!0),g.set(N,"heartbeatInterval",30)}var J=[];if(e.user){X=e.user;g.get(X,"mature_allowed")&&J.push(c.ContentRestriction.MATURE),g.get(X,"is_premium")&&J.push(c.ContentRestriction.PREMIUM)}g.get(e,"media.ad_breaks")&&0!==g.get(e,"media.ad_breaks").length||J.push(c.ContentRestriction.PREMIUM),g.set(G,"allowedRestrictions",J);var $=g.get(e,"ads.pidEndpointOverride")||"",ee=function(e){var t,n=m.getQueryParamValue(s.VendriQueryParamName.PID);return s.allowedQueryParams.includes(n)&&n||(null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.pub_id)||""}(e);k=(k=g.get(e,"media.ad_breaks")||[]).map((function(e){return r(r({},e),{offset:e.offset/1e3})})),g.set(I,"adBreaks",k),g.set(I,"pidEndpointOverride",$),g.set(I,"pubId",ee);var te,ne,re,ie="cx-web"===e.client||m.getQueryParamValue(u.QueryParamName.AD_TECH)===o.AdTech.YOSPACE?"Yospace":g.get(e,"ads.adTech")||"Vendri";if(g.set(I,"adTech",ie),e.media){X=e.media;e.analytics&&g.set(j,"reportingParent",g.get(e.analytics,"media_reporting_parent"));var ae=(g.get(X,"streams")||[]).map((function(e){var t=e.audio_lang,n=e.format,r=e.hardsub_lang,i=e.url,a=n.includes("drm"),o=null,s=n.includes("vo_");if(!i)return null;if(n.includes("_dash"))o=f.StreamType.DASH;else if(n.includes("_hls"))o=f.StreamType.HLS;else{if(!n.includes("_mp4"))return null;o=f.StreamType.MP4}return{drm:a,isSSAICompatible:s,mime_type:o,multitrack:n.includes("multitrack"),language:t?v.default(t).code:"",hardsub_lang:r?v.default(r).code:"",src:i}})).filter(Boolean);if(g.set(j,"playlists",ae),null===(S=e.media.preview)||void 0===S?void 0:S.src){var oe=[{src:e.media.preview.src}];g.set(j,"previews",oe)}var se=g.get(X,"subtitles")||[],ue=(re=g.get(X,"captions")||[],Array.isArray(re)?re:Object.values(re)),ce=i(se.map(y(p.TextTrackKind.SUBTITLES)),ue.map(y(p.TextTrackKind.CAPTIONS))).map((function(e,t){return r(r({},e),{index:t})}));if(g.set(j,"externalTextTracks",ce),e.media.metadata){var le=e.media.metadata,de=[],fe=g.get(le,"display_episode_number"),pe=fe?String(fe):void 0,he=g.get(le,"episode_number"),ve=isNaN(parseInt(he))?void 0:parseInt(he),me=g.get(le,"type");"extra_video"===me&&(me="extra");var ge=g.get(le,"title");ge||"episode"!==me||(ge=g.get(le,"episode_title")),g.set(B,"id",g.get(le,"id")),g.set(B,"channelId",g.get(le,"channel_id")),g.set(B,"channelName",g.get(le,"channel_name")),g.set(B,"description",g.get(le,"description")),g.set(B,"distributionNumber",pe),g.set(B,"duration",g.get(le,"duration")),g.set(B,"releaseDate",g.get(le,"release_date")),g.set(B,"seasonNumber",g.get(le,"season_number")),g.set(B,"seasonTitle",g.get(le,"season_title")),g.set(B,"sequenceNumber",ve),g.set(B,"seriesId",g.get(le,"series_id")),g.set(B,"seriesTitle",g.get(le,"series_title")),g.set(B,"title",ge),g.set(B,"type",me),g.get(le,"is_mature")&&de.push(c.ContentRestriction.MATURE),g.get(le,"is_premium_only")&&de.push(c.ContentRestriction.PREMIUM),g.set(B,"restrictions",de);var ye=g.get(e.media,"thumbnail");if(ye&&ye.url){var be=(te=ye.width,ne=ye.height,te?te>ne?"landscape":"portrait":"landscape");g.set(j,"images",[{height:ye.height,mediaId:g.get(le,"id"),mediaType:me,orientation:be,src:ye.url,width:ye.width}])}else g.set(j,"images",[])}}var _e,Ae=e.organization||e.player.organization||{};if(_e=g.get(Ae,"api_domain")?g.get(Ae,"api_domain").replace("https://",""):/proto/.test(Y)?d.APIDomains.BETA_PROTO:/proto/.test(q)?d.APIDomains.VRV_PROTO:/stage.crunchyroll.com/.test(Y)?d.APIDomains.BETA_STAGING:/staging/.test(q)?d.APIDomains.VRV_STAGING:/www.crunchyroll.com/.test(Y)?d.APIDomains.BETA_PROD:d.APIDomains.VRV_PROD,g.set(U,"apiDomain",_e),e.player){X=e.player;var Se=g.get(X,"start_offset")||0;g.set(V,"startTime",Se/1e3),g.set(G,"preferredLanguage",v.default(X.language).code);var Ee=[d.APIDomains.BETA_PROTO,d.APIDomains.BETA_STAGING,d.APIDomains.VRV_PROTO,d.APIDomains.VRV_STAGING].includes(_e)?d.DRMLicenseHosts.STAGING:d.DRMLicenseHosts.PROD;g.set(R,"fairPlayCertificateURL",Ee+d.DRM_CERTIFICATE_ENDPOINT),g.set(R,"fairPlayLicenseURL",Ee+d.DRMLicenseEndpoints[h.DRM.FAIRPLAY]),g.set(R,"playReadyLicenseURL",Ee+d.DRMLicenseEndpoints[h.DRM.PLAYREADY]),g.set(R,"widevineLicenseURL",Ee+d.DRMLicenseEndpoints[h.DRM.WIDEVINE]),g.set(R,"widevineRobustness",h.WidevineRobustness.SW_SECURE_CRYPTO);var we=e.player.DRM||{},Te=!!g.get(we,"DASH")||!!g.get(we,"HLS")?"if-available":"never";g.set(R,"policy",Te);var Pe=g.get(V,"shakaConfig");Pe=Pe?r(r({},Pe),{streaming:r(r({},Pe.streaming),{smallGapLimit:2})}):{streaming:{bufferingGoal:180,rebufferingGoal:2,smallGapLimit:2},manifest:{dash:{ignoreMinBufferTime:!0}},abr:{switchInterval:4,defaultBandwidthEstimate:2e6}},g.set(H,"config",Pe)}if("crunchyroll-web"===e.client?g.set(L,"enabled",!0):g.set(L,"enabled",!1),g.set(L,"interval",30),e.yospace){var Ce=e.yospace.params;g.set(W,"params",Ce)}var Oe={enabled:null!==(w=null===(E=e.a9)||void 0===E?void 0:E.enabled)&&void 0!==w&&w};return(null===(T=e.controls)||void 0===T?void 0:T.inactivity_timeout)&&g.set(D,"inactivityTimeout",e.controls.inactivity_timeout),{a9:Oe,ads:I,analytics:x,audio:{},client:O,controls:D,drm:R,eec:M,ellationAnalytics:N,ellationPlayhead:L,metadata:B,media:j,organization:U,player:V,privacy:F,shaka:H,upNextMetadata:null===(C=null===(P=e.media)||void 0===P?void 0:P.metadata)||void 0===C?void 0:C.up_next,user:G,version:4,yospace:W}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=t.get=void 0;t.get=function(e,t){if(!e)return null;if(!t)return null;"string"==typeof t&&(t=t.split("."));try{for(;t.length;){var n=t.shift();if(!t.length)return e[n];e=e[n]}}catch(e){return null}};t.set=function(e,t,n){if(!e)return!1;if(!t)return!1;"string"==typeof t&&(t=t.split("."));try{for(;t.length;){var r=t.shift();if(!t.length)return e[r]=n,!0;e[r]||(Number.isNaN(Number(r))?e[r]={}:e[r]=[]),e=e[r]}}catch(e){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={octet2text:function(e){return e.reduce((function(e,t){return e+String.fromCharCode(t)}))},text2octet:function(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={splitOn:function(e,t){return e.match(/.{1,300}/g)}}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAndValidate=t.validate=t.merge=void 0;var i=r(n(313)),a=r(n(646)),o=new i.default,s=function(e,t){return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.default.all(e,{arrayMerge:s})};t.merge=u;var c=function(e,t){if(!o.validate(e,t))throw console.warn("Invalid configuration",JSON.stringify(t,null," ")),new Error("validation failure:"+o.errorsText());return t};t.validate=c;t.mergeAndValidate=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return c(e,u.apply(void 0,t))}},function(e,t,n){"use strict";var r=n(204),i=n(99),a=n(206),o=n(315),s=n(316),u=i.ucs2length,c=n(205),l=a.Validation;function d(e,t,n){var r=p.call(this,e,t,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:e,root:t,baseId:n},{index:r,compiling:!1})}function f(e,t,n){var r=p.call(this,e,t,n);r>=0&&this._compilations.splice(r,1)}function p(e,t,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==e&&i.root==t&&i.baseId==n)return r}return-1}function h(e,t){return"var pattern"+e+" = new RegExp("+i.toQuotedString(t[e])+");"}function v(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function y(e,t){if(!e.length)return"";for(var n="",r=0;r<e.length;r++)n+=t(r,e);return n}e.exports=function e(t,n,p,b){var _=this,A=this._opts,S=[void 0],E={},w=[],T={},P=[],C={},O=[];n=n||{schema:t,refVal:S,refs:E};var k=d.call(this,t,n,b),I=this._compilations[k.index];if(k.compiling)return I.callValidate=function e(){var t=I.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var x=this._formats,D=this.RULES;try{var R=N(t,n,p,b);I.validate=R;var M=I.callValidate;return M&&(M.schema=R.schema,M.errors=null,M.refs=R.refs,M.refVal=R.refVal,M.root=R.root,M.$async=R.$async,A.sourceCode&&(M.source=R.source)),R}finally{f.call(this,t,n,b)}function N(t,o,d,f){var p=!o||o&&o.schema==t;if(o.schema!=n.schema)return e.call(_,t,o,d,f);var b,T=!0===t.$async,C=s({isTop:!0,schema:t,isRoot:p,baseId:f,root:o,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:D,validate:s,util:i,resolve:r,resolveRef:L,usePattern:U,useDefault:V,useCustomRule:F,opts:A,formats:x,logger:_.logger,self:_});C=y(S,m)+y(w,h)+y(P,v)+y(O,g)+C,A.processCode&&(C=A.processCode(C,t));try{b=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",C)(_,D,x,n,S,P,O,c,u,l),S[0]=b}catch(e){throw _.logger.error("Error compiling schema, function code:",C),e}return b.schema=t,b.errors=null,b.refs=E,b.refVal=S,b.root=p?b:o,T&&(b.$async=!0),!0===A.sourceCode&&(b.source={code:C,patterns:w,defaults:P}),b}function L(t,i,a){i=r.url(t,i);var o,s,u=E[i];if(void 0!==u)return B(o=S[u],s="refVal["+u+"]");if(!a&&n.refs){var c=n.refs[i];if(void 0!==c)return B(o=n.refVal[c],s=j(i,o))}s=j(i);var l=r.call(_,N,n,i);if(void 0===l){var d=p&&p[i];d&&(l=r.inlineRef(d,A.inlineRefs)?d:e.call(_,d,n,p,t))}if(void 0!==l)return function(e,t){var n=E[e];S[n]=t}(i,l),B(l,s);!function(e){delete E[e]}(i)}function j(e,t){var n=S.length;return S[n]=t,E[e]=n,"refVal"+n}function B(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function U(e){var t=T[e];return void 0===t&&(t=T[e]=w.length,w[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return i.toQuotedString(e);case"object":if(null===e)return"null";var t=o(e),n=C[t];return void 0===n&&(n=C[t]=P.length,P[n]=e),"default"+n}}function F(e,t,n,r){if(!1!==_._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var a=e.definition.validateSchema;if(a)if(!a(t)){var o="keyword schema is invalid: "+_.errorsText(a.errors);if("log"!=_._opts.validateSchema)throw new Error(o);_.logger.error(o)}}var s,u=e.definition.compile,c=e.definition.inline,l=e.definition.macro;if(u)s=u.call(_,t,n,r);else if(l)s=l.call(_,t,n,r),!1!==A.validateSchema&&_.validateSchema(s,!0);else if(c)s=c.call(_,r,e.keyword,t,n);else if(!(s=e.definition.validate))return;if(void 0===s)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=O.length;return O[d]=s,{code:"customRule"+d,validate:s}}}},function(e,t,n){
/** @license URI.js v4.4.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",u=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),l=n(n(i+"|"+t(u,a,"[\\:]"))+"*"),d=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),f=n(d+"\\."+d+"\\."+d+"\\."+d),p=n(r+"{1,4}"),h=n(n(p+"\\:"+p)+"|"+f),v=n(n(p+"\\:")+"{6}"+h),m=n("\\:\\:"+n(p+"\\:")+"{5}"+h),g=n(n(p)+"?\\:\\:"+n(p+"\\:")+"{4}"+h),y=n(n(n(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+n(p+"\\:")+"{3}"+h),b=n(n(n(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+n(p+"\\:")+"{2}"+h),_=n(n(n(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+h),A=n(n(n(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+h),S=n(n(n(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),E=n(n(n(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),w=n([v,m,g,y,b,_,A,S,E].join("|")),T=n(n(u+"|"+i)+"+"),P=(n(w+"\\%25"+T),n(w+n("\\%25|\\%(?!"+r+"{2})")+T)),C=n("[vV]"+r+"+\\."+t(u,a,"[\\:]")+"+"),O=n("\\["+n(P+"|"+w+"|"+C)+"\\]"),k=n(n(i+"|"+t(u,a))+"*"),I=n(O+"|"+f+"(?!"+k+")|"+k),x=n("[0-9]*"),D=n(n(l+"@")+"?"+I+n("\\:"+x)+"?"),R=n(i+"|"+t(u,a,"[\\:\\@]")),M=n(R+"*"),N=n(R+"+"),L=n(n(i+"|"+t(u,a,"[\\@]"))+"+"),j=n(n("\\/"+M)+"*"),B=n("\\/"+n(N+j)+"?"),U=n(L+j),V=n(N+j),F="(?!"+R+")",H=(n(j+"|"+B+"|"+U+"|"+V+"|"+F),n(n(R+"|"+t("[\\/\\?]",s))+"*")),G=n(n(R+"|[\\/\\?]")+"*"),W=n(n("\\/\\/"+D+j)+"|"+B+"|"+V+"|"+F),z=n(c+"\\:"+W+n("\\?"+H)+"?"+n("\\#"+G)+"?"),K=n(n("\\/\\/"+D+j)+"|"+B+"|"+U+"|"+F),Y=n(K+n("\\?"+H)+"?"+n("\\#"+G)+"?");return n(z+"|"+Y),n(c+"\\:"+W+n("\\?"+H)+"?"),n(n("\\/\\/("+n("("+l+")@")+"?("+I+")"+n("\\:("+x+")")+"?)")+"?("+j+"|"+B+"|"+V+"|"+F+")"),n("\\?("+H+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+l+")@")+"?("+I+")"+n("\\:("+x+")")+"?)")+"?("+j+"|"+B+"|"+U+"|"+F+")"),n("\\?("+H+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+l+")@")+"?("+I+")"+n("\\:("+x+")")+"?)")+"?("+j+"|"+B+"|"+V+"|"+F+")"),n("\\?("+H+")"),n("\\#("+G+")"),n("("+l+")@"),n("\\:("+x+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",u,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+T+")")+"?\\]?$")}}var o=a(!1),s=a(!0),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,l=/^xn--/,d=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,v=String.fromCharCode;function m(e){throw new RangeError(p[e])}function g(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(f,".")).split("."),t).join(".");return r+i}function y(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},_=function(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))},A=function(e){var t,n=[],r=e.length,i=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&m("not-basic"),n.push(e.charCodeAt(u));for(var l=s>0?s+1:0;l<r;){for(var d=i,f=1,p=36;;p+=36){l>=r&&m("invalid-input");var v=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(v>=36||v>h((c-i)/f))&&m("overflow"),i+=v*f;var g=p<=o?1:p>=o+26?26:p-o;if(v<g)break;var y=36-g;f>h(c/y)&&m("overflow"),f*=y}var b=n.length+1;o=_(i-d,b,0==d),h(i/b)>c-a&&m("overflow"),a+=h(i/b),i%=b,n.splice(i++,0,a)}return String.fromCodePoint.apply(String,n)},S=function(e){var t=[],n=(e=y(e)).length,r=128,i=0,a=72,o=!0,s=!1,u=void 0;try{for(var l,d=e[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var f=l.value;f<128&&t.push(v(f))}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}var p=t.length,g=p;for(p&&t.push("-");g<n;){var A=c,S=!0,E=!1,w=void 0;try{for(var T,P=e[Symbol.iterator]();!(S=(T=P.next()).done);S=!0){var C=T.value;C>=r&&C<A&&(A=C)}}catch(e){E=!0,w=e}finally{try{!S&&P.return&&P.return()}finally{if(E)throw w}}var O=g+1;A-r>h((c-i)/O)&&m("overflow"),i+=(A-r)*O,r=A;var k=!0,I=!1,x=void 0;try{for(var D,R=e[Symbol.iterator]();!(k=(D=R.next()).done);k=!0){var M=D.value;if(M<r&&++i>c&&m("overflow"),M==r){for(var N=i,L=36;;L+=36){var j=L<=a?1:L>=a+26?26:L-a;if(N<j)break;var B=N-j,U=36-j;t.push(v(b(j+B%U,0))),N=h(B/U)}t.push(v(b(N,0))),a=_(i,O,g==p),i=0,++g}}}catch(e){I=!0,x=e}finally{try{!k&&R.return&&R.return()}finally{if(I)throw x}}++i,++r}return t.join("")},E=function(e){return g(e,(function(e){return d.test(e)?"xn--"+S(e):e}))},w=function(e){return g(e,(function(e){return l.test(e)?A(e.slice(4).toLowerCase()):e}))},T={};function P(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function C(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var a=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var o=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function O(e,t){function n(e){var n=C(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,P).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,P).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,P).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,P).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,P).replace(t.PCT_ENCODED,i)),e}function k(e){return e.replace(/^0*(.*)/,"$1")||"0"}function I(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=u(n,2)[1];return r?r.split(".").map(k).join("."):e}function x(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=u(n,3),i=r[1],a=r[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),c=s[0],l=s[1],d=l?l.split(":").map(k):[],f=c.split(":").map(k),p=t.IPV4ADDRESS.test(f[f.length-1]),h=p?7:8,v=f.length-h,m=Array(h),g=0;g<h;++g)m[g]=d[g]||f[v+g]||"";p&&(m[h-1]=I(m[h-1],t));var y=m.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var _=m.slice(0,y.index),A=m.slice(y.index+y.length);b=_.join(":")+"::"+A.join(":")}else b=m.join(":");return a&&(b+="%"+a),b}return e}var D=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,R=void 0==="".match(/(){0}/)[1];function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(D);if(i){R?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=x(I(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var a=T[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)O(n,r);else{if(n.host&&(t.domainHost||a&&a.domainHost))try{n.host=E(n.host.replace(r.PCT_ENCODED,C).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(n,o)}a&&a.parse&&a.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function N(e,t){var n=!1!==t.iri?s:o,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(x(I(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}var L=/^\.\.?\//,j=/^\/\.(\/|$)/,B=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function V(e){for(var t=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(j))e=e.replace(j,"/");else if(e.match(B))e=e.replace(B,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(U);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:o,r=[],i=T[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?w(e.host):E(e.host.replace(n.PCT_ENCODED,C).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}O(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=N(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var u=e.path;t.absolutePath||i&&i.absolutePath||(u=V(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),r.push(u)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=M(F(e,n),n),t=M(F(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=V(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=V(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=V(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=V(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function G(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,C)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function K(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Y={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=K(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(K(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=u(n,2),i=r[0],a=r[1];e.path=i&&"/"!==i?i:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},q={scheme:"wss",domainHost:Y.domainHost,parse:Y.parse,serialize:Y.serialize},X={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",J=n(n("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+n("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+n("%"+Q+Q)),$=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(Z,"g"),te=new RegExp(J,"g"),ne=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',$),"g"),re=new RegExp(t("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=re;function ae(e){var t=C(e);return t.match(ee)?t:e}var oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,a={},o=n.query.split("&"),s=0,u=o.length;s<u;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var l=c[1].split(","),d=0,f=l.length;d<f;++d)r.push(l[d]);break;case"subject":n.subject=G(c[1],t);break;case"body":n.body=G(c[1],t);break;default:i=!0,a[G(c[0],t)]=G(c[1],t)}}i&&(n.headers=a)}n.query=void 0;for(var p=0,h=r.length;p<h;++p){var v=r[p].split("@");if(v[0]=G(v[0]),t.unicodeSupport)v[1]=G(v[1],t).toLowerCase();else try{v[1]=E(G(v[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[p]=v.join("@")}return n},serialize:function(e,t){var n,r=e,a=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(a){for(var o=0,s=a.length;o<s;++o){var u=String(a[o]),c=u.lastIndexOf("@"),l=u.slice(0,c).replace(te,ae).replace(te,i).replace(ne,P),d=u.slice(c+1);try{d=t.iri?w(d):E(G(d,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=l+"@"+d}r.path=a.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var p=[];for(var h in f)f[h]!==X[h]&&p.push(h.replace(te,ae).replace(te,i).replace(re,P)+"="+f[h].replace(te,ae).replace(te,i).replace(ie,P));return p.length&&(r.query=p.join("&")),r}},se=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),r=e;if(n){var i=t.scheme||r.scheme||"urn",a=n[1].toLowerCase(),o=n[2],s=i+":"+(t.nid||a),u=T[s];r.nid=a,r.nss=o,r.path=void 0,u&&(r=u.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),a=T[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,le={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ce)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};T[W.scheme]=W,T[z.scheme]=z,T[Y.scheme]=Y,T[q.scheme]=q,T[oe.scheme]=oe,T[ue.scheme]=ue,T[le.scheme]=le,e.SCHEMES=T,e.pctEncChar=P,e.pctDecChars=C,e.parse=M,e.removeDotSegments=V,e.serialize=F,e.resolveComponents=H,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return F(H(M(e,r),M(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=F(M(e,t),t):"object"===r(e)&&(e=M(F(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=F(M(e,n),n):"object"===r(e)&&(e=F(e,n)),"string"==typeof t?t=F(M(t,n),n):"object"===r(t)&&(t=F(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,P)},e.unescapeComponent=G,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,r=e.length,i=0;i<r;)n++,(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r&&56320==(64512&(t=e.charCodeAt(i)))&&i++;return n}},function(e,t,n){"use strict";var r=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,i,a,o,s,u,c,l,d){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var f in n(a,o,s,u,c,l,d),a){var p=a[f];if(Array.isArray(p)){if(f in r.arrayKeywords)for(var h=0;h<p.length;h++)e(t,n,i,p[h],o+"/"+f+"/"+h,s,o,f,a,h)}else if(f in r.propsKeywords){if(p&&"object"==typeof p)for(var v in p)e(t,n,i,p[v],o+"/"+f+"/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,f,a,v)}else(f in r.keywords||t.allKeys&&!(f in r.skipKeywords))&&e(t,n,i,p,o+"/"+f,s,o,f,a)}i(a,o,s,u,c,l,d)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var r=e.exports=function(){this._cache={}};r.prototype.put=function(e,t){this._cache[e]=t},r.prototype.get=function(e){return this._cache[e]},r.prototype.del=function(e){delete this._cache[e]},r.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var r=n(99),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,s=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,u=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,f=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,h=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function v(e){return e="full"==e?"full":"fast",r.copy(v[e])}function m(e){var t=e.match(i);if(!t)return!1;var n=+t[1],r=+t[2],o=+t[3];return r>=1&&r<=12&&o>=1&&o<=(2==r&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:a[r])}function g(e,t){var n=e.match(o);if(!n)return!1;var r=n[1],i=n[2],a=n[3],s=n[5];return(r<=23&&i<=59&&a<=59||23==r&&59==i&&60==a)&&(!t||s)}e.exports=v,v.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:A,uuid:d,"json-pointer":f,"json-pointer-uri-fragment":p,"relative-json-pointer":h},v.full={date:m,time:g,"date-time":function(e){var t=e.split(y);return 2==t.length&&m(t[0])&&g(t[1],!0)},uri:function(e){return b.test(e)&&u.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:l,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:A,uuid:d,"json-pointer":f,"json-pointer-uri-fragment":p,"relative-json-pointer":h};var y=/t|\s/i;var b=/\/|:/;var _=/[^\\]\\Z/;function A(e){if(_.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(620),i=n(99).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=i(t),e.types=i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var i;if("object"==typeof n){var a=Object.keys(n)[0];i=n[a],n=a,i.forEach((function(n){t.push(n),e.all[n]=!0}))}return t.push(n),e.all[n]={keyword:n,code:r[n],implements:i}})),e.all.$comment={keyword:"$comment",code:r.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=i(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(621),allOf:n(622),anyOf:n(623),$comment:n(624),const:n(625),contains:n(626),dependencies:n(627),enum:n(628),format:n(629),if:n(630),items:n(631),maximum:n(317),minimum:n(317),maxItems:n(318),minItems:n(318),maxLength:n(319),minLength:n(319),maxProperties:n(320),minProperties:n(320),multipleOf:n(632),not:n(633),oneOf:n(634),pattern:n(635),properties:n(636),propertyNames:n(637),required:n(638),uniqueItems:n(639),validate:n(316)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(s||""),f="valid"+o;if("#"==u||"#/"==u)e.isRoot?(r=e.async,i="validate"):(r=!0===e.root.schema.$async,i="root.refVal[0]");else{var p=e.resolveRef(e.baseId,u,e.isRoot);if(void 0===p){var h=e.MissingRefError.message(e.baseId,u);if("fail"==e.opts.missingRefs){e.logger.error(h),(y=y||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(u)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(u)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(u)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var v=a;a=y.pop(),!e.compositeRule&&l?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(a+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,u,h);e.logger.warn(h),l&&(a+=" if (true) { ")}}else if(p.inline){var m=e.util.copy(e);m.level++;var g="valid"+m.level;m.schema=p.schema,m.schemaPath="",m.errSchemaPath=u,a+=" "+e.validate(m).replace(/validate\.schema/g,p.code)+" ",l&&(a+=" if ("+g+") { ")}else r=!0===p.$async||e.async&&!1!==p.$async,i=p.code}if(i){var y;(y=y||[]).push(a),a="",e.opts.passContext?a+=" "+i+".call(this, ":a+=" "+i+"( ",a+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=y.pop(),r){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(a+=" var "+f+"; "),a+=" try { await "+b+"; ",l&&(a+=" "+f+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(a+=" "+f+" = false; "),a+=" } ",l&&(a+=" if ("+f+") { ")}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(a+=" else { ")}return a}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var l="valid"+u.level,d=u.baseId,f=!0,p=i;if(p)for(var h,v=-1,m=p.length-1;v<m;)h=p[v+=1],(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:e.util.schemaHasRules(h,e.RULES.all))&&(f=!1,u.schema=h,u.schemaPath=a+"["+v+"]",u.errSchemaPath=o+"/"+v,r+="  "+e.validate(u)+" ",u.baseId=d,s&&(r+=" if ("+l+") { ",c+="}"));return s&&(r+=f?" if (true) { ":" "+c.slice(0,-1)+" "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var m=p.baseId;r+=" var "+f+" = errors; var "+d+" = false;  ";var g=e.compositeRule;e.compositeRule=p.compositeRule=!0;var y=o;if(y)for(var b,_=-1,A=y.length-1;_<A;)b=y[_+=1],p.schema=b,p.schemaPath=s+"["+_+"]",p.errSchemaPath=u+"/"+_,r+="  "+e.validate(p)+" ",p.baseId=m,r+=" "+d+" = "+d+" || "+v+"; if (!"+d+") { ",h+="}";e.compositeRule=p.compositeRule=g,r+=" "+h+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else c&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.schema[t],a=e.errSchemaPath+"/"+t,o=(e.opts.allErrors,e.util.toQuotedString(i));return!0===e.opts.$comment?r+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(r+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),f||(r+=" var schema"+i+" = validate.schema"+s+";"),r+="var "+d+" = equal("+l+", schema"+i+"); if (!"+d+") {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var h=r;return r=p.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+h+"]); ":r+=" validate.errors = ["+h+"]; return false; ":r+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v="i"+i,m=p.dataLevel=e.dataLevel+1,g="data"+m,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+f+" = errors;var "+d+";",b){var _=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+=" var "+h+" = false; for (var "+v+" = 0; "+v+" < "+l+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0);var A=l+"["+v+"]";p.dataPathArr[m]=v;var S=e.validate(p);p.baseId=y,e.util.varOccurences(S,g)<2?r+=" "+e.util.varReplace(S,g,A)+" ":r+=" var "+g+" = "+A+"; "+S+" ",r+=" if ("+h+") break; }  ",e.compositeRule=p.compositeRule=_,r+="  if (!"+h+") {"}else r+=" if ("+l+".length == 0) {";var E=E||[];E.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var w=r;return r=E.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",b&&(r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="errs__"+i,f=e.util.copy(e),p="";f.level++;var h="valid"+f.level,v={},m={},g=e.opts.ownProperties;for(A in o)if("__proto__"!=A){var y=o[A],b=Array.isArray(y)?m:v;b[A]=y}r+="var "+d+" = errors;";var _=e.errorPath;for(var A in r+="var missing"+i+";",m)if((b=m[A]).length){if(r+=" if ( "+l+e.util.getProperty(A)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(A)+"') "),c){r+=" && ( ";var S=b;if(S)for(var E=-1,w=S.length-1;E<w;){I=S[E+=1],E&&(r+=" || "),r+=" ( ( "+(M=l+(R=e.util.getProperty(I)))+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(I)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?I:R)+") ) "}r+=")) {  ";var T="missing"+i,P="' + "+T+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,T,!0):_+" + "+T);var C=C||[];C.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(A)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var O=r;r=C.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var k=b;if(k)for(var I,x=-1,D=k.length-1;x<D;){I=k[x+=1];var R=e.util.getProperty(I),M=(P=e.util.escapeQuotes(I),l+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,I,e.opts.jsonPointers)),r+=" if ( "+M+" === undefined ",g&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(I)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(A)+"', missingProperty: '"+P+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(r+=" , message: 'should have ",1==b.length?r+="property "+e.util.escapeQuotes(b[0]):r+="properties "+e.util.escapeQuotes(b.join(", ")),r+=" when property "+e.util.escapeQuotes(A)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",c&&(p+="}",r+=" else { ")}e.errorPath=_;var N=f.baseId;for(var A in v){y=v[A];(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(r+=" "+h+" = true; if ( "+l+e.util.getProperty(A)+" !== undefined ",g&&(r+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(A)+"') "),r+=") { ",f.schema=y,f.schemaPath=s+e.util.getProperty(A),f.errSchemaPath=u+"/"+e.util.escapeFragment(A),r+="  "+e.validate(f)+" ",f.baseId=N,r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}"))}return c&&(r+="   "+p+" if ("+d+" == errors) {"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+i,h="schema"+i;f||(r+=" var "+h+" = validate.schema"+s+";"),r+="var "+d+";",f&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=d+" = false;for (var "+p+"=0; "+p+"<"+h+".length; "+p+"++) if (equal("+l+", "+h+"["+p+"])) { "+d+" = true; break; }",f&&(r+="  }  "),r+=" if (!"+d+") {   ";var v=v||[];v.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var m=r;return r=v.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||"");if(!1===e.opts.format)return c&&(r+=" if (true) { "),r;var d,f=e.opts.$data&&o&&o.$data;f?(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",d="schema"+i):d=o;var p=e.opts.unknownFormats,h=Array.isArray(p);if(f){r+=" var "+(v="format"+i)+" = formats["+d+"]; var "+(m="isObject"+i)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(g="formatType"+i)+" = "+m+" && "+v+".type || 'string'; if ("+m+") { ",e.async&&(r+=" var async"+i+" = "+v+".async; "),r+=" "+v+" = "+v+".validate; } if (  ",f&&(r+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),r+=" (","ignore"!=p&&(r+=" ("+d+" && !"+v+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),r+=") || "),r+=" ("+v+" && "+g+" == '"+n+"' && !(typeof "+v+" == 'function' ? ",e.async?r+=" (async"+i+" ? await "+v+"("+l+") : "+v+"("+l+")) ":r+=" "+v+"("+l+") ",r+=" : "+v+".test("+l+"))))) {"}else{var v;if(!(v=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(r+=" if (true) { "),r;if(h&&p.indexOf(o)>=0)return c&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,g=(m="object"==typeof v&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(m){var y=!0===v.async;v=v.validate}if(g!=n)return c&&(r+=" if (true) { "),r;if(y){if(!e.async)throw new Error("async format in sync schema");r+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+l+"))) { "}else{r+=" if (! ";var b="formats"+e.util.getProperty(o);m&&(b+=".validate"),r+="function"==typeof v?" "+b+"("+l+") ":" "+b+".test("+l+") ",r+=") { "}}var _=_||[];_.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",r+=f?""+d:""+e.util.toQuotedString(o),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match format \"",r+=f?"' + "+d+" + '":""+e.util.escapeQuotes(o),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=f?"validate.schema"+s:""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var A=r;return r=_.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",c&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f="errs__"+i,p=e.util.copy(e);p.level++;var h="valid"+p.level,v=e.schema.then,m=e.schema.else,g=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),y=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=p.baseId;if(g||y){var _;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+=" var "+f+" = errors; var "+d+" = true;  ";var A=e.compositeRule;e.compositeRule=p.compositeRule=!0,r+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,r+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=A,g?(r+=" if ("+h+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+d+" = "+h+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'then'; ":_="'then'",r+=" } ",y&&(r+=" else { ")):r+=" if (!"+h+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(p)+" ",p.baseId=b,r+=" "+d+" = "+h+"; ",g&&y?r+=" var "+(_="ifClause"+i)+" = 'else'; ":_="'else'",r+=" } "),r+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+_+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match \"' + "+_+" + '\" schema' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",c&&(r+=" else { ")}else c&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m="i"+i,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(r+="var "+f+" = errors;var "+d+";",Array.isArray(o)){var _=e.schema.additionalItems;if(!1===_){r+=" "+d+" = "+l+".length <= "+o.length+"; ";var A=u;u=e.errSchemaPath+"/additionalItems",r+="  if (!"+d+") {   ";var S=S||[];S.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var E=r;r=S.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u=A,c&&(h+="}",r+=" else { ")}var w=o;if(w)for(var T,P=-1,C=w.length-1;P<C;)if(T=w[P+=1],e.opts.strictKeywords?"object"==typeof T&&Object.keys(T).length>0||!1===T:e.util.schemaHasRules(T,e.RULES.all)){r+=" "+v+" = true; if ("+l+".length > "+P+") { ";var O=l+"["+P+"]";p.schema=T,p.schemaPath=s+"["+P+"]",p.errSchemaPath=u+"/"+P,p.errorPath=e.util.getPathExpr(e.errorPath,P,e.opts.jsonPointers,!0),p.dataPathArr[g]=P;var k=e.validate(p);p.baseId=b,e.util.varOccurences(k,y)<2?r+=" "+e.util.varReplace(k,y,O)+" ":r+=" var "+y+" = "+O+"; "+k+" ",r+=" }  ",c&&(r+=" if ("+v+") { ",h+="}")}if("object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&Object.keys(_).length>0||!1===_:e.util.schemaHasRules(_,e.RULES.all))){p.schema=_,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+v+" = true; if ("+l+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);O=l+"["+m+"]";p.dataPathArr[g]=m;k=e.validate(p);p.baseId=b,e.util.varOccurences(k,y)<2?r+=" "+e.util.varReplace(k,y,O)+" ":r+=" var "+y+" = "+O+"; "+k+" ",c&&(r+=" if (!"+v+") break; "),r+=" } }  ",c&&(r+=" if ("+v+") { ",h+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=s,p.errSchemaPath=u,r+="  for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);O=l+"["+m+"]";p.dataPathArr[g]=m;k=e.validate(p);p.baseId=b,e.util.varOccurences(k,y)<2?r+=" "+e.util.varReplace(k,y,O)+" ":r+=" var "+y+" = "+O+"; "+k+" ",c&&(r+=" if (!"+v+") break; "),r+=" }"}return c&&(r+=" "+h+" if ("+f+" == errors) {"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;if(f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,!f&&"number"!=typeof s)throw new Error(t+" must be number");i+="var division"+a+";if (",f&&(i+=" "+r+" !== undefined && ( typeof "+r+" != 'number' || "),i+=" (division"+a+" = "+d+" / "+r+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+a+" !== parseInt(division"+a+") ",i+=" ) ",f&&(i+="  )  "),i+=" ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be multiple of ",i+=f?"' + "+r:r+"'"),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=u,r+=" var "+d+" = errors;  ";var h,v=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(h=f.opts.allErrors,f.opts.allErrors=!1),r+=" "+e.validate(f)+" ",f.createErrors=!0,h&&(f.opts.allErrors=h),e.compositeRule=f.compositeRule=v,r+=" if ("+p+") {   ";var m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var g=r;r=m.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(r+=" if (false) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f="errs__"+i,p=e.util.copy(e),h="";p.level++;var v="valid"+p.level,m=p.baseId,g="prevValid"+i,y="passingSchemas"+i;r+="var "+f+" = errors , "+g+" = false , "+d+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var _=o;if(_)for(var A,S=-1,E=_.length-1;S<E;)A=_[S+=1],(e.opts.strictKeywords?"object"==typeof A&&Object.keys(A).length>0||!1===A:e.util.schemaHasRules(A,e.RULES.all))?(p.schema=A,p.schemaPath=s+"["+S+"]",p.errSchemaPath=u+"/"+S,r+="  "+e.validate(p)+" ",p.baseId=m):r+=" var "+v+" = true; ",S&&(r+=" if ("+v+" && "+g+") { "+d+" = false; "+y+" = ["+y+", "+S+"]; } else { ",h+="}"),r+=" if ("+v+") { "+d+" = "+g+" = true; "+y+" = "+S+"; }";return e.compositeRule=p.compositeRule=b,r+=h+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f=e.opts.$data&&s&&s.$data;f?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,i+="if ( ",f&&(i+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),i+=" !"+(f?"(new RegExp("+r+"))":e.usePattern(s))+".test("+d+") ) {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",i+=f?""+r:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match pattern \"",i+=f?"' + "+r+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=f?"validate.schema"+u:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var h=i;return i=p.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+h+"]); ":i+=" validate.errors = ["+h+"]; return false; ":i+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",l&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="errs__"+i,f=e.util.copy(e),p="";f.level++;var h="valid"+f.level,v="key"+i,m="idx"+i,g=f.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+i,_=Object.keys(o||{}).filter(R),A=e.schema.patternProperties||{},S=Object.keys(A).filter(R),E=e.schema.additionalProperties,w=_.length||S.length,T=!1===E,P="object"==typeof E&&Object.keys(E).length,C=e.opts.removeAdditional,O=T||P||C,k=e.opts.ownProperties,I=e.baseId,x=e.schema.required;if(x&&(!e.opts.$data||!x.$data)&&x.length<e.opts.loopRequired)var D=e.util.toHash(x);function R(e){return"__proto__"!==e}if(r+="var "+d+" = errors;var "+h+" = true;",k&&(r+=" var "+b+" = undefined;"),O){if(r+=k?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",w){if(r+=" var isAdditional"+i+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var M=_;if(M)for(var N=-1,L=M.length-1;N<L;)X=M[N+=1],r+=" || "+v+" == "+e.util.toQuotedString(X)+" "}if(S.length){var j=S;if(j)for(var B=-1,U=j.length-1;B<U;)ae=j[B+=1],r+=" || "+e.usePattern(ae)+".test("+v+") "}r+=" ); if (isAdditional"+i+") { "}if("all"==C)r+=" delete "+l+"["+v+"]; ";else{var V=e.errorPath,F="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),T)if(C)r+=" delete "+l+"["+v+"]; ";else{r+=" "+h+" = false; ";var H=u;u=e.errSchemaPath+"/additionalProperties",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+F+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var G=r;r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=H,c&&(r+=" break; ")}else if(P)if("failing"==C){r+=" var "+d+" = errors;  ";var W=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=E,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var z=l+"["+v+"]";f.dataPathArr[g]=v;var K=e.validate(f);f.baseId=I,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,z)+" ":r+=" var "+y+" = "+z+"; "+K+" ",r+=" if (!"+h+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+v+"]; }  ",e.compositeRule=f.compositeRule=W}else{f.schema=E,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);z=l+"["+v+"]";f.dataPathArr[g]=v;K=e.validate(f);f.baseId=I,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,z)+" ":r+=" var "+y+" = "+z+"; "+K+" ",c&&(r+=" if (!"+h+") break; ")}e.errorPath=V}w&&(r+=" } "),r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}")}var Y=e.opts.useDefaults&&!e.compositeRule;if(_.length){var q=_;if(q)for(var X,Z=-1,Q=q.length-1;Z<Q;){var J=o[X=q[Z+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){var $=e.util.getProperty(X),ee=(z=l+$,Y&&void 0!==J.default);f.schema=J,f.schemaPath=s+$,f.errSchemaPath=u+"/"+e.util.escapeFragment(X),f.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),f.dataPathArr[g]=e.util.toQuotedString(X);K=e.validate(f);if(f.baseId=I,e.util.varOccurences(K,y)<2){K=e.util.varReplace(K,y,z);var te=z}else{te=y;r+=" var "+y+" = "+z+"; "}if(ee)r+=" "+K+" ";else{if(D&&D[X]){r+=" if ( "+te+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+h+" = false; ";V=e.errorPath,H=u;var ne,re=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(V,X,e.opts.jsonPointers)),u=e.errSchemaPath+"/required",(ne=ne||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+re+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+re+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";G=r;r=ne.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+G+"]); ":r+=" validate.errors = ["+G+"]; return false; ":r+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=H,e.errorPath=V,r+=" } else { "}else c?(r+=" if ( "+te+" === undefined ",k&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),r+=") { "+h+" = true; } else { "):(r+=" if ("+te+" !== undefined ",k&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(X)+"') "),r+=" ) { ");r+=" "+K+" } "}}c&&(r+=" if ("+h+") { ",p+="}")}}if(S.length){var ie=S;if(ie)for(var ae,oe=-1,se=ie.length-1;oe<se;){J=A[ae=ie[oe+=1]];if(e.opts.strictKeywords?"object"==typeof J&&Object.keys(J).length>0||!1===J:e.util.schemaHasRules(J,e.RULES.all)){f.schema=J,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),r+=k?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+v+" = "+b+"["+m+"]; ":" for (var "+v+" in "+l+") { ",r+=" if ("+e.usePattern(ae)+".test("+v+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);z=l+"["+v+"]";f.dataPathArr[g]=v;K=e.validate(f);f.baseId=I,e.util.varOccurences(K,y)<2?r+=" "+e.util.varReplace(K,y,z)+" ":r+=" var "+y+" = "+z+"; "+K+" ",c&&(r+=" if (!"+h+") break; "),r+=" } ",c&&(r+=" else "+h+" = true; "),r+=" }  ",c&&(r+=" if ("+h+") { ",p+="}")}}}return c&&(r+=" "+p+" if ("+d+" == errors) {"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="errs__"+i,f=e.util.copy(e);f.level++;var p="valid"+f.level;if(r+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=s,f.errSchemaPath=u;var h="key"+i,v="idx"+i,m="i"+i,g="' + "+h+" + '",y="data"+(f.dataLevel=e.dataLevel+1),b="dataProperties"+i,_=e.opts.ownProperties,A=e.baseId;_&&(r+=" var "+b+" = undefined; "),r+=_?" "+b+" = "+b+" || Object.keys("+l+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+h+" = "+b+"["+v+"]; ":" for (var "+h+" in "+l+") { ",r+=" var startErrs"+i+" = errors; ";var S=h,E=e.compositeRule;e.compositeRule=f.compositeRule=!0;var w=e.validate(f);f.baseId=A,e.util.varOccurences(w,y)<2?r+=" "+e.util.varReplace(w,y,S)+" ":r+=" var "+y+" = "+S+"; "+w+" ",e.compositeRule=f.compositeRule=E,r+=" if (!"+p+") { for (var "+m+"=startErrs"+i+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+h+"; }   var err =   ",!1!==e.createErrors?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),c&&(r+=" break; "),r+=" } }"}return c&&(r+="  if ("+d+" == errors) {"),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=" ",i=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,l="data"+(a||""),d="valid"+i,f=e.opts.$data&&o&&o.$data;f&&(r+=" var schema"+i+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+i;if(!f)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var h=[],v=o;if(v)for(var m,g=-1,y=v.length-1;g<y;){m=v[g+=1];var b=e.schema.properties[m];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(h[h.length]=m)}}else h=o;if(f||h.length){var _=e.errorPath,A=f||h.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(c)if(r+=" var missing"+i+"; ",A){f||(r+=" var "+p+" = validate.schema"+s+"; ");var E="' + "+(k="schema"+i+"["+(P="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,k,e.opts.jsonPointers)),r+=" var "+d+" = true; ",f&&(r+=" if (schema"+i+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+i+")) "+d+" = false; else {"),r+=" for (var "+P+" = 0; "+P+" < "+p+".length; "+P+"++) { "+d+" = "+l+"["+p+"["+P+"]] !== undefined ",S&&(r+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+p+"["+P+"]) "),r+="; if (!"+d+") break; } ",f&&(r+="  }  "),r+="  if (!"+d+") {   ",(O=O||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";var w=r;r=O.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var T=h;if(T)for(var P=-1,C=T.length-1;P<C;){x=T[P+=1],P&&(r+=" || "),r+=" ( ( "+(N=l+(M=e.util.getProperty(x)))+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(x)+"') "),r+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?x:M)+") ) "}r+=") {  ";var O;E="' + "+(k="missing"+i)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,k,!0):_+" + "+k),(O=O||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ";w=r;r=O.pop(),!e.compositeRule&&c?e.async?r+=" throw new ValidationError(["+w+"]); ":r+=" validate.errors = ["+w+"]; return false; ":r+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(A){f||(r+=" var "+p+" = validate.schema"+s+"; ");var k;E="' + "+(k="schema"+i+"["+(P="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(_,k,e.opts.jsonPointers)),f&&(r+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),r+=" for (var "+P+" = 0; "+P+" < "+p+".length; "+P+"++) { if ("+l+"["+p+"["+P+"]] === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+p+"["+P+"]) "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(r+="  }  ")}else{var I=h;if(I)for(var x,D=-1,R=I.length-1;D<R;){x=I[D+=1];var M=e.util.getProperty(x),N=(E=e.util.escapeQuotes(x),l+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,x,e.opts.jsonPointers)),r+=" if ( "+N+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(x)+"') "),r+=") {  var err =   ",!1!==e.createErrors?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+E+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=_}else c&&(r+=" if (true) {");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i=" ",a=e.level,o=e.dataLevel,s=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,d="data"+(o||""),f="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(i+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",r="schema"+a):r=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(i+=" var "+f+"; if ("+r+" === false || "+r+" === undefined) "+f+" = true; else if (typeof "+r+" != 'boolean') "+f+" = false; else { "),i+=" var i = "+d+".length , "+f+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,v=Array.isArray(h);if(!h||"object"==h||"array"==h||v&&(h.indexOf("object")>=0||h.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+f+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var m="checkDataType"+(v?"s":"");i+=" if ("+e.util[m](h,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",p&&(i+="  }  "),i+=" if (!"+f+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=p?"validate.schema"+u:""+s,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var y=i;i=g.pop(),!e.compositeRule&&l?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l&&(i+=" else { ")}else l&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var i,a=t[n].split("/"),o=e;for(i=1;i<a.length;i++)o=o[a[i]];for(i=0;i<r.length;i++){var s=r[i],u=o[s];u&&(o[s]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var r=n(206).MissingRef;e.exports=function e(t,n,i){var a=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(i=n,n=void 0);var o=s(t).then((function(){var e=a._addSchema(t,void 0,n);return e.validate||function e(t){try{return a._compile(t)}catch(e){if(e instanceof r)return i(e);throw e}function i(r){var i=r.missingSchema;if(c(i))throw new Error("Schema "+i+" is loaded but "+r.missingRef+" cannot be resolved");var o=a._loadingSchemas[i];return o||(o=a._loadingSchemas[i]=a._opts.loadSchema(i)).then(u,u),o.then((function(e){if(!c(i))return s(e).then((function(){c(i)||a.addSchema(e,i,void 0,n)}))})).then((function(){return e(t)}));function u(){delete a._loadingSchemas[i]}function c(e){return a._refs[e]||a._schemas[e]}}}(e)}));i&&o.then((function(e){i(null,e)}),i);return o;function s(t){var n=t.$schema;return n&&!a.getSchema(n)?e.call(a,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var r=/^[a-z_$][a-z0-9_$-]*$/i,i=n(643),a=n(644);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!r.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var a=t.type;if(Array.isArray(a))for(var o=0;o<a.length;o++)u(e,a[o],t);else u(e,a,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function u(e,t,r){for(var a,o=0;o<n.length;o++){var s=n[o];if(s.type==t){a=s;break}}a||(a={type:t,rules:[]},n.push(a));var u={keyword:e,definition:r,custom:!0,code:i,implements:r.implements};a.rules.push(u),n.custom[e]=u}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var r=t[n].rules,i=0;i<r.length;i++)if(r[i].keyword==e){r.splice(i,1);break}return this},validate:function e(t,n){e.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(r(t))return!0;if(e.errors=r.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,a=" ",o=e.level,s=e.dataLevel,u=e.schema[t],c=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,f="data"+(s||""),p="valid"+o,h="errs__"+o,v=e.opts.$data&&u&&u.$data;v?(a+=" var schema"+o+" = "+e.util.getData(u.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=u;var m,g,y,b,_,A="definition"+o,S=this.definition,E="";if(v&&S.$data){_="keywordValidate"+o;var w=S.validateSchema;a+=" var "+A+" = RULES.custom['"+t+"'].definition; var "+_+" = "+A+".validate;"}else{if(!(b=e.useCustomRule(this,u,e.schema,e)))return;i="validate.schema"+c,_=b.code,m=S.compile,g=S.inline,y=S.macro}var T=_+".errors",P="i"+o,C="ruleErr"+o,O=S.async;if(O&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(a+=T+" = null;"),a+="var "+h+" = errors;var "+p+";",v&&S.$data&&(E+="}",a+=" if ("+i+" === undefined) { "+p+" = true; } else { ",w&&(E+="}",a+=" "+p+" = "+A+".validateSchema("+i+"); if ("+p+") { ")),g)S.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(y){var k=e.util.copy(e);E="";k.level++;var I="valid"+k.level;k.schema=b.validate,k.schemaPath="";var x=e.compositeRule;e.compositeRule=k.compositeRule=!0;var D=e.validate(k).replace(/validate\.schema/g,_);e.compositeRule=k.compositeRule=x,a+=" "+D}else{(L=L||[]).push(a),a="",a+="  "+_+".call( ",e.opts.passContext?a+="this":a+="self",m||!1===S.schema?a+=" , "+f+" ":a+=" , "+i+" , "+f+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var R=s?"data"+(s-1||""):"parentData",M=s?e.dataPathArr[s]:"parentDataProperty",N=a+=" , "+R+" , "+M+" , rootData )  ";a=L.pop(),!1===S.errors?(a+=" "+p+" = ",O&&(a+="await "),a+=N+"; "):a+=O?" var "+(T="customErrors"+o)+" = null; try { "+p+" = await "+N+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } ":" "+T+" = null; "+p+" = "+N+"; "}if(S.modifying&&(a+=" if ("+R+") "+f+" = "+R+"["+M+"];"),a+=""+E,S.valid)d&&(a+=" if (true) { ");else{var L;a+=" if ( ",void 0===S.valid?(a+=" !",a+=y?""+I:""+p):a+=" "+!S.valid+" ",a+=") { ",r=this.keyword,(L=L||[]).push(a),a="",(L=L||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ";var j=a;a=L.pop(),!e.compositeRule&&d?e.async?a+=" throw new ValidationError(["+j+"]); ":a+=" validate.errors = ["+j+"]; return false; ":a+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=a;a=L.pop(),g?S.errors?"full"!=S.errors&&(a+="  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+C+" = vErrors["+P+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+f+"; "),a+=" } "):!1===S.errors?a+=" "+B+" ":(a+=" if ("+h+" == errors) { "+B+" } else {  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+C+" = vErrors["+P+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+f+"; "),a+=" } } "):y?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(r||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===S.errors?a+=" "+B+" ":(a+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+P+"="+h+"; "+P+"<errors; "+P+"++) { var "+C+" = vErrors["+P+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(a+=" "+C+".schema = "+i+"; "+C+".data = "+f+"; "),a+=" } } else { "+B+" } "),a+=" } ",d&&(a+=" else { ")}return a}},function(e,t,n){"use strict";var r=n(321);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e,t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t,r){var a={};return r.isMergeableObject(e)&&i(e).forEach((function(t){a[t]=n(e[t],r)})),i(t).forEach((function(i){r.isMergeableObject(t[i])&&e[i]?a[i]=function(e,t){if(!t.customMerge)return o;var n=t.customMerge(e);return"function"==typeof n?n:o}(i,r)(e[i],t[i],r):a[i]=n(t[i],r)})),a}function o(t,i,o){(o=o||{}).arrayMerge=o.arrayMerge||r,o.isMergeableObject=o.isMergeableObject||e;var s=Array.isArray(i);return s===Array.isArray(t)?s?o.arrayMerge(t,i,o):a(t,i,o):n(i,o)}return o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return o(e,n,t)}),{})},o}()},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),s=a(n(22));t.default={getPreferredTextMode:function(){return s.default.isIosWeb()||s.default.isYoui()?s.TEXT_MODE.HARDCODED:s.TEXT_MODE.EXTERNAL},isActiveExternalTrackOfType:function(e,t){return e.useExternalTextTracks&&e.activeExternalTextTrack!==o.TEXT_TRACK_NONE&&e.externalTextTracks[e.activeExternalTextTrack].type===t},isSupported:function(e){return[o.TextTrackType.ASS,o.TextTrackType.SRT,o.TextTrackType.VTT].includes(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={formatHeight:function(e){return e?e+"p":null},resolutionTag:function(e){return e>=720?"HD":null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(650),n(653)},function(e,t,n){var r=n(651);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(323)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(322)(!1)).push([e.i,'/* At the moment we only use font-weight: 500\n * Add more variants in the future if we need them\n */\n\n/* Path for dev/staging/prod environments */\n@font-face {\n  font-family: Lato;\n  /* We\'re in the themes/Crunchyroll/css directory */\n  src: url(/vilos-v2/web/vilos/assets/fonts/Lato-Medium.ttf) format("truetype");\n  font-weight: 500;\n}\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t,n){var r=n(654);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(323)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(322)(!1)).push([e.i,"/* At the moment we mostly add styles inline via react\n * In some cases, as with psuedo element and classes, inline css is unavailable\n * and must be injected via a Link or Style tag\n */\n\n*::-webkit-scrollbar {\n  width: 12px;\n}\n\n*::-webkit-scrollbar-track {\n  background-color: rgba(35, 37, 43, 0.6);\n}\n\n*::-webkit-scrollbar-thumb {\n  background-color: #59595B;\n  width: 6px;\n  border: 3px solid transparent;\n  background-clip: content-box;\n}\n\n*::-webkit-scrollbar-thumb:hover {\n  width: 8px;\n  border: 2px solid transparent;\n  background-color: #a0a0a0;\n}\n\n*::-webkit-scrollbar-corner {\n  background: transparent;\n}\n\n/* Prevent text selection, it just makes things awkward */\n\n#vilos {\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.rotate-animation {\n  animation: rotate 0.6s linear infinite;\n}\n\n@keyframes rotate {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""])},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(175)),u=o(n(656)),c=o(n(209)),l=function(e){return r(r(r({},c[e]),s[e]),u[e])};t.default={adMarkers:l("adMarkers"),adsInfo:l("adsInfo"),adsScrubBar:l("adsScrubBar"),chromecastButton:l("chromecastButton"),controls:l("controls"),errorScreen:l("errorScreen"),configErrorScreen:l("configErrorScreen"),largeIcons:l("largeIcons"),loadingIndicator:l("loadingIndicator"),pluginButton:l("pluginButton"),radioButton:l("radioButton"),scrubBar:l("scrubBar"),settingsControl:l("settingsControl"),settingsFlag:l("settingsFlag"),settingsSubmenu:l("settingsSubmenu"),skipButton:l("skipButton"),smallIcons:l("smallIcons"),text:l("text"),tooltipContainer:l("tooltipContainer"),tooltipText:l("tooltipText"),trickscrubImages:l("trickscrubImages"),volumeControl:l("volumeControl"),volumeSlider:l("volumeSlider"),name:"Phone",toggleSwitch:l("toggleSwitch"),settingsMenu:l("settingsMenu")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chromecastButton=t.toggleSwitch=t.settingsMenu=t.settingsControl=t.adsInfo=t.trickscrubImages=t.text=t.errorScreen=t.loadingIndicator=t.scrubBar=t.controls=t.smallIcons=t.largeIcons=void 0;var r=n(324);t.largeIcons={containerSize:60,imageSize:40},t.smallIcons={containerSize:40,activeOpacity:1,hoverOpacity:1,imageSize:20,opacity:.85},t.controls={backgroundColor:"rgba(0, 0, 0, 0.4)"},t.scrubBar={knobSize:12,height:2,flush:!0,tooltipY:20},t.loadingIndicator={size:40},t.errorScreen={iconSize:40,fontSize:16,lineHeight:24},t.text={fontSize:12},t.trickscrubImages={imageHeight:r.isSmallPhone()?90:135,imageWidth:r.isSmallPhone()?160:240,relativeY:21,shadowRadius:4,shadowOpacity:.5,shadowColor:"black"},t.adsInfo={adLabel:{color:"#f9f9fa",fontFamily:"Lato",fontSize:14,fontWeight:"500"}};t.settingsControl={maxHeight:r.isIframe()?"calc(100vh - 84px)":240},t.settingsMenu={container:{position:"absolute",top:0,right:0,width:320},menu:{paddingTop:10,paddingBottom:10,height:r.isWeb()?"auto":"100%",width:"100%"}},t.toggleSwitch={container:{paddingLeft:r.isWeb()?20:0,paddingRight:20}},t.chromecastButton={width:40,height:40,tintColor:"white",opacity:.8}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(382));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(175)),u=o(n(659)),c=o(n(209)),l=function(e){return r(r(r({},c[e]),s[e]),u[e])};t.default={name:"Tablet",adMarkers:l("adMarkers"),adsInfo:l("adsInfo"),smallIcons:l("smallIcons"),largeIcons:l("largeIcons"),chromecastButton:l("chromecastButton"),controls:l("controls"),configErrorScreen:l("configErrorScreen"),errorScreen:l("errorScreen"),loadingIndicator:l("loadingIndicator"),pluginButton:l("pluginButton"),radioButton:l("radioButton"),scrubBar:l("scrubBar"),adsScrubBar:l("adsScrubBar"),settingsControl:l("settingsControl"),settingsFlag:l("settingsFlag"),skipButton:l("skipButton"),text:l("text"),tooltipText:l("tooltipText"),tooltipContainer:l("tooltipContainer"),trickscrubImages:l("trickscrubImages"),volumeControl:l("volumeControl"),volumeSlider:l("volumeSlider"),settingsSubmenu:l("settingsSubmenu"),toggleSwitch:l("toggleSwitch"),settingsMenu:l("settingsMenu")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chromecastButton=t.toggleSwitch=t.settingsMenu=t.settingsControl=t.adsInfo=t.trickscrubImages=t.text=t.errorScreen=t.loadingIndicator=t.scrubBar=t.controls=t.smallIcons=t.largeIcons=void 0;var r=n(324);t.largeIcons={containerSize:80,imageSize:60},t.smallIcons={containerSize:40,activeOpacity:1,hoverOpacity:1,imageSize:20,opacity:.85},t.controls={backgroundColor:"rgba(0, 0, 0, 0.4)"},t.scrubBar={knobSize:16,height:4,flush:!0,tooltipY:32},t.loadingIndicator={size:60},t.errorScreen={iconSize:40,fontSize:18,lineHeight:26},t.text={fontSize:14},t.trickscrubImages={imageHeight:135,imageWidth:240,relativeY:33,shadowRadius:4,shadowOpacity:.5,shadowColor:"black"},t.adsInfo={adLabel:{color:"#f9f9fa",fontFamily:"Lato",fontSize:14,fontWeight:"500"}};t.settingsControl={maxHeight:r.isIframe()?"calc(100vh - 84px)":240},t.settingsMenu={container:{position:"absolute",top:0,right:0,width:320},menu:{paddingTop:10,paddingBottom:10,height:r.isWeb()?"auto":"100%",width:"100%"}},t.toggleSwitch={container:{paddingLeft:r.isWeb()?20:0,paddingRight:20}},t.chromecastButton={width:40,height:40,tintColor:"white",opacity:.8}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(308)),a=r(n(312)),o=r(n(661)),s=r(n(662)),u=r(n(663)),c=r(n(664)),l=r(n(665)),d=r(n(666)),f=r(n(667)),p=r(n(668)),h=r(n(669)),v=r(n(670)),m=r(n(671)),g=r(n(672)),y=r(n(673)),b=r(n(674)),_=r(n(675)),A=r(n(676)),S=r(n(677)),E=r(n(678)),w=r(n(679)),T=r(n(680)),P=r(n(681)),C=r(n(682)),O=r(n(683)),k=r(n(684)),I=r(n(685)),x=r(n(686)),D=r(n(687));t.default=i.default({audioLow:s.default,audioMedium:u.default,audioHigh:o.default,audioMute:c.default,comingSoon:f.default,errorIcon:h.default,exit:m.default,externalSite:g.default,forward10:y.default,fullscreenEnter:b.default,fullscreenExit:v.default,nextEpisode:_.default,pauseLarge:A.default,pauseSmall:S.default,pictureInPicture:E.default,playLarge:w.default,playSmall:P.default,playOutline:T.default,premium:void 0,premiumLarge:C.default,premiumOutline:O.default,premiumSmall:I.default,premiumUpsell:k.default,rewind10:x.default,settings:D.default,leftChevron:l.default,loadingIndicator:p.default,rightChevron:d.default},(function(e){return a.default.encodeSVG(e)}))},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M12.77,14.029a.932.932,0,0,1-.655-.265.889.889,0,0,1,0-1.279,3.432,3.432,0,0,0,0-4.93.889.889,0,0,1,0-1.279.942.942,0,0,1,1.311,0,5.212,5.212,0,0,1,0,7.488A.94.94,0,0,1,12.77,14.029ZM10.012,12V8a2.275,2.275,0,0,1,2,1.986A2.3,2.3,0,0,1,10.012,12Zm4.912,4a.932.932,0,0,1-.655-.265.971.971,0,0,1,0-1.347,6.155,6.155,0,0,0,0-8.844.889.889,0,0,1,0-1.279.944.944,0,0,1,1.311,0A7.915,7.915,0,0,1,18,9.966a8.068,8.068,0,0,1-2.419,5.769A.938.938,0,0,1,14.925,16ZM4.012,7l5-3V16l-5-3H2V6.969Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M10.012,12V8a2.275,2.275,0,0,1,2,1.986A2.3,2.3,0,0,1,10.012,12Zm-6-5,5-3V16l-5-3H2V6.969Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M12.77,14.029a.932.932,0,0,1-.655-.265.889.889,0,0,1,0-1.279,3.432,3.432,0,0,0,0-4.93.889.889,0,0,1,0-1.279.942.942,0,0,1,1.311,0,5.212,5.212,0,0,1,0,7.488A.94.94,0,0,1,12.77,14.029ZM10.012,12V8a2.275,2.275,0,0,1,2,1.986A2.3,2.3,0,0,1,10.012,12Zm-6-5,5-3V16l-5-3H2V6.969Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M4.012,7l5-3V16l-5-3H2V6.969ZM14.26,10,16,8.262l-1.305-1.3L12.955,8.7l-1.74-1.74-1.3,1.305L11.65,10,9.909,11.743l1.305,1.305,1.741-1.741L14.7,13.048,16,11.743Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#FFF" fill-rule="evenodd" d="M15.4 16.6L14 18l-6-6 6-6 1.4 1.4-4.6 4.6z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#FFF" fill-rule="evenodd" d="M8.6 7.4L10 6l6 6-6 6-1.4-1.4 4.6-4.6z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><g fill="#FFF"><g><g><path d="M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.582-8-8-8zm0 2c.552 0 1 .448 1 1v4.585l2.707 2.707c.39.391.39 1.024 0 1.415-.39.39-1.024.39-1.414 0L11 12.413V7c0-.552.448-1 1-1z" transform="translate(-348 -1004) translate(324 988) translate(24 16) matrix(-1 0 0 1 24 0)"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path opacity="0.2" fill="#F47521" d="M50,0a50,50,0,1,0,50,50A50,50,0,0,0,50,0Zm0,88.92A38.92,38.92,0,1,1,88.918,50v0A38.918,38.918,0,0,1,50,88.92Z"></path><path fill="#F47521" d="M69.443,16.317,74.978,6.73A49.707,49.707,0,0,0,50,0h0V11.08h0A38.736,38.736,0,0,1,69.443,16.317Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M19.918,10.028l-1.5-4.5a1.668,1.668,0,0,1,3.164-1.055l1.5,4.5a3.084,3.084,0,0,0,3.892,1.947l4.5-1.5a1.666,1.666,0,1,1,1.054,3.161l-4.5,1.5a6.407,6.407,0,0,1-8.109-4.053Zm-5.837,1.945a6.417,6.417,0,0,1-4.053,8.108l-4.5,1.5A1.666,1.666,0,1,1,4.473,18.42l4.5-1.5a3.082,3.082,0,0,0,1.946-3.892l-1.5-4.5a1.667,1.667,0,1,1,3.162-1.055Zm22.5,7.5a1.666,1.666,0,0,1-1.053,2.108l-4.5,1.5a3.08,3.08,0,0,0-1.945,3.892l1.5,4.5a1.668,1.668,0,0,1-3.164,1.055l-1.5-4.5a6.416,6.416,0,0,1,4.054-8.108l4.5-1.5A1.662,1.662,0,0,1,36.581,19.473Zm-16.5,10.5,1.5,4.5a1.664,1.664,0,0,1-1.053,2.108,1.664,1.664,0,0,1-2.11-1.053l-1.5-4.5a3.078,3.078,0,0,0-3.891-1.947l-4.5,1.5a1.666,1.666,0,1,1-1.053-3.162l4.5-1.5A6.418,6.418,0,0,1,20.081,29.973Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M18,10H10V2h2.4V6l4-4L18,3.6l-4,4h4ZM2,10h8v8H7.6V14l-4,4L2,16.4l4-4H2Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g fill="none" fill-rule="evenodd"><g fill="#FFF"><g><g><path d="M9.01 8l3.78-3.78c.28-.28.28-.731 0-1.01-.279-.28-.73-.28-1.01 0L8 6.99 4.22 3.21c-.28-.28-.731-.28-1.01 0-.28.279-.28.73 0 1.01L6.99 8l-3.78 3.78c-.28.28-.28.731 0 1.01.26.26.707.303 1.01 0L8 9.01l3.78 3.78c.28.28.731.28 1.01 0 .28-.279.28-.73 0-1.01L9.01 8z" transform="translate(-937 -53) translate(713 45) translate(224 8)"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 36" enable-background="new 0 0 36 36" xml:space="preserve"><image id="image0" width="36" height="36" x="0" y="0" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAABGdBTUEAALGPC/xhBQAAACBjSFJN AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElN RQflAgULKBiFJ1reAAAA5UlEQVRIx+3WsQ6CMBAG4CtD2XxWVwdduRifgYGHwDcqgybMTL+DBAu0 3F3CYvSfr1/umrZA8GAE5BLA8BQFNwyLmh41DgSGFJ5Bz2RNTRvdTF3NoGOypieRWUBEOKWKNBDT IrjYodVmE6FEK0CkSJoxQznGCOUZE5RgWpzNUJIpp8MwKKEcMx7RB64qaIv5FImQipEhJSNB8EpG hColI0JByZigFTO+ru+LrR7tvu4mel1Z3uwKHTpwaqio3+Di5c6RKfHawrY0nz/005DTfc2+cbSC ul2crqBmF6gh4ddPkwCGfwGtdaEOHHfsoAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0wNVQx MTo0MDoyNCswMzowMEHGHiQAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMDVUMTE6NDA6MjQr MDM6MDAwm6aYAAAAAElFTkSuQmCC"></image></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M51.9,23.618a2.09,2.09,0,1,0-3.818,1.7c.01.022.02.043.031.065A19.987,19.987,0,1,1,28.727,13.857v8.507L46.545,12.183,28.727,2V9.669A24.244,24.244,0,1,0,51.9,23.618Z"></path><path class="white" d="M25.651,41.331V26.677H23.246a2.437,2.437,0,0,1-.111.586,2.537,2.537,0,0,1-.565,1.051,2.684,2.684,0,0,1-1.411.768,12.744,12.744,0,0,1-1.9.182v1.961H22.7V41.331Z"></path><path class="white" d="M35.03,41.7a4.147,4.147,0,0,0,3.926-1.961,11.328,11.328,0,0,0,1.127-5.589,11.4,11.4,0,0,0-1.127-5.6,4.14,4.14,0,0,0-3.926-1.97A4.14,4.14,0,0,0,31.1,28.55a11.4,11.4,0,0,0-1.127,5.6A11.328,11.328,0,0,0,31.1,39.734,4.145,4.145,0,0,0,35.03,41.7Zm-1.7-11.471a1.655,1.655,0,0,1,1.7-1.273,1.631,1.631,0,0,1,1.683,1.273,14.145,14.145,0,0,1,.4,3.921,14.333,14.333,0,0,1-.4,3.866A1.646,1.646,0,0,1,35.03,39.35a1.668,1.668,0,0,1-1.7-1.339,13.834,13.834,0,0,1-.414-3.866,13.635,13.635,0,0,1,.416-3.921Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M10,18H2V10H4.4v4l4-4L10,11.6l-4,4h4ZM10,2h8v8H15.6V6l-4,4L10,8.4l4-4H10Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><polygon class="white" points="13 4 13 8.8 5 4 5 16 13 11.2 13 16 15 16 15 4 13 4"></polygon></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M15,0a7.779,7.779,0,0,1,7.5,7.5v45A7.779,7.779,0,0,1,15,60a7.779,7.779,0,0,1-7.5-7.5V7.5A7.779,7.779,0,0,1,15,0ZM45,0a7.779,7.779,0,0,1,7.5,7.5v45A7.779,7.779,0,0,1,45,60a7.779,7.779,0,0,1-7.5-7.5V7.5A7.779,7.779,0,0,1,45,0Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M14,2a2.074,2.074,0,0,1,2,2V16a2.074,2.074,0,0,1-2,2,2.074,2.074,0,0,1-2-2V4A2.074,2.074,0,0,1,14,2ZM6,2A2.074,2.074,0,0,1,8,4V16a2.074,2.074,0,0,1-2,2,2.074,2.074,0,0,1-2-2V4A2.074,2.074,0,0,1,6,2Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.athens-grey{fill:#f9f9fa;}</style></defs><g id="pip"><path id="big" class="athens-grey" d="M0,2.667V17.333H20V2.667ZM18.667,16H1.333V4H18.667Z"></path><rect id="small" class="athens-grey" x="10" y="9.333" width="7.333" height="5.333"></rect></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M4.3,2.563C4.3.351,5.842-.536,7.744.584l46.528,27.39c1.9,1.119,1.9,2.934,0,4.054L7.744,59.417c-1.9,1.119-3.443.229-3.443-1.979Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><g fill="#FFF"><g><g><path d="M4.945 3C4.385 3 4 3.458 4 4.256v16.488c0 .794.384 1.256.946 1.256.234 0 .499-.08.78-.25l13.56-8.206c.95-.575.953-1.511 0-2.088L5.727 3.25C5.444 3.08 5.178 3 4.944 3m1.057 3l11 6.5-11 6.5V6" transform="translate(-84 -908) translate(60 892) translate(24 16)"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M3,4.606C3,2.253,4.636,1.324,6.641,2.524l8.853,5.3c2.011,1.2,2,3.157,0,4.357l-8.853,5.3C4.63,18.676,3,17.748,3,15.391Z"></path></svg>'},function(e,t){e.exports='<svg viewBox="0 0 40 40" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>12352AD2-0446-4A58-843E-ABCCDB70C27F</title><g id="2642-Watch-Page-Video-States" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="P---Premium-|-Watch-Page-Video-States" transform="translate(-160.000000, -53.000000)" fill="#FAB818"><g id="Group" transform="translate(16.000000, 53.000000)"><g id="Atoms/Icons/Crown/Premium/Outline/40" transform="translate(144.000000, 0.000000)"><path d="M20,6 L27.9069767,18.5762712 L40,13.1186441 L33.9534884,34 L6.04651163,34 L0,13.1186441 L12.0930233,18.5762712 L20,6 Z M27.1413411,21.116048 L20,9.757 L12.8586589,21.116048 L3.126,16.723 L7.549,32 L32.45,32 L36.873,16.723 L27.1413411,21.116048 Z" id="Icon"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><g fill="#FFF"><g><g><path d="M12 5l3.953 6.288L22 8.56 18.977 19H5.023L2 8.56l6.047 2.728L12 5zm3.188 8.828L12 8.757l-3.188 5.07-3.686-1.663L6.526 17h10.947l1.4-4.836-3.685 1.664z" transform="translate(-612 -908) translate(588 892) translate(24 16)"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" fill-rule="evenodd"><g fill="#FAB818"><g><path d="M3.628 19.5L0 7.195 7.256 10.411 12 3 16.744 10.411 24 7.195 20.372 19.5z" transform="translate(-257 -503) translate(257 503)"></path></g></g></g></svg>'},function(e,t){e.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>6C630406-A11D-4364-8DA2-39FBFCF60CFD</title><g id="2642-Watch-Page-Video-States" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="P---Premium-|-Watch-Page-Video-States" transform="translate(-116.000000, -167.000000)" fill="#23252B"><g id="Atoms/Buttons/Phone/Premium/Default-with-Icon" transform="translate(98.000000, 155.000000)"><g id="Atoms/Icons/Crown/Premium/Outline/24" transform="translate(18.000000, 12.000000)"><path d="M12,5 L15.9534884,11.2881356 L22,8.55932203 L18.9767442,19 L5.02325581,19 L2,8.55932203 L8.04651163,11.2881356 L12,5 Z M15.1878527,13.8279124 L12,8.757 L8.81214728,13.8279124 L5.126,12.164 L6.526,17 L17.473,17 L18.873,12.164 L15.1878527,13.8279124 Z" id="Icon"></path></g></g></g></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M31.273,9.669V2L13.455,12.183,31.273,22.364V13.857A20.055,20.055,0,1,1,11.885,25.386c.011-.022.021-.043.031-.065a2.09,2.09,0,0,0-3.818-1.7A24.168,24.168,0,1,0,31.273,9.669Z"></path><path class="white" d="M25.651,41.331V26.677H23.246a2.425,2.425,0,0,1-.111.586,2.532,2.532,0,0,1-.565,1.051,2.685,2.685,0,0,1-1.411.768,12.76,12.76,0,0,1-1.9.182v1.961H22.7V41.331Z"></path><path class="white" d="M35.03,41.7a4.146,4.146,0,0,0,3.926-1.961,11.334,11.334,0,0,0,1.127-5.589,11.4,11.4,0,0,0-1.127-5.6,4.139,4.139,0,0,0-3.926-1.97,4.139,4.139,0,0,0-3.926,1.97,11.4,11.4,0,0,0-1.127,5.6A11.334,11.334,0,0,0,31.1,39.734,4.146,4.146,0,0,0,35.03,41.7Zm-1.7-11.471a1.655,1.655,0,0,1,1.7-1.273,1.631,1.631,0,0,1,1.683,1.273,14.149,14.149,0,0,1,.4,3.921,14.315,14.315,0,0,1-.4,3.866A1.646,1.646,0,0,1,35.03,39.35a1.668,1.668,0,0,1-1.7-1.339,13.821,13.821,0,0,1-.414-3.866A13.66,13.66,0,0,1,33.332,30.224Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><defs><style>.white{fill:#fff;fill-rule:evenodd;}</style></defs><path class="white" d="M17.969,9.5A.539.539,0,0,0,17.8,9.11a.679.679,0,0,0-.359-.2L16.344,8.75a.734.734,0,0,1-.656-.532l-.407-1a.777.777,0,0,1,.063-.843l.687-.874A.59.59,0,0,0,16,4.719L15.25,4a.549.549,0,0,0-.751-.031l-.874.656a.744.744,0,0,1-.843.094l-1-.407a.808.808,0,0,1-.36-.265.607.607,0,0,1-.172-.391l-.156-1.094a.679.679,0,0,0-.2-.359.539.539,0,0,0-.391-.172A2.808,2.808,0,0,0,10,2l-.5.031A.539.539,0,0,0,9.11,2.2a.666.666,0,0,0-.2.359L8.75,3.656a.735.735,0,0,1-.531.656l-1,.407a.745.745,0,0,1-.844-.094L5.5,3.969A.59.59,0,0,0,4.719,4L4,4.719a.59.59,0,0,0-.031.782l.656.874a.747.747,0,0,1,.094.844l-.407,1a.818.818,0,0,1-.265.359.609.609,0,0,1-.391.172l-1.094.156a.679.679,0,0,0-.359.2.535.535,0,0,0-.172.391A2.808,2.808,0,0,0,2,10l.031.5a.535.535,0,0,0,.172.391.666.666,0,0,0,.359.2l1.094.156a.614.614,0,0,1,.391.172.821.821,0,0,1,.265.36l.407,1a.745.745,0,0,1-.094.843l-.656.876c-.187.27-.209.489-.063.656a.744.744,0,0,1,.078.093c.032.041.067.088.11.141a1.758,1.758,0,0,0,.124.14l.126.125.125.126a.44.44,0,0,0,.125.092.822.822,0,0,0,.422.189.739.739,0,0,0,.485-.032l.874-.656a.745.745,0,0,1,.843-.094l1,.407a.815.815,0,0,1,.36.265.614.614,0,0,1,.172.391l.156,1.094a.666.666,0,0,0,.2.359.537.537,0,0,0,.389.171A2.711,2.711,0,0,0,10,18l.5-.031a.539.539,0,0,0,.391-.172.679.679,0,0,0,.2-.359l.156-1.094a.614.614,0,0,1,.172-.391.815.815,0,0,1,.36-.265l1-.407a.745.745,0,0,1,.843.094l.876.656a.588.588,0,0,0,.78-.031L16,15.281a.591.591,0,0,0,.032-.782l-.688-.874a.779.779,0,0,1-.063-.843l.407-1a.734.734,0,0,1,.656-.532l1.094-.156a.666.666,0,0,0,.359-.2.539.539,0,0,0,.172-.391A2.786,2.786,0,0,0,18,10ZM10,13.2A3.2,3.2,0,1,1,13.2,10,3.2,3.2,0,0,1,10,13.2Z"></path></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(690)),a=r(n(694)),o=r(n(700)),s=r(n(707)),u=r(n(709)),c=r(n(712));t.default=[s.default,u.default,i.default,c.default,a.default,o.default]},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(691)),u=function(e){function t(){var t=e.call(this,"PlayerJS")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(50),s=n(9),u=n(2),c=n(8),l=n(53),d=i(n(325)),f=n(60),p=n(7),h=i(n(692)),v=["getPaused","getCurrentTime","getDuration","getVolume","getMuted","getLoop","setCurrentTime","setVolume","setLoop","play","pause","mute","unmute","toggleFullscreen","loadConfig","extendConfig","setHideControlsTimeout"],m="play",g="pause",y="ended",b="timeupdate",_="error",A="seeked",S="volumechange",E="preferenceschanged",w="requestnextcontent",T="subtitles_changed",P=function(e){var t,n,i,a,o,f,h,v,m,g,y,b,_=e.type,A=e.value;return r(this,(function(e){switch(e.label){case 0:return[4,s.select()];case 1:switch(t=e.sent(),n=c.playerSelectors.all(t),i=c.coreSelectors.all(t),a=c.mediaSelectors.all(t),o=a.contentTime,f=a.contentDuration,_){case"getPaused":return[3,2];case"getCurrentTime":return[3,3];case"getDuration":return[3,4];case"getVolume":return[3,5];case"getMuted":return[3,6];case"getLoop":return[3,7];case"setCurrentTime":return[3,8];case"setVolume":return[3,10];case"setLoop":return[3,12];case"play":return[3,13];case"pause":return[3,15];case"mute":return[3,17];case"unmute":return[3,19];case"toggleFullscreen":return[3,21];case"loadConfig":return[3,23];case"extendConfig":return[3,25];case"setHideControlsTimeout":return[3,28]}return[3,29];case 2:return[2,A(n.isPaused)];case 3:return[2,A(o)];case 4:return[2,A(f)];case 5:return[2,A(i.volume)];case 6:return[2,A(i.isMuted)];case 7:return[2];case 8:return[4,s.put(u.playerActionCreators.requestSeekToContentTime(A))];case 9:return[2,e.sent()];case 10:return(h=Number(A))>1&&(h/=100),[4,s.put(u.coreActionCreators.updateVolume(h))];case 11:return[2,e.sent()];case 12:return[2];case 13:return[4,s.put(u.playerActionCreators.requestPlay("PlayPauseButton"))];case 14:return[2,e.sent()];case 15:return[4,s.put(u.playerActionCreators.requestPause("PlayPauseButton"))];case 16:return[2,e.sent()];case 17:return[4,s.put(u.coreActionCreators.mute())];case 18:return[2,e.sent()];case 19:return[4,s.put(u.coreActionCreators.unmute())];case 20:return[2,e.sent()];case 21:return[4,s.put(u.coreActionCreators.toggleFullScreen())];case 22:return[2,e.sent()];case 23:return A?(m="string"==typeof A?JSON.parse(A):A,window.v1config=m.version&&3!==m.version?null:m,g=p.configurationMorpher(m),y=p.validate(d.default,g),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:l.ConfigStackLayer.CLIENT,config:y}))]):[2];case 24:return[2,e.sent()];case 25:return[4,s.select(c.configurationSelectors.self)];case 26:return v=e.sent(),(m="string"==typeof A?JSON.parse(A):A).version&&3!==m.version?window.v1config=null:window.v1config=p.merge(window.v1config||{},m),g=p.configurationMorpher(m),y=p.validate(d.default,g),b=p.merge(v,y),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:l.ConfigStackLayer.CLIENT,config:b}))];case 27:return[2,e.sent()];case 28:case 29:return[2]}}))},C=function(){var e,t;return r(this,(function(n){switch(n.label){case 0:e=o.eventChannel((function(e){a=new h.default.Receiver;for(var t=function(t){a.on(t,(function(n){return e({type:t,value:n})}))},n=0,r=v;n<r.length;n++){t(r[n])}return a.ready(),function(){}})),n.label=1;case 1:n.trys.push([1,,6,7]),n.label=2;case 2:return[4,s.take(e)];case 3:return t=n.sent(),[4,s.call(P,t)];case 4:return n.sent(),[3,2];case 5:return[3,7];case 6:return e.close(),[7];case 7:return[2]}}))},O=function(e){return function(){return r(this,(function(t){return a.emit(e),[2]}))}},k=function(){var e,t,n;return r(this,(function(r){switch(r.label){case 0:return[4,s.select(c.mediaSelectors.all)];case 1:return e=r.sent(),t=e.streamTime,n=e.totalDuration,a.emit(b,{seconds:t,duration:n}),[2]}}))},I=function(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,s.select(c.coreSelectors.property,"preferences")];case 1:return e=t.sent(),a.emit(E,e),[2]}}))},x=function(){var e,t,n,i,o;return r(this,(function(r){switch(r.label){case 0:return o=(i=c.coreSelectors).all,[4,s.select()];case 1:return e=o.apply(i,[r.sent()]),t=e.isMuted,n=e.volume,a.emit(S,{volume:n,muted:t}),[2]}}))},D=function(){return r(this,(function(e){return a.ready(),[2]}))};function R(){var e,t,n,i,o;return r(this,(function(r){switch(r.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=r.sent(),t=e.client,(null==(n=e.upNextMetadata)?void 0:n.id)?[4,s.select(c.configurationSelectors.self)]:[2];case 2:return i=r.sent().previous,o=p._.get(i,"metadata.id"),"crunchyroll-web"!==t.id?[3,5]:[4,s.put(u.contentLifecycleActionCreators.unloadContent(o))];case 3:return r.sent(),[4,s.take(u.contentLifecycleActionCreators.completeUnloadContent)];case 4:r.sent(),r.label=5;case 5:return[4,s.select(c.coreSelectors.property,"isRunningInIFrame")];case 6:return r.sent()&&a.emit(w),[2]}}))}function M(){var e,t;return r(this,(function(n){switch(n.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=n.sent().upNextMetadata,[4,s.select(c.coreSelectors.property,"preferences")];case 2:return t=n.sent().isUpNextAutoplayEnabled,(null==e?void 0:e.id)&&t?[4,R()]:(a.emit(y),[2]);case 3:return n.sent(),[2]}}))}function N(e){var t,n;return r(this,(function(r){return(t=e.payload).type===f.MessageType.UPDATE_TEXT_TRACK_LANGUAGE&&(n=t.payload.language,a.emit(T,{language:n})),[2]}))}var L=function(){return r(this,(function(e){switch(e.label){case 0:return[4,s.select(c.coreSelectors.property,"isRunningInIFrame")];case 1:return e.sent()?[4,s.fork(C)]:[3,13];case 2:return e.sent(),[4,s.takeEvery(u.playerActionCreators.readyToPlay,D)];case 3:return e.sent(),[4,s.takeEvery(u.playerActionCreators.play,O(m))];case 4:return e.sent(),[4,s.takeEvery(u.playerActionCreators.pause,O(g))];case 5:return e.sent(),[4,s.takeEvery(u.mediaActionCreators.updateTime,k)];case 6:return e.sent(),[4,s.takeEvery(u.playerActionCreators.error,O(_))];case 7:return e.sent(),[4,s.takeEvery(u.playerActionCreators.endSeek,O(A))];case 8:return e.sent(),[4,s.takeEvery(u.coreActionCreators.updateVolume,x)];case 9:return e.sent(),[4,s.takeEvery(u.contentLifecycleActionCreators.completedEnded,M)];case 10:return e.sent(),[4,s.takeEvery(u.messageBusActionCreators.sendMessageToClient,N)];case 11:return e.sent(),[4,s.takeLatest([u.coreActionCreators.updatePreference,u.coreActionCreators.loadPreference],I)];case 12:e.sent(),e.label=13;case 13:return[4,s.takeEvery(u.contentLifecycleActionCreators.requestSkipToNext,R)];case 14:return e.sent(),[2]}}))};t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,L)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(693));a.default.METHODS=r(r({},a.default.METHODS),{TOGGLE_FULLSCREEN:"toggleFullscreen",LOAD_CONFIG:"loadConfig",EXTEND_CONFIG:"extendConfig",SET_HIDE_CONTROL_TIMEOUT:"setHideControlsTimeout",GET_VIDEO_TRACK_LIST:"getVideoTrackList",SELECT_VIDEO_TRACK:"selectVideoTrack",GET_TEXT_TRACK_LIST:"getTextTrackList",SELECT_TEXT_TRACK:"selectTextTrack"}),t.default=a.default},function(e,t,n){var r;
/*! Player.js - v0.1.0 - 2017-10-24
* http://github.com/embedly/player.js
* Copyright (c) 2017 Embedly; Licensed BSD */!function(i,a){var o={};function s(e){return function(){var t={method:e},n=Array.prototype.slice.call(arguments);/^get/.test(e)?(o.assert(n.length>0,"Get methods require a callback."),n.unshift(t)):(/^set/.test(e)&&(o.assert(0!==n.length,"Set methods require a value."),t.value=n[0]),n=[t]),this.send.apply(this,n)}}o.DEBUG=!1,o.VERSION="0.0.11",o.CONTEXT="player.js",o.POST_MESSAGE=!!i.postMessage,o.origin=function(e){return"//"===e.substr(0,2)&&(e=i.location.protocol+e),e.split("/").slice(0,3).join("/")},o.addEvent=function(e,t,n){e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},o.log=function(){o.log.history=o.log.history||[],o.log.history.push(arguments),i.console&&o.DEBUG&&i.console.log(Array.prototype.slice.call(arguments))},o.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},o.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isNone=function(e){return null==e},o.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.indexOf=function(e,t){if(null==e)return-1;var n=0,r=e.length;if(Array.prototype.IndexOf&&e.indexOf===Array.prototype.IndexOf)return e.indexOf(t);for(;n<r;n++)if(e[n]===t)return n;return-1},o.assert=function(e,t){if(!e)throw t||"Player.js Assert Failed"},o.Keeper=function(){this.init()},o.Keeper.prototype.init=function(){this.data={}},o.Keeper.prototype.getUUID=function(){return"listener-xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},o.Keeper.prototype.has=function(e,t){if(!this.data.hasOwnProperty(e))return!1;if(o.isNone(t))return!0;for(var n=this.data[e],r=0;r<n.length;r++)if(n[r].id===t)return!0;return!1},o.Keeper.prototype.add=function(e,t,n,r,i){var a={id:e,event:t,cb:n,ctx:r,one:i};this.has(t)?this.data[t].push(a):this.data[t]=[a]},o.Keeper.prototype.execute=function(e,t,n,r){if(!this.has(e,t))return!1;for(var i=[],a=[],s=0;s<this.data[e].length;s++){var u=this.data[e][s];o.isNone(t)||!o.isNone(t)&&u.id===t?(a.push({cb:u.cb,ctx:u.ctx?u.ctx:r,data:n}),!1===u.one&&i.push(u)):i.push(u)}0===i.length?delete this.data[e]:this.data[e]=i;for(var c=0;c<a.length;c++){var l=a[c];l.cb.call(l.ctx,l.data)}},o.Keeper.prototype.on=function(e,t,n,r){this.add(e,t,n,r,!1)},o.Keeper.prototype.one=function(e,t,n,r){this.add(e,t,n,r,!0)},o.Keeper.prototype.off=function(e,t){var n=[];if(!this.data.hasOwnProperty(e))return n;for(var r=[],i=0;i<this.data[e].length;i++){var a=this.data[e][i];o.isNone(t)||a.cb===t?o.isNone(a.id)||n.push(a.id):r.push(a)}return 0===r.length?delete this.data[e]:this.data[e]=r,n},o.Player=function(e,t){if(!(this instanceof o.Player))return new o.Player(e,t);this.init(e,t)},o.EVENTS={READY:"ready",PLAY:"play",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",PROGRESS:"progress",ERROR:"error"},o.EVENTS.all=function(){var e=[];for(var t in o.EVENTS)o.has(o.EVENTS,t)&&o.isString(o.EVENTS[t])&&e.push(o.EVENTS[t]);return e},o.METHODS={PLAY:"play",PAUSE:"pause",GETPAUSED:"getPaused",MUTE:"mute",UNMUTE:"unmute",GETMUTED:"getMuted",SETVOLUME:"setVolume",GETVOLUME:"getVolume",GETDURATION:"getDuration",SETCURRENTTIME:"setCurrentTime",GETCURRENTTIME:"getCurrentTime",SETLOOP:"setLoop",GETLOOP:"getLoop",REMOVEEVENTLISTENER:"removeEventListener",ADDEVENTLISTENER:"addEventListener"},o.METHODS.all=function(){var e=[];for(var t in o.METHODS)o.has(o.METHODS,t)&&o.isString(o.METHODS[t])&&e.push(o.METHODS[t]);return e},o.READIED=[],o.Player.prototype.init=function(e,t){var n=this;o.isString(e)&&(e=a.getElementById(e)),this.elem=e,o.assert("IFRAME"===e.nodeName,'playerjs.Player constructor requires an Iframe, got "'+e.nodeName+'"'),o.assert(e.src,"playerjs.Player constructor requires a Iframe with a 'src' attribute."),this.origin=o.origin(e.src),this.keeper=new o.Keeper,this.isReady=!1,this.queue=[],this.events=o.EVENTS.all(),this.methods=o.METHODS.all(),o.POST_MESSAGE?o.addEvent(i,"message",(function(e){n.receive(e)})):o.log("Post Message is not Available."),o.indexOf(o.READIED,e.src)>-1?n.loaded=!0:this.elem.onload=function(){n.loaded=!0}},o.Player.prototype.send=function(e,t,n){if(e.context=o.CONTEXT,e.version=o.VERSION,t){var r=this.keeper.getUUID();e.listener=r,this.keeper.one(r,e.method,t,n)}return this.isReady||"ready"===e.value?(o.log("Player.send",e,this.origin),!0===this.loaded&&this.elem.contentWindow.postMessage(JSON.stringify(e),this.origin),!0):(o.log("Player.queue",e),this.queue.push(e),!1)},o.Player.prototype.receive=function(e){if(o.log("Player.receive",e),e.origin!==this.origin)return!1;var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==o.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src===this.elem.src&&this.ready(t),this.keeper.has(t.event,t.listener)&&this.keeper.execute(t.event,t.listener,t.value,this)},o.Player.prototype.ready=function(e){if(!0===this.isReady)return!1;e.value.events&&(this.events=e.value.events),e.value.methods&&(this.methods=e.value.methods),this.isReady=!0,this.loaded=!0;for(var t=0;t<this.queue.length;t++){var n=this.queue[t];o.log("Player.dequeue",n),"ready"===e.event&&this.keeper.execute(n.event,n.listener,!0,this),this.send(n)}this.queue=[]},o.Player.prototype.on=function(e,t,n){var r=this.keeper.getUUID();return"ready"===e?this.keeper.one(r,e,t,n):this.keeper.on(r,e,t,n),this.send({method:"addEventListener",value:e,listener:r}),!0},o.Player.prototype.off=function(e,t){var n=this.keeper.off(e,t);if(o.log("Player.off",n),n.length>0)for(var r in n)return this.send({method:"removeEventListener",value:e,listener:n[r]}),!0;return!1},o.Player.prototype.supports=function(e,t){o.assert(o.indexOf(["method","event"],e)>-1,'evtOrMethod needs to be either "event" or "method" got '+e),t=o.isArray(t)?t:[t];for(var n="event"===e?this.events:this.methods,r=0;r<t.length;r++)if(-1===o.indexOf(n,t[r]))return!1;return!0};for(var u=0,c=o.METHODS.all().length;u<c;u++){var l=o.METHODS.all()[u];o.Player.prototype.hasOwnProperty(l)||(o.Player.prototype[l]=s(l))}o.addEvent(i,"message",(function(e){var t;try{t=JSON.parse(e.data)}catch(e){return!1}if(t.context!==o.CONTEXT)return!1;"ready"===t.event&&t.value&&t.value.src&&o.READIED.push(t.value.src)})),o.Receiver=function(e,t){this.init(e,t)},o.Receiver.prototype.init=function(e,t){var n=this;this.isReady=!1,this.origin=o.origin(a.referrer),this.methods={},this.supported={events:e||o.EVENTS.all(),methods:t||o.METHODS.all()},this.eventListeners={},this.reject=!(i.self!==i.top&&o.POST_MESSAGE),this.reject||o.addEvent(i,"message",(function(e){n.receive(e)}))},o.Receiver.prototype.receive=function(e){if(e.origin!==this.origin)return!1;var t={};if(o.isObject(e.data))t=e.data;else try{t=i.JSON.parse(e.data)}catch(e){o.log("JSON Parse Error",e)}if(o.log("Receiver.receive",e,t),!t.method)return!1;if(t.context!==o.CONTEXT)return!1;if(-1===o.indexOf(o.METHODS.all(),t.method))return this.emit("error",{code:2,msg:'Invalid Method "'+t.method+'"'}),!1;var n=o.isNone(t.listener)?null:t.listener;if("addEventListener"===t.method)this.eventListeners.hasOwnProperty(t.value)?-1===o.indexOf(this.eventListeners[t.value],n)&&this.eventListeners[t.value].push(n):this.eventListeners[t.value]=[n],"ready"===t.value&&this.isReady&&this.ready();else if("removeEventListener"===t.method){if(this.eventListeners.hasOwnProperty(t.value)){var r=o.indexOf(this.eventListeners[t.value],n);r>-1&&this.eventListeners[t.value].splice(r,1),0===this.eventListeners[t.value].length&&delete this.eventListeners[t.value]}}else this.get(t.method,t.value,n)},o.Receiver.prototype.get=function(e,t,n){var r=this;if(!this.methods.hasOwnProperty(e))return this.emit("error",{code:3,msg:'Method Not Supported"'+e+'"'}),!1;var i=this.methods[e];if("get"===e.substr(0,3)){i.call(this,(function(t){r.send(e,t,n)}))}else i.call(this,t)},o.Receiver.prototype.on=function(e,t){this.methods[e]=t},o.Receiver.prototype.send=function(e,t,n){if(o.log("Receiver.send",e,t,n),this.reject)return o.log("Receiver.send.reject",e,t,n),!1;var r={context:o.CONTEXT,version:o.VERSION,event:e};o.isNone(t)||(r.value=t),o.isNone(n)||(r.listener=n);var a=JSON.stringify(r);i.parent.postMessage(a,""===this.origin?"*":this.origin)},o.Receiver.prototype.emit=function(e,t){if(!this.eventListeners.hasOwnProperty(e))return!1;o.log("Instance.emit",e,t,this.eventListeners[e]);for(var n=0;n<this.eventListeners[e].length;n++){var r=this.eventListeners[e][n];this.send(e,t,r)}return!0},o.Receiver.prototype.ready=function(){o.log("Receiver.ready"),this.isReady=!0;var e={src:i.location.toString(),events:this.supported.events,methods:this.supported.methods};this.emit("ready",e)||this.send("ready",e)},o.HTML5Adapter=function(e){if(!(this instanceof o.HTML5Adapter))return new o.HTML5Adapter(e);this.init(e)},o.HTML5Adapter.prototype.init=function(e){o.assert(e,"playerjs.HTML5Adapter requires a video element");var t=this.receiver=new o.Receiver;e.addEventListener("playing",(function(){t.emit("play")})),e.addEventListener("pause",(function(){t.emit("pause")})),e.addEventListener("ended",(function(){t.emit("ended")})),e.addEventListener("timeupdate",(function(){t.emit("timeupdate",{seconds:e.currentTime,duration:e.duration})})),e.addEventListener("progress",(function(){t.emit("buffered",{percent:e.buffered.length})})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(100*e.volume)})),t.on("setVolume",(function(t){e.volume=t/100})),t.on("mute",(function(){e.muted=!0})),t.on("unmute",(function(){e.muted=!1})),t.on("getMuted",(function(t){t(e.muted)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},o.HTML5Adapter.prototype.ready=function(){this.receiver.ready()},o.JWPlayerAdapter=function(e){if(!(this instanceof o.JWPlayerAdapter))return new o.JWPlayerAdapter(e);this.init(e)},o.JWPlayerAdapter.prototype.init=function(e){o.assert(e,"playerjs.JWPlayerAdapter requires a player object");var t=this.receiver=new o.Receiver;this.looped=!1,e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("time",(function(e){var n=e.position,r=e.duration;if(!n||!r)return!1;var i={seconds:n,duration:r};t.emit("timeupdate",i)}));var n=this;e.on("complete",(function(){!0===n.looped?e.seek(0):t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play(!0)})),t.on("pause",(function(){e.pause(!0)})),t.on("getPaused",(function(t){t(e.getState().toLowerCase()!=="PLAYING".toLowerCase())})),t.on("getCurrentTime",(function(t){t(e.getPosition())})),t.on("setCurrentTime",(function(t){e.seek(t)})),t.on("getDuration",(function(t){t(e.getDuration())})),t.on("getVolume",(function(t){t(e.getVolume())})),t.on("setVolume",(function(t){e.setVolume(t)})),t.on("mute",(function(){e.setMute(!0)})),t.on("unmute",(function(){e.setMute(!1)})),t.on("getMuted",(function(t){t(!0===e.getMute())})),t.on("getLoop",(function(e){e(this.looped)}),this),t.on("setLoop",(function(e){this.looped=e}),this)},o.JWPlayerAdapter.prototype.ready=function(){this.receiver.ready()},o.MockAdapter=function(){if(!(this instanceof o.MockAdapter))return new o.MockAdapter;this.init()},o.MockAdapter.prototype.init=function(){var e={duration:20,currentTime:0,interval:null,timeupdate:function(){},volume:100,mute:!1,playing:!1,loop:!1,play:function(){e.interval=setInterval((function(){e.currentTime+=.25,e.timeupdate({seconds:e.currentTime,duration:e.duration})}),250),e.playing=!0},pause:function(){clearInterval(e.interval),e.playing=!1}},t=this.receiver=new o.Receiver;t.on("play",(function(){var t=this;e.play(),this.emit("play"),e.timeupdate=function(e){t.emit("timeupdate",e)}})),t.on("pause",(function(){e.pause(),this.emit("pause")})),t.on("getPaused",(function(t){t(!e.playing)})),t.on("getCurrentTime",(function(t){t(e.currentTime)})),t.on("setCurrentTime",(function(t){e.currentTime=t})),t.on("getDuration",(function(t){t(e.duration)})),t.on("getVolume",(function(t){t(e.volume)})),t.on("setVolume",(function(t){e.volume=t})),t.on("mute",(function(){e.mute=!0})),t.on("unmute",(function(){e.mute=!1})),t.on("getMuted",(function(t){t(e.mute)})),t.on("getLoop",(function(t){t(e.loop)})),t.on("setLoop",(function(t){e.loop=t}))},o.MockAdapter.prototype.ready=function(){this.receiver.ready()},o.VideoJSAdapter=function(e){if(!(this instanceof o.VideoJSAdapter))return new o.VideoJSAdapter(e);this.init(e)},o.VideoJSAdapter.prototype.init=function(e){o.assert(e,"playerjs.VideoJSReceiver requires a player object");var t=this.receiver=new o.Receiver;e.on("pause",(function(){t.emit("pause")})),e.on("play",(function(){t.emit("play")})),e.on("timeupdate",(function(n){var r=e.currentTime(),i=e.duration();if(!r||!i)return!1;var a={seconds:r,duration:i};t.emit("timeupdate",a)})),e.on("ended",(function(){t.emit("ended")})),e.on("error",(function(){t.emit("error")})),t.on("play",(function(){e.play()})),t.on("pause",(function(){e.pause()})),t.on("getPaused",(function(t){t(e.paused())})),t.on("getCurrentTime",(function(t){t(e.currentTime())})),t.on("setCurrentTime",(function(t){e.currentTime(t)})),t.on("getDuration",(function(t){t(e.duration())})),t.on("getVolume",(function(t){t(100*e.volume())})),t.on("setVolume",(function(t){e.volume(t/100)})),t.on("mute",(function(){e.volume(0)})),t.on("unmute",(function(){e.volume(1)})),t.on("getMuted",(function(t){t(0===e.volume())})),t.on("getLoop",(function(t){t(e.loop())})),t.on("setLoop",(function(t){e.loop(t)}))},o.VideoJSAdapter.prototype.ready=function(){this.receiver.ready()},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=o(n(695)),c=n(50),l=o(n(326)),d=o(n(697)),f="./assets/libass-wasm/4-0-0/subtitles-octopus-worker.js",p="./assets/libass-wasm/4-0-0/subtitles-octopus-worker-legacy.js";!function(e){e.ERROR="ERROR",e.READY="READY"}(s||(s={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setTrackByUrl=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(e=t.renderer)||void 0===e||e.setTrackByUrl.apply(e,n)},t.freeTrack=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];null===(e=t.renderer)||void 0===e||e.freeTrack.apply(e,n)},t.setTime=function(e){var n;null===(n=t.renderer)||void 0===n||n.setCurrentTime(e)},t.createLibassChannel=function(e){var n=e.activeExternalTextTrack,r=e.externalTextTracks;return t.createCanvas(),c.eventChannel((function(e){var i=function(t){var n=t&&t.message?t.message:"";e({type:s.ERROR,error:t}),console.warn("libass failure:",n)},a={availableFonts:t.getAvailableFonts(),canvas:t.canvas,debug:!1,fonts:[],onError:i,onReady:function(){e({type:s.READY})},subUrl:r[n].src,workerUrl:f,legacyWorkerUrl:p,defaultFont:"../../libass-fonts/default.woff2"};try{if(t.renderer=new u.default(a),t.handleResize(),!t.renderer)throw new Error("No instance created")}catch(e){console.warn("Couldn't create ASS",e),setTimeout((function(){return i(e)}),0)}return function(){}}))},t.handleResize=function(){if(t.canvasParent&&t.renderer){var e=t.getElementSize(t.canvasParent),n=e.width,r=e.height;if(n&&r){n/r>16/9?n=r*(16/9):r=n/(16/9),t.renderer.resize(n,r,0,0,!0)}}},t.createCanvas=function(){var e;t.canvas||(t.canvas=l.default.ref,t.canvasParent=null===(e=t.canvas)||void 0===e?void 0:e.parentElement)},t.getElementSize=function(e){if(!e)return{};var t=e.getBoundingClientRect();return{height:t.height,width:t.width}},t}return i(t,e),t.prototype.destroy=function(){var t,n,r;return a(this,(function(i){return e.prototype.destroy.call(this),this.canvasParent&&this.renderer&&(t=this.getElementSize(this.canvasParent),n=t.width,r=t.height,this.renderer.resize(n-1,r-1)),this.canvasParent=null,this.canvas=null,this.renderer&&this.renderer.dispose(),this.renderer=null,[2]}))},t}(d.default);t.default=h},function(e,t,n){"function"==typeof SubtitlesOctopusOnLoad&&SubtitlesOctopusOnLoad(),e.exports&&(e.exports=function(e){var t=!1;try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));e instanceof WebAssembly.Module&&(t=new WebAssembly.Instance(e)instanceof WebAssembly.Instance)}}catch(e){}console.log("WebAssembly support detected: "+(t?"yes":"no"));var n=this;function r(){var e=n.renderFramesData,t=performance.now();n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height);for(var r=0;r<e.canvases.length;r++){var i=e.canvases[r];n.bufferCanvas.width=i.w,n.bufferCanvas.height=i.h;var a=new Uint8ClampedArray(i.buffer);if(n.hasAlphaBug)for(var o=3;o<a.length;o+=4)a[o]=a[o]>=1?a[o]:1;var s=new ImageData(a,i.w,i.h);n.bufferCanvasCtx.putImageData(s,0,0),n.ctx.drawImage(n.bufferCanvas,i.x,i.y)}if(n.debug){var u=Math.round(performance.now()-t);console.log(Math.round(e.spentTime)+" ms (+ "+u+" ms draw)"),n.renderStart=performance.now()}}function i(){var e=n.renderFramesData,t=performance.now();n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height);for(var r=0;r<e.bitmaps.length;r++){var i=e.bitmaps[r];n.ctx.drawImage(i.bitmap,i.x,i.y)}if(n.debug){var a=Math.round(performance.now()-t);console.log(e.bitmaps.length+" bitmaps, libass: "+Math.round(e.libassTime)+"ms, decode: "+Math.round(e.decodeTime)+"ms, draw: "+a+"ms"),n.renderStart=performance.now()}}n.canvas=e.canvas,n.lossyRender=e.lossyRender,n.isOurCanvas=!1,n.video=e.video,n.canvasParent=null,n.fonts=e.fonts||[],n.availableFonts=e.availableFonts||[],n.defaultFont=e.defaultFont,n.onReadyEvent=e.onReady,n.workerUrl=t?e.workerUrl||"subtitles-octopus-worker.js":e.legacyWorkerUrl||"subtitles-octopus-worker-legacy.js",n.subUrl=e.subUrl,n.subContent=e.subContent||null,n.onErrorEvent=e.onError,n.debug=e.debug||!1,n.lastRenderTime=0,n.pixelRatio=window.devicePixelRatio||1,n.timeOffset=e.timeOffset||0,n.hasAlphaBug=!1,function(){if("function"==typeof ImageData.prototype.constructor)try{return void new window.ImageData(new Uint8ClampedArray([0,0,0,0]),1,1)}catch(e){console.log("detected that ImageData is not constructable despite browser saying so")}var e=document.createElement("canvas").getContext("2d");window.ImageData=function(){var t=0;if(arguments[0]instanceof Uint8ClampedArray)var n=arguments[t++];var r=arguments[t++],i=arguments[t],a=e.createImageData(r,i);return n&&a.data.set(n),a}}(),n.workerError=function(e){if(console.error("Worker error: ",e),n.onErrorEvent&&n.onErrorEvent(e),!n.debug)throw n.dispose(),new Error("Worker error: "+e)},n.init=function(){window.Worker?(n.worker||(n.worker=new Worker(n.workerUrl),n.worker.onmessage=n.onWorkerMessage,n.worker.onerror=n.workerError),n.workerActive=!1,n.createCanvas(),n.setVideo(e.video),n.setSubUrl(e.subUrl),n.worker.postMessage({target:"worker-init",width:n.canvas.width,height:n.canvas.height,URL:document.URL,currentScript:n.workerUrl,preMain:!0,fastRender:n.lossyRender,subUrl:n.subUrl,subContent:n.subContent,fonts:n.fonts,availableFonts:n.availableFonts,defaultFont:n.defaultFont,debug:n.debug})):n.workerError("worker not supported")},n.createCanvas=function(){n.canvas||(n.video?(n.isOurCanvas=!0,n.canvas=document.createElement("canvas"),n.canvas.className="libassjs-canvas",n.canvas.style.display="none",n.canvasParent=document.createElement("div"),n.canvasParent.className="libassjs-canvas-parent",n.canvasParent.appendChild(n.canvas),n.video.nextSibling?n.video.parentNode.insertBefore(n.canvasParent,n.video.nextSibling):n.video.parentNode.appendChild(n.canvasParent)):n.canvas||n.workerError("Don't know where to render: you should give video or canvas in options.")),n.ctx=n.canvas.getContext("2d"),n.bufferCanvas=document.createElement("canvas"),n.bufferCanvasCtx=n.bufferCanvas.getContext("2d"),n.bufferCanvas.width=1,n.bufferCanvas.height=1;var e=new Uint8ClampedArray([0,255,0,0]),t=new ImageData(e,1,1);n.bufferCanvasCtx.clearRect(0,0,1,1),n.ctx.clearRect(0,0,1,1);var r=n.ctx.getImageData(0,0,1,1).data;n.bufferCanvasCtx.putImageData(t,0,0),n.ctx.drawImage(n.bufferCanvas,0,0);var i=n.ctx.getImageData(0,0,1,1).data;n.hasAlphaBug=r[1]!=i[1],n.hasAlphaBug&&console.log("Detected a browser having issue with transparent pixels, applying workaround")},n.setVideo=function(e){if(n.video=e,n.video){var t=function(){n.setCurrentTime(e.currentTime+n.timeOffset)};n.video.addEventListener("timeupdate",t,!1),n.video.addEventListener("playing",(function(){n.setIsPaused(!1,e.currentTime+n.timeOffset)}),!1),n.video.addEventListener("pause",(function(){n.setIsPaused(!0,e.currentTime+n.timeOffset)}),!1),n.video.addEventListener("seeking",(function(){n.video.removeEventListener("timeupdate",t)}),!1),n.video.addEventListener("seeked",(function(){n.video.addEventListener("timeupdate",t,!1),n.setCurrentTime(e.currentTime+n.timeOffset)}),!1),n.video.addEventListener("ratechange",(function(){n.setRate(e.playbackRate)}),!1),n.video.addEventListener("timeupdate",(function(){n.setCurrentTime(e.currentTime+n.timeOffset)}),!1),n.video.addEventListener("waiting",(function(){n.setIsPaused(!0,e.currentTime+n.timeOffset)}),!1),document.addEventListener("fullscreenchange",n.resizeWithTimeout,!1),document.addEventListener("mozfullscreenchange",n.resizeWithTimeout,!1),document.addEventListener("webkitfullscreenchange",n.resizeWithTimeout,!1),document.addEventListener("msfullscreenchange",n.resizeWithTimeout,!1),window.addEventListener("resize",n.resizeWithTimeout,!1),"undefined"!=typeof ResizeObserver&&(n.ro=new ResizeObserver(n.resizeWithTimeout),n.ro.observe(n.video)),n.video.videoWidth>0?n.resize():n.video.addEventListener("loadedmetadata",(function(e){e.target.removeEventListener(e.type,arguments.callee),n.resize()}),!1)}},n.getVideoPosition=function(){var e=n.video.videoWidth/n.video.videoHeight,t=n.video.offsetWidth,r=n.video.offsetHeight,i=t,a=r;return t/r>e?i=Math.floor(r*e):a=Math.floor(t/e),{width:i,height:a,x:(t-i)/2,y:(r-a)/2}},n.setSubUrl=function(e){n.subUrl=e},n.renderFrameData=null,n.workerActive=!1,n.frameId=0,n.onWorkerMessage=function(e){n.workerActive||(n.workerActive=!0,n.onReadyEvent&&n.onReadyEvent());var t=e.data;switch(t.target){case"stdout":console.log(t.content);break;case"console-log":console.log.apply(console,JSON.parse(t.content));break;case"console-debug":console.debug.apply(console,JSON.parse(t.content));break;case"console-info":console.info.apply(console,JSON.parse(t.content));break;case"console-warn":console.warn.apply(console,JSON.parse(t.content));break;case"console-error":console.error.apply(console,JSON.parse(t.content));break;case"stderr":console.error(t.content);break;case"window":window[t.method]();break;case"canvas":switch(t.op){case"getContext":n.ctx=n.canvas.getContext(t.type,t.attributes);break;case"resize":n.resize(t.width,t.height);break;case"renderCanvas":n.lastRenderTime<t.time&&(n.lastRenderTime=t.time,n.renderFramesData=t,window.requestAnimationFrame(r));break;case"renderFastCanvas":n.lastRenderTime<t.time&&(n.lastRenderTime=t.time,n.renderFramesData=t,window.requestAnimationFrame(i));break;case"setObjectProperty":n.canvas[t.object][t.property]=t.value;break;default:throw"eh?"}break;case"tick":n.frameId=t.id,n.worker.postMessage({target:"tock",id:n.frameId});break;case"custom":if(!n.onCustomMessage)throw"Custom message received but client onCustomMessage not implemented.";n.onCustomMessage(e);break;case"setimmediate":n.worker.postMessage({target:"setimmediate"});break;case"get-events":console.log(t.target),console.log(t.events);break;case"get-styles":console.log(t.target),console.log(t.styles);break;case"ready":break;default:throw"what? "+t.target}},n.resize=function(e,t,r,i){var a=null;if(r=r||0,i=i||0,(!e||!t)&&n.video){e=(a=n.getVideoPosition()).width*n.pixelRatio,t=a.height*n.pixelRatio;var o=n.canvasParent.getBoundingClientRect().top-n.video.getBoundingClientRect().top;r=a.y-o,i=a.x}e&&t?n.canvas.width==e&&n.canvas.height==t&&n.canvas.style.top==r&&n.canvas.style.left==i||(n.canvas.width=e,n.canvas.height=t,null!=a&&(n.canvasParent.style.position="relative",n.canvas.style.display="block",n.canvas.style.position="absolute",n.canvas.style.width=a.width+"px",n.canvas.style.height=a.height+"px",n.canvas.style.top=r+"px",n.canvas.style.left=i+"px",n.canvas.style.pointerEvents="none"),n.worker.postMessage({target:"canvas",width:n.canvas.width,height:n.canvas.height})):n.video||console.error("width or height is 0. You should specify width & height for resize.")},n.resizeWithTimeout=function(){n.resize(),setTimeout(n.resize,100)},n.runBenchmark=function(){n.worker.postMessage({target:"runBenchmark"})},n.customMessage=function(e,t){t=t||{},n.worker.postMessage({target:"custom",userData:e,preMain:t.preMain})},n.setCurrentTime=function(e){n.worker.postMessage({target:"video",currentTime:e})},n.setTrackByUrl=function(e){n.worker.postMessage({target:"set-track-by-url",url:e})},n.setTrack=function(e){n.worker.postMessage({target:"set-track",content:e})},n.freeTrack=function(e){n.worker.postMessage({target:"free-track"})},n.render=n.setCurrentTime,n.setIsPaused=function(e,t){n.worker.postMessage({target:"video",isPaused:e,currentTime:t})},n.setRate=function(e){n.worker.postMessage({target:"video",rate:e})},n.dispose=function(){n.worker.postMessage({target:"destroy"}),n.worker.terminate(),n.workerActive=!1,n.video&&n.video.parentNode.removeChild(n.canvasParent)},n.createEvent=function(e){n.worker.postMessage({target:"create-event",event:e})},n.getEvents=function(){n.worker.postMessage({target:"get-events"})},n.setEvent=function(e,t){n.worker.postMessage({target:"set-event",event:e,index:t})},n.removeEvent=function(e){n.worker.postMessage({target:"remove-event",index:e})},n.createStyle=function(e){n.worker.postMessage({target:"create-style",style:e})},n.getStyles=function(){n.worker.postMessage({target:"get-styles"})},n.setStyle=function(e,t){n.worker.postMessage({target:"set-style",style:e,index:t})},n.removeStyle=function(e){n.worker.postMessage({target:"remove-style",index:e})},n.init()})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=c(n(100)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.isCanvasVisible,n=e.handleRef,r=t?null:{display:"none"};return l.default.createElement("canvas",{ref:n,id:f.default.canvasId,style:a(a({},h),r)})},t}(l.Component),h={position:"absolute",pointerEvents:"none",zIndex:2};t.default=d.connect((function(e){return{isCanvasVisible:e.ui.isCanvasVisible}}))(p)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=n(9),c=n(2),l=n(8),d=o(n(12)),f=n(60),p=o(n(31)),h=o(n(327)),v=o(n(699));!function(e){e.ERROR="ERROR",e.READY="READY"}(s||(s={}));var m=function(e){function t(){var t=e.call(this,"libass-wasm",["ass"])||this;return t.FONT_PATH=d.default.URL+"/assets/libass-fonts/",t.getAvailableFonts=function(){var e={};return Object.keys(v.default).forEach((function(n){var r=n.toLowerCase();e[r]=t.FONT_PATH+v.default[n]})),e},t.clearCues=function(){t.setTime(-1)},t.libassTask=t.libassTask.bind(t),t.showCanvas=t.showCanvas.bind(t),t}return i(t,e),t.prototype.destroy=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.hideCanvas()];case 1:return e.sent(),[2]}}))},t.prototype.hideCues=function(){return a(this,(function(e){return this.clearCues(),[2]}))},t.prototype.loadTrack=function(){var e,t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,u.select(l.mediaSelectors.all)];case 1:return e=a.sent().contentTime,[4,u.select(l.playerSelectors.all)];case 2:return t=a.sent(),n=t.activeExternalTextTrack,r=t.externalTextTracks,i=r[n].src,[4,u.call(this.setTime,e)];case 3:return a.sent(),[4,u.call(this.handleResize)];case 4:return a.sent(),[4,u.call(this.setTrackByUrl,i)];case 5:return a.sent(),[4,this.showCanvas()];case 6:return a.sent(),[2]}}))},t.prototype.prepareToSwitchTrack=function(){return a(this,(function(e){return[2]}))},t.prototype.processCues=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,u.select(l.mediaSelectors.all)];case 1:return e=r.sent(),t=e.contentTime,n=e.textTrackOffset,p.default.isNil(t)?[3,3]:[4,u.call(this.setTime,t+n)];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t.prototype.release=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.hideCanvas()];case 1:return e.sent(),this.clearCues(),this.freeTrack(),[2]}}))},t.prototype.resize=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.call(this.handleResize)];case 1:return e.sent(),[2]}}))},t.prototype.setupAndLoad=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.spawn(this.libassTask)];case 1:return e.sent(),[2,!0]}}))},t.prototype.showCues=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.processCues()];case 1:return e.sent(),[2]}}))},t.prototype.libassTask=function(){var e,t,n,r,i,o,d,p,h;return a(this,(function(a){switch(a.label){case 0:return[4,u.select(l.playerSelectors.all)];case 1:return e=a.sent(),[4,u.call(this.createLibassChannel,e)];case 2:t=a.sent(),a.label=3;case 3:a.trys.push([3,,19,20]),a.label=4;case 4:return[4,u.take(t)];case 5:switch(n=a.sent(),r=n.type,i=n.data,r){case s.READY:return[3,6];case s.ERROR:return[3,10];case f.MessageType.ASSET_DOWNLOAD_PROGRESS:return[3,12];case"ASSETS_DOWNLOAD_ERROR":return[3,17]}return[3,17];case 6:return[4,u.put(c.mediaActionCreators.readyTextTrackPlugin(this.name))];case 7:return a.sent(),[4,this.showCanvas()];case 8:return a.sent(),[4,this.processCues()];case 9:return a.sent(),[3,17];case 10:return[4,this.error()];case 11:return a.sent(),[3,17];case 12:return[4,u.put(c.messageBusActionCreators.sendMessageToClient({type:f.MessageType.ASSET_DOWNLOAD_PROGRESS,payload:i.summary}))];case 13:return a.sent(),o=i.summary,d=o.total,p=o.complete,h=o.error,p+h<d?[4,u.put(c.playerActionCreators.assetDownloadProgress(i))]:[3,15];case 14:return a.sent(),[3,17];case 15:return[4,u.put(c.playerActionCreators.assetDownloadComplete(i))];case 16:return a.sent(),[3,17];case 17:return[3,4];case 18:return[3,20];case 19:return t&&t.close(),[7];case 20:return[2]}}))},t.prototype.hideCanvas=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.select(l.uiSelectors.all)];case 1:return e.sent().isCanvasVisible?[4,u.put(c.uiActionCreators.hideCanvas())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.showCanvas=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.select(l.uiSelectors.all)];case 1:return e.sent().isCanvasVisible?[3,3]:[4,u.put(c.uiActionCreators.showCanvas())];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t}(h.default);t.default=m},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.createResizeEventChannel=void 0;var o=n(50),s=a(n(328));t.createResizeEventChannel=function(){return o.eventChannel((function(e){var t=function(){return e(s.EmitterEvent.RESIZE)};return s.default.addListener(s.EmitterEvent.RESIZE,t),function(){return s.default.removeListener(s.EmitterEvent.RESIZE,t)}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={"Adobe Arabic":"AdobeArabic-Bold.otf","Andale Mono":"andalemo.ttf",Arial:"arial.ttf","Arial Bold":"arialbd.ttf","Arial Bold Italic":"arialbi.ttf","Arial Italic":"ariali.ttf","Arial Unicode MS":"arialuni.ttf","Arial Black":"ariblk.ttf","Comic Sans MS":"comic.ttf","Comic Sans MS Bold":"comicbd.ttf","Courier New":"cour.ttf","Courier New Bold":"courbd.ttf","Courier New Bold Italic":"courbi.ttf","Courier New Italic":"couri.ttf","DejaVu LGC Sans Mono Bold":"DejaVuLGCSansMono-Bold.ttf","DejaVu LGC Sans Mono Bold Oblique":"DejaVuLGCSansMono-BoldOblique.ttf","DejaVu LGC Sans Mono Oblique":"DejaVuLGCSansMono-Oblique.ttf","DejaVu LGC Sans Mono":"DejaVuLGCSansMono.ttf","DejaVu Sans Bold":"DejaVuSans-Bold.ttf","DejaVu Sans Bold Oblique":"DejaVuSans-BoldOblique.ttf","DejaVu Sans ExtraLight":"DejaVuSans-ExtraLight.ttf","DejaVu Sans Oblique":"DejaVuSans-Oblique.ttf","DejaVu Sans":"DejaVuSans.ttf","DejaVu Sans Condensed Bold":"DejaVuSansCondensed-Bold.ttf","DejaVu Sans Condensed Bold Oblique":"DejaVuSansCondensed-BoldOblique.ttf","DejaVu Sans Condensed Oblique":"DejaVuSansCondensed-Oblique.ttf","DejaVu Sans Condensed":"DejaVuSansCondensed.ttf","DejaVu Sans Mono Bold":"DejaVuSansMono-Bold.ttf","DejaVu Sans Mono Bold Oblique":"DejaVuSansMono-BoldOblique.ttf","DejaVu Sans Mono Oblique":"DejaVuSansMono-Oblique.ttf","DejaVu Sans Mono":"DejaVuSansMono.ttf",Georgia:"georgia.ttf","Georgia Bold":"georgiab.ttf","Georgia Italic":"georgiai.ttf","Georgia Bold Italic":"georgiaz.ttf",Impact:"impact.ttf","Rubik Black":"Rubik-Black.ttf","Rubik Black Italic":"Rubik-BlackItalic.ttf","Rubik Bold":"Rubik-Bold.ttf","Rubik Bold Italic":"Rubik-BoldItalic.ttf","Rubik Italic":"Rubik-Italic.ttf","Rubik Light":"Rubik-Light.ttf","Rubik Light Italic":"Rubik-LightItalic.ttf","Rubik Medium":"Rubik-Medium.ttf","Rubik Medium Italic":"Rubik-MediumItalic.ttf",Rubik:"Rubik-Regular.ttf",Tahoma:"tahoma.ttf","Times New Roman":"times.ttf","Times New Roman Bold":"timesbd.ttf","Times New Roman Bold Italic":"timesbi.ttf","Times New Roman Italic":"timesi.ttf","Trebuchet MS":"trebuc.ttf","Trebuchet MS Bold":"trebucbd.ttf","Trebuchet MS Bold Italic":"trebucbi.ttf","Trebuchet MS Italic":"trebucit.ttf",Verdana:"verdana.ttf","Verdana Bold":"verdanab.ttf","Verdana Italic":"verdanai.ttf","Verdana Bold Italic":"verdanaz.ttf",Webdings:"webdings.ttf"}},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(50),c=n(9),l=s(n(701)),d=s(n(702)),f=n(2),p=n(8),h=n(28),v=s(n(31)),m=s(n(327)),g=n(329),y=d.default.WebVTT,b=function(t){function n(){var e=t.call(this,"vtt.js",["srt","vtt"])||this;return e.cues=[],e.regions=[],e.createParserErrorChannel=function(){return u.eventChannel((function(t){return e.parser.onparsingerror=function(e){return t(e)},function(){return e.parser.onparsingerror=null}}))},e.getText=function(t){return a(e,void 0,void 0,(function(){var e,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(t)];case 1:return[4,r.sent().text()];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),console.warn("Unable to fetch",t,n.message),e="",[3,4];case 4:return[2,e]}}))}))},e.srtToVtt=function(e){var t="";try{t="WEBVTT FILE\r\n\r\n"+l.default.toVTT(e)}catch(e){console.warn("Unable to convert srt to vtt:",e.message)}return t},e.handleParserError=e.handleParserError.bind(e),e.parseCues=e.parseCues.bind(e),e.prepareCSS=e.prepareCSS.bind(e),e}return i(n,t),n.prototype.destroy=function(){return o(this,(function(e){switch(e.label){case 0:return this.cues=[],this.regions=[],this.parser=null,this.textTrackCanvas=null,this.parserErrorTask?[4,c.cancel(this.parserErrorTask)]:[3,2];case 1:e.sent(),this.parserErrorTask=null,e.label=2;case 2:return[2]}}))},n.prototype.hideCues=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.processCues(-1)];case 1:return e.sent(),[2]}}))},n.prototype.prepareToSwitchTrack=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.release()];case 1:return e.sent(),[2]}}))},n.prototype.processCues=function(e){var t,n,r,i,a,s;return o(this,(function(o){switch(o.label){case 0:return void 0!==(t=e)?[3,2]:[4,c.select(p.mediaSelectors.all)];case 1:n=o.sent(),r=n.contentTime,i=n.textTrackOffset,t=r+i,o.label=2;case 2:return v.default.isNil(t)&&(t=-1),a=this.cues.filter((function(e){return e.startTime<=t&&e.endTime>=t})).map((function(e){return e.hasBeenReset=!0,e})),s={backgroundColor:"transparent"},y.processCues(window,a,this.textTrackCanvas,s),[2]}}))},n.prototype.loadTrack=function(e){var t,n,r,i;return o(this,(function(a){switch(a.label){case 0:return[4,c.all([c.call(this.getText,e.src),e.cssSrc?c.call(this.getText,e.cssSrc):""])];case 1:return t=a.sent(),n=t[0],r=t[1],i=e.type===h.TextTrackType.SRT?this.srtToVtt(n):n,[4,c.call(this.parseCues,i)];case 2:return a.sent(),[4,c.call(this.prepareCSS,r)];case 3:return a.sent(),[4,c.call(this.processCues)];case 4:return a.sent(),[2]}}))},n.prototype.release=function(){return o(this,(function(e){switch(e.label){case 0:return this.cues=[],this.regions=[],[4,c.call(this.processCues)];case 1:return e.sent(),[2]}}))},n.prototype.resize=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.processCues()];case 1:return e.sent(),[2]}}))},n.prototype.setupAndLoad=function(e){var t,n=this;return o(this,(function(r){switch(r.label){case 0:return this.parser=new y.Parser(window,d.default,y.StringDecoder()),this.parser.oncue=function(e){return n.cues.push(e)},this.parser.onregion=function(e){return n.regions.push(e)},t=this,[4,c.spawn(this.handleParserError)];case 1:return t.parserErrorTask=r.sent(),this.textTrackCanvas=document.getElementById(g.VttJsConstants.LAYER_ID),[4,this.loadTrack(e)];case 2:return r.sent(),[4,c.put(f.mediaActionCreators.readyTextTrackPlugin(this.name))];case 3:return r.sent(),[2,!1]}}))},n.prototype.showCues=function(){return o(this,(function(e){switch(e.label){case 0:return[4,this.processCues()];case 1:return e.sent(),[2]}}))},n.prototype.handleParserError=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,,9,10]),[4,c.call(this.createParserErrorChannel)];case 1:e=r.sent(),r.label=2;case 2:0,r.label=3;case 3:return r.trys.push([3,5,,7]),[4,c.take(e)];case 4:return r.sent(),[3,7];case 5:return t=r.sent(),n=v.default.toPlainObject(t),[4,c.put(f.playerActionCreators.addWarning(n))];case 6:return r.sent(),[3,7];case 7:return[3,2];case 8:return[3,10];case 9:return e&&e.close(),[7];case 10:return[2]}}))},n.prototype.parseCues=function(t){var n,r;return o(this,(function(i){switch(i.label){case 0:return i.trys.push([0,1,,3]),this.parser.parse(t),[3,3];case 1:return n=i.sent(),r=v.default.toPlainObject(n),[4,f.playerActionCreators.addWarning(r)];case 2:return[2,i.sent()];case 3:return this.parser.flush(),v.default.get(e,"env.JEST_WORKER_ID")&&(this.cues=JSON.parse(JSON.stringify(this.cues))),[4,c.put(f.playerActionCreators.updateCues(this.cues))];case 4:return i.sent(),[2]}}))},n.prototype.prepareCSS=function(e){var t;return o(this,(function(n){switch(n.label){case 0:return t=e.replace(/::cue\s*{/g,"."+g.VttJsConstants.LAYER_CLASS+" span {").replace(/::cue\(?([^)]+)\)?\s*{/g,"."+g.VttJsConstants.LAYER_CLASS+" $1 {"),[4,c.put(f.playerActionCreators.updateTextTrackCSS(e+"\n"+t))];case 1:return n.sent(),[2]}}))},n}(m.default);t.default=b}).call(this,n(202))},function(e,t,n){"use strict";n.r(t);class r{constructor(e){this.resource=e}blobToBuffer(){return new Promise((e,t)=>{const n=new FileReader;n.addEventListener("loadend",t=>{const n=t.target.result;e(new Uint8Array(n))}),n.addEventListener("error",()=>t("Error while reading the Blob object")),n.readAsArrayBuffer(this.resource)})}static blobToString(e,t,n){const r=new FileReader;r.addEventListener("loadend",e=>{const n=e.target.result;t(n)}),r.addEventListener("error",()=>n()),r.readAsText(e)}static toVTT(e){return e.replace(/\{\\([ibu])\}/g,"</$1>").replace(/\{\\([ibu])1\}/g,"<$1>").replace(/\{([ibu])\}/g,"<$1>").replace(/\{\/([ibu])\}/g,"</$1>").replace(/(\d\d:\d\d:\d\d),(\d\d\d)/g,"$1.$2").concat("\r\n\r\n")}static toTypedArray(e){const t=[];return e.split("").forEach(e=>{t.push(parseInt(e.charCodeAt(),16))}),Uint8Array.from(t)}getURL(){return new Promise((e,t)=>this.resource instanceof Blob?FileReader?TextDecoder?r.blobToString(this.resource,t=>{const n="WEBVTT FILE\r\n\r\n".concat(r.toVTT(t)),i=new Blob([n],{type:"text/vtt"});return this.objectURL=URL.createObjectURL(i),e(this.objectURL)},()=>{this.blobToBuffer().then(t=>{const n=new TextDecoder("utf-8").decode(t),i="WEBVTT FILE\r\n\r\n".concat(r.toVTT(n)),a=new Blob([i],{type:"text/vtt"});return this.objectURL=URL.createObjectURL(a),e(this.objectURL)})}):t("No TextDecoder constructor found"):t("No FileReader constructor found"):t("Expecting resource to be a Blob but something else found."))}release(){URL.createObjectURL(this.objectURL)}}window.WebVTTConverter=r,t.default=r},function(e,t,n){var r=n(703),i=e.exports={WebVTT:n(704),VTTCue:n(705),VTTRegion:n(706)};r.vttjs=i,r.WebVTT=i.WebVTT;var a=i.VTTCue,o=i.VTTRegion,s=r.VTTCue,u=r.VTTRegion;i.shim=function(){r.VTTCue=a,r.VTTRegion=o},i.restore=function(){r.VTTCue=s,r.VTTRegion=u},r.VTTCue||i.shim()},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(45))},function(e,t){var n=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function r(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=n(null)}function o(e,t,n,r){var i=r?e.split(r):[e];for(var a in i)if("string"==typeof i[a]){var o=i[a].split(n);if(2===o.length)t(o[0],o[1])}}function s(e,t,n){var s=e;function u(){var t=i(e);if(null===t)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+s);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=u(),c(),"--\x3e"!==e.substr(0,3))throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);e=e.substr(3),c(),t.endTime=u(),c(),function(e,t){var r=new a;o(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===a.length&&r.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),r.percent(e,a[0]),2===a.length&&r.alt("positionAlign",a[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}r.prototype=n(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var u={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},l={v:"title",lang:"lang"},d={rt:"ruby"};function f(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return u[e]}function a(e){for(;y=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(y[0],r);return e}function o(e,t){return!d[t.localName]||d[t.localName]===e.localName}function s(t,n){var r=c[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var a=l[t];return a&&n&&(i[a]=n.trim()),i}for(var f,p=e.document.createElement("div"),h=p,v=[];null!==(f=n());)if("<"!==f[0])h.appendChild(e.document.createTextNode(a(f)));else{if("/"===f[1]){v.length&&v[v.length-1]===f.substr(2).replace(">","")&&(v.pop(),h=h.parentNode);continue}var m,g=i(f.substr(1,f.length-2));if(g){m=e.document.createProcessingInstruction("timestamp",g),h.appendChild(m);continue}var y=f.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(m=s(y[1],y[3])))continue;if(!o(h,m))continue;y[2]&&(m.className=y[2].substr(1).replace("."," ")),v.push(y[1]),h.appendChild(m),h=m}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function h(e){for(var t=0;t<p.length;t++){var n=p[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var a=0;a<n.length;a++)if(h(n.charCodeAt(a)))return"rtl";return"ltr"}function m(){}function g(e,t,n){m.call(this),this.cue=t,this.cueDiv=f(e,t.text);var r={color:n.color||"inherit",backgroundColor:n.backgroundColor||"inherit",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font||"inherit",fontVariant:n.fontVariant||"inherit",textShadow:n.textShadow||"inherit",backgroundColor:n.windowColor||"inherit",whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function b(e,t,n,r){var i=new y(t),a=t.cue,o=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(a),s=[];if(a.snapToLines){var u;switch(a.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,l=c*Math.round(o),d=n[u]+c,f=s[0];Math.abs(l)>d&&(l=l<0?-1:1,l*=Math.ceil(d/c)*c),o<0&&(l+=""===a.vertical?n.height:n.width,s=s.reverse()),i.move(f,l)}else{var p=i.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=p/2;break;case"end":o-=p}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}s=["+y","-x","+x","-y"],i=new y(t)}var h=function(e,t){for(var i,a=new y(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);o>u&&(i=new y(e),o=u),e=new y(a)}return i||a}(i,s);t.move(h.toCSSCompatValues(n))}function _(){}m.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},m.prototype.formatStyle=function(e,t){return 0===e?0:e+t},g.prototype=n(m.prototype),g.prototype.constructor=g,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},_.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},_.convertCueToDOMTree=function(e,t){return e&&t?f(e,t):null};_.processCues=function(e,t,n,r){if(!e||!t||!n)return null;for(r=r||{};n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=r.cueBackgroundMargin||"1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var a=[],o=y.getSimpleBoxPosition(i),s=Math.round(o.height*((r.fontSizePercent||100)/100)*5)/100,u={color:r.color||"rgba(255, 255, 255, 1)",backgroundColor:r.backgroundColor||"rgba(0, 0, 0, 0.8)",windowColor:r.windowColor||"rgba(0, 0, 0, 0.0)",font:s+"px "+(r.fontStyle||"sans-serif")};r.fontVariant&&(u.fontVariant=r.fontVariant),r.textShadow&&(u.textShadow=r.textShadow),function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new g(e,r,u),i.appendChild(n.div),b(0,n,o,a),r.displayState=n.div,a.push(y.getSimpleBoxPosition(n))}()}else for(var c=0;c<t.length;c++)i.appendChild(t[c].displayState)},_.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof r))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function n(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),r}function u(e){e.match(/X-TIMESTAMP-MAP/)?o(e,(function(e,n){switch(e){case"X-TIMESTAMP-MAP":!function(e){var n=new a;o(e,(function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",i(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)}}),/=/):o(e,(function(e,n){switch(e){case"Region":!function(e){var n=new a;if(o(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r=t.split(",");if(2!==r.length)break;var i=new a;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;n.set(e+"X",i.get("x")),n.set(e+"Y",i.get("y"));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=n.get("width",100),r.lines=n.get("lines",3),r.regionAnchorX=n.get("regionanchorX",0),r.regionAnchorY=n.get("regionanchorY",100),r.viewportAnchorX=n.get("viewportanchorX",0),r.viewportAnchorY=n.get("viewportanchorY",100),r.scroll=n.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:n.get("id"),region:r})}}(n)}}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var l=(c=n()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new r(r.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:c=n(),t.state){case"HEADER":/:/.test(c)?u(c):c||(t.state="ID");continue;case"NOTE":c||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){t.state="NOTE";break}if(!c)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===c.indexOf("--\x3e")){t.cue.id=c;continue}case"CUE":try{s(c,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var f=-1!==c.indexOf("--\x3e");if(!c||f&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=c;continue;case"BADCUE":c||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new r(r.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=_},function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1};function i(e){return"string"==typeof e&&(!!r[e.toLowerCase()]&&e.toLowerCase())}function a(e,t,r){this.hasBeenReset=!1;var a="",o=!1,s=e,u=t,c=r,l=null,d="",f=!0,p="auto",h="start",v=50,m="center",g=50,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return o},set:function(e){o=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");u=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(e){var t=function(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return f},set:function(e){f=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");h=t,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return g},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");g=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=i(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=a},function(e,t){var n={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,a=100,o=0,s=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=function(e){return"string"==typeof e&&(!!n[e.toLowerCase()]&&e.toLowerCase())}(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(708)),c=s(n(330)),l=n(119),d=s(n(331)),f=n(7),p=s(n(151)),h=function(e){function t(){var t=e.call(this,"EllationEMEPlugin")||this;return t.clear=function(){t.authToken=null},t.getShakaOptions=function(){return{preLoadSource:t.getAuthToken,requestFilter:t.shakaRequestFilter,responseFilter:t.shakaResponseFilter}},t.getFairPlayCertificate=function(e){return a(t,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:t=(e.drm||{}).fairPlayCertificateURL,o.label=1;case 1:return o.trys.push([1,4,,5]),n={headers:{"dt-custom-data":this.authToken.custom_data,Pragma:"Cache-Control: no-cache","Cache-Control":"max-age=0"}},[4,fetch(t,n)];case 2:if(!(r=o.sent()).ok)throw new Error("Error "+r.status);return[4,r.arrayBuffer()];case 3:return i=o.sent(),this.certificate=new Uint8Array(i),[2,this.certificate];case 4:return a=o.sent(),console.warn("Unable to get the certificate: "+a.message),[2,null];case 5:return[2]}}))}))},t.setContentId=function(e,n){t.assetId=p.default.getAssetId(e.unprocessedSource.source),t.variantId="avkey"},t.getContentId=function(){return l.sprintf("drmtoday?assetId=%s&variantId=%s",t.assetId,t.variantId)},t.getAuthToken=function(e,n){return a(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return t=this,[4,p.default.getAuthToken(e,n)];case 1:return t.authToken=r.sent(),[2,!!this.authToken]}}))}))},t.shakaRequestFilter=function(e,n){e===c.default.net.NetworkingEngine.RequestType.LICENSE&&t.authToken&&(n.headers["dt-custom-data"]=t.authToken.custom_data,n.headers["x-dt-auth-token"]=t.authToken.token)},t.shakaResponseFilter=function(e,t){if(e===c.default.net.NetworkingEngine.RequestType.LICENSE){var n=new Uint8Array(t.data),r=String.fromCharCode.apply(null,n);if(r.indexOf("<AcquireLicenseResponse")>-1)return;var i=r;if(f.environmentUtils.isSafari())"<ckc>"===(i=(i=c.default.util.StringUtils.fromUTF8(t.data)).trim()).substr(0,5)&&"</ckc>"===i.substr(-6)&&(i=i.slice(5,-6)),t.data=new Uint8Array(u.default.decode(i));else{try{i=JSON.parse(r)}catch(e){throw new Error("Error while parsing JSON: "+e)}var a=i.license,o=atob(a);t.data=new Uint8Array(o.length);for(var s=0;s<o.length;++s)t.data[s]=o.charCodeAt(s)}}},t}return i(t,e),t}(d.default);t.default=h},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,a="";for(n=0;n<i;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=function(e){var t,r,i,a,o,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],a=n[e.charCodeAt(t+2)],o=n[e.charCodeAt(t+3)],d[c++]=r<<2|i>>4,d[c++]=(15&i)<<4|a>>2,d[c++]=(3&a)<<6|63&o;return l}}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=n(35),f=s(n(332)),p=n(101),h=function(e){function t(){var t=e.call(this,"EllationNetworkJWTProvider")||this;return t.handleChangeConfig=t.handleChangeConfig.bind(t),t.requestAccount=t.requestAccount.bind(t),t.getTokenOptions=t.getTokenOptions.bind(t),t.requestToken=t.requestToken.bind(t),t}return i(t,e),t.prototype.getToken=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.select(l.ellationCoreSelectors.all)];case 1:return e=r.sent().tokenExpires,(new Date).getTime()>=e?[4,this.requestToken()]:[3,3];case 2:if((t=r.sent()).type===p.CallStatus.ERROR)return[2,{error:t}];r.label=3;case 3:return[4,u.select(l.ellationCoreSelectors.property,"token")];case 4:return[2,(n=r.sent())?{token:n}:{error:"no token"}]}}))},t.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeLatest([c.contentLifecycleActionCreators.loadConfig,c.contentLifecycleActionCreators.updateConfig],this.handleChangeConfig)])];case 1:return e.sent(),[2]}}))},t.prototype.handleChangeConfig=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=n.sent().user,[4,u.select(l.ellationCoreSelectors.all)];case 2:return!(t=n.sent().token)||e.id?[3,4]:[4,u.put(c.ellationCoreActionCreators.updateToken({token:null,tokenExpires:null}))];case 3:return n.sent(),[3,5];case 4:if(!e.id||t)return[2];n.label=5;case 5:return[4,f.default.isPlayheadEnabled()];case 6:return n.sent()?[4,this.requestToken()]:[2];case 7:return n.sent().type!==p.CallStatus.SUCCESS?[3,9]:[4,this.requestAccount()];case 8:n.sent(),n.label=9;case 9:return[2]}}))},t.prototype.requestAccount=function(){var e,t,n,r,i,s;return o(this,(function(o){switch(o.label){case 0:return[4,u.select(l.ellationCoreSelectors.all)];case 1:return e=o.sent().token,[4,u.select(l.configurationSelectors.self)];case 2:return t=o.sent().organization,n=t.apiDomain,r=a(a({},p.baseGetOptions),{headers:a(a({},p.baseGetOptions.headers),{Authorization:"Bearer "+e})}),i="https://"+n+d.EllationAPIEndpoints.ACCOUNT_ME,[4,u.call(p.fetchUrl,i,r)];case 3:return(s=o.sent()).type!==p.CallStatus.SUCCESS?[3,6]:[4,u.put(c.ellationCoreActionCreators.updateAccountId(s.data.account_id))];case 4:return o.sent(),[4,u.put(c.ellationCoreActionCreators.readyToken())];case 5:o.sent(),o.label=6;case 6:return[2,s]}}))},t.prototype.getTokenOptions=function(){var e,t,n,r;return o(this,(function(i){switch(i.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=i.sent().client,t=null!==(r=null==e?void 0:e.environment)&&void 0!==r?r:d.CrunchyrollEnv.PROD,n=d.TokenClientId[t],[2,a(a({},p.basePostOptions),{credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"etp_rt_cookie",client_id:n})})]}}))},t.prototype.requestToken=function(){var e,t,n,r,i;return o(this,(function(a){switch(a.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=a.sent().organization,t=e.apiDomain,[4,this.getTokenOptions()];case 2:return n=a.sent(),r="https://"+t+d.EllationAPIEndpoints.TOKEN,[4,u.call(p.fetchUrl,r,n)];case 3:return(i=a.sent()).type!==p.CallStatus.SUCCESS?[3,5]:[4,u.put(c.ellationCoreActionCreators.updateToken({token:i.data.access_token,tokenExpires:(new Date).getTime()+1e3*i.data.expires_in}))];case 4:a.sent(),a.label=5;case 5:return[2,i]}}))},t}(s(n(212)).default);t.default=h},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(711));t.default=i.default},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(211)),u=n(3),c=(u.NativeModules||{}).VelocityMessageBus,l=c&&new u.NativeEventEmitter(c),d=o(n(44)),f=a(n(116)),p=function(){function e(){}return e.destroy=function(){e.emitter.removeAllListeners(),null==l||l.removeAllListeners("client-message")},e.sendMessageToClient=function(t){e.emitter.emit("vilos-message",t),null==c||c.sendNativeMessage(t)},e.sendMessage=function(t){e.emitter.emit("client-message",t)},e.onMessage=function(t){e.emitter.on("vilos-message",t)},e.handleEvent=function(e){d.default.dispatch(f.receiveEvent(e))},e.initialize=function(){e.emitter.on("client-message",e.handleEvent),null==l||l.addListener("client-message",(function(t){var n=t.type,r=t.payload;console.warn("Velocity Native Message Bus Test:",n,r),e.handleEvent(t)}))},e.emitter=new s.default,e}();t.default=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,u=n(9),c=n(2),l=n(8),d=n(53),f=o(n(13));!function(e){e.PREROLL="preroll",e.ALL_MIDROLLS="all_midrolls",e.FIRST_MIDROLL="first_midroll",e.ALL_ADS="all_ads"}(s||(s={}));var p=function(e){function t(){var t=e.call(this,"PremiumUpsellCTA")||this;return t.shownOnce=!1,t.isSingleton=function(){return!1},t.getOptions=function(){return{sagas:[t.register]}},t.register=t.register.bind(t),t.handleAdBreakStarted=t.handleAdBreakStarted.bind(t),t.handleAdSlotEnded=t.handleAdSlotEnded.bind(t),t.handleLoadContent=t.handleLoadContent.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.adsManagerActionCreators.startedAdBreak,this.handleAdBreakStarted),u.takeEvery(c.adsManagerActionCreators.endedAdBreak,this.handleEndedAdBreak),u.takeEvery(c.adsManagerActionCreators.endedAdSlot,this.handleAdSlotEnded),u.takeEvery(c.contentLifecycleActionCreators.loadContent,this.handleLoadContent),u.takeEvery(c.configStackActionCreators.combineConfigLayers,this.handleCombineConfigLayers)])];case 1:return e.sent(),[2]}}))},t.prototype.handleAdBreakStarted=function(e){var t,n,r,i,o,d,f;return a(this,(function(a){switch(a.label){case 0:return t=0===e.payload.offset,n=!t,o=(i=l.configurationSelectors).self,[4,u.select()];case 1:if(r=o.apply(i,[a.sent()]),!(d=r.premiumUpsellCTA).enabled)return[3,3];switch(f=!0,d.showOn){case s.PREROLL:n&&(f=!1);break;case s.ALL_MIDROLLS:t&&(f=!1);break;case s.FIRST_MIDROLL:(t||this.shownOnce)&&(f=!1);break;case s.ALL_ADS:}return f?(this.shownOnce=!0,[4,u.put(c.ellationCoreActionCreators.showUpsellCTA())]):[3,3];case 2:a.sent(),a.label=3;case 3:return[2]}}))},t.prototype.handleAdSlotEnded=function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return n=(t=l.configurationSelectors).self,[4,u.select()];case 1:return e=n.apply(t,[i.sent()]),!(r=e.premiumUpsellCTA).enabled||r.showForWholeAdBreak?[3,3]:[4,u.put(c.ellationCoreActionCreators.hideUpsellCTA())];case 2:i.sent(),i.label=3;case 3:return[2]}}))},t.prototype.handleEndedAdBreak=function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return n=(t=l.configurationSelectors).self,[4,u.select()];case 1:return e=n.apply(t,[i.sent()]),(r=e.premiumUpsellCTA).enabled&&r.showForWholeAdBreak?[4,u.put(c.ellationCoreActionCreators.hideUpsellCTA())]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))},t.prototype.handleLoadContent=function(){return a(this,(function(e){return this.reset(),[2]}))},t.prototype.handleCombineConfigLayers=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,u.select(l.configStackSelectors.getLayer,d.ConfigStackLayer.A_B_TEST)];case 1:return e=r.sent(),t=null===(n=null==e?void 0:e.premiumUpsellCTA)||void 0===n?void 0:n.experiment,[4,u.put(c.ellationAnalyticsActionCreators.updateExperiementData(t))];case 2:return r.sent(),[2]}}))},t.prototype.reset=function(){this.shownOnce=!1},t}(f.default);t.default=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(333)),a=r(n(85)),o=r(n(719)),s=r(n(720)),u=r(n(740)),c=r(n(742)),l=r(n(744)),d=r(n(748)),f=r(n(749)),p=r(n(764)),h=r(n(766)),v=r(n(769)),m=r(n(332)),g=r(n(350)),y=r(n(770)),b=r(n(772));t.default=[i.default,s.default,u.default,c.default,l.default,d.default,p.default,f.default,h.default,v.default,m.default,g.default,y.default,a.default,o.default,b.default]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21).createReducer({},{ssaiParams:null});t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_AD_BREAK_SSAI_TASK=t.PROCESS_SOURCE_SSAI_TASK=t.QueryParamName=t.SsaiTimelineElementType=void 0,function(e){e.VOD="vod",e.ADVERT="advert"}(t.SsaiTimelineElementType||(t.SsaiTimelineElementType={})),function(e){e.A9="a9",e.AD_TECH="adTech",e.DEBUG_YOSDK="debugYoSdk",e.LOCAL_NOYO="localNoYo",e.NOYO="noYo",e.SSAI="ssai",e.SSAI_CID="SsaiCid"}(t.QueryParamName||(t.QueryParamName={})),t.PROCESS_SOURCE_SSAI_TASK="Process source SSAI task",t.END_AD_BREAK_SSAI_TASK="End ad break SSAI task"},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.triggerAdBreakPrefetch=t.triggerAdBreakPlayback=void 0;var o,s,u,c=a(n(717)),l=n(50),d=n(9),f=n(2),p=n(8),h=n(59),v=n(40),m=n(718),g=n(203),y=n(43),b=a(n(151)),_=n(7);function A(){return i(this,(function(e){switch(e.label){case 0:return[4,_.gateUtils.addTask(f.contentLifecycleActionCreators.readyToPlayPrerolls,"Vendri preroll ready")];case 1:return e.sent(),[4,_.gateUtils.addTask(f.contentLifecycleActionCreators.readyToPlay,"Vendri ready")];case 2:return e.sent(),[2]}}))}function S(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return e=i.sent(),t=e.adBreaks,n=e.isVendriInitialized,r=e.isVendriReady,n?[3,4]:[4,d.put(f.adsManagerActionCreators.initializedVendri())];case 2:return i.sent(),[4,T()];case 3:return i.sent(),[2];case 4:return r?[2]:[4,d.put(f.adsManagerActionCreators.loadedPID())];case 5:return i.sent(),[4,d.put(f.adsManagerActionCreators.setVendriIsReady())];case 6:return i.sent(),t.length?[4,d.put(f.adsManagerActionCreators.setTargetAdBreakIndex(0))]:[3,8];case 7:i.sent(),i.label=8;case 8:return[4,d.put(f.adsManagerActionCreators.setAdsReady())];case 9:return i.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlayPrerolls,"Vendri preroll ready")];case 10:return i.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlay,"Vendri ready")];case 11:return i.sent(),[2]}}))}function E(e){return i(this,(function(t){switch(t.label){case 0:switch(e.payload.type){case g.VendriEvents.Ready:return[3,1];case g.VendriEvents.PidFailure:return[3,3];case g.VendriEvents.AutoplayDisabled:return[3,9];case g.VendriEvents.AdBreakFinished:return[3,14];case g.VendriEvents.AdStarted:return[3,16];case g.VendriEvents.AdImpression:return[3,18];case g.VendriEvents.AdFinished:return[3,23];case g.VendriEvents.AdLoading:return[3,27];case g.VendriEvents.AdPaused:return[3,29];case g.VendriEvents.AdResumed:return[3,31];case g.VendriEvents.AdError:return[3,33];case g.VendriEvents.AdClick:return[3,35]}return[3,37];case 1:return[4,S()];case 2:return[2,t.sent()];case 3:return[4,d.put(f.adsManagerActionCreators.resetAdBreaks())];case 4:return t.sent(),[4,d.put(f.adsManagerActionCreators.failedToLoadPID())];case 5:return t.sent(),[4,d.put(f.adsManagerActionCreators.setAdsReady())];case 6:return t.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlayPrerolls,"Vendri preroll ready")];case 7:return t.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlay,"Vendri ready")];case 8:return t.sent(),[3,38];case 9:return[4,d.put(f.adsManagerActionCreators.setIsAutoPlayAllowed(!1))];case 10:return t.sent(),[4,d.select(p.adsManagerSelectors.property,"isVendriReady")];case 11:return t.sent()?[4,d.put(f.adsManagerActionCreators.rejectAdsAutoPlay())]:[3,13];case 12:t.sent(),t.label=13;case 13:return[3,38];case 14:return[4,D(e)];case 15:return[2,t.sent()];case 16:return[4,d.put(f.adsManagerActionCreators.startedAdSlot(e.payload.adEvtObj))];case 17:return[2,t.sent()];case 18:return[4,d.put(f.adsManagerActionCreators.sawAdImpression(e.payload.adEvtObj))];case 19:return t.sent(),[4,d.race({startedAdSlot:d.take(f.adsManagerActionCreators.startedAdSlot),timeout:d.delay(1500)})];case 20:return t.sent().timeout?[4,d.put(f.adsManagerActionCreators.startedAdSlot(e.payload.adEvtObj))]:[3,22];case 21:t.sent(),t.label=22;case 22:return[3,38];case 23:return e.payload.adEvtObj.status!==g.VendriEvents.AdSkip?[3,25]:[4,d.put(f.adsManagerActionCreators.skippedAdSlot(e.payload.adEvtObj))];case 24:t.sent(),t.label=25;case 25:return[4,d.put(f.adsManagerActionCreators.endedAdSlot(e.payload.adEvtObj))];case 26:return[2,t.sent()];case 27:return[4,d.put(f.adsManagerActionCreators.loadingAdSlot())];case 28:return[2,t.sent()];case 29:return[4,d.put(f.adsManagerActionCreators.pausedAdSlot(e.payload.adEvtObj))];case 30:return[2,t.sent()];case 31:return[4,d.put(f.adsManagerActionCreators.resumedAdSlot(e.payload.adEvtObj))];case 32:return[2,t.sent()];case 33:return[4,d.put(f.adsManagerActionCreators.caughtAdSlotError(e.payload))];case 34:return[2,t.sent()];case 35:return[4,d.put(f.adsManagerActionCreators.clickedAd(e.payload.adEvtObj))];case 36:return[2,t.sent()];case 37:return[3,38];case 38:return[2]}}))}function w(){return l.eventChannel((function(e){var t=function(t){e(f.adsManagerActionCreators.receivedVendriEvent(t))};return window.addEventListener(g.VendriEvents.Ready,t),window.addEventListener(g.VendriEvents.PidFailure,t),window.addEventListener(g.VendriEvents.AutoplayDisabled,t),window.addEventListener(g.VendriEvents.AdLoading,t),window.addEventListener(g.VendriEvents.AdStarted,t),window.addEventListener(g.VendriEvents.AdImpression,t),window.addEventListener(g.VendriEvents.AdFinished,t),window.addEventListener(g.VendriEvents.AdBreakFinished,t),window.addEventListener(g.VendriEvents.AdPaused,t),window.addEventListener(g.VendriEvents.AdResumed,t),window.addEventListener(g.VendriEvents.AdError,t),window.addEventListener(g.VendriEvents.AdClick,t),function(){window.removeEventListener(g.VendriEvents.Ready,t),window.removeEventListener(g.VendriEvents.PidFailure,t),window.removeEventListener(g.VendriEvents.AutoplayDisabled,t),window.removeEventListener(g.VendriEvents.AdLoading,t),window.removeEventListener(g.VendriEvents.AdStarted,t),window.removeEventListener(g.VendriEvents.AdImpression,t),window.removeEventListener(g.VendriEvents.AdFinished,t),window.removeEventListener(g.VendriEvents.AdBreakFinished,t),window.removeEventListener(g.VendriEvents.AdPaused,t),window.removeEventListener(g.VendriEvents.AdResumed,t),window.removeEventListener(g.VendriEvents.AdError,t),window.removeEventListener(g.VendriEvents.AdClick,t)}}))}function T(){var e,t,n,r,a,o,u,c,l,h,m,g,y,b;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return e=i.sent(),t=null!==(h=null===(l=e.player)||void 0===l?void 0:l.startTime)&&void 0!==h?h:0,n=null!==(g=null===(m=e.metadata)||void 0===m?void 0:m.duration)&&void 0!==g?g:Number.POSITIVE_INFINITY/1e3,r=v.getPubId(e),a=null===(y=e.ads)||void 0===y?void 0:y.pidEndpointOverride,o=null===(b=e.privacy)||void 0===b?void 0:b.ccpaDoNotSell,[4,d.select(p.adsManagerSelectors.all)];case 2:return u=i.sent().adBreaks,c=v.calculateHasPreroll(u,t,n),[4,d.put(f.adsManagerActionCreators.setHasPreroll(c))];case 3:return i.sent(),s.setup({PID:r,pidEndpointOverride:a,ccpa:o}),[4,d.put(f.adsManagerActionCreators.sentPidToVendri(r))];case 4:return i.sent(),[2]}}))}function P(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,d.select(p.adsManagerSelectors.property,"totalDurationOfAdsConsumed")];case 1:return e=n.sent(),[4,d.select(p.adsManagerSelectors.property,"vendriEvent")];case 2:return t=n.sent(),e+=t.adPlayheadPosition,[4,d.put(f.adsManagerActionCreators.updateTotalDurationOfAdsConsumed(e))];case 3:return n.sent(),[2]}}))}function C(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,d.select(p.adsManagerSelectors.property,"wasPreviousAdSkipped")];case 1:return n.sent()?[3,5]:[4,d.select(p.adsManagerSelectors.property,"totalDurationOfAdsConsumed")];case 2:return e=n.sent(),[4,d.select(p.adsManagerSelectors.property,"vendriEvent")];case 3:return t=n.sent(),e+=t.adDuration,[4,d.put(f.adsManagerActionCreators.updateTotalDurationOfAdsConsumed(e))];case 4:n.sent(),n.label=5;case 5:return[2]}}))}function O(){var e,t,n,r,a,o,s,u,c,l,f,h,m,g,_,A,S,E,w,T,P,C,O,k,I,x,D,R,M,N,L,j;return i(this,(function(i){switch(i.label){case 0:return[4,d.select()];case 1:return e=i.sent(),t=p.playerSelectors.all(e).drm,n=p.coreSelectors.all(e),r=n.isMuted,a=n.volume,o=p.mediaSelectors.all(e),s=o.streamTime,u=o.unprocessedSource,c=r?0:a,[4,d.select(p.adsManagerSelectors.property,"adBreakType")];case 2:return l=i.sent(),[4,d.select(p.adsManagerSelectors.property,"targetAdBreakIndex")];case 3:return f=i.sent(),[4,d.select(p.coreSelectors.property,"isFullscreen")];case 4:return h=i.sent(),[4,d.select(p.configurationSelectors.self)];case 5:return m=i.sent(),g=v.getCCPADoNotSellMacro(m),_=m.media,A=m.metadata,S=m.user,E=null==S?void 0:S.id,w=null==A?void 0:A.channelId,T=null!==(R=null==A?void 0:A.restrictions)&&void 0!==R?R:[],P=T.includes(y.ContentRestriction.MATURE),"",C=null!==(N=null!==(M=null==_?void 0:_.id)&&void 0!==M?M:null==A?void 0:A.id)&&void 0!==N?N:"0",O=t?b.default.getAssetId(u.source):C,k="episode"===(null==A?void 0:A.type)?null==A?void 0:A.seriesId:C,I=null==A?void 0:A.title,x=null!==(j=null===(L=_.reportingParent)||void 0===L?void 0:L.title)&&void 0!==j?j:"",D=x.split("|")[0].trim(),[2,{adBreakIndex:f,adBreakType:l,ccpaDoNotSell:g,channelId:w,isFullscreen:h,isMature:P,mediaId:C,mediaTitle:I,pageUrl:"",seriesId:k,seriesTitle:D,streamId:O,streamTime:s,userId:E,volume:c}]}}))}function k(e){var t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return t=e.adBreaks,n=e.targetAdBreakIndex,r=t[n],[4,d.put(f.adsManagerActionCreators.startedAdBreak(r))];case 1:return i.sent(),0!==t[n].bankedAds.length?[3,3]:[4,O()];case 2:return a=i.sent(),s.updateMaps(a),s.adBreak({},1),window.dispatchEvent(new CustomEvent("vendri_volume")),[3,3];case 3:return[2]}}))}function I(e){var t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return t=e.adBreaks,n=e.isAutoPlayAllowed,[4,O()];case 1:return r=i.sent(),n?(a=t[0],[4,d.put(f.adsManagerActionCreators.startedAdBreak(a))]):[3,3];case 2:return i.sent(),s.updateMaps(r),s.play({},1),window.dispatchEvent(new CustomEvent("vendri_volume")),[3,6];case 3:return[4,d.select(p.adsManagerSelectors.property,"attemptedAutoPlay")];case 4:return i.sent()?[3,6]:[4,d.put(f.adsManagerActionCreators.attemptedAutoPlay())];case 5:i.sent(),s.updateMaps(r),s.play({},1),window.dispatchEvent(new CustomEvent("vendri_volume")),i.label=6;case 6:return[2]}}))}function x(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return e=i.sent(),t=e.adBreaks,n=e.hasPreroll,s.grantGesturePermission(),[4,d.put(f.adsManagerActionCreators.gesturePermissionGranted())];case 2:return i.sent(),n?(r=t[0],[4,d.put(f.adsManagerActionCreators.startedAdBreak(r))]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}function D(e){var t,n,r,a,o,s,u,c;return i(this,(function(e){switch(e.label){case 0:return[4,d.select(p.mediaSelectors.all)];case 1:return t=e.sent(),n=t.streamTime,r=t.totalDuration,[4,d.select(p.adsManagerSelectors.all)];case 2:return a=e.sent(),o=a.adBreaks,s=a.targetAdBreakIndex,u=v.calculateHasPreroll(o,n,r),c=o[s],[4,d.put(f.adsManagerActionCreators.endedAdBreak(c))];case 3:return e.sent(),[4,d.put(f.adsManagerActionCreators.setHasPreroll(u))];case 4:return e.sent(),(null==c?void 0:c.type)!==h.AdBreakType.PREROLL?[3,6]:[4,d.put(f.contentLifecycleActionCreators.completedPrerolls())];case 5:e.sent(),e.label=6;case 6:return[2]}}))}function R(){var e,t,n,a;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return e=i.sent(),t=e.adBreaks,n=e.targetAdBreakIndex,a=e.hasPreroll,[4,d.put(f.adsManagerActionCreators.updateAdBreak(r(r({},t[n]),{isFetched:!0,isPlayed:!0})))];case 2:return i.sent(),a&&0===n?[4,I(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,k(e)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}function M(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return t=i.sent(),n=t.adBreaks,[4,d.put(f.adsManagerActionCreators.setTargetAdBreakIndex(e))];case 2:return i.sent(),r=n[e].type===h.AdBreakType.PREROLL&&!n[e].isPlayed,[4,d.put(f.adsManagerActionCreators.setHasPreroll(r))];case 3:return i.sent(),[4,d.put(f.adsManagerActionCreators.requestAdBreakStart())];case 4:return i.sent(),[2]}}))}function N(e){var t,n;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return t=i.sent(),n=t.adBreaks,[4,d.put(f.adsManagerActionCreators.updateAdBreak(r(r({},n[e]),{isFetched:!0})))];case 2:return i.sent(),[2]}}))}function L(){var e,t,n,r,a,o,s,u,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.adsManagerSelectors.all)];case 1:return e=i.sent(),t=e.adBreaks,e.isInAdBreak?[2]:[4,d.select(p.playerSelectors.all)];case 2:return n=i.sent(),[4,d.select(p.mediaSelectors.all)];case 3:return r=i.sent(),a=r.streamTime,o=r.totalDuration,s=n.isScrubbing,u=n.isPaused,s||u?[2]:(c=v.getPreviousAdBreak(t,a,o),l=v.getNextAdBreak(t,a,o),!c||c.isPlayed?[3,5]:[4,M(c.index)]);case 4:return i.sent(),[3,7];case 5:return!l||l.isPlayed||l.isFetched?[3,7]:[4,N(l.index)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}function j(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,d.call(w)];case 1:u=n.sent(),n.label=2;case 2:n.trys.push([2,7,,9]),n.label=3;case 3:return[4,d.take(u)];case 4:return e=n.sent(),[4,d.put(e)];case 5:return n.sent(),[3,3];case 6:return[3,9];case 7:return t=n.sent(),console.warn("AdsManager event channel closed",t),[4,d.put(f.adsManagerActionCreators.resetAdBreaks())];case 8:return n.sent(),u.close(),[3,9];case 9:return[2]}}))}function B(){var e,t,n,r,a,o,u,c,l,h,m,g;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return e=i.sent(),t=null!==(h=null===(l=e.ads)||void 0===l?void 0:l.adBreaks)&&void 0!==h?h:[],[4,d.select(p.adsManagerSelectors.all)];case 2:return n=i.sent(),r=n.adBreaks,a=n.currentPID,!r.length||t.length?[3,5]:[4,V()];case 3:return i.sent(),[4,_.gateUtils.removeTask(f.contentLifecycleActionCreators.completeUnloadContent,"Vendri unload")];case 4:i.sent(),i.label=5;case 5:return(o=v.getPubId(e))===a?[3,7]:(u=null===(m=e.ads)||void 0===m?void 0:m.pidEndpointOverride,c=null===(g=e.privacy)||void 0===g?void 0:g.ccpaDoNotSell,s.setup({PID:o,pidEndpointOverride:u,ccpa:c}),[4,d.put(f.adsManagerActionCreators.sentPidToVendri(o))]);case 6:i.sent(),i.label=7;case 7:return[2]}}))}function U(){var e,t,n,r,a,u,l,h,g,y,b;return i(this,(function(i){switch(i.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return e=i.sent(),t=null!==(h=null===(l=e.ads)||void 0===l?void 0:l.adBreaks)&&void 0!==h?h:[],t.length>0&&v.isUsingVendri(e)?[3,5]:[4,d.put(f.adsManagerActionCreators.setAdsReady())];case 2:return i.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlayPrerolls,"Vendri preroll ready")];case 3:return i.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.readyToPlay,"Vendri ready")];case 4:return i.sent(),[2];case 5:return[4,v.convertToStandardAdBreaks(null===(g=e.ads)||void 0===g?void 0:g.pubId,t,m.defaultPrefetchThreshold)];case 6:return n=i.sent(),[4,d.put(f.adsManagerActionCreators.updateAdBreaks(n))];case 7:return i.sent(),[4,d.select(p.mediaSelectors.all)];case 8:return r=i.sent().totalDuration,a=null!==(b=null===(y=e.player)||void 0===y?void 0:y.startTime)&&void 0!==b?b:0,u=v.calculateHasPreroll(n,a,r),[4,d.put(f.adsManagerActionCreators.setHasPreroll(u))];case 9:return i.sent(),[4,d.fork(z)];case 10:return o=i.sent(),[4,d.fork(j)];case 11:return i.sent(),s=c.default(window),[2]}}))}function V(){return i(this,(function(e){switch(e.label){case 0:return s?(s.stop({},1),[3,3]):[3,1];case 1:return[4,d.put(f.playerActionCreators.requestPause("Pause on unload"))];case 2:e.sent(),e.label=3;case 3:return[4,d.put(f.adsManagerActionCreators.reset())];case 4:return e.sent(),o?[4,d.cancel(o)]:[3,6];case 5:e.sent(),o=null,e.label=6;case 6:return[2]}}))}function F(){return i(this,(function(e){switch(e.label){case 0:return[4,V()];case 1:return e.sent(),[4,_.gateUtils.completeTask(f.contentLifecycleActionCreators.completeUnloadContent,"Vendri unload")];case 2:return e.sent(),[2]}}))}function H(){return i(this,(function(e){switch(e.label){case 0:return[4,d.select(p.adsManagerSelectors.property,"isInAdBreak")];case 1:return e.sent()?[4,d.put(f.playerActionCreators.requestPause("No play during ad"))]:[3,3];case 2:return[2,e.sent()];case 3:return[2]}}))}function G(){return i(this,(function(e){return window.dispatchEvent(new CustomEvent("vendri_pause")),[2]}))}function W(){return i(this,(function(e){return window.dispatchEvent(new CustomEvent("vendri_resume")),[2]}))}function z(){return i(this,(function(e){switch(e.label){case 0:return[4,d.all([d.takeEvery(f.playerActionCreators.resolvePlay,H),d.takeEvery(f.adsManagerActionCreators.endedAdSlot,C),d.takeEvery(f.adsManagerActionCreators.grantAdBreakStart,R),d.takeEvery(f.adsManagerActionCreators.receivedVendriEvent,E),d.takeEvery(f.adsManagerActionCreators.requestPauseAdSlot,G),d.takeEvery(f.adsManagerActionCreators.requestResumeAdSlot,W),d.takeEvery(f.adsManagerActionCreators.skippedAdSlot,P),d.takeEvery(f.coreActionCreators.grantGesturePermission,x),d.takeLatest([f.mediaActionCreators.updateTime,f.mediaActionCreators.updateStreamTime],L),d.takeLatest([f.contentLifecycleActionCreators.loadConfig,f.contentLifecycleActionCreators.updateConfig],B)])];case 1:return e.sent(),[2]}}))}t.triggerAdBreakPlayback=M,t.triggerAdBreakPrefetch=N,t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,d.all([d.takeEvery(f.coreActionCreators.startApp,A),d.takeEvery(f.contentLifecycleActionCreators.loadContent,U),d.takeEvery(f.contentLifecycleActionCreators.unloadContent,F)])];case 1:return e.sent(),[2]}}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";
/*! cx-vilos-ads - v3.2.7 - 2020-07-15
* Copyright (c) 2020 Vendri, Inc.; */
function Vendri(global){var document=window.document;"object"!=typeof JSON&&(JSON={});var getCookie=function(e){var t=0,n=document.cookie,r=e+"=",i=n.indexOf("; "+r);if(-1===i){if(0!==(i=n.indexOf(r)))return null}else i+=2,-1===(t=document.cookie.indexOf(";",i))&&(t=n.length);return decodeURI(n.substring(i+r.length,t))};!function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,a,o,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(u)){for(a=u.length,n=0;n<a;n+=1)o[n]=str(n,u)||"null";return i=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(a=rep.length,n=0;n<a;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&o.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&o.push(quote(r)+(gap?": ":":")+i);return i=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var mySourcer=function(){var e={};try{if(document)if(!(e=document.currentScript))if(t=document.getElementsByTagName("script"))try{for(o=0;o<t.length;o+=1)if("string"==typeof t[o]);else if("object"==typeof t[o])try{(t[o]&&t[o].getAttribute("src").match(/vendri/i)||t[o]&&t[o].src&&t[o].src.match(/vendri/i))&&(e=t[o])}catch(e){}}catch(e){}}catch(u){for(var t,n=location.protocol+"//"+location.host,r=u.stack.match(new RegExp(n+".*?\\.js","g")),i=r[r.length-1],a=i.replace(n,""),o=-1,s=(t=document.scripts).length;++o<s;)("/"==t[o][0]&&t[o].src==a||t[o].src==i)&&(e=t[o])}return e}(),getMySourceObject=function(){var e={};if(null===mySourcer)return e;try{e=parser.parseDomURL({},mySourcer.src,!0).query||{}}catch(e){}return e},generateInstanceId=function(e){return(e=e||"v")+(version+Date.now()+Math.random()).replace(/\D/g,"")},userAgent=navigator.userAgent||navigator.vendor||window.opera,blankFunc=function(){},getRand=function(e){var t=String(Math.floor(100*Math.random()));return-1===(e=e||[]).indexOf(t)?t:getRand(e)},each=function(e,t){var n,r;if(validator.isFunction(t)&&validator.isNotEmpty(e))if(validator.isArray(e))for(r=0;r<e.length;r+=1)e[r]&&t(r,e[r]);else for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},eachNode=function(e,t){var n;if(validator.isFunction(t)&&e&&e.length)for(n=0;n<e.length;n+=1)e[n]&&t(n,e[n])},fireWatchers=function(e,t,n,r){r=r||{},Object.prototype.hasOwnProperty.call(e.watchers,t)&&Object.prototype.hasOwnProperty.call(e.watchers[t],n)&&each(e.watchers[t][n],(function(i,a){a.once?(delete e.watchers[t][n][i],a.fired||a.callback(r)):a.callback(r)}))},addWatcher=function(e,t,n,r,i){var a=[];i=i||!1,Object.prototype.hasOwnProperty.call(e.watchers,t)?(Object.prototype.hasOwnProperty.call(e.watchers[t],n)||(e.watchers[t][n]={}),each(e.watchers[t][n],(function(e,t){a.push(String(e))}))):(e.watchers[t]={},e.watchers[t][n]={}),e.watchers[t][n][getRand(a)]={callback:r,once:i}},extend=function(){var e,t,n=1,r=arguments[0]||{},i=arguments.length;for(n===i&&(r=this,n-=1);n<i;n+=1)if(null!=(t=arguments[n]))for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r},deepExtend=function(){var e,t=arguments[0]||{},n=arguments.length,r=1;for(r===n&&(t=this,r=0);r<n;r+=1)for(var i in e=arguments[r])e[i]&&e[i].constructor&&e[i].constructor===Object?(t[i]=t[i]||{},deepExtend(t[i],e[i])):t[i]=e[i];return t},pushAndIndex=function(){var e=1,t=-1,n=arguments[0]||[],r=arguments.length;for(e===r&&(n=[],e-=1);e<r;e+=1)n.push(arguments[e]),t=vinArray(n,arguments[e]);return t},getBoundingBox=function(e){var t={top:0,right:0,bottom:0,left:0};try{t=e.getBoundingClientRect()}catch(e){}return t},getOffset=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:n,left:t}},setupResizeDetector=function(){try{var e=document.attachEvent,t=navigator.userAgent.match(/Trident/),n=(s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return s(e)}),r=(o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return o(e)});function i(e){var t=e.target||e.srcElement;t.__resizeRAF__&&r(t.__resizeRAF__),t.__resizeRAF__=n((function(){var n=t.__resizeTrigger__;n.__resizeListeners__.forEach((function(t){t.call(n,e)}))}))}function a(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i),this.contentDocument.defaultView.addEventListener("scroll",i)}window.addResizeListener=function(n,r){if(!n.__resizeListeners__)if(n.__resizeListeners__=[],e)n.__resizeTrigger__=n,n.attachEvent("onresize",i),n.attachEvent("onscroll",i);else{"static"==getComputedStyle(n).position&&(n.style.position="relative");var o=n.__resizeTrigger__=document.createElement("object");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),o.__resizeElement__=n,o.onload=a,o.type="text/html",t&&n.appendChild(o),o.data="about:blank",t||n.appendChild(o)}return n.__resizeListeners__.push(r),n},window.removeResizeListener=function(t,n){if(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(n),1),!t.__resizeListeners__.length)if(e)t.detachEvent("onscroll",i),t.detachEvent("onresize",i);else try{t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",i),t.__resizeTrigger__.contentDocument.defaultView.removeEventListener("scroll",i),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)}catch(e){}}}catch(e){}var o,s},addEvent=function(e,t,n){var r;try{if(t)if(t.addEventListener)r=t.addEventListener(e,n);else if(t.attachEvent)r=t.attachEvent("on"+e,n);else try{r=t[e]=n}catch(e){}}catch(e){}return r},removeEvent=function(e,t,n){if(t.removeEventListener)t.removeEventListener(e,n);else if(t.detachEvent){var r="on"+e;typeof t[r]===validator.typeUndefined&&(t[r]=null),t.detachEvent(r,n)}else try{t[e]=void 0}catch(e){}},arrayRemove=function(e,t){var n,r,i=[];for(validator.isArray(t)||(t=[t]),n=t.length;n--;)-1!==(r=vinArray(e,t[n]))&&i.push(e.splice(r,1));return i},durationToSeconds=function(e){var t=0,n=[];return"number"==typeof e?t=e:"string"==typeof e&&(/:/.test(e)?(n=e.split(":"),t=60*parseInt(n[0])*60+60*parseInt(n[1])+parseInt(n[2])):/^[0-9+]*$/.test(e)&&(t=parseInt(e))),t},clearVendriTimers=function(e){for(var t in e.timers)Object.prototype.hasOwnProperty.call(e.timers,t)&&e.timers[t]&&Object.prototype.hasOwnProperty.call(e.timers[t],"stop")&&(e.timers[t].stop(),e.timers[t]=null)},isAdBreakExpired=function(e){var t,n,r,i,a,o,s=newTime();try{n=e.constraints.adBreakTime>0,r=s-e.starttime,i=1e3*e.constraints.adBreakTime,a=e.prefetchDuration||0,o=e.adPausedDuration,t=n&&r>=i+a+o}catch(e){t=!0}return t},PausableTimeout=function(e,t){var n,r,i=t,a=!1;this.pause=function(){a&&(a=!1,clearTimeout(n),i-=new Date-r)},this.stop=function(){clearTimeout(n),n=r=i=a=null},this.resume=function(){a||(r=new Date,a=!0,n=setTimeout(e,i))},this.resume()},vendriTimer={start:function(e,t,n,r){Object.prototype.hasOwnProperty.call(e.timers,t)&&e.timers[t]&&Object.prototype.hasOwnProperty.call(e.timers[t],"stop")&&(e.timers[t].stop(),e.timers[t]=null),n&&r&&(e.timers[t]=new PausableTimeout(r,n))},stop:function(e,t){Object.prototype.hasOwnProperty.call(e.timers,t)&&e.timers[t]&&Object.prototype.hasOwnProperty.call(e.timers[t],"stop")&&(e.timers[t].stop(),e.timers[t]=null)},pause:function(e,t){Object.prototype.hasOwnProperty.call(e.timers,t)&&e.timers[t]&&Object.prototype.hasOwnProperty.call(e.timers[t],"pause")&&(e.constraints.playTime||e.timers[t].pause())},resume:function(e,t){Object.prototype.hasOwnProperty.call(e.timers,t)&&e.timers[t]&&Object.prototype.hasOwnProperty.call(e.timers[t],"resume")&&e.timers[t].resume()}},base64={PADCHAR:"=",ALPHA:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,r,i,a,o,s,u="",c=0;for(e=base64._utf8_encode(e);c<e.length;)i=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),u=u+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return u},_utf8_encode:function(e){var t="";if("string"==typeof e){e=e.replace(/\r\n/g,"\n");for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}}return t},_utf8_decode:function(e){var t="",n=0,r=c1=c2=0;if("string"==typeof e)for(;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t},getbyte64:function(e,t){var n=base64.ALPHA.indexOf(e.charAt(t));return n},decode:function(e){var t,n,r,i=base64.getbyte64,a=e.length;if(0===a)return e;t=0,e.charAt(a-1)===base64.PADCHAR&&(t=1,e.charAt(a-2)===base64.PADCHAR&&(t=2),a-=4);var o=[];for(n=0;n<a;n+=4)r=i(e,n)<<18|i(e,n+1)<<12|i(e,n+2)<<6|i(e,n+3),o.push(String.fromCharCode(r>>16,r>>8&255,255&r));switch(t){case 1:r=i(e,n)<<18|i(e,n+1)<<12|i(e,n+2)<<6,o.push(String.fromCharCode(r>>16,r>>8&255));break;case 2:r=i(e,n)<<18|i(e,n+1)<<12,o.push(String.fromCharCode(r>>16))}return o.join("")}},exists=function(e,t,n){var r,i=!1;try{if(e&&t)if(Array.isArray(e))for(r=0;r<e.length;r+=1){if(e[r]===t){i=!0;break}if(n&&"string"==typeof n&&Object.prototype.hasOwnProperty.call(e[r],n)&&e[r][n]===t){i=!0;break}}else Object.prototype.hasOwnProperty.call(e,t)&&(i=!0)}catch(e){}return i},vinArray=function(e,t){var n,r=-1;if(e&&t&&validator.isArray(e))for(n=0;n<e.length;n+=1)if(e[n]===t){r=n;break}return r},getPlatform=function(e){var t=!1,n=window.location.href||!1;return validator.isNotEmpty(e)&&each(e,(function(e,r){switch(r.type){case"web":if(n){if(r.target===n){Vendri.setupParams.platform=r,Vendri.setupParams.PFID=r.PFID,t=r;break}(t||-1===n.indexOf(r.target))&&(t||"*"!==r.target)||(Vendri.setupParams.platform=r,Vendri.setupParams.PFID=r.PFID,t=r)}else t||(Vendri.setupParams.platform=!1,Vendri.setupParams.PFID=0)}})),t},getVendriObjectsById=function(e,t,n){var r=[];return validator.isNotEmpty(e)&&validator.isNotEmpty(t)&&validator.isNotEmpty(n)&&each(t,(function(t,i){each(n,(function(t,n){exists(n,e)&&n[e]===i&&r.push(n)}))})),r},getLocalStateObj=function(e){var t,n;if(e){if(validator.isNotEmpty(localCampaignStates))for(t=0;t<localCampaignStates.length;t+=1)if(localCampaignStates[t].id===e.id)return n=extend(localCampaignStates[t],e);return n=extend({},new getcampaignMngmtDataObj,e),localCampaignStates.push(n),n}return!1},updateStateObj=function(e){var t=getLocalStateObj(e);return t&&validator.isNotEmpty(dataStore)&&dataStore.ts>t.updated&&exists(dataStore.totals,t.superkey)&&dataStore.totals[t.superkey].update>t.updated?(t.prevUpdated=t.updated-1+1,t.localState.curPass.instances=0,t.localState.curPass.chosen=0,t.localState.curPass.calls=0,t.localState.curPass.imps=0,t.localState.curPass.secs=0,t.localState.curPass.update=parseInt(dataStore.totals[t.superkey].update),t.localState.curPass.assumeTotalImps=dataStore.totals[t.superkey].imps-1+1,t.updated=parseInt(dataStore.totals[t.superkey].update),t.offset=dataStore.totals[t.superkey].runsecs,t.state.chosen=dataStore.totals[t.superkey].chosen,t.state.calls=dataStore.totals[t.superkey].call,t.state.imps=dataStore.totals[t.superkey].imps,t.state.secs=dataStore.totals[t.superkey].secs,t.state.instances=dataStore.totals[t.superkey].inst,t.avgs.callsPerIn=dataStore.totals[t.superkey].callsPerIn,t.avgs.impsPerCa=dataStore.totals[t.superkey].impsPerCa?dataStore.totals[t.superkey].impsPerCa:0,t.avgs.instancesPerSec=dataStore.totals[t.superkey].instancesPerSec,dataStore.totals[t.superkey].imps<t.limits.imps&&dataStore.totals[t.superkey].secs<t.limits.secs&&(t.localState.finished=!1),t):t},getNumArrayFromUnkown=function(e){var t=[];try{"string"==typeof e?-1!==e.indexOf(",")?(e=e.split(","),each(e,(function(e,n){(n=parseInt(n))&&t.push(n)}))):(e=parseInt(e),t=[e]):validator.isArray(e)&&each(e,(function(e,n){"string"==typeof n?(n=parseInt(n))&&t.push(n):"number"==typeof n&&t.push(n)})),"number"==typeof e&&(t=[e])}catch(e){}return t},shuffle=function(e){for(var t,n,r=e.length;r;t=Math.floor(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},applyAttributes=function(e,t){return e&&t&&eachNode(t,(function(t,n){e[n.nodeName]=n.nodeValue})),e},reindexArray=function(e){var t=[],n=0;if(e)for(;n<e.length;n+=1)e[n]&&t.push(e[n]);return t},objectToArray=function(e){var t=!1,n=0;if(e)if(validator.isObject(e))for(n in t=[],e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(e[n]);else validator.isArray(e)&&(t=e);return t},percOf=function(e,t){return e/t*100},isType=function(e,t){var n=!1;try{(t.slice(-e.length)===e||"flv"===e&&/\.flv\?|\.flv/gi.test(t)||"swf"===e&&/\.swf\?|\.swf/gi.test(t))&&(n=!0)}catch(e){n=!1}return n},fileTyper=function(e,t){var n=!1,r=(e=e?e.replace(/\s/g,""):"").substring(0,e.indexOf("/"));return"application/x-shockwave-flash"===e?isType("swf",t)?n="swf":isType("flv",t)&&(n="flv"):"video/x-flv"===e?isType("flv",t)?n="flv":isType("swf",t)&&(n="swf"):exists(["application/javascript","application/ecmascript","text/javascript","application/x-javascript"],e)?n="javascript":"audio"===e||"video"===e?n=e:"audio"!==r&&"video"!==r||(n=r),n},getObjectFromString=function(e){var t,n,r,i=[];if(validator.isNotEmpty(e))if("string"==typeof e)for(i=e.split("."),n=0;n<i.length;n+=1){if(r=i[n],0===n)try{t="document"===r?document:"window"===r?window:document.getElementById(r)}catch(e){try{window&&Object.prototype.hasOwnProperty.call(window,r)||window[r]?t=window[r]:(document&&Object.prototype.hasOwnProperty.call(document,r)||document[r])&&(t=document[r])}catch(e){}}else if(t)try{if(!Object.prototype.hasOwnProperty.call(t,r)&&!t[r])return!1;t=t[r]}catch(e){}else try{window&&Object.prototype.hasOwnProperty.call(window,r)||window[r]?t=window[r]:(document&&Object.prototype.hasOwnProperty.call(document,r)||document[r])&&(t=document[r])}catch(e){}if(!t)return!1}else t=e;return t},nodeTextContentCleaned=function(e,t){var n=e;t||(t=/\r?\n|\r/g);try{n=e.textContent.replace(t,"")}catch(r){try{n=e.innerText.replace(t,"")}catch(r){if(e.childNodes&&e.childNodes.length>0)try{n=e.childNodes[0].text.replace(t,"")}catch(e){}else try{n=e.text.replace(t,"")}catch(e){}}}return n},nodeTextContentInsert=function(e,t){var n=e;try{e.textContent=t}catch(n){try{e.innerText=t}catch(e){}}return n},getInstance=function(e){var t;return e&&Object.prototype.hasOwnProperty.call(instances,e)&&!instances[e].marked&&(t=instances[e]),t},setInstance=function(e){var t,n;readinessHelper.triggersExist()&&readinessHelper.readyForNewPid()&&init();try{if(e){if("string"==typeof e)(n=getInstance(e))||(t=document.getElementById(e))&&(n=Object.prototype.hasOwnProperty.call(t,"VendriInstance")&&Object.prototype.hasOwnProperty.call(t.VendriInstance,"instanceId")?getInstance(t.VendriInstance.instanceId):new VendriInstance({target:t}));else if("object"==typeof e)if(Object.prototype.hasOwnProperty.call(e,"nodeType"))Object.prototype.hasOwnProperty.call(e,"VendriInstance")&&Object.prototype.hasOwnProperty.call(e.VendriInstance,"instanceId")&&(n=getInstance(e.VendriInstance.instanceId)),n||(n=new VendriInstance({target:e}));else if(Object.prototype.hasOwnProperty.call(e,"instanceId"))n=getInstance(e.instanceId);else if(Object.prototype.hasOwnProperty.call(e,"PLID")){var r=getVendriObjectsById("PLID",[e.PLID],Vendri.setupParams.placements);validator.isNotEmpty(r)&&r[0]?(r[0].instanceId&&(n=getInstance(r[0].instanceId)),n||(n=new VendriInstance({},r[0]))):(r=getVendriObjectsById("id",[e.PLID],Vendri.setupParams.placements),validator.isNotEmpty(r)&&r[0]&&(r[0].instanceId&&(n=getInstance(r[0].instanceId)),n||(n=new VendriInstance({},r[0]))))}}else n=new VendriInstance}catch(e){}return n||(n=new VendriInstance({})),n&&(n.context=e,Object.prototype.hasOwnProperty.call(instances,n.instanceId)||(instances[n.instanceId]=n)),n},clearInstance=function(e){var t;clearVendriTimers(e.superTimers),"string"==typeof e?t=e:"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"instanceId")&&(t=""+e.instanceId),t&&(Object.prototype.hasOwnProperty.call(instances,t)&&(instances[t].marked=!0),setTimeout((function(){Object.prototype.hasOwnProperty.call(instances,t)&&delete instances[t]}),6e4))},startGarbageCollector=function(){},newTime=function(){return(new Date).getTime()},cacheBuster=function(){return"nnn="+newTime()},averageValues=function(e){var t=0,n=e.length||0;return each(e,(function(e,n){t+=n})),t/n};function hasChildElement(e){var t,n;if(e.children)n=0!==e.children.length;else for(n=!1,t=element.firstChild;!n&&t;t=t.nextSibling)1==t.nodeType&&(n=!0);return n}function scoper(e,t){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return e=e.replace(n,(function(e,n,r){return n.match(/^\s*(@media|@keyframes|to|from)/)?n+r:(n=n.replace(/^(\s*)/,"$1"+t+" "))+r}))}function injectScoper(){try{Vendri.setupParams.scoper||device.hasScoper||(Vendri.setupParams.scoper=document.createElement("style"),Vendri.setupParams.scoper.appendChild(document.createTextNode("")),document.head.appendChild(Vendri.setupParams.scoper),Vendri.setupParams.scoper.sheet.insertRule(".vendri_0321 { visibility: hidden; }",0))}catch(e){}}function setScopeStyles(e,t){if(0===e.getElementsByTagName("style").length){var n=document.createElement("style");n.setAttribute(t,!0),n.styleSheet?n.styleSheet.cssText=css:n.appendChild(document.createTextNode(scoperCSS())),e.appendChild(n)}}function processScoper(e){if(!device.hasScoper){var t=[];try{var n=device.hasScoper?"style[scoped]":"style[vsd]";t=e.querySelectorAll(n)}catch(e){}if(0===t.length)return void(e.style.visibility="visible");try{for(var r,i,a,o,s,u,c=document.head||document.getElementsByTagName("head")[0],l="",d=0;d<t.length;d++)(u=(s=t[d]).innerHTML)&&(o="#"+(a=(i=s.parentNode).id&&""!==i.id?i.id:"vscoper-"+d),i.id=a,s.parentNode.removeChild(s),Vendri.setupParams.scoped[a]||(l+=scoper(u,o)));Vendri.setupParams.scoped[a]||(r=document.createElement("style"),Vendri.setupParams.scoped[a]=r,r.styleSheet?r.styleSheet.cssText=l:r.appendChild(document.createTextNode(l)),c.appendChild(r))}catch(e){}e.style.visibility="visible"}}function errorTrap(e){try{return e()}catch(e){}return!1}function getDateFromString(e){var t=!1;try{var n=e.indexOf("T")?e.split("T"):e.split(" "),r=n[0].split("-"),i=n[1].split(":");(t=new Date).setUTCFullYear(r[0],r[1]-1,r[2]),t.setUTCHours(i[0],i[1],0,0)}catch(e){}return t}function getPageVisibleEvent(){var e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),!0===document[e]?Vendri.setupParams.mapped.pageVisible=!1:Vendri.setupParams.mapped.pageVisible=!0,addEvent(t,document,(function(){!0===document[e]?Vendri.setupParams.mapped.pageVisible=!1:Vendri.setupParams.mapped.pageVisible=!0}))}var convertToA9ConnectionType=function(e){var t=0,n=!1,r="";if("object"==typeof e&&(n=e.wifi||e.network_wifi,r=e.cellular||e.network_cellular,e.bluetooth||e.network_bluetooth),n)t=2;else if("string"==typeof r&&r.length>0)switch(r.toLowerCase()){case"4g":t=6;break;case"3g":t=5;break;case"2g":t=4;break;case"wifi":t=2;break;default:t=3}return t},a9ApiObjectBuilder=function(e){var t,n,r,i,a,o="{}",s=convertToA9ConnectionType(device),u=e&&e.target?e.target:{},c=validator.isGoodTargetSize(u),l=validator.isGoodDeviceOrientation(device);if(!validator.isGoodDeviceForA9Api(device)||!validator.isGoodInstanceForA9Api(e))return o;switch(a=l&&"p"===device.orientation?"portrait":"landscape",t=device.app,n=c?e.target.clientWidth:0,r=c?e.target.clientHeight:0,i=device.ad_tracking_enabled){case"true":case!0:case"1":case 1:i=1;break;default:i=0}try{o={id:Date.now(),imp:[{id:"1",video:{w:n,h:r,ext:{slotId:e.creatives[e.tagPosition].slotId||0}}}],app:{id:e.creatives[e.tagPosition].appId||"",name:t.name||"",bundle:t.bundle||"",domain:e.creatives[e.tagPosition].domain||""},device:{ip:device.ip,ua:window.navigator.userAgent||"",dnt:i,ifa:device.id||"",carrier:device.network_carrier||"",os:device.type||"",osv:device.os_version||"",w:device.screen_width||0,h:device.screen_height||0,model:device.model||"",make:device.manufacturer||"",secure:device.secure||0,language:device.locale.substring(0,2)||"",connectiontype:s,ext:{orientation:a}}},o=JSON.stringify(o)}catch(e){debugPing("A9 API request object parse issue",{message:e},"a9")}return o},a9CreativeUrlMaker=function(e){var t,n,r,i;try{i="string"==typeof e?JSON.parse(e):e,validator.isA9ApiResponseUsable(i)&&(r=(n=i.seatbid[0].bid[0].ext.targeting).amznslots[0],t=n.creativeURL[0],t+=t.indexOf("?")>-1?"&":"?",t+="ps="+r,setupParams.debug&&(t+="&amzn_debug_mode=1"))}catch(e){debugPing("A9 API; failure to parse creative URL",{message:e},"a9")}return t},a9ApiCreativeFetcher=function(e,t){var n=new XMLHttpRequest;if(validator.isGoodInstanceForA9Api(t))return n.open("POST",t.tag,!0),n.setRequestHeader("Content-type","application/json"),n.onreadystatechange=function(){n.readyState===n.DONE&&(200===n.status?(each(bidders.a9.timers,(function(e,t){clearTimeout(t)})),e(a9CreativeUrlMaker(n.response))):debugPing("A9 API; xhr wrong",{status:n.status},"a9"))},n.error=function(t){debugPing("A9 API; error getting Bids",{event:t},"a9"),e()},n.send(a9ApiObjectBuilder(t)),n};function parseIpv4Response(e){var t,n;if("string"==typeof e&&e.length>0)try{t=JSON.parse(e),n=validator.isGoodIpResponse(t)?t.clientIp:"127.0.0.1"}catch(e){n="127.0.0.1"}else n="127.0.0.1";return n}function ipv4AddressFetch(){var e,t=new XMLHttpRequest;if("object"==typeof device&&device.hasOwnProperty("ip"))return e="//"+window.location.host+"/ip",t.open("GET",e,!0),t.onreadystatechange=function(){t.readyState===t.DONE&&(200===t.status?device.ip=parseIpv4Response(t.response):device.ip="127.0.0.1")},t.error=function(e){device.ip="127.0.0.1"},t.send(),t}function injectScriptTag(e,t,n){var r,i,a=function(){if(!(i=r.readyState)||/loaded|complete/.test(i))try{t()}catch(e){debugPing("injectScriptTag: load error",{message:e},"script"),n()}};try{(r=document.createElement("script")).addEventListener("readystatechange",a),r.addEventListener("load",a),r.addEventListener("error",(function(e){debugPing("injectScriptTag: load error",{message:e},"script"),n()})),r.type="text/javascript",r.src=e,r.async=!0,document.body.appendChild(r)}catch(e){n()}}function getAdBreakTriggerType(e,t,n,r){var i,a,o,s,u,c,l,d,f,p=e&&validator.isArray(e.adBreaks)?e.adBreaks:[],h=!(!e||!validator.isFunction(e.isScrubbing))&&e.isScrubbing(),v=e&&"number"==typeof e.mediaDuration?e.mediaDuration-13:1/0,m=(r&&r.prefetch,!1),g=validator.isArray(p)?p.length:0,y="number"==typeof n?n:10;if("touched"===autoplayStatus||"fulfilled"===autoplayStatus){for(!0,r&&r.context&&r.context.midroll&&r.context.midroll.constraints&&r.context.midroll.constraints.minPrefetchThreshold&&(minPrefetchThreshold=r.context.midroll.constraints.minPrefetchThreshold,y=Math.max(minPrefetchThreshold,y)),t=t||0,p.sort((function(e,t){return e.offset>t.offset?1:0})),u=0;u<g&&p[u].offset<=t;u++)i=p[u],o=u;for(f=p.map((function(e){return{prefetchStart:e.offset-y,prefetchEnd:e.offset}})),u=0;u<g;u++)if(t>=f[u].prefetchStart&&t<f[u].prefetchEnd){a=p[u],s=u;break}return i&&!i.playedState&&(a=null),!i||i.playedState||i.fetchedState||h?!a||a.playedState||a.completePrefetchFailure||a.fetchedState||!r.prefetch||Vendri.adBlockEnabled()||h||(p[s].fetchedState=!0,c=p[s-1]&&"number"==typeof p[s-1].offset?p[s-1].offset:0,l=p[s+1]&&"number"==typeof p[s+1].offset?p[s+1].offset:v,t<v&&(m={type:"prefetch",breakIndex:s,startTime:c,offset:p[s].offset,adBreakType:p[s].type,endTime:l,foundNextIndex:s,foundPriorIndex:o})):(p[o].fetchedState=!0,c=(d=p[o].offset)-y,l=p[o+1]&&"number"==typeof p[o+1].offset?p[o+1].offset:v,t<v&&(m={type:"normal",breakIndex:o,startTime:c,adBreakType:p[o].type,offset:d,endTime:l,foundNextIndex:s,foundPriorIndex:o})),m}}function endAdBreak(e,t,n){var r=!1;if(e&&"number"==typeof e.adBreakPosition&&validator.isArray(e.adBreaksArray)&&e.adBreaksArray[e.adBreakPosition]&&("prefetch"===e.displayMode?(r=e.adBank&&0===e.adBank.length,e.adBreaksArray[e.adBreakPosition].completePrefetchFailure=r):e.adBreaksArray[e.adBreakPosition].playedState=!0),e.currentlyPrefetching=!1,e.playPartiallyPrefetched=!1,e.adBank=[],e.attributed&&(t.attributed=!0,t.attributionCredits=attributionCredits),"prefetch"!=e.displayMode||r){vEvents.fireVendriEvent("complete",t,e),vEvents.fireInstanceEvent(e,"vcompleted",{adEvtObj:t,status:n}),vEvents.fireEvent(e.eventTarget,"vcompleted",{adEvtObj:t,status:n}),vEvents.fireVendriEvent("adBreakFinished",t,e),vEvents.fireInstanceEvent(e,"adBreakFinished",{adEvtObj:t,status:n}),vEvents.fireEvent(e.eventTarget,"adBreakFinished",{adEvtObj:t,status:n}),debugPing("adBreakFinished",t,"experience"),Vendri.useExternalRenderer()&&publicaProxy.cancel(),clearInstance(e);try{delete e.target.instanceId,delete e.target.VendriInstance}catch(e){}}}function playFromBank(e,t){var n;t=t||0;e&&validator.isArray(e.adBank)&&e.adBank[t]&&(n=e.adBank[t],e.creative=n,e.creativeIdName=n.creativeIdName,"sdk"!==n.adType?(e.mediaDuration=Object.prototype.hasOwnProperty.call(n[n.type],"duration")&&n[n.type].duration?durationToSeconds(n[n.type].duration):0,n[n.type].adType=Object.prototype.hasOwnProperty.call(n[n.type].media,"apiFramework")&&"vpaid"===n[n.type].media.apiFramework.toLowerCase()?"vpaid":"vast",e.adCreative=n[n.type],media.displayCreative(e)):(e.listenToSDK=!0,e.embeddedPlayer=vPlayer.embedSDKPlayer(e)))}var readinessHelper=(pAPITimeout=!1,pAPIReady=!1,triggersExist=!1,readyForNewPid=!1,{pAPITimeout:function(e){return debugPing("pAPITimeout",e,"config"),e&&(pAPITimeout=e),pAPITimeout},pAPIReady:function(e){return debugPing("pAPIReady",e,"config"),e&&(pAPIReady=e),pAPIReady},triggersExist:function(e){return debugPing("triggersExist",e,"config"),e&&(triggersExist=e),triggersExist},readyForNewPid:function(e){return debugPing("readyForNewPid",e,"config"),e&&(readyForNewPid=e),readyForNewPid},ready:function(){return debugPing("ready",{},"config"),triggersExist||readyForNewPid}}),pAPITimeout,pAPIReady,triggersExist,readyForNewPid,publicaProxy=function(){var e,t,n,r,i=["event_click","event_end","event_error","event_exit_fullscreen","event_filled","event_fullscreen","event_impression","event_paused","event_quartile1","event_quartile2","event_quartile3","event_resumed","event_skip","event_start","event_unfilled","event_unplayable","event_viewable"],a=!1,o=!1,s=!1;function u(){validator.isFunction(window.pAPI)&&pAPI.apply(this,arguments)}function c(){e.stopAdBreak?endAdBreak(e,{},"success"):(e.tagPosition+=1,e.creativeOptions&&e.tagPosition<e.creativeOptions.length?e.checkSetup(!0):l())}function l(){var n,r;e.tagPosition=0,!e.stopAdBreak&&!isAdBreakExpired(e)&&e.adSlotPosition+1<e.adSlots?(e.adSlotPosition+=1,e.retries=0,e.tagPosition=0,e.fallbacks=0,e.checkSetup(!0)):(n=e.creative,callStack.reset(),callStack.push("gotoAndFillNextAdSlot"),r={callers:callStack.getStack(),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,adDuration:e.mediaDuration,runTime:newTime()-e.starttime,status:"complete",adId:n.AdID,adBreakTime:e&&e.constraints&&e.constraints.adBreakTime?1*e.constraints.adBreakTime:0},t.vastEvent("complete",r,e))}function d(n){e.creative;callStack.reset(),callStack.push("fireVastCreativeEvent"),callStack.push(n.name);var i={callers:callStack.getStack(),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,adDuration:e.mediaDuration,adType:e.creativeOptions[e.tagPosition].type.toString(),runTime:0,status:"",adBreakTime:e&&e.constraints&&e.constraints.adBreakTime?1*e.constraints.adBreakTime:0};switch(i.populatedTag=""+e.populatedTag,i.adNetworkName=e.creativeIdName,n.name){case"event_click":case"event_duration_change":break;case"event_end":"event_error"===r||"event_unfilled"===r?c():l();break;case"event_error":i.status="error",i.msg="Publica Playback Error: triggered by "+r,i.runTime=newTime()-e.starttime,t.vastEvent("error",i,e);break;case"event_exit_fullscreen":t.vastEvent("exitFullscreen",i,e);break;case"event_filled":vendriTimer.stop(e.superTimers,"adBreakStartTime"),vendriTimer.stop(e,"start");break;case"event_fullscreen":t.vastEvent("fullscreen",i,e);break;case"event_impression":vendriTimer.stop(e.superTimers,"adBreakStartTime"),vendriTimer.stop(e,"start"),i.adBreakTime=e&&e.constraints&&e.constraints.adBreakTime?1*e.constraints.adBreakTime:0,i.runTime=newTime()-e.starttime,i.status="impression",t.vastEvent("impression",i,e);break;case"event_paused":i.status="pause",i.runTime=newTime()-e.starttime,t.fireVendriEvent("q",i,e),t.vastEvent("pause",i,e);break;case"event_quartile1":i.runTime=newTime()-e.starttime,i.status="firstQuartile",t.vastEvent("firstQuartile",i,e);break;case"event_quartile2":i.runTime=newTime()-e.starttime,i.status="midpoint",t.vastEvent("midpoint",i,e);break;case"event_quartile3":i.runTime=newTime()-e.starttime,i.status="thirdQuartile",t.vastEvent("thirdQuartile",i,e);break;case"event_resumed":i.status="resume",i.runTime=newTime()-e.starttime,t.fireVendriEvent("q",i,e),t.vastEvent("resume",i,e);break;case"event_skip":t.vastEvent("skip",i,e);break;case"event_start":vendriTimer.stop(e.superTimers,"adBreakStartTime"),vendriTimer.stop(e,"start"),i.status="start",i.runTime=newTime()-e.starttime,t.vastEvent("start",i,e);break;case"event_unfilled":break;case"event_unplayable":c();break;case"event_viewable":i.adBreakTime=e&&e.constraints&&e.constraints.adBreakTime?1*e.constraints.adBreakTime:0,i.runTime=newTime()-e.starttime,i.status="creativeView",t.vastEvent("creativeView",i,e)}r=n.name}function f(e){var n;a||readinessHelper.pAPIReady()||(a=!0,n=setTimeout((function(){readinessHelper.pAPITimeout(!0),readinessHelper.ready()&&t.fireEvent(window,"vevt_ready",{})}),1500),injectScriptTag(e,(function(){clearTimeout(n),validator.isFunction(window.pAPI)&&validator.isFunction(window.pAPI.ready)&&window.pAPI.ready((function(e){readinessHelper.pAPIReady(!0),e&&e.adblock_detected&&Vendri.adBlockEnabled(!0),Vendri.useExternalRenderer(Vendri.adBlockEnabled()),readinessHelper.ready()&&t.fireEvent(window,"vevt_ready",{})}))}),(function(){readinessHelper.pAPITimeout(!0),readinessHelper.ready()&&t.fireEvent(window,"vevt_ready",{})})))}return{cancel:function(){publicaProxy.unsubscribeFromVAST(),u("cancel",{})},init:function(e){var r=!1;n=e,t&&((r=n&&n.plugins&&n.plugins.pAPI&&n.plugins.pAPI.url)?(s=!0,f(r)):f(function(){for(var e="",t="$cmd",n=window.pAPI=function(e,r){n[t].push([e,r])},r="",i=0;i<8;i++)r+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);(r=r.split(""))[8]="b",r[2]="f",r[4]="4",r[6]="c",r[7]="a",r[21]="f",r[23]="8",r[24]="c",r[26]="6",r[28]="d",r[30]="2",i=0,"211c".split("").forEach((function(e){r[9+i]=e,i++}));for(var a="abcdefghiklmnopqrstuvwxyz",o=0;o<8;o++){var s=Math.floor(Math.random()*a.length);e+=a.substring(s,s+1)}return r=r.join(""),e||(e="axtd"),n[t]=[],"//"+e+".yhhyp.com/"+r}()))},linkEvents:function(e){e&&(t=e)},linkInstance:function(t){t&&(e=t)},playAd:function(t,n){var i={},a=-1;s?(each(e.creatives,(function(e,n){n.id===t&&(a=e)})),i["tag"+(a+1)]=n):i.tags=n,r=void 0,publicaProxy.subscribeToVAST(),u("init",i)},stop:function(){u("stop",{})},subscribeToVAST:function(){window.pAPI&&validator.isFunction(window.pAPI.on)&&Vendri.useExternalRenderer()&&!o&&readinessHelper.pAPIReady()&&(o=!0,each(i,(function(e,t){window.pAPI.on(t,d)})))},unsubscribeFromVAST:function(){window.pAPI&&validator.isFunction(window.pAPI.off)&&o&&(each(i,(function(e,t){window.pAPI.off(t,d)})),o=!1)}}}();function conditionTester(condition,instance){var res=!0,parsedCondition,prop;try{if("string"==typeof condition&&/^function/.test(condition))parsedCondition=eval("("+condition+")()"),parsedCondition||(res=!1);else if("string"==typeof condition&&/^\{/.test(condition))try{parsedCondition=eval("("+condition+")")}catch(e){res=!1}else validator.isNotEmpty(condition,"object")&&(parsedCondition=condition);for(prop in parsedCondition)if(parsedCondition.hasOwnProperty(prop)&&instance.mapped[prop]!=parsedCondition[prop]){res=!1;break}}catch(e){res=!1}return res}function objectCrawler(e,t){try{each(e,(function(e,n){t="\\"===n[0]?n.substring(1):t[n]}))}catch(e){t=null}return t}function stringToObjectAccessor(e,t,n){var r=[],i=null,a=!1,o=t?t.mapped:{};t&&t.target;if("string"==typeof e)try{if("!"===e[0]&&(a=!0,e=e.substring(1)),"\\"===e[0])i=e.substring(1);else{if(mapsByApi.hasOwnProperty(e)&&(i=mapsByApi[e]),validator.isNotEmpty(i)||0===i)return i;if(r=e.split("."),validator.isNotEmpty(r)){if(t&&(i=objectCrawler(r,i=t)),validator.isNotEmpty(i)||0===i)return i;if((i=void 0!==global?global:"undefined"!=typeof window?window:null)&&(i=objectCrawler(r,i)),validator.isNotEmpty(i)||0===i)return i}}!validator.isNotEmpty(o[e])&&0!==o[e]||i||(i=o[e]),a&&(i=!i)}catch(e){i=n||null}else i=e;return i}function isPidScriptObject(e){return validator.isNotEmpty(e)&&validator.isNotEmpty(e.operand,"string")&&validator.isArray(e.values)}function pidScriptObjectMapper(e,t,n){var r,i,a,o,s,u,c=[];if(isPidScriptObject(e)){switch(e.values.forEach((function(e){o=isPidScriptObject(e)?pidScriptObjectMapper(e,t):stringToObjectAccessor(e,t,n),c.push(o)})),a=c.length,e.operand){case"or":if(r=!1,a>0)for(i=0;i<a;i+=1)if(isPidScriptObject(c[i])?pidScriptObjectMapper(c[i],t,!1):c[i]){r=!0;break}break;case"and":for(r=!1,i=0;i<a;i+=1){if(!(isPidScriptObject(c[i])?pidScriptObjectMapper(c[i],t,!1):c[i])){r=!1;break}r=!0}break;case"equals":o=isPidScriptObject(c[0])?pidScriptObjectMapper(c[0],t,!1):c[0],s=isPidScriptObject(c[1])?pidScriptObjectMapper(c[1],t,!1):c[1],r=o===s;break;case"if":for((a=c.length)%2==1&&(n=isPidScriptObject(c[a-1])?pidScriptObjectMapper(c[a-1],t,e.default):c[a-1],a--),r=n,i=0;i<a;i+=2)if(isPidScriptObject(c[i])?pidScriptObjectMapper(c[i],t,!1):c[i]){r=isPidScriptObject(c[i+1])?pidScriptObjectMapper(c[i+1],t,e.default):c[i+1];break}break;case"concat":r="",c.forEach((function(e){e=isPidScriptObject(e)?pidScriptObjectMapper(e,t,!1):e,r+=e&&e.toString()}));break;case"sum":r=0,c.forEach((function(e){e=isPidScriptObject(e)?pidScriptObjectMapper(e,t,!1):parseInt(e),r+=parseInt(e)}));break;case"subtract":r=parseInt(c.shift()),c.forEach((function(e){e=isPidScriptObject(e)?pidScriptObjectMapper(e,t,!1):parseInt(e),r-=parseInt(e)}));break;case"api":try{o=e.values[0],u=Vendri[o],validator.isFunction(u)?-1!==allowedAPI.indexOf(o)&&(r=u.apply({},c.slice(1))):r=u}catch(e){r=!1}}"boolean"===e.type&&(r=!!r)}return r}function getCreativeObject(e){var t=null;return validator.isGoodCreativeObject(e)&&validator.isArray(e.creativeOptions)&&validator.isNotEmpty(e.creativeOptions[e.tagPosition])&&(t=e.creativeOptions[e.tagPosition]),t}function getCreativeName(e){var t="",n=getCreativeObject(e);return n&&n.id&&(t=n.id),t}function attribution(e,t,n,r){var i,a=e||"",o=!0,s=(t=t||{},Array.isArray(n)?n:[]),u=Array.isArray(r)?r:[],c=!1,l={name:a,timestamp:Date.now(),instanceId:t.instanceId};return each(s,(function(e,t){i=t.type,a===t.name&&o&&(l.type=i,c=!0,u.push(l),o=!1)})),c?u:null}function isAttributed(e,t){var n=Array.isArray(e)?e:[],r="object"==typeof t?t:{},i=!1;return n.forEach((function(e){for(var t in e)e[t]===r[t]&&(i=!0)})),i}function makeVideoSlot(e,t){var n=e.createElement("video");return t&&(n.src=t),n.setAttribute("playsinline",""),n.setAttribute("poster",CONSTANTS.blackPoster),n.setAttribute("autoplay",""),n.setAttribute("data-videoslot","global"),n.style.position="absolute",n.style.top="0",n.style.left="0",n}function autoplayTester(e){var t,n;n=makeVideoSlot(document,CONSTANTS.autoplayTestSrc),document.body.appendChild(n),void 0!==(t=n.play())?(autoplayStatus="pending",t.then((function(){n.style.display="none",autoplayStatus="fulfilled",autoplayPermissionGranted=!0,autoplayChecked=!0,Vendri.grantGesturePermission=function(){},e()})).catch((function(){var t;autoplayStatus="rejected",autoplayChecked=!0,(stashedVideoSlot=n).style.display="none",Vendri.grantGesturePermission=function(){autoplayStatus="touched",stashedVideoSlot.style.display="",void 0!==(t=stashedVideoSlot.play())&&t.then((function(){stashedVideoSlot.style.display="none"})).catch((function(){stashedVideoSlot.style.display="none"})),Vendri.grantGesturePermission=function(){}},window.dispatchEvent(new CustomEvent("adPlayRejected")),e()}))):(autoplayStatus="incompatible",autoplayChecked=!0,Vendri.grantGesturePermission=function(){},e())}function debugPing(e,t,n){var r={preamble:"VilosAdsEvent ",eventName:e||"none",data:t||{}};return getCookie("VilosAdsEvents_"+n)&&console.log(r.preamble+r.eventName,r.data),r}function millisToSecondsTwoPlaces(e){return(e/1e3).toFixed(2)}var callStack=(stack=[],{getStack:function(){return stack},push:function(e){stack.length<=50&&stack.push(e)},reset:function(){stack=[]}}),stack,Vendri,adBlockDetected=!1,attributionCredits=[],useExternalRenderer=!1,pidEndpointOverride="",version="0",touchDelayed=!1,init,setupsLater=[],isRunningSetups=!1,vEvents={},validator={},parser={},http={},Device=blankFunc,VPlayer=blankFunc,VendriInstance=blankFunc,device={},media={},vAd={},vPlayer={},stashedVideoSlot=null,companion={},instances={},garbage=!1,a=!1,mapsByApi={},autoplayChecked=!1,autoplayPermissionGranted=!1,autoplayStatus="",CONSTANTS={unknownAdNetworkName:"unknownNetwork",autoplayTestSrc:"data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",blackPoster:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},rejectFirstAdImpressionNetworks=["truex_web"],bitrate={check:!1,def:2e3,mobileDefault:200,async:!1,value:0,imageAddr:"assets/1kb.jpg",downloadSize:6200,valueFromGlobal:!1,valueFromPID:!1},scoperCSS=function(){var e="";try{e=base64.decode("LnZ3cmFwcGVyIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbjogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgLypsZWZ0OiAwOyovCiAgICAvKnRvcDogMDsqLwogICAgLypib3JkZXI6IDEwcHggc29saWQgb3JhbmdlOyovCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKfQoudndyYXBwZXIgdmlkZW97CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKfQoKI3Ztb2RhbHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsgLyoganVzdCBzbyB0aGUgc3R5bGluZyBjYW4gcmVmZXJlbmNlIHRoaXMgcGFyZW50Ki8KfQoKI3Z0YXJnZXR7CiAgICBib3JkZXI6IDVweCBzb2xpZCByZWQ7Cn0KCiN2cG9wdXB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKfQoKI3Zfb3ZlcmxheSB7CiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICBvcGFjaXR5OiAiICsgYmdvcCArICIgIWltcG9ydGFudDsKICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KSAhaW1wb3J0YW50OwogICAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7CiAgICB6LWluZGV4OiAxMDAwMDAgIWltcG9ydGFudDsKICAgIGhlaWdodDogMTAwJSAhaW1wb3J0YW50OwogICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgIHRvcDogMCAhaW1wb3J0YW50OwogICAgbGVmdDogMCAhaW1wb3J0YW50Owp9Cgojdl9vdmVybGF5LmRhcmsgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDQsIDUsIDQpICFpbXBvcnRhbnQ7Cn0KCiN2X292ZXJsYXkubGlnaHQgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpICFpbXBvcnRhbnQ7Cn0KCi5hdWRpb19jb21wYW5pb24gewogICAgcGFkZGluZy10b3A6IDM1cHg7Cn0KCi5zaG93IHsKICAgIC8qZGlzcGxheTogaW5oZXJpdDsqLwp9Ci5oaWRlIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKI3ZpZGVvIHsKICAgIC8qYmFja2dyb3VuZC1jb2xvcjogIzAwMDsqLwp9Cgp2aWRlbyB7CiAgICAvKnBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OyovCiAgICAvKnRvcDogMHB4ICFpbXBvcnRhbnQ7Ki8KICAgIC8qbGVmdDogMHB4ICFpbXBvcnRhbnQ7Ki8KICAgIC8qaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7Ki8KICAgIC8qd2lkdGg6IDEwMCUgIWltcG9ydGFudDsqLwogICAgLyp6LWluZGV4OiAxICFpbXBvcnRhbnQ7Ki8KICAgIC8qZmxvYXQ6IGxlZnQ7Ki8KfQoKLnNraXAtY29udGFpbmVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50OwogICAgdG9wOiAxMHB4ICFpbXBvcnRhbnQ7CiAgICBsZWZ0OiAxMHB4ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiA1cHg7CiAgICBjb2xvcjogZGFya2dyYXk7CiAgICBjdXJzb3I6IGRlZmF1bHQ7CiAgICAvKmJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMjU1LCAwLCAxLjApOyovCiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsKICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogICAgZm9udC1zaXplOiAxNXB4OwogICAgei1pbmRleDogOTk5OTk7Cn0KCi5jbG9zZS1jb250YWluZXIgewogICAgcG9zaXRpb246IGFic29sdXRlICFpbXBvcnRhbnQ7CiAgICB0b3A6IDEwcHggIWltcG9ydGFudDsKICAgIHJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7CiAgICBwYWRkaW5nOiA1cHg7CiAgICBjb2xvcjogZGFya2dyYXk7CiAgICBmaWxsOmRhcmtncmF5OwogICAgLypiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjIpOyovCiAgICB6LWluZGV4OiA5OTk5OTsKfQoKLnRvb2xlc3MtZHVyYXRpb24tY29udGFpbmVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50OwogICAgdG9wOiAxMHB4ICFpbXBvcnRhbnQ7CiAgICBsZWZ0OiA1MCU7CiAgICBwYWRkaW5nOiA1cHg7CiAgICBjb2xvcjogZGFya2dyYXk7CiAgICBjdXJzb3I6IGRlZmF1bHQ7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICB6LWluZGV4OiA5OTk5OTsKfQoKLmNsb3NlLWNvbnRhaW5lcjpob3ZlcnsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGZpbGw6IHdoaXRlOwp9Cgouc2tpcC1jb250YWluZXI6aG92ZXIgewogICAgY29sb3I6IHdoaXRlOwp9Cgouc2tpcDpob3ZlciB7CiAgICBjb2xvcjogd2hpdGU7Cn0KCi5zb29uIHsKICAgIGNvbG9yOiB3aGl0ZTsKfQoKI2NvbnRyb2xzIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBvcGFjaXR5OiAwLjg1OwogICAgY29sb3I6ICNmZmY7CiAgICAvKnBvc2l0aW9uOiBhYnNvbHV0ZTsgKi8KICAgIGhlaWdodDogMzBweDsKfQoKKiB7CiAgICAtd2Via2l0LWJveC1zaXppbmc6IGluaXRpYWw7CiAgICAtbW96LWJveC1zaXppbmc6IGluaXRpYWw7CiAgICBib3gtc2l6aW5nOiBpbml0aWFsOwp9CgouY29udHJvbCB7CiAgICBmbG9hdDogbGVmdDsKICAgIGhlaWdodDogMjVweDsKICAgIHdpZHRoOiAyNXB4OwogICAgbWFyZ2luLXJpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAxRTI1OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7CiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfQoKLmNvbnRyb2w6bGFzdC1jaGlsZCB7CiAgICBtYXJnaW4tcmlnaHQ6IDA7Cn0KCi5jb250cm9sOmZpcnN0LWNoaWxkIHsKICAgIG1hcmdpbi1sZWZ0OiA1cHg7Cn0KCiNwbGF5IHNwYW4gewogICAgZGlzcGxheTogYmxvY2s7CiAgICBmb250LXNpemU6IDBweDsKICAgIGxpbmUtaGVpZ2h0OiAwOwp9CgojcGxheS5wbGF5IHNwYW4gewogICAgd2lkdGg6IDA7CiAgICBoZWlnaHQ6IDA7CiAgICBtYXJnaW46IDhweCAwIDAgOHB4OwogICAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMwMDFFMjU7CiAgICBib3JkZXItbGVmdDogMTBweCBzb2xpZCAjZmZmOwogICAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkICMwMDFFMjU7Cn0KCiNwbGF5LnBhdXNlIHNwYW4gewogICAgd2lkdGg6IDNweDsKICAgIGhlaWdodDogMTBweDsKICAgIG1hcmdpbjogOHB4IGF1dG8gMDsKICAgIGJvcmRlci10b3A6IDBweDsKICAgIGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2ZmZjsKICAgIGJvcmRlci1ib3R0b206IDBweDsKICAgIGJvcmRlci1yaWdodDogM3B4IHNvbGlkICNmZmY7Cn0KCiNwcm9ncmVzcyB7CiAgICB3aWR0aDogMTkwcHg7Cn0KCiNwcm9ncmVzcyAjcHJvZ3Jlc3NfYm94IHsKICAgIGZsb2F0OiBsZWZ0OwogICAgd2lkdGg6IDEwMHB4OwogICAgaGVpZ2h0OiA5cHg7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMUUyNTsKICAgIG1hcmdpbjogN3B4IDAgMCA1cHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7CiAgICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfQoKI3Byb2dyZXNzICNwbGF5X3Byb2dyZXNzIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDBweDsKICAgIGhlaWdodDogOXB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4OwogICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7Cn0KCiNwcm9ncmVzcyAjbG9hZF9wcm9ncmVzcyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAwcHg7CiAgICBoZWlnaHQ6IDlweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM3Nzc7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDsKICAgIC1tb3otYm9yZGVyLXJhZGl1czogNXB4OwogICAgYm9yZGVyLXJhZGl1czogNXB4Owp9CgojcHJvZ3Jlc3MgI3BsYXlfdGltZSB7CiAgICBmbG9hdDogbGVmdDsKICAgIG1hcmdpbjogN3B4IDAgMCA1cHg7CiAgICBmb250LXNpemU6IHgtc21hbGw7CiAgICBsaW5lLWhlaWdodDogMTsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoKI3ZvbHVtZSB7CiAgICB3aWR0aDogNTBweDsKfQoKI3ZvbHVtZSBzcGFuIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiA0cHggMCAwIDVweDsKfQoKI3ZvbHVtZSB1bCB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBsaXN0LXN0eWxlOiBub25lOwp9Cgojdm9sdW1lIHVsIGxpIHsKICAgIGZsb2F0OiBsZWZ0OwogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICB3aWR0aDogNXB4OwogICAgbWFyZ2luLXJpZ2h0OiAycHg7CiAgICBoZWlnaHQ6IDBweDsKICAgIGJvcmRlci1ib3R0b206IDE4cHggc29saWQgIzU1NTsKfQoKI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMSkgewogICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9Cgojdm9sdW1lIHVsIGxpOm50aC1jaGlsZCgyKSB7CiAgICBib3JkZXItYm90dG9tLXdpZHRoOiA0cHg7CiAgICBoZWlnaHQ6IDE0cHg7Cn0KCiN2b2x1bWUgdWwgbGk6bnRoLWNoaWxkKDMpIHsKICAgIGJvcmRlci1ib3R0b20td2lkdGg6IDdweDsKICAgIGhlaWdodDogMTFweDsKfQoKI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoNCkgewogICAgYm9yZGVyLWJvdHRvbS13aWR0aDogMTBweDsKICAgIGhlaWdodDogOHB4Owp9Cgojdm9sdW1lIHVsIGxpOm50aC1jaGlsZCg1KSB7CiAgICBib3JkZXItYm90dG9tLXdpZHRoOiAxNHB4OwogICAgaGVpZ2h0OiA0cHg7Cn0KCiNmdWxsX3NjcmVlbiBzcGFuIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgZmxvYXQ6IGxlZnQ7CiAgICBtYXJnaW46IDVweCAwIDAgNXB4OwogICAgcGFkZGluZzogMDsKfQoKI2Z1bGxfc2NyZWVuIHNwYW4gdGFibGUgewogICAgd2lkdGg6IDIwcHg7CiAgICBoZWlnaHQ6IDIwcHg7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgdGV4dC1hbGlnbjogbGVmdDsKICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7Cn0KCiNmdWxsX3NjcmVlbiBzcGFuIHRhYmxlIHRkIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICB0ZXh0LWFsaWduOiBsZWZ0OwogICAgdmVydGljYWwtYWxpZ246IHRvcDsKfQoKI2Z1bGxfc2NyZWVuIHNwYW4gdGFibGUgdHI6Zmlyc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQgewogICAgd2lkdGg6IDlweDsKICAgIGhlaWdodDogOXB4Owp9CgojZnVsbF9zY3JlZW4gLmZzLWNvcm5lciB7CiAgICBmb250LXNpemU6IDA7CiAgICBsaW5lLWhlaWdodDogMDsKICAgIHdpZHRoOiAwOwp9CgojZnVsbF9zY3JlZW4gI2ZzX3RvcF9sZWZ0IHsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci10b3A6IDZweCBzb2xpZCAjZmZmOwogICAgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzAwMUUyNTsKfQoKI2Z1bGxfc2NyZWVuICNmc190b3BfcmlnaHQgewogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7CiAgICBib3JkZXItbGVmdDogNnB4IHNvbGlkICMwMDFFMjU7Cn0KCiNmdWxsX3NjcmVlbiAjZnNfYm90dG9tX2xlZnQgewogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLWJvdHRvbTogNnB4IHNvbGlkICNmZmY7CiAgICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCAjMDAxRTI1Owp9CgojZnVsbF9zY3JlZW4gI2ZzX2JvdHRvbV9yaWdodCB7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsKICAgIGJvcmRlci1sZWZ0OiA2cHggc29saWQgIzAwMUUyNTsKfQoKI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSAjZnNfdG9wX2xlZnQgewogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLWJvdHRvbTogNnB4IHNvbGlkICNmZmY7CiAgICBib3JkZXItbGVmdDogNnB4IHNvbGlkICMwMDFFMjU7Cn0KCiNmdWxsX3NjcmVlbi5mcy1hY3RpdmUgI2ZzX3RvcF9yaWdodCB7CiAgICBib3JkZXI6IG5vbmU7CiAgICBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsKICAgIGJvcmRlci1yaWdodDogNnB4IHNvbGlkICMwMDFFMjU7Cn0KCiNmdWxsX3NjcmVlbi5mcy1hY3RpdmUgI2ZzX2JvdHRvbV9sZWZ0IHsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci10b3A6IDZweCBzb2xpZCAjZmZmOwogICAgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCAjMDAxRTI1Owp9CgojZnVsbF9zY3JlZW4uZnMtYWN0aXZlICNmc19ib3R0b21fcmlnaHQgewogICAgYm9yZGVyOiBub25lOwogICAgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7CiAgICBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCAjMDAxRTI1Owp9CgojZnVsbF9zY3JlZW4uZnMtYWN0aXZlIHNwYW4gdGFibGUgdHI6Zmlyc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQgewogICAgd2lkdGg6IDEzcHg7CiAgICBoZWlnaHQ6IDEzcHg7Cn0KCiNmdWxsX3NjcmVlbi5mcy1hY3RpdmUgc3BhbiB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGZsb2F0OiBsZWZ0OwogICAgbWFyZ2luOiAzcHggMCAwIDNweDsKICAgIHBhZGRpbmc6IDA7Cn0KCi8qbmV3IEhVRCBtZXRob2RzKi8Kc3ZnLnZlbmRyaUljb24gewogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKfQoKLnZlbmRyaUljb25faW52aXNpYmxlIHsKICAgIG9wYWNpdHk6IDAuMDsKfQoKI3ZlbmRyaUljb25fdGl0bGUsICN2ZW5kcmlJY29uX3NraXAgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbGluZS1oZWlnaHQ6IDMwcHg7CiAgICBoZWlnaHQ6IDMwcHg7CiAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICBmbG9hdDogbGVmdDsKfQoKLnZlbmRyaUljb25fc2tpcF9hZnRlciB7CiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXk7Cn0KCiN2ZW5kcmlJY29uX2Nsb3NlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIHJpZ2h0OiAwOwogICAgbWFyZ2luOiAxMHB4Owp9CgoudmVuZHJpSWNvbl9hY3RpdmVfY29udHJvbCB7CiAgICBmaWxsOiB3aGl0ZTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHN0b3AtY29sb3I6IHdoaXRlOwogICAgc3Ryb2tlOiB3aGl0ZTsKICAgIHN0cm9rZS13aWR0aDogMDsKICAgIGJvcmRlci1jb2xvcjogd2hpdGU7Cn0KCi52ZW5kcmlJY29uX2luYWN0aXZlX2NvbnRyb2wgewogICAgY29sb3I6IGRhcmtncmF5OwogICAgZmlsbDogZGFya2dyYXk7CiAgICBzdG9wLWNvbG9yOiBkYXJrZ3JheTsKICAgIHN0cm9rZTogZGFya2dyYXk7CiAgICBzdHJva2Utd2lkdGg6IDA7CiAgICBib3JkZXItY29sb3I6IGRhcmtncmF5Owp9CgojdmVuZHJpSWNvbl9jb250cm9scyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBib3JkZXItc3BhY2luZzogMTBweDsKICAgIGJvcmRlci1jb2xsYXBzZTogc2VwYXJhdGU7CiAgICBib3R0b206IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6MzBweDsKICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogICAgZm9udC1zaXplOiAyMHB4OwogICAgbGluZS1oZWlnaHQ6IDI1cHg7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgdHJhbnNpdGlvbjogb3BhY2l0eSAxczsKICAgIGJhY2tncm91bmQ6ICMwNjFiMmI7Cn0KCiN2ZW5kcmlJY29uX2NvbnRyb2xzIHRkLCB0aCwgdHIgewogICAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBib3JkZXI6IDA7CiAgICBib3JkZXItc3BhY2luZzogMDsKfQoKI3ZlbmRyaUljb25fY2xvY2sgewogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEyNXB4Owp9CgojdmVuZHJpSWNvbl9wbGF5LCAjdmVuZHJpSWNvbl9wYXVzZSwgI3ZlbmRyaUljb25fbXV0ZWQsICN2ZW5kcmlJY29uX2Nsb3NlLCAjdmVuZHJpSWNvbl9tdXRlLCAjdmVuZHJpSWNvbl9mc19hY3RpdmUsICN2ZW5kcmlJY29uX2ZzX2luYWN0aXZlIHsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4Owp9CgojdmVuZHJpSWNvbl92b2x1bWUgewogICAgd2lkdGg6IDEwMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgY3Vyc29yOiBjb2wtcmVzaXplOwp9CgoudmVuZHJpSWNvbl9wcm9ncmVzc0JhY2tpbmcgewogICAgaGVpZ2h0OiA0MCU7CiAgICBib3JkZXItcmFkaXVzOiAxMDBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTsKICAgIHBhZGRpbmc6IDA7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBkaW1ncmF5Owp9CgojdmVuZHJpSWNvbl9wbGF5cG9zLCAjdmVuZHJpSWNvbl9sb2FkZWR7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICB3aWR0aDogMDsKICAgIGJvcmRlci1yYWRpdXM6IDEwMHB4OwogICAgYm9yZGVyOiBub25lOwogICAgdHJhbnNpdGlvbjogd2lkdGggbGluZWFyIC41czsKfQojdmVuZHJpSWNvbl9wbGF5cG9zIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHRvcDogLTEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKfQojdmVuZHJpSWNvbl9sb2FkZWQgewogICAgYmFja2dyb3VuZC1jb2xvcjogZGFya2dyYXk7Cn0KCgovKnJlZ3VsYXIgZGVza3RvcCBhbmQgdGFibGV0Ki8KQG1lZGlhICggbWluLWRldmljZS13aWR0aDogMTIwMHB4ICkgewogICAgI3ZlbmRyaUljb25fY29udHJvbHMgewogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBsaW5lLWhlaWdodDogMTRweDsKICAgIH0KCiAgICAjdmVuZHJpSWNvbl9wbGF5LCAjdmVuZHJpSWNvbl9wYXVzZSwgI3ZlbmRyaUljb25fbXV0ZWQsICN2ZW5kcmlJY29uX2Nsb3NlLCAjdmVuZHJpSWNvbl9tdXRlLCAjdmVuZHJpSWNvbl9mc19hY3RpdmUsICN2ZW5kcmlJY29uX2ZzX2luYWN0aXZlIHsKICAgICAgICB3aWR0aDogMTZweDsKICAgICAgICBoZWlnaHQ6IDE2cHg7CiAgICB9CgogICAgI3ZlbmRyaUljb25fdm9sdW1lIHsKICAgICAgICB3aWR0aDogNzVweDsKICAgICAgICBoZWlnaHQ6IDE2cHg7CiAgICB9CgogICAgI3ZlbmRyaUljb25fY2xvY2sgewogICAgICAgIHdpZHRoOiAxMDBweDsKICAgIH0KCiAgICAjdmVuZHJpSWNvbl9jb250cm9scyB7CiAgICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICAgIGJvcmRlci1zcGFjaW5nOiA4cHg7CiAgICB9Cn0KCiN2ZW5kcmlJY29uX3ZpZGVvV3JhcHBlciB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBoZWlnaHQ6IGF1dG87CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQ6IGJsYWNrOwp9")}catch(e){}return e},knownDomains=[{domain:"aimatch.com",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"liverail.com",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"streamtheworld.com",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"streamtheworld.net",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"vendri.io",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"vendri.io:443",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"168.1.113",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"vendri.com",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"vendri.com:80",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"vendri.io:8780",AJAX:!1,COOKIE:!0,JSONP:!1},{domain:"g.doubleclick.net:443",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"g.doubleclick.net",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"localhost",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"5fd74.v.fwmrm.net",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"v.fwmrm.net",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"fwmrm.net",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"search.spotxchange.com",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"spotxchange.com",AJAX:!0,COOKIE:!1,JSONP:!1},{domain:"amazon-adsystem.com",AJAX:!0,COOKIE:!1,JSONP:!1}],bidders={a9:{initialized:!1,pubID:"3603",videoAdServer:"freewheel",timers:[]}},callbackObj={eventName:"",action:function(){}},tCallbacks=[],companionObj={type:"banner",size:"",height:0,width:0,target:"",clear:"",replace:!0,defaultBanner:"",resource:"",claimed:!1},triggerActions={adBreak:function(e,t,n){var r,i=!1;try{for(r=0;r<t.PLIDs.length;r+=1)-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r])&&(i=!0,Vendri.adBreak(t.setup,t.PLIDs[r],t.TRID,t,n))}catch(e){debugPing("adBreak trigger error",{message:e},"trigger")}if(!i){callStack.reset(),callStack.push("adBreak");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-adBreak"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}},resume:function(e,t,n){var r,i=!1;try{for(r=0;r<t.PLIDs.length;r+=1)-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r])&&(i=!0,Vendri.resume(t.setup,t.PLIDs[r],t.TRID,t))}catch(e){debugPing("resume trigger error",{message:e},"trigger")}if(!i){callStack.reset(),callStack.push("resume");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-resume"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}},play:function(e,t,n){var r,i=!1;try{for(r=0;r<t.PLIDs.length;r+=1)-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r])&&(i=!0,Vendri.play(t.setup,t.PLIDs[r],t.TRID,t))}catch(e){debugPing("play trigger error",{message:e},"trigger")}if(!i){callStack.reset(),callStack.push("play");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-play"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}},stop:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.stopLegacy(a[i],t))}catch(e){debugPing("stop trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("stop");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-stop"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},mute:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.mute(a[i],t))}catch(e){debugPing("mute trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("mute");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-mute"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},setVolume:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.setVolume(a[i],t,n))}catch(e){debugPing("setVolume trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("setVolume");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-setVolume"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},setFullscreenOn:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.setFullscreen(a[i],t,!0))}catch(e){debugPing("setFullscreenOn trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("setFullscreenOn");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-setFullscreenOn"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},setFullscreenOff:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.setFullscreen(a[i],t,!1))}catch(e){debugPing("setFullscreenOff trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("setFullscreenOff");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-setFullscreenOff"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},pause:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.pause(a[i],t))}catch(e){debugPing("pause trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("pause");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-pause"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}},skip:function(e,t,n){var r,i,a,o=!1;try{for(r=0;r<t.PLIDs.length;r+=1)if(-1!==vinArray(Vendri.setupParams.platform.PLIDs,t.PLIDs[r]))for(a=getVendriObjectsById("PLID",[t.PLIDs[r]],Vendri.setupParams.placements),i=0;i<a.length;i+=1)a[i]&&(o=!0,Vendri.skip(a[i],t))}catch(e){debugPing("skip trigger error",{message:e},"trigger")}if(!o){callStack.reset(),callStack.push("skip");var s={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger no good",type:"trigger-skip"};vEvents.fireEvent(window,"vnothing",{adEvtObj:s,status:"noop"})}}},triggerObj={TRID:0,name:"",action:"",method:"",maxRuns:0,ran:0,called:0,time:1,tevent:{name:"",target:""},condition:"",setup:{adSlots:1,adBreakType:"preroll",constraints:{playTime:!1,startTime:3,adBreakTime:0,adBreakStartTime:10}},logic:{func:function(e){}},PLIDs:[]},platformTypesSupported=["android","ios","app","web","desktop","mobile","other"],platformObj={PFID:0,target:"",appId:!1,type:"",setup:{},enabled:!0,name:"",id:"",PLIDs:[]},placementTypesSupported=["element_append","element","player","modal"],placementObj={PLID:0,PFID:0,target:"",type:"",setup:{},enabled:!0,name:"",id:"",CPIDs:[],prefetch:!1,watchMe:!1},creativeTypesSupported=["vast","media","html","js","sdk"],creativeObj={CRID:0,width:640,height:480,resource:"",type:"",setup:{},enabled:!0,name:"",id:""},campaignTypesSupported=["ad","content"],localCampaignStates=[],getcampaignMngmtDataObj=function(){this.id=0,this.start=0,this.end=0,this.updated=0,this.prevUpdated=0,this.offset=1e3,this.avgs={instancesPerSec:0,callsPerIn:0,impsPerCa:0},this.limits={secs:0,calls:0,imps:0},this.state={instances:0,chosen:0,calls:0,imps:0,secs:0},this.localState={instances:0,chosen:0,calls:0,imps:0,secs:0,avgInsts:0,avgImps:0,avgCalls:0,curPass:{instances:0,chosen:0,calls:0,imps:0,secs:0,update:0,assumeTotalImps:0},finished:!1},this.context={PID:0,PFID:0,PLID:0,CPID:0,CRID:0,TRID:0},this.E=0,this.I=0,this.d=0,this.p=0,this.t=(new Date).getTime()-1e3,this.lastResultT=(new Date).getTime()-1e3,this.lastResult=0},campaignObj={CPID:0,type:"",setup:{},enabled:!0,name:"",id:"",data:{},creatives:[]},trackerTypesSupported=["page","event"],trackerObj={TKID:0,type:"",setup:{},enabled:!0,name:"",id:"",TRIDs:[],PFIDs:[],PLIDs:[],CRIDs:[],CPIDs:[]},mapObj={MPID:0,key:"",map:"",value:"",preValue:"",pointer:"",PFIDs:[]},allowedAPI=["adBlockEnabled"],oKeepProtected={version:version,swfFile:"assets/VPAIDplayer_dev.2.1.2.swf"},setupParams={debug:!1,PID:0,PFID:0,target:!1,targetWrapper:!1,replace:!0,retry:0,adSlots:1,adBreakType:"",width:640,height:480,minHeight:34,minWidth:300,sizeRange:50,preferredType:"html5",audioClickthrough:!0,theme:"light",autoFullscreen:!1,volume:.7,device:{ad_tracking_enabled:0,advertising_id:"",id:"",ip:"",locale:"",location_latitude:0,location_longitude:0,location_speed:0,manufacturer:"",model:"",name:"",network_bluetooth:"",network_carrier:"",network_cellular:"",network_wifi:!1,os_version:"",screen_density:"",screen_height:0,screen_width:0,timezone:"",traits:"",type:"android",user_agent:"",app:{build:"",id:"",library_name:"",library_version:"",name:"VRV",page_hash:"",page_path:"",page_search:"",page_title:"",page_url:"",version:""}},adSkip:{enabled:!1,duration:15,textBefore:"You can skip this ad in {duration}",textAfter:"Skip now",sync:!0},constraints:{playTime:!1,startTime:3,adBreakTime:0,adBreakStartTime:10,minPrefetchThreshold:10},controls:{play:!0,volume:!0,mute:!0,progress:!0,fullscreen:!0,close:!0},companions:[],triggers:[],maps:{timestamp:function(e){return newTime()}},creatives:[],campaigns:[],platforms:[],placements:[],mediaDuration:0,forceType:!1,preferredDeliveryType:"progressive",pti:15,dti:5,ts:0,PLID:0,bitrate:{},mapped:{pageLoaded:!1,pageLoadTime:0,pageVisible:!0,pageUrl:"",timestamp:0,bids:{a9:[]}},triggersSetup:[],tag:"",forcePlay:!1,useDataTracking:!1,data:{instances_per_day_avg:13e4,imps:0,impsStarted:0,othersImps:0,secs:0,secsStarted:0,updated:1},scoper:!1,scoped:{},attributors:[],autoplay:!0,events:{vstarted:function(e){},vcompleted:function(e){},onBeforeComplete:function(e){},onComplete:function(e){},onAfterComplete:function(e){},onBeforeStart:function(e){},onStart:function(e){},onAfterStart:function(e){},onBeforeLog:function(e){},onLog:function(e){},onAfterLog:function(e){},onBeforeAd:function(e){},onAd:function(e){},onAfterAd:function(e){},onBeforeAdStart:function(e){},onAdStart:function(e){},onAfterAdStart:function(e){},onBeforeAdFinish:function(e){},onAdFinish:function(e){},onAfterAdFinish:function(e){},onBeforeViewResize:function(e){},onViewResize:function(e){},onAfterViewResize:function(e){}}};function populateMaps(e){var t=/(\{*\}*)(\[*\]*)(\(*\)*)/g;if(validator.isNotEmpty(e.maps)){var n=[];each(e.maps,(function(r,i){var a,o=r+"";switch(validator.isEmpty(i)&&(i="{"+r+"}"),typeof i){case"function":e.mapped[r]=i({target:e.target,instance:e});break;case"string":try{if(/^\(|\[|^\{/.test(i))if(a=i.replace(t,""),vinArray(["pageLoaded","pageLoadTime","pageUrl","timestamp","bids"],a)>-1)e.mapped[r]=e.mapped[a],n.push(o);else try{device.isAndroidSDK?window.VendriAndroidApp&&window.VendriAndroidApp.getScopedVariables&&(e.mapped[r]=window.VendriAndroidApp.getScopedVariables(a)||!1):device.isIosSDK&&window.VendriIosApp&&window.VendriIosApp.getScopedVariables&&(e.mapped[r]=window.VendriIosApp.getScopedVariables(a)||!1),e[a]?(e.mapped[r]=e[a],n.push(o)):window&&window[a]?(Vendri.setupParams.mapped[r]=window[a],n.push(o)):e.target&&e.target[a]?(Vendri.setupParams.mapped[r]=e.target[a],n.push(r)):document&&document[a]?(Vendri.setupParams.mapped[r]=window[a],n.push(r)):document&&document.body&&document.body[a]?(e.mapped[r]=document.body[a],n.push(r)):/^\{/.test(i)?e.mapped[r]=JSON.stringify(i):e.mapped[r]=i}catch(t){e.mapped[r]=i}else e.mapped[r]=stringToObjectAccessor(i,e)}catch(t){e.mapped[r]=i}break;case"object":e.mapped[r]=pidScriptObjectMapper(i,e)}var s=e.mapped[r];"string"==typeof s&&(e.mapped[r]=encodeURIComponent(s))}))}}function updateGlobalSetup(e){var t,n=!1,r=!1;oKeepProtected.maps=Vendri.setupParams.maps,oKeepProtected.device=Vendri.setupParams.device;try{for(t in n=e.PID&&e.PID!==Vendri.setupParams.PID,e)Object.prototype.hasOwnProperty.call(e,t)&&!Object.prototype.hasOwnProperty.call(oKeepProtected,t)&&(Vendri.setupParams[t]=e[t]);for(t in oKeepProtected)Object.prototype.hasOwnProperty.call(oKeepProtected,t)&&(Vendri.setupParams[t]=oKeepProtected[t]);if((!Vendri.setupParams.pti||"number"!=typeof Vendri.setupParams.pti||Vendri.setupParams.pti<=0)&&(Vendri.setupParams.pti=15),Vendri.setupParams.volume=Vendri.setupParams.volume>=0?Vendri.setupParams.volume<=1?Vendri.setupParams.volume:Vendri.setupParams.volume/100:.7,vPlayer.volume=Vendri.setupParams.volume,Vendri.setupParams.theme=Vendri.setupParams.theme||"light",Vendri.setupParams.retry?!0===Vendri.setupParams.retry?Vendri.setupParams.retry=3:Vendri.setupParams.retry>10&&(Vendri.setupParams.retry=10):Vendri.setupParams.retry=0,Vendri.setupParams.replace||(Vendri.setupParams.replace=!1),Vendri.setupParams.constraints||(Vendri.setupParams.constraints={playTime:!1,startTime:3}),Vendri.setupParams.constraints.startTime&&"number"==typeof Vendri.setupParams.constraints.startTime||(Vendri.setupParams.constraints.startTime=3),Vendri.setupParams.constraints.adBreakTime&&"number"==typeof Vendri.setupParams.constraints.adBreakTime||(Vendri.setupParams.constraints.adBreakTime=0),Vendri.setupParams.constraints.adBreakStartTime&&"number"==typeof Vendri.setupParams.constraints.adBreakStartTime||(Vendri.setupParams.constraints.adBreakStartTime=10),!Vendri.setupParams.adSlots||Vendri.setupParams.adSlots<=0||!0===Vendri.setupParams.adSlots?Vendri.setupParams.adSlots=1:Vendri.setupParams.adSlots>100&&(Vendri.setupParams.adSlots=100),Vendri.setupParams.adBreakType="",Vendri.setupParams.preferredType="flash"!=Vendri.setupParams.preferredType.toLowerCase()&&"swf"!=Vendri.setupParams.preferredType.toLowerCase()?"html5":"flash",Vendri.setupParams.preferredDeliveryType="streaming"!=Vendri.setupParams.preferredDeliveryType.toLowerCase()?"progressive":"streaming",Vendri.setupParams.height="number"==typeof Vendri.setupParams.height?Vendri.setupParams.height:480,Vendri.setupParams.width="number"==typeof Vendri.setupParams.width?Vendri.setupParams.width:640,Vendri.setupParams.sizeRange="number"==typeof Vendri.setupParams.sizeRange?Vendri.setupParams.sizeRange:50,validator.isNotEmpty(Vendri.setupParams.creativeOptions)?Vendri.setupParams.totalTags=Vendri.setupParams.creativeOptions.length:validator.isNotEmpty(Vendri.setupParams.adTags)?(each(Vendri.setupParams.adTags,(function(e,t){Vendri.setupParams.creativeOptions.push({resource:t})})),Vendri.setupParams.totalTags=Vendri.setupParams.creativeOptions.length):validator.isArray(Vendri.setupParams.tag)?(each(Vendri.setupParams.tag,(function(e,t){Vendri.setupParams.creativeOptions.push({resource:t})})),Vendri.setupParams.totalTags=Vendri.setupParams.creativeOptions.length):"string"==typeof Vendri.setupParams.tag&&""!==Vendri.setupParams.tag&&(Vendri.setupParams.creativeOptions=[Vendri.setupParams.tag],Vendri.setupParams.totalTags=1),e.maps&&"object"==typeof e.maps)for(t in e.maps)Object.prototype.hasOwnProperty.call(e.maps,t)&&(Vendri.setupParams.maps[t]=e.maps[t]);var i;if(Vendri.setupParams.maps&&"object"==typeof Vendri.setupParams.maps||(Vendri.setupParams.maps={}),Vendri.setupParams.mapped&&"object"==typeof Vendri.setupParams.mapped||(Vendri.setupParams.mapped={}),!Vendri.setupParams.platform&&validator.isNotEmpty(Vendri.setupParams.platforms))if(Vendri.setupParams.PFID){for(i=0;i<Vendri.setupParams.platforms.length;i+=1)if(Vendri.setupParams.platforms[i].PFID===Vendri.setupParams.PFID){Vendri.setupParams.platform=Vendri.setupParams.platforms[i];break}}else if(Vendri.setupParams.mapped&&Vendri.setupParams.mapped.pageUrl)for(i=0;i<Vendri.setupParams.platforms.length;i+=1){if(Vendri.setupParams.platforms[i].target===Vendri.setupParams.mapped.pageUrl){Vendri.setupParams.platform=Vendri.setupParams.platforms[i],Vendri.setupParams.PFID=Vendri.setupParams.platform.PFID;break}"*"===Vendri.setupParams.platforms[i].target&&(Vendri.setupParams.platform=Vendri.setupParams.platforms[i],Vendri.setupParams.PFID=Vendri.setupParams.platform.PFID)}else for(i=0;i<Vendri.setupParams.platforms.length;i+=1)if("*"===Vendri.setupParams.platforms[i].target){Vendri.setupParams.platform=Vendri.setupParams.platforms[i],Vendri.setupParams.PFID=Vendri.setupParams.platform.PFID;break}Object.prototype.hasOwnProperty.call(e,"device")&&(deepExtend(Vendri.setupParams.device,e.device),deepExtend(device,e.device)),bitrate.value||bitrate.valueFromGlobal||bitrate.valueFromPID||(bitrate.value=validator.isMobile()?bitrate.mobileDefault:bitrate.def,bitrate.valueFromGlobal=!0),validator.isNotEmpty(Vendri.setupParams.bitrate)&&(bitrate.valueFromGlobal&&!bitrate.valueFromPID||!bitrate.value)&&(bitrate.value=validator.isMobile()?Vendri.setupParams.bitrate.mobileDefault:Vendri.setupParams.bitrate.def,bitrate.valueFromPID=!0),Vendri.setupParams.creatives&&validator.isNotEmpty(Vendri.setupParams.creatives)&&each(Vendri.setupParams.creatives,(function(e,t){"a9-bid"===t.type&&(r=!0)})),r?vAd.a9LibraryLoader(window,document):vAd.a9LibraryRemover(window,document),pidTimerStart(!1),vEvents.setupTriggers(Vendri.setupParams),n?pidChecker():setTimeout((function(){window.dispatchEvent(new CustomEvent("vevt_ready"))}),0),ipv4AddressFetch(),vEvents.fireEvent(window,"vevt_setup_placements",{placementData:Vendri.setupParams.placements})}catch(e){debugPing("Fail On Setup",{message:e},"config")}}function runSetups(){if(!isRunningSetups){isRunningSetups=!0;var e=0,t=function(n){updateGlobalSetup(n),setupsLater[e+1]?t(setupsLater[e+=1]):setupsLater=[]};t(setupsLater[e])}}Vendri=function(e){return setInstance(e)};var incrementTrigger=function(e){var t;for(t=0;t<Vendri.setupParams.triggersSetup.length;t+=1)if(Vendri.setupParams.triggersSetup[t].TRID===e){Vendri.setupParams.triggersSetup[t].ran+=1;break}},dataDoGet=!0,dataTime=newTime(),dataStore={ts:0},dataGetUrl="assets/",dataSeed="v",dataChecker=function(e){e&&e()},pidTimer,pidTimerUrl="https://api.vendri.io/p/",pidSeed="v",prevPti=0,pidTimerStart=function(e){pidTimer&&!e&&prevPti==Vendri.setupParams.pti||(pidTimer&&clearInterval(pidTimer),prevPti=1*Vendri.setupParams.pti,pidTimer=setInterval((function(){pidChecker(!1)}),1e3*Vendri.setupParams.pti*60))},pidChecker=function(cbf){var nnn=cbf?1:2;Object.prototype.hasOwnProperty.call(Vendri.setupParams,"PID")&&Vendri.setupParams.PID?(pidTimerUrl=pidEndpointOverride||"/config/cx-vilos-ads/",pidSeed="ven"+Vendri.setupParams.PID+"Dri",http.ajax2(pidTimerUrl+Vendri.setupParams.PID+".json?nnn="+nnn,(function(mngmtObj){var mngmtJson=JSON.parse(mngmtObj.content),newEvents={},newMap={};if(validator.isNotEmpty(mngmtJson.ts)&&mngmtJson.ts>Vendri.setupParams.ts)try{var d;Object.prototype.hasOwnProperty.call(mngmtJson.setup,"events")&&validator.isNotEmpty(mngmtJson.setup.events)&&(mngmtJson.setup.events=objectToArray(mngmtJson.setup.events),validator.isArray(mngmtJson.setup.events)&&(mngmtJson.setup.vevents=[],each(mngmtJson.setup.events,(function(i,evtObj){Object.prototype.hasOwnProperty.call(evtObj,"name")&&Object.prototype.hasOwnProperty.call(evtObj,"callback")&&(mngmtJson.setup.vevents[evtObj.name]={callbackS:evtObj.callback,callbackF:""},"string"==typeof evtObj.callback&&/^function|^\{/.test(evtObj.callback)&&(evtObj.callback=eval("("+evtObj.callback+")")),newEvents[evtObj.name]=evtObj.callback,mngmtJson.setup.vevents[evtObj.name].callbackF=evtObj.callback)})))),Object.prototype.hasOwnProperty.call(mngmtJson.setup,"maps")&&validator.isNotEmpty(mngmtJson.setup.maps)&&validator.isArray(mngmtJson.setup.maps)&&each(mngmtJson.setup.maps,(function(i,mapObj){var tmp;Object.prototype.hasOwnProperty.call(mapObj,"name")&&Object.prototype.hasOwnProperty.call(mapObj,"callback")&&("string"==typeof mapObj.callback&&(/^function/.test(mapObj.callback)?mapObj.callback=eval("("+mapObj.callback+")"):/(^\{)*:/.test(mapObj.callback)&&(tmp=eval("("+mapObj.callback+")"),validator.isNotEmpty(tmp)&&(mapObj.callback=tmp))),newMap[mapObj.name]=mapObj.callback)})),mngmtJson.setup.platforms=objectToArray(mngmtJson.setup.platforms),Object.prototype.hasOwnProperty.call(mngmtJson.setup,"platforms")&&validator.isNotEmpty(mngmtJson.setup.platforms)&&validator.isArray(mngmtJson.setup.platforms)&&(mngmtJson.setup.triggers=objectToArray(mngmtJson.setup.triggers),validator.isArray(mngmtJson.setup.triggers)&&each(mngmtJson.setup.triggers,(function(e,t){mngmtJson.setup.triggers[e].TRID||(mngmtJson.setup.triggers[e].TRID=e+1),mngmtJson.setup.triggers[e].PLID?mngmtJson.setup.triggers[e].PLIDs=getNumArrayFromUnkown(mngmtJson.setup.triggers[e].PLID):mngmtJson.setup.triggers[e].PLIDs||(mngmtJson.setup.triggers[e].PLIDs=[])})),each(mngmtJson.setup.platforms,(function(e,t){mngmtJson.setup.platforms[e].PFID||(mngmtJson.setup.platforms[e].PFID=e+1),mngmtJson.setup.platforms[e].enabled||(mngmtJson.setup.platforms[e].enabled=!0),mngmtJson.setup.PFID||(mngmtJson.setup.PFID=e+1),mngmtJson.setup.placements=objectToArray(mngmtJson.setup.placements),validator.isArray(mngmtJson.setup.placements)&&each(mngmtJson.setup.placements,(function(t,n){mngmtJson.setup.placements[t].PLID||(mngmtJson.setup.placements[t].PLID=t+1),mngmtJson.setup.placements[t].PFID||(mngmtJson.setup.placements[t].PFID=e+1),mngmtJson.setup.placements[t].enabled||(mngmtJson.setup.placements[t].enabled=!0),mngmtJson.setup.platforms[e].PLIDs||(mngmtJson.setup.platforms[e].PLIDs=[]),mngmtJson.setup.placements[t].PFID&&(mngmtJson.setup.placements[t].PFID=getNumArrayFromUnkown(mngmtJson.setup.placements[t].PFID),each(mngmtJson.setup.placements[t].PFID,(function(e,n){"number"==typeof n&&mngmtJson.setup.platforms[n-1]&&(mngmtJson.setup.platforms[n-1].PLIDs||(mngmtJson.setup.platforms[n-1].PLIDs=[]),-1===vinArray(mngmtJson.setup.platforms[n-1].PLIDs,mngmtJson.setup.placements[t].PLID)&&mngmtJson.setup.platforms[n-1].PLIDs.push(mngmtJson.setup.placements[t].PLID),mngmtJson.setup.placements[t].PFID[e]=!0)}))),mngmtJson.setup.campaigns=objectToArray(mngmtJson.setup.campaigns),validator.isArray(mngmtJson.setup.campaigns)&&each(mngmtJson.setup.campaigns,(function(e,n){mngmtJson.setup.campaigns[e].CPID||(mngmtJson.setup.campaigns[e].CPID=e+1),mngmtJson.setup.campaigns[e].id||(mngmtJson.setup.campaigns[e].id=e+1),mngmtJson.setup.campaigns[e].enabled||(mngmtJson.setup.campaigns[e].enabled=!0),mngmtJson.setup.campaigns[e].updated||(mngmtJson.setup.campaigns[e].updated=newTime()),mngmtJson.setup.campaigns[e].t||(mngmtJson.setup.campaigns[e].t=newTime()),mngmtJson.setup.campaigns[e].start||(mngmtJson.setup.campaigns[e].start=newTime()),mngmtJson.setup.campaigns[e].type||(mngmtJson.setup.campaigns[e].type=""),mngmtJson.setup.campaigns[e].start?"string"==typeof mngmtJson.setup.campaigns[e].start&&(d=getDateFromString(mngmtJson.setup.campaigns[e].start),mngmtJson.setup.campaigns[e].start=d.getTime()):mngmtJson.setup.campaigns[e].start=(new Date).getTime(),mngmtJson.setup.campaigns[e].end?"string"==typeof mngmtJson.setup.campaigns[e].end&&(d=getDateFromString(mngmtJson.setup.campaigns[e].end),mngmtJson.setup.campaigns[e].end=d.getTime()):mngmtJson.setup.campaigns[e].end=0,mngmtJson.setup.placements[t].CPIDs||(mngmtJson.setup.placements[t].CPIDs=[]),mngmtJson.setup.campaigns[e].PLID&&(mngmtJson.setup.campaigns[e].PLID=getNumArrayFromUnkown(mngmtJson.setup.campaigns[e].PLID),each(mngmtJson.setup.campaigns[e].PLID,(function(t,n){"number"==typeof n&&mngmtJson.setup.placements[n-1]&&(mngmtJson.setup.placements[n-1].CPIDs||(mngmtJson.setup.placements[n-1].CPIDs=[]),-1===vinArray(mngmtJson.setup.placements[n-1].CPIDs,mngmtJson.setup.campaigns[e].CPID)&&mngmtJson.setup.placements[n-1].CPIDs.push(mngmtJson.setup.campaigns[e].CPID),mngmtJson.setup.campaigns[e].PLID[t]=!0)}))),mngmtJson.setup.creatives=objectToArray(mngmtJson.setup.creatives),validator.isArray(mngmtJson.setup.creatives)&&each(mngmtJson.setup.creatives,(function(t,n){mngmtJson.setup.creatives[t].CRID||(mngmtJson.setup.creatives[t].CRID=t+1),mngmtJson.setup.creatives[t].id||(mngmtJson.setup.creatives[t].id=t+1),mngmtJson.setup.creatives[t].enabled||(mngmtJson.setup.creatives[t].enabled=!0),mngmtJson.setup.creatives[t].imps||(mngmtJson.setup.creatives[t].imps=0),mngmtJson.setup.creatives[t].updated||(mngmtJson.setup.creatives[t].updated=newTime()),mngmtJson.setup.creatives[t].t||(mngmtJson.setup.creatives[t].t=newTime()),mngmtJson.setup.creatives[t].avgs||(mngmtJson.setup.creatives[t].avgs={instancesPerSec:0,callsPerIn:0,impsPerCa:0}),mngmtJson.setup.creatives[t].limits||(mngmtJson.setup.creatives[t].limits={secs:0,imps:mngmtJson.setup.creatives[t].imps,calls:0}),mngmtJson.setup.creatives[t].state||(mngmtJson.setup.creatives[t].state={instances:0,chosen:0,calls:0,imps:0,secs:0}),mngmtJson.setup.campaigns[e].creatives||(mngmtJson.setup.campaigns[e].creatives=[]),mngmtJson.setup.creatives[t].CPID&&(mngmtJson.setup.creatives[t].CPID=getNumArrayFromUnkown(mngmtJson.setup.creatives[t].CPID),each(mngmtJson.setup.creatives[t].CPID,(function(e,n){"number"==typeof n&&mngmtJson.setup.campaigns[n-1]&&(mngmtJson.setup.campaigns[n-1].creatives||(mngmtJson.setup.campaigns[n-1].creatives=[]),exists(mngmtJson.setup.campaigns[n-1].creatives,mngmtJson.setup.creatives[t].CRID,"CRID")||mngmtJson.setup.campaigns[n-1].creatives.push(mngmtJson.setup.creatives[t]),mngmtJson.setup.creatives[t].CPID[e]=!0)})))}))}))}))}))),validator.isNotEmpty(newEvents)&&(mngmtJson.setup.events=newEvents),validator.isNotEmpty(newMap)&&(mngmtJson.setup.maps=newMap),updateGlobalSetup(mngmtJson.setup)}catch(e){debugPing("config checkSetup error",{message:e},"config")}else debugPing("config checkSetup old timestamp, will not update",{},"config");cbf&&cbf()}),(function(e){debugPing("pidChecker fetch failure",{message:e},"config"),vEvents.fireEvent(window,"vevt_pidfailure",{event:e}),cbf&&cbf()}),Vendri.setupParams,15e3)):cbf&&cbf()};extend(Vendri,{adBlockEnabled:function(){return arguments.length>0&&(adBlockDetected=arguments[0]),adBlockDetected},attributionCreditInspector:function(){return attributionCredits},useExternalRenderer:function(){return arguments.length>0&&(useExternalRenderer=arguments[0]),useExternalRenderer},localIdentifier:generateInstanceId("VLI"),buildTime:newTime(),setupParams:setupParams,ready:function(){return readinessHelper.triggersExist()||readinessHelper.readyForNewPid()},readyForPid:function(){return readinessHelper.triggersExist()||readinessHelper.readyForNewPid()},setup:function(e,t){return readinessHelper.readyForNewPid()?validator.isEmpty(setupsLater)?e&&(e.pidEndpointOverride?(pidEndpointOverride=e.pidEndpointOverride,pidChecker(!1)):pidEndpointOverride="",updateGlobalSetup(e)):(e&&setupsLater.push(e),runSetups()):e&&setupsLater.push(e),setupParams},adBreak:function(e,t,n,r,i){if(readinessHelper.ready()&&t)Vendri({PLID:t}).adBreak(e,n,r,i);else{callStack.reset(),callStack.push("adBreak");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"adBreak"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}return!1},play:function(e,t,n,r){if(readinessHelper.ready()&&t)Vendri({PLID:t}).play(e,n,r);else{callStack.reset(),callStack.push("play");var i={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"play"};vEvents.fireEvent(window,"vnothing",{adEvtObj:i,status:"noop"})}return!1},resume:function(e,t,n,r){if(readinessHelper.ready()&&t)Vendri({PLID:t}).resume(e,n,r);else{callStack.reset(),callStack.push("resume");var i={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"resume"};vEvents.fireEvent(window,"vnothing",{adEvtObj:i,status:"noop"})}return!1},pause:function(e,t){var n,r=!1;if(readinessHelper.ready()){if(e&&e.instanceId&&(n=getInstance(e.instanceId)),!n&&e.type&&"element"===e.type&&e.target){var i=document.getElementById(e.target);i&&i.instanceId&&(n=getInstance(i.instanceId))}if(n)r=n.pause(t);else{callStack.reset(),callStack.push("pause");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"pause"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}}return r},stopLegacy:function(e,t){var n,r=!1;if(readinessHelper.ready()){if(e&&e.instanceId&&(n=getInstance(e.instanceId)),!n&&e.type&&"element"===e.type&&e.target){var i=document.getElementById(e.target);i&&i.instanceId&&(n=getInstance(i.instanceId))}if(n)n.stop(t),r=!0;else{callStack.reset(),callStack.push("stop");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"stop"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}}return r},stop:function(){return Vendri({PLID:1}).stop()},skip:function(e,t){var n,r=!1;if(readinessHelper.ready()){if(e&&e.instanceId&&(n=getInstance(e.instanceId)),!n&&e.type&&"element"===e.type&&e.target){var i=document.getElementById(e.target);i&&i.instanceId&&(n=getInstance(i.instanceId))}if(n)n.skip(t),r=!0;else{callStack.reset(),callStack.push("skip");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"not ready",type:"skip"};vEvents.fireEvent(window,"vnothing",{adEvtObj:a,status:"noop"})}}return r},mute:function(e,t){var n;if(e&&e.instanceId&&(n=getInstance(e.instanceId)),!n&&e.type&&"element"===e.type&&e.target){var r=document.getElementById(e.target);r&&r.instanceId&&(n=getInstance(r.instanceId))}return n&&n.mute(t),Vendri.setupParams.volume=0,vPlayer.volume=Vendri.setupParams.volume},setVolume:function(e,t,n){var r,i=!1;if("number"==typeof n){if(e&&e.instanceId&&(r=getInstance(e.instanceId)),!r&&e.type&&"element"===e.type&&e.target){var a=document.getElementById(e.target);a&&a.instanceId&&(r=getInstance(a.instanceId))}r&&r.setVolume(t,n),Vendri.setupParams.volume=n>=0?n<=1?n:n/100:.7,i=vPlayer.volume=Vendri.setupParams.volume}return i},setFullscreen:function(e,t,n){var r;if(n=!0===n,e&&e.instanceId&&(r=getInstance(e.instanceId)),!r&&e&&e.type&&"element"===e.type&&e.target){var i=document.getElementById(e.target);i&&i.instanceId&&(r=getInstance(i.instanceId))}return r&&r.setFullscreen(t),Vendri.setupParams.autoFullscreen=n,!1},call:function(e,t){},playerReady:function(e){var t=getInstance(e),n=t.flashAdEvtObj;if(vendriTimer.stop(t,"ready"),vendriTimer.start(t,"start",1e3*t.constraints.startTime,(function(){n.status="timeout",n.msg="FLASH "+t.adCreative.adType+" Timeout waiting for AdStarted Event ",n.runTime=newTime()-t.starttime,debugPing("timeout of flash player",n,"timeout"),vEvents.vastEvent("timeout",n,t)})),n.status="start",n.msg="Starting FLASH "+t.adCreative.adType+" Ad",n.runTime=newTime()-t.starttime,vEvents.fireVendriEvent("start",n,t),"vpaid"===t.adCreative.adType)try{t.creative[t.creative.type].adparameters=t.creative[t.creative.type].adparameters||"",t.flashPlayer.loadVPAIDAd(t.adCreative.media.link,vPlayer.volume,t.adCreative.media.width,t.adCreative.media.height,bitrate.value,t.creative[t.creative.type].adparameters,"",t.adSkip.enabled,t.adSkip.duration,t.adSkip.textBefore,t.adSkip.textAfter,t.adSkip.sync,t.mediaDuration)}catch(e){vendriTimer.stop(t,"start"),n.status="error",n.msg="FLASH VPAID Load Error: "+JSON.stringify(e),n.runTime=newTime()-t.starttime,vEvents.vastEvent("error",n,t)}else switch(t.adMediaType){case"swf":try{t.flashPlayer.loadSWFAd(t.adCreative.media.link,t.adCreative.media.width,t.adCreative.media.height,vPlayer.volume,t.mediaDuration,t.adSkip.enabled,t.adSkip.duration,t.adSkip.textBefore,t.adSkip.textAfter,t.adSkip.sync)}catch(e){n.status="error",n.msg="FLASH SWF Load Error: "+JSON.stringify(e),n.runTime=newTime()-t.starttime,vEvents.vastEvent("error",n,t)}break;case"flv":case"video":try{t.flashPlayer.loadFLVAd(t.adCreative.media.link,t.adCreative.media.width,t.adCreative.media.height,vPlayer.volume,t.mediaDuration,t.controls.play,t.controls.volume,t.controls.mute,t.controls.progress,t.adSkip.enabled,t.adSkip.duration,t.adSkip.textBefore,t.adSkip.textAfter,t.adSkip.sync)}catch(e){n.status="error",n.msg="FLASH "+t.adMediaType+" Load Error: "+JSON.stringify(e),n.runTime=newTime()-t.starttime,vEvents.vastEvent("error",n,t)}break;case"audio":try{t.flashPlayer.loadAudioAd(t.adCreative.media.link,t.adCreative.media.width,t.adCreative.media.height,vPlayer.volume,t.mediaDuration,t.controls.play,t.controls.volume,t.controls.mute,t.controls.progress,t.adSkip.enabled,t.adSkip.duration,t.adSkip.textBefore,t.adSkip.textAfter,t.adSkip.sync)}catch(e){n.status="error",n.msg="FLASH Audio Load Error: "+JSON.stringify(e),n.runTime=newTime()-t.starttime,vEvents.vastEvent("error",n,t)}}},adError:function(e){var t=getInstance(e),n=t.flashAdEvtObj;n.status="error",n.msg="Callback AdError",n.runTime=newTime()-t.starttime,vEvents.vastEvent("error",n,t)},updateMaps:function(e){var t=Object.assign(mapsByApi,e);mapsByApi=t},VPAIDEvent:function(e,t,n,r){var i=getInstance(e);"sizeChange"===t&&n&&r&&(i.width=n,i.height=r);var a=i.flashAdEvtObj;a.evtType=t,a.emsg="Callback VPAIDEvent",a.earg1=n||!1,a.earg2=r||!1,a.runTime=newTime()-i.starttime,vEvents.vpaidEvent(t,a,i)},VASTEvent:function(e,t,n,r){var i=getInstance(e),a=i.flashAdEvtObj;a.evtType=t,a.emsg="Callback VASTEvent",a.earg1=n||!1,a.earg2=r||!1,a.runTime=newTime()-i.starttime,vEvents.vastEvent(t,a,i)},SDKEvent:function(e,t,n,r){var i=getInstance(e),a=i.adEvtObj||{},o=newTime();try{i&&i.listenToSDK&&(a.evtType=t,a.emsg="Callback SDKEvent",a.earg1=n||!1,a.earg2=r||!1,a.runTime=o-i.starttime,a.timeToImpression=millisToSecondsTwoPlaces(o-i.slotStartTime),n&&n.mediaDuration?i.mediaDuration=n.mediaDuration:r&&r.mediaDuration&&(i.mediaDuration=r.mediaDuration),vEvents.vastEvent(t,a,i))}catch(e){data.errorEvent=e,debugPing("SDK Error",data,"sdk")}}}),validator={typeUndefined:"undefined",hasProperties:function(e,t){var n;try{if(validator.isObject(e)&&t)if(validator.isArray(t)){var r=t.length,i=0;each(t,(function(t,n){Object.prototype.hasOwnProperty.call(e,n)&&(i+=1)})),r===i&&(n=!0)}else n=Object.prototype.hasOwnProperty.call(e,t)}catch(e){}return n},isDebugMode:function(){return Object.prototype.hasOwnProperty.call(Vendri.setupParams,"debug")&&Vendri.setupParams.debug},isJson:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},isFunction:function(e){try{if(e&&"function"==typeof e)return!0}catch(e){}return!1},isArray:function(e){try{if(e&&Array.isArray(e))return!0}catch(e){}return!1},isObject:function(e){var t;try{if("object"==typeof e&&e)for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0}catch(e){return!1}return!1},isNotEmpty:function(e,t){var n,r=!1;"string"==typeof t&&(r=t);try{if(e){if(validator.isArray(e))return(!r||"array"===r)&&e.length>0;switch(typeof e){case"object":if(!r||"object"===r)for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;break;case"function":if(!r||"function"===r)return!0;break;case"string":if(!r||"string"===r)return""!==e;break;case"number":if(!r||"number"===r)return 0!==e;break;default:if(!r||"number"!==r&&"string"!==r&&"function"!==r&&"object"!==r&&"array"!==r)return!!e}}}catch(e){return!1}return!1},isPluginEnabled:function(e,t){return"object"==typeof t&&"string"==typeof e&&t.hasOwnProperty(e)&&!!t[e].enabled},isEmpty:function(e){return!validator.isNotEmpty(e)},isHtml:function(e){var t=!1;try{t=/</i.test(e)}catch(e){t=!1}return t},isHeightMatch:function(e,t){return Object.prototype.hasOwnProperty.call(t,"height")&&(t.height===e||parseInt(t.height)===e)},isWidthMatch:function(e,t){return Object.prototype.hasOwnProperty.call(t,"width")&&(t.width===e||parseInt(t.width)===e)},isDimention:function(e,t,n){return validator.isHeightMatch(t,n)&&validator.isWidthMatch(e,n)},isStandalone:function(){return window&&Object.prototype.hasOwnProperty.call(window,"navigator")&&window.navigator&&Object.prototype.hasOwnProperty.call(window.navigator,"standalone")&&window.navigator.standalone},isWebOs:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/webos/i.test(t)}catch(t){e=!1}return e},isAndroid:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/android/i.test(t)}catch(t){e=!1}return e},isIOsWebView:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/(iphone|ipod|ipad).*applewebkit(?!.*safari)/i.test(t)}catch(t){e=!1}return e},isAndroidSDK:function(){return window&&window.VendriAndroidApp},isIosSDK:function(){return window&&window.VendriIosApp},isBlackBerry:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/blackberry/i.test(t)}catch(t){e=!1}return e},isIpad:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/ipad/i.test(t)}catch(t){e=!1}return e},isIpod:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/ipod/i.test(t)}catch(t){e=!1}return e},isIphone:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/iphone/i.test(t)}catch(t){e=!1}return e},isMobileOpera:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/opera mini/i.test(t)}catch(t){e=!1}return e},isOpera:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/opera|opr/i.test(t)}catch(t){e=!1}return e},isMobileIe:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/iemobile/i.test(t)}catch(t){e=!1}return e},isWindowsPhone:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/windows phone/i.test(t)}catch(t){e=!1}return e},isIE:function(){var e=!1;try{var t=Function("/*@cc_on return document.documentMode@*/")(),n=userAgent.toLowerCase();e=t&&"number"==typeof t?t:/trident/i.test(n)&&/rv 11/i.test(n)?11:/android/i.test(n)&&/12/.test(n)?12:-1!=n.indexOf("msie")&&parseInt(n.split("msie")[1])}catch(t){e=!1}return e},isChrome:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/chrome/i.test(t)}catch(t){e=!1}return e},isSafari:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/safari/i.test(t)&&!/chrome/i.test(t)}catch(t){e=!1}return e},isFirefox:function(){var e=!1;try{var t=userAgent.toLowerCase();e=/firefox/i.test(t)}catch(t){e=!1}return e},isMobile:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substring(0,4)))&&(e=!0)}(userAgent),e},isIos:function(){return validator.isIpad()||validator.isIphone()||validator.isIpod()},isMobileWindows:function(){return validator.isMobileIe()||validator.isWindowsPhone()},isCorsDevice:function(){var e=validator.isIE();return!(e&&e<=9)},isTablet:function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substring(0,4)))&&(e=!0)}(userAgent),validator.isMobile()&&!e},isPhone:function(){return validator.isMobile()&&!validator.isTablet()},isHtml5AudioSafe:function(){return!(validator.isIE&&validator.isIE<=8)},hasActiveX:function(){return validator.isIE&&typeof ActiveXObject!==validator.typeUndefined},hasScoper:function(){return!!Object.prototype.hasOwnProperty.call(document.createElement("style"),"scoped")},hasHtml5AudioObject:function(){var e,t=!1;try{t=(e=new Audio)&&e.canPlayType}catch(n){try{t=(e=document.createElement("audio"))&&e.canPlayType}catch(e){t=!1}}return e=null,t},hasHtml5VideoObject:function(){var e,t=!1;try{t=(e=new Video)&&e.canPlayType}catch(n){try{t=(e=document.createElement("video"))&&e.canPlayType}catch(e){t=!1}}return e=null,t},isFlashSafe:function(){var e,t,n="";function r(e){return(e=e.match(/[\d]+/g)).length=3,e.join(".")}if(navigator.plugins&&navigator.plugins.length){var i=navigator.plugins["Shockwave Flash"];i&&i.description&&(n=r(i.description),e=!0,navigator.plugins["Shockwave Flash 2.0"]&&(n="2.0.0.11"))}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var a=navigator.mimeTypes["application/x-shockwave-flash"];a.enabledPlugin&&(e=a,n=r(a.enabledPlugin.description))}else try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),e=!0,n=r(t.GetVariable("$version"))}catch(i){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=!0,n="6.0.21"}catch(i){try{t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=!0,n=r(t.GetVariable("$version"))}catch(e){}}}return t=null,!!e&&n},isObjectValue:function(e,t){var n=!1;try{if("object"===typeof e&&"object"===typeof t&&validator.isNotEmpty(e)&&validator.isNotEmpty(t))if(validator.hasProperties(t,["name","sign","value"]))switch(t.sign){case"=":n="function"==typeof e[t.name]?e[t.name](e)===t.value:e[t.name]===t.value;break;case">=":n="function"==typeof e[t.name]?e[t.name](e)>=t.value:e[t.name]>=t.value;break;case"<=":n="function"==typeof e[t.name]?e[t.name](e)<=t.value:e[t.name]<=t.value;break;case">":n="function"==typeof e[t.name]?e[t.name](e)>t.value:e[t.name]>t.value;break;case"<":n="function"==typeof e[t.name]?e[t.name](e)<t.value:e[t.name]<t.value}else each(t,(function(t,r){"object"==typeof e[t]&&"object"==typeof r?each(r,(function(r,i){n="function"==typeof e[t][r]?e[t][r](e)===i:e[t][r]===i})):n="function"==typeof e[t]?e[t](e)===r:e[t]===r}));else n=!0}catch(e){n=!1}return n},isGoodDeviceForA9Api:function(e){return"object"==typeof e&&e.hasOwnProperty("app")&&e.hasOwnProperty("ip")&&"string"==typeof e.ip&&e.ip.length>0&&e.hasOwnProperty("locale")&&"string"==typeof e.locale&&e.locale.length>0},isGoodInstanceForA9Api:function(e){return e&&e.hasOwnProperty("creatives")&&Array.isArray(e.creatives)&&0!==e.creatives.length&&e.hasOwnProperty("tag")&&"string"==typeof e.tag&&e.tag.length>0&&"number"==typeof e.tagPosition&&void 0!==e.creatives[e.tagPosition]&&e.creatives[e.tagPosition].hasOwnProperty("slotId")&&e.creatives[e.tagPosition].hasOwnProperty("appId")&&e.creatives[e.tagPosition].hasOwnProperty("domain")&&bidders&&"object"==typeof bidders.a9&&Array.isArray(bidders.a9.timers)},isGoodTargetSize:function(e){return e&&e.hasOwnProperty("clientWidth")&&e.hasOwnProperty("clientHeight")&&"number"==typeof e.clientWidth&&"number"==typeof e.clientHeight},isGoodDeviceOrientation:function(e){return"object"==typeof e&&e.hasOwnProperty("orientation")&&"string"==typeof e.orientation},isA9ApiResponseUsable:function(e){var t=!1;try{t="object"==typeof e&&Array.isArray(e.seatbid)&&e.seatbid.length>0&&Array.isArray(e.seatbid[0].bid)&&e.seatbid[0].bid.length>0&&e.seatbid[0].bid[0].hasOwnProperty("ext")&&e.seatbid[0].bid[0].ext.hasOwnProperty("targeting")&&e.seatbid[0].bid[0].ext.targeting.hasOwnProperty("amznslots")&&e.seatbid[0].bid[0].ext.targeting.hasOwnProperty("creativeURL")&&Array.isArray(e.seatbid[0].bid[0].ext.targeting.amznslots)&&e.seatbid[0].bid[0].ext.targeting.amznslots.length>0&&Array.isArray(e.seatbid[0].bid[0].ext.targeting.creativeURL)&&e.seatbid[0].bid[0].ext.targeting.creativeURL.length>0}catch(e){t=!1}return t},isGoodIpResponse:function(e){return"object"==typeof e&&e.hasOwnProperty("clientIp")&&"string"==typeof e.clientIp&&e.clientIp.length>0},isPrefetchInstance:function(e){return Object.prototype.hasOwnProperty.call(e,"triggerResultVal")&&this.isNotEmpty(e.triggerResultVal)&&Object.prototype.hasOwnProperty.call(e.triggerResultVal,"type")&&"prefetch"===e.triggerResultVal.type&&Object.prototype.hasOwnProperty.call(e.triggerResultVal,"breakIndex")&&"number"==typeof e.triggerResultVal.breakIndex},isNormalInstance:function(e){return Object.prototype.hasOwnProperty.call(e,"triggerResultVal")&&this.isNotEmpty(e.triggerResultVal)&&Object.prototype.hasOwnProperty.call(e.triggerResultVal,"type")&&"normal"===e.triggerResultVal.type},isGoodCreativeObject:function(e){return this.isArray(e.creatives)&&"number"==typeof e.tagPosition&&e.creatives[e.tagPosition]?e.creatives[e.tagPosition]:null},isAttributor:function(e,t){var n;return(t&&Array.isArray(t)?t:[]).forEach((function(t){t.name===e&&(n=t)})),n},isSpecialEvent:function(e,t){return!!Vendri.setupParams.specialEvents&&Vendri.setupParams.specialEvents.filter((function(n){return n.event==e&&n.adNetwork==t})).length>0}},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=this,i=r.length>>>0;if(0===i)return-1;var a=+t||0;if(Math.abs(a)===1/0&&(a=0),a>=i)return-1;for(n=Math.max(a>=0?a:i-Math.abs(a),0);n<i;){if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n;n+=1}return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var Handler=function(e,t,n,r){this.onFulfilled=validator.isFunction(e)?e:null,this.onRejected=validator.isFunction(t)?t:null,this.resolve=n,this.reject=r},head={task:validator.typeUndefined,next:null},tail=head,flushing=!1,flush=function(){for(var e;head.next;){e=(head=head.next).task,head.task=void 0;try{e()}catch(e){}}flushing=!1},requestFlush=function(){setTimeout(flush,0)},asap=function(e){tail=tail.next={task:e,domain:!1,next:null},flushing||(flushing=!0,requestFlush())};Vendri.Promise=function(e){if(validator.isFunction(e)){var t,n,r,i,a,o=null,s=null,u=[],c=this;this.then=function(e,t){return new c.constructor((function(n,r){a(new Handler(e,t,n,r))}))},a=function(e){null!==o?asap((function(){var t=o?e.onFulfilled:e.onRejected;if(null!==t){var n;try{n=t(s)}catch(t){return void e.reject(t)}e.resolve(n)}else(o?e.resolve:e.reject)(s)})):u.push(e)},i=function(e){try{if(e===c)return;if(e&&("object"==typeof e||validator.isFunction(e))){var a=e.then;if(validator.isFunction(a))return void t(a.bind(e),i,r)}o=!0,s=e,n()}catch(e){r(e)}},r=function(e){o=!1,s=e,n()},n=function(){var e,t;for(e=0,t=u.length;e<t;e+=1)a(u[e]);u=null},(t=function(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(e){if(r)return;r=!0,n(e)}})(e,i,r)}};var ValuePromise=function(e){this.then=function(t){return validator.isFunction(t)?new Vendri.Promise((function(n,r){asap((function(){try{n(t(e))}catch(e){r(e)}}))})):this}};ValuePromise.prototype=Vendri.Promise.prototype;var TRUE=new ValuePromise(!0),FALSE=new ValuePromise(!1),NULL=new ValuePromise(null),UNDEFINED=new ValuePromise(void 0),ZERO=new ValuePromise(0),EMPTYSTRING=new ValuePromise("");Vendri.Promise.resolve=function(e){if(e instanceof Vendri.Promise)return e;if(null===e)return NULL;if(void 0===e)return UNDEFINED;if(!0===e)return TRUE;if(!1===e)return FALSE;if(0===e)return ZERO;if(""===e)return EMPTYSTRING;if("object"==typeof e||validator.isFunction(e))try{var t=e.then;if(validator.isFunction(t))return new Vendri.Promise(t.bind(e))}catch(e){return new Vendri.Promise((function(t,n){n(e)}))}return new ValuePromise(e)},Vendri.Promise.all=function(e){var t=Array.prototype.slice.call(e);return new Vendri.Promise((function(e,n){var r;if(0===t.length)return e([]);var i=t.length;function a(r,o){try{if(o&&("object"==typeof o||validator.isFunction(o))){var s=o.then;if(validator.isFunction(s))return void s.call(o,(function(e){a(r,e)}),n)}t[r]=o,0===(i-=1)&&e(t)}catch(e){n(e)}}for(r=0;r<t.length;r+=1)a(r,t[r])}))},Vendri.Promise.reject=function(e){return new Vendri.Promise((function(t,n){n(e)}))},Vendri.Promise.race=function(e){return new Vendri.Promise((function(t,n){e.forEach((function(e){Vendri.Promise.resolve(e).then(t,n)}))}))},Vendri.Promise.prototype.catcherr=function(e){return this.then(null,e)},validator.isFunction(Vendri.Promise.prototype.done)||(Vendri.Promise.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,(function(e){setTimeout((function(){throw e}),0)}))});var VXMLDOMParser=function(){var e=document.implementation;this.parserType=null,this.onload=new Function("return false"),this.onerror=new Function("return false"),this.xmlDoc=null,e&&e.hasFeature&&e.hasFeature("LS","3.0")&&e.createLSParser&&2==e.MODE_ASYNCHRONOUS?this.parserType="DOM3":e&&e.createDocument?this.parserType="DOM2":window.ActiveXObject&&(this.parserType="ActiveX")},nodeIsTextOrComment,nodeNotTextOrComment,notTextNode,charToEntityRegex,entityToCharRegex,charToEntity,entityToChar,addCharacterEntities,preferredTypeMatch,preferredDeliveryTypeMatch,exactMatch,rateMatch,setupAds,playAds,getAds,adVASTCall,loopWrappers,findMatchingCompanion,setupSrcElement,companionScriptFix,setupSwfElement,setupStaticCompanion,setupIframeCompanion,setupHtmlCompanion,placeCompanion;VXMLDOMParser.prototype.load=function(e){var t=this,n=document.implementation;try{if("DOM3"==this.parserType){var r=document.implementation.createLSParser(2,null);r.addEventListener("load",(function(e){var n=e.newDocument;t.onload(n)}),!1),r.parseURI(e)}else"DOM2"==this.parserType?(t.xmlDoc=n.createDocument("","",null),t.xmlDoc.onload=function(){t.onload(t.xmlDoc)},t.xmlDoc.load(e)):window.ActiveXObject&&(t.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),t.xmlDoc.onreadystatechange=function(){4==t.xmlDoc.readyState&&t.onload(t.xmlDoc)},t.xmlDoc.load(e))}catch(e){t.onerror(e)}},nodeIsTextOrComment=function(e){var t;try{t=/comment|text/i.test(e.nodeName)}catch(e){t=!1}return t},nodeNotTextOrComment=function(e){return e&&e.nodeName&&!nodeIsTextOrComment(e)},notTextNode=function(e){return e&&validator.isNotEmpty(e.childNodes)&&eachNode(e.childNodes,(function(t,n){nodeIsTextOrComment(n)&&e.removeChild(n)})),e},parser={conditionMapper:function(e,t){var n=!0;try{each(e,(function(e,r){n&&validator.isNotEmpty(r)&&(validator.hasProperties(r,"operand")||(n=validator.isObjectValue(t,r)||validator.isObjectValue(t.mapped,r)))}))}catch(e){}return n},parseXML:function(e){try{if(!window.DOMParser){var t;if(!(t=function(){if("undefined"!=typeof ActiveXObject)for(var e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}return null}()))return!1;t.loadXML(e);var n=null;return t.parseError&&0!=t.parseError.errorCode?n="XML Parsing Error: "+t.parseError.reason+" at line "+t.parseError.line+" at position "+t.parseError.linepos:t.documentElement?"parsererror"==t.documentElement.nodeName&&(n=t.documentElement.childNodes[0].nodeValue):n="XML Parsing Error!",!n&&t.documentElement}if((t=(new window.DOMParser).parseFromString(e,"text/xml")).childNodes&&t.childNodes.length&&Object.prototype.hasOwnProperty.call(t.childNodes[0],"firstChild")&&"parsererror"===t.childNodes[0].firstChild.nodeName)return}catch(e){return void debugPing("parseXML error",{message:e},"xml")}return t},parseUrlQuery:function(e,t,n,r){var i,a,o,s,u,c={query:{},macros:{}};try{var l,d=/\+/g,f=/([^&|;=]+)=?([^&|;]*)/g,p=/(\{*\}*)(\[*\]*)(\(*\)*)/g,h=function(e){return e.replace(d," ")},v=t.replace(/=%%/g,"={").replace(/%%/g,"}");if(n)c.mappedQuery=t+"",/\?PID\=/.test(t)?(/\&setup\=/.test(t)&&(i=t.substring(t.indexOf("&setup=")+7),t=t.substring(0,t.indexOf("&setup=")),c.query.setup=decodeURIComponent(i)),a=t.substring(t.indexOf("?PID=")+5),c.query.PID=a):/\?setup\=/.test(t)?(/\&PID\=/.test(t)&&(i=t.substring(t.indexOf("&PID=")+5),t=t.substring(0,t.indexOf("&PID=")),c.query.PID=i),a=t.substring(t.indexOf("?setup=")+7),c.query.setup=decodeURIComponent(a)):/\?\{/.test(t)&&(i=t.substring(t.indexOf("?{")+1),c.query.setup=decodeURIComponent(i));else{try{u=decodeURI(v.substring(1))}catch(e){u=v.substring(1)}function m(e){return e.replace(p,"")}for(c.mappedQuery=u+"";l=f.exec(u);){if(i=h(l[1]),(a=h(l[2]))&&"string"==typeof a)if(/^\(|\[/.test(a))s="["+(o=m(a))+"]",r&&vinArray(["a9_amzniid","a9_amznbid","a9_amznp","a9_slotID","a9_mediaType","a9_r_amznbid","a9_r_amzniid","a9_r_amznp","a9_qsParams","a9_encodedQsParams"],o)>-1&&e.bids.a9&&e.bids.a9[0]&&e.bids.a9[0][o.substring(3)]?c.macros[o]=e.bids.a9[0][o.substring(3)]:c.macros[o]=e[o]||0===e[o]?e[o]:a,c.mappedQuery=c.mappedQuery.replace(a,c.macros[o]),a=s;else if(/^\{/.test(a))try{a=JSON.parse(a)}catch(t){s="["+(o=m(a))+"]",r&&vinArray(["a9_amzniid","a9_amznbid","a9_amznp","a9_slotID","a9_mediaType","a9_r_amznbid","a9_r_amzniid","a9_r_amznp","a9_qsParams","a9_encodedQsParams"],o)>-1&&e.bids.a9&&e.bids.a9[0]&&e.bids.a9[0][o.substring(3)]?c.macros[o]=e.bids.a9[0][o.substring(3)]||a:c.macros[o]=e[o]||0===e[o]?e[o]:a,c.mappedQuery=c.mappedQuery.replace(a,c.macros[o]),a=s}c.query[i]=a}}}catch(e){}return c},parseDomURL:function(e,t,n,r){var i,a,o,s={};if(s.original=t,s.port="",n)o=parser.parseUrlQuery(e,t,n,r),s.query=o.query;else{if(validator.isEmpty(t))return s;try{a=new A}catch(e){try{a=document.createElement("a")}catch(e){return s}}try{a.href=decodeURI(t)}catch(e){a.href=t}switch(s.domain=a.hostname,s.protocol=a.protocol.replace(/:/,""),s.port=a.port,s.path=a.pathname,o=parser.parseUrlQuery(e,a.search,n,r),s.query=o.query,s.macros=o.macros,s.mappedQuery=o.mappedQuery,s.hash=a.hash,(i=a.host.split(".")).length){case 1:break;case 2:s.subdomain="",s.host=i[0],s.tld=i[1];break;case 3:s.subdomain=i[0],s.host=i[1],s.tld=i[2];break;default:s.subdomain=i[0],s.host=i[1],s.tld=i.splice(2).join(".")}s.parent_domain=s.host+"."+s.tld;var u=s.port?":"+s.port:"";/^\//.test(s.path)||(u+="/"),s.href=s.protocol+"://"+s.domain+u+s.path,s.mappedQuery=s.mappedQuery.replace(/\[\\%22/g,"%5B%22").replace(/\\%22\]/g,"%22%5B"),s.mappedQuery=s.mappedQuery.replace(/=%22\{[^?]}%22/g,(function(e,t){return t.replace(/=%22\{/g,"{").replace(/}%22/g,"}")})),s.mappedUrl=s.href+"?"+s.mappedQuery,a=null}return s},parseURL:function(e){var t,n,r,i,a,o={};if(o.original=e,o.port="",validator.isEmpty(e))return o;switch(/^\.\//.test(o.original),/^\/\//.test(o.original)||/^\//.test(o.original),-1!==(r=e.indexOf("://"))?(o.protocol=e.substring(0,r),t=e.substring(r+3,e.length)):(o.protocol="https:"===location.protocol?"https":"http",o.path=o.domain=t=e),-1!==(n=t.indexOf("/"))&&(o.domain=t.substring(0,n),o.path=t.substring(n+1,t.length)),-1!==(a=o.domain.indexOf(":"))&&(o.port=t.substring(a+1,o.domain.length),o.domain=o.domain.substring(0,a)),1===(i=o.domain.split(".")).length&&(o.domain=location.hostname,i=o.domain.split("."),o.path=e,o.port=location.port),i.length){case 1:break;case 2:o.subdomain="",o.host=i[0],o.tld=i[1];break;case 3:o.subdomain=i[0],o.host=i[1],o.tld=i[2];break;default:o.subdomain=i[0],o.host=i[1],o.tld=i.splice(2).join(".")}o.parent_domain=o.host+"."+o.tld;var s=o.port?":"+o.port:"";return o.href=o.protocol+"://"+o.domain+s+"/"+o.path,o},parseVast:function(e){var t;return e&&e.childNodes&&e.childNodes.length&&(t=validator.isCorsDevice()?applyAttributes({xml:notTextNode(e.childNodes[0]),ads:[]},e.childNodes[0].attributes):applyAttributes({xml:notTextNode(e),ads:[]},e.attributes),eachNode(t.xml.childNodes,(function(e,n){var r,i,a;"ad"===n.nodeName.toLowerCase()&&((r=applyAttributes({xml:notTextNode(n)},n.attributes)).type=i=r.xml.childNodes[0].nodeName.toLowerCase(),a=r[i]=applyAttributes({xml:notTextNode(r.xml.childNodes[0]),impressions:[],creatives:[]},r.xml.childNodes[0].attributes),eachNode(a.xml.childNodes,(function(e,t){var n=t.nodeName.toLowerCase();switch(n){case"advertiser":case"survey":case"error":case"pricing":case"extensions":break;case"creatives":eachNode(t.childNodes,(function(e,t){var n,r,i;if(nodeNotTextOrComment(t)){switch(validator.isCorsDevice()?n=applyAttributes(extend(notTextNode(t),{type:""}),t.attributes):(n=applyAttributes({meself:notTextNode(t),type:""},t.attributes)).childNodes=n.meself.childNodes,r=n.childNodes.length?n.childNodes[0]:n.childNodes,i=r.nodeName.toLowerCase()){case"companionads":n.type="companions",n[i]={companions:[]},eachNode(r.childNodes,(function(e,t){var r;nodeNotTextOrComment(t)&&(r=applyAttributes({xml:notTextNode(t),trackingevents:[]},t.attributes),eachNode(r.xml.childNodes,(function(e,t){var n,i=t.nodeName.toLowerCase();switch(i){case"htmlresource":n=applyAttributes({xml:notTextNode(t),type:i,link:nodeTextContentCleaned(t)},t.attributes),r[i]=n,r.type=i;break;case"staticresource":case"iframeresource":n=applyAttributes({type:i,link:nodeTextContentCleaned(t)},t.attributes),r[i]=n,r.type=i;break;case"companionclickthrough":case"companionclicktracking":n=applyAttributes({type:i,link:nodeTextContentCleaned(t)},t.attributes),r[i]=n;break;case"trackingevents":eachNode(t.childNodes,(function(e,t){var n;nodeNotTextOrComment(t)&&((n=applyAttributes({called:0,link:nodeTextContentCleaned(t)},t.attributes)).event=n.event.toLowerCase(),r.trackingevents.push(n))}))}})),n[i].companions.push(r))}));break;case"linear":n.type="linear",n[i]={duration:0,adparameters:"",videoclicks:[],trackingevents:[],mediafiles:[],icons:[]},eachNode(r.childNodes,(function(e,t){var r,a;if(nodeNotTextOrComment(t))switch(t.nodeName.toLowerCase()){case"duration":n[i].duration=nodeTextContentCleaned(t);break;case"adparameters":try{r=nodeTextContentCleaned(t,/<\?xml.*?>/),a=decodeURIComponent(r),n[i].adparameters=a}catch(e){n[i].adparameters=nodeTextContentCleaned(t,/<\?xml.*?>/),debugPing("adparamters parse error",{message:e},"xml")}break;case"videoclicks":eachNode(t.childNodes,(function(e,t){var r;nodeNotTextOrComment(t)&&(r=applyAttributes({type:t.nodeName.toLowerCase(),link:nodeTextContentCleaned(t)},t.attributes),n[i].videoclicks.push(r))}));break;case"trackingevents":eachNode(t.childNodes,(function(e,t){var r;nodeNotTextOrComment(t)&&((r=applyAttributes({called:0,link:nodeTextContentCleaned(t)},t.attributes)).event=r.event.toLowerCase(),n[i].trackingevents.push(r))}));break;case"mediafiles":eachNode(t.childNodes,(function(e,t){var r;nodeNotTextOrComment(t)&&((r=applyAttributes({called:0,link:nodeTextContentCleaned(t)},t.attributes)).type&&(r.fileType=fileTyper(r.type,r.link),r.mimeType=r.type),"audio"===r.fileType&&(r.height=0,r.width=0),n[i].mediafiles.push(r))}));break;case"icons":eachNode(t.childNodes,(function(e,t){var r;nodeNotTextOrComment(t)&&(r=applyAttributes({xml:notTextNode(t),trackingevents:[]},t.attributes),eachNode(r.xml.childNodes,(function(e,t){var n,i=t.nodeName.toLowerCase();switch(i){case"htmlresource":n=applyAttributes({xml:notTextNode(t),type:i,link:nodeTextContentCleaned(t)},t.attributes),r[i]=n;break;case"staticresource":case"iframeresource":case"iconclickthrough":case"iconclicktracking":n=applyAttributes({link:nodeTextContentCleaned(t)},t.attributes),r[i]=n;break;case"iconviewtracking":eachNode(t.childNodes,(function(e,n){var i;nodeNotTextOrComment(n)&&((i=applyAttributes({called:0,link:nodeTextContentCleaned(n)},t.attributes)).event=i.event.toLowerCase(),r.trackingevents.push(i))}))}})),n[i].icons.push(r))}))}}))}a.creatives.push(n)}}));break;case"impression":a.impressions.push(nodeTextContentCleaned(t));break;default:a[n]=nodeTextContentCleaned(t)}})),t.ads.push(r))}))),t}},http={isCrossdomain:function(e){return e&&e.indexOf("://")>=0&&e.split("/")[2]!==window.location.href.split("/")[2]},isKnownDomain:function(e){var t,n={domain:e.parent_domain,AJAX:!0,COOKIE:!0,JSONP:!0};for(t=0;t<knownDomains.length;t+=1)if(knownDomains[t].domain==e.parent_domain||knownDomains[t].domain==e.domain)return knownDomains[t];return n},hasContentDesired:function(e,t,n){var r,i=!1;try{if(t.xml&&n)switch(e){case"xml":case"html":case"xhtml":try{r=t.xml.getElementsByTagName(n)}catch(e){}if(!r)try{r=t.xml.getElementsByTagName(n.toLowerCase())}catch(e){}(i=validator.isNotEmpty(r)&&r.length>0)||!t.str||"string"!=typeof t.str||-1===t.str.indexOf("<"+n)&&-1===t.str.indexOf("<"+n.toLowerCase())||(i=!0);break;case"json":i=validator.isJson(t.xml)}}catch(e){}return i},abortAjax:function(e){if(e&&Object.prototype.hasOwnProperty.call(e,"abort"))try{e.abort()}catch(e){}},buildAjaxRequest:function(e,t,n,r,i){var a={},o=function(a){if(e){if(i)return void t({xml:"",str:a.responseText||a.response});var o,s,u;try{if((o=a.responseXML)&&(u=o.firstChild,o.lastChild&&"parsererror"===o.lastChild.nodeName))return void n("parsererror")}catch(e){}if(o&&u)return void t({xml:o,str:s=a.responseText||a.response});try{if(s=a.responseText||a.response){try{if(validator.isJson(s))return void t({xml:s,str:s})}catch(e){}var c=parser.parseXML(s);return c&&c.firstChild?void t({xml:c,str:s}):void n("parsererror")}debugPing("buildAjaxRequest error",{xmldocpath:r},"fetch"),n("parsererror")}catch(e){n(e)}}else t({xml:!1,str:""})};try{exists(window,"XDomainRequest")?(a=new window.XDomainRequest).onload=function(){o(a)}:(a=new window.XMLHttpRequest).onreadystatechange=function(){4===a.readyState&&(a.status>=200&&a.status<=299?o(a):a.status>=400&&(http.abortAjax(a),n("Response Error: "+a.status)))},a.ontimeout=function(){http.abortAjax(a),n("timeout")},a&&device.isIE&&device.isIE<=9&&a.overrideMimeType&&a.overrideMimeType("text/plain"),a.onerror=function(e){n("error")}}catch(e){http.abortAjax(a),n(e)}return a},ajax2:function(e,t,n,r,i,a,o){var s={COOKIE:!1,AJAX:!1,JSONP:!1},u=parser.parseDomURL(r.mapped,e,!1,r);e=""+u.mappedUrl,r.populatedTag=""+u.mappedUrl,i=i||3e3;var c,l=0,d=0,f="COOKIE",p=!!t,h=exists(window,"XDomainRequest"),v=exists(window,"XMLHttpRequest"),m=h||v||!1,g=function(){var t=!1;return new Vendri.Promise((function(n,a){var o=setTimeout((function(){t=!0,a("timeout")}),i);setTimeout((function(){var i;try{if(i=e,p){var s="jp_"+r.instanceId+"_"+Date.now();i=http.updateQueryStringParameter(e,"callback","Vendri."+s),Vendri[s]=function(e){t||(clearTimeout(o),n(e))}}var u=document.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,document.body.appendChild(u)}catch(e){clearTimeout(o),a(e)}}),0)}))},y=function(){return new Vendri.Promise((function(t,n){var r=http.buildAjaxRequest(p,t,n,e,a);try{r.open("GET",e),r.timeout=i,r.send()}catch(e){http.abortAjax(r),n(e)}}))},b=function(){return new Vendri.Promise((function(t,n){var r=http.buildAjaxRequest(p,t,n,e,a);try{r.open("GET",e),r.timeout=i,r.send()}catch(e){http.abortAjax(r),n(e)}}))};c=o||http.isKnownDomain(u);var _,A={methodsUsable:(_={AJAX:!1,COOKIE:!1,JSONP:!1},p?m?(_.AJAX=y,f="AJAX",l+=1,c.COOKIE&&http.isCrossdomain(e)&&(device.isCorsDevice?(_.COOKIE=b,f="COOKIE",l+=1,_.AJAX=!1,l-=1):_.COOKIE=!1)):c.JSONP&&(_.JSONP=g,f="JSONP",l+=1):(m?(_.AJAX=y,f="AJAX",http.isCrossdomain(e)&&device.isCorsDevice&&c.COOKIE&&(_.AJAX=!1,_.COOKIE=b,f="COOKIE")):c.JSONP&&(_.JSONP=g,f="JSONP"),l=1),_)};function S(i){try{var o=new CustomEvent("vendri_finish_up");window.dispatchEvent(o)}catch(e){}var s,u,c,p,h,v="error not wrapper or media",m={content:!1,type:!1,method:""},g=!1;each(i,(function(e,t){var n=!1,r=!1;if(a)v="any",m={content:t,type:"any",method:e},g=!0;else if(t&&t.xml)if(n=http.hasContentDesired("xml",t,"MediaFile")){for(v="media",m={content:t.xml,type:"media",method:e},s=[],c=0;c<n.length;c+=1)(u=applyAttributes({},n[c])).link=nodeTextContentCleaned(n[c]),u.mimeType=u.type,u.fileType=fileTyper(u.mimeType,u.link),s.push(u);if(device.mediaSupportedOnDevice.any(s)&&(g=!0,f===e))return v="prefmedia",!1}else r=http.hasContentDesired("xml",t,"VASTAdTagURI"),!g&&r?(v="wrapper",m={content:t.xml,type:"wrapper",method:e},g=!0):r&&"wrapper"===m.type?f===e&&(v="prefwrapper",m={content:t.xml,type:"wrapper",method:e},g=!0):http.hasContentDesired("json",t,!0)&&(v="json",m={content:t.xml,type:"json",method:e},g=!0)})),g?(h=m,t&&t(h,r)):(p={tag:r.tag?r.tag.toString():"",xmldocpath:e,retry:r.retries?r.retries.toString():"",adSlotPosition:r.adSlotPosition?1*r.adSlotPosition:"",adBreakType:r.adBreakType?r.adBreakType.toString():"",adSlots:r.adSlots?1*r.adSlots:"",fallback:r.fallbacks?r.fallbacks.toString():"",tagPosition:"number"==typeof r.tagPosition?r.tagPosition.toString():"",totalTags:r.totalTags?r.totalTags.toString():"",instanceId:r.instanceId?r.instanceId.toString():"",methodsRan:d,totalMethods:l,preferredMethod:f,chosenMethod:m.method,responseType:m.type,version:r.version?r.version:"",msg:"Nothing we can use in the "+d+" response(s) and we attempted "+l+" methods",runTime:r.version?newTime()-r.starttime:newTime(),status:v},n&&n(p,r)),vEvents.fireVendriEvent("method",{tag:r.tag?r.tag.toString():"",xmldocpath:e,retry:r.retries?r.retries.toString():"",adSlotPosition:r.adSlotPosition?1*r.adSlotPosition:"",adBreakType:r.adBreakType?r.adBreakType.toString():"",adSlots:r.adSlots?1*r.adSlots:"",fallback:r.fallbacks?r.fallbacks.toString():"",tagPosition:"number"==typeof r.tagPosition?r.tagPosition.toString():"",totalTags:r.totalTags?r.totalTags.toString():"",instanceId:r.instanceId?r.instanceId.toString():"",methodsRan:d,totalMethods:l,preferredMethod:f,chosenMethod:m.method,responseType:m.type,version:r.version?r.version:"",msg:"Found a usable response",runTime:r.version?newTime()-r.starttime:newTime(),status:v},r)}function E(e){p&&(d+=1)>=l&&S(s)}function w(e){var t;return a?t=!0:(t=http.hasContentDesired("xml",e,"Ad"))||(t=http.hasContentDesired("json",e,!0)),t}setTimeout((function(){A.methodsUsable.COOKIE&&A.methodsUsable.COOKIE().then((function(e){w(e)&&(s.COOKIE=e),E()})).catcherr((function(e){E()}))}),0),setTimeout((function(){A.methodsUsable.AJAX&&A.methodsUsable.AJAX().then((function(e){w(e)&&(s.AJAX=e),E()})).catcherr((function(e){E()}))}),0),setTimeout((function(){A.methodsUsable.JSONP&&A.methodsUsable.JSONP().then((function(e){w(e)&&(s.JSONP=e),E()})).catcherr((function(e){E()}))}),0)},updateQueryStringParameter:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+i+t+"="+n},htmlEnDeCode:(addCharacterEntities=function(e){var t,n,r=[],i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n=e[t],entityToChar[t]=n,charToEntity[n]=t,r.push(n),i.push(t));charToEntityRegex=new RegExp("("+r.join("|")+")","g"),entityToCharRegex=new RegExp("("+i.join("|")+"|&#[0-9]{1,5};)","g")},charToEntity={},entityToChar={},addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"}),{htmlEncode:function(e){return e?String(e).replace(charToEntityRegex,(function(e,t){return charToEntity[t]})):e},htmlDecode:function(e){return e?String(e).replace(entityToCharRegex,(function(e,t){return Object.prototype.hasOwnProperty.call(entityToChar,t)?entityToChar[t]:String.fromCharCode(parseInt(t.substring(2),10))})):e}}),fireAndForget:function(e,t,n){n=n||1e4,setTimeout(function(t){return function(){var n=parser.parseDomURL(t.mapped,e,!1,t).mappedUrl;(new Image).src=n}}(t),0)}},function(){vEvents={fireTrackingEvent:function(e,t,n){var r,i=[];e=e.toLowerCase();try{if(Object.prototype.hasOwnProperty.call(t,"trackingevents")&&validator.isArray(t.trackingevents))for(i=t.trackingevents,r=0;r<i.length;r+=1)i[r].event===e&&(http.fireAndForget(i[r].link,n),i[r].called+=1)}catch(e){}},fireInstanceEvent:function(e,t,n){try{device.isAndroidSDK?"adStarted"===t||"vStarted"===t?window.VendriAndroidApp.adStarted(JSON.stringify(n)):"adFinished"!==t&&"vFinished"!==t||window.VendriAndroidApp.adFinished(JSON.stringify(n)):device.isIosSDK&&("adStarted"===t||"vStarted"===t?window.VendriIosApp.adStarted(JSON.stringify(n)):"adFinished"!==t&&"vFinished"!==t||window.VendriIosApp.adFinished(JSON.stringify(n))),Object.prototype.hasOwnProperty.call(e,"events")&&e.events&&Object.prototype.hasOwnProperty.call(e.events,t)&&e.events[t]&&(validator.isFunction(e.events[t])?window?(window["vevt_"+t]=e.events[t],window["vevt_"+t](n),window[t]=e.events[t],window[t](n)):e.events[t](n):"string"==typeof e.events[t]?(device.isAndroidSDK?window.VendriAndroidApp.triggerEvent(t,e.events[t],JSON.stringify(n)):device.isIosSDK&&window.VendriIosApp.triggerEvent(t,e.events[t],JSON.stringify(n)),vEvents.fireEvent(e.events[t],t,n)):"object"==typeof e.events[t]&&Object.prototype.hasOwnProperty.call(e.events[t],"target")&&Object.prototype.hasOwnProperty.call(e.events[t],"name")&&(extend(e.events[t],n),vEvents.fireEvent(e.events[t].target,e.events[t].name,e.events[t])))}catch(e){}},fireEvent:function(e,t,n){var r,i;for(i in e===window?"window":void 0===e?"undefined":e.tagName?e.tagName:"unknown",document.createEvent?(r=document.createEvent("Events")).initEvent(t,!0,!0):(r=document.createEventObject()).eventType=t,r.eventName=t,n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);if(document.createEvent)try{e.dispatchEvent(r)}catch(e){}else try{e.fireEvent(t,r)}catch(e){}},fireVendriEvent:function(e,t,n){var r,i,a,o="/tracker.php",s="",u=0,c=0,l=0,d={},f=[];r=n.PID||0,i=n.PFID,a=n.PLID;try{"chosen"!==e&&validator.isNotEmpty(n.creativeOptions)&&(u=n.creativeOptions[n.tagPosition].context.CRID||0,c=n.creativeOptions[n.tagPosition].context.CPID||0,l=n.creativeOptions[n.tagPosition].context.TRID||0)}catch(e){}switch(vEvents.fireInstanceEvent(n,e,t),e){case"chosen":try{t.creativeItems.items&&(d={context:t.creativeItems.context},each(t.creativeItems.items,(function(e,t){f.push({chosen:t.chosen,context:t.context})})),d.items=f),s=o+"?v=p&instance="+t.instanceId+"&localIdentifier="+Vendri.localIdentifier+"&creativeItems="+base64.encode(JSON.stringify(d))+"&buildTime="+Vendri.buildTime+"&runtime="+t.runTime+"&vendri_ver="+version,n.useDataTracking&&http.fireAndForget(s,n)}catch(e){}break;case"impression":validator.isNotEmpty(n.creativeOptions)&&(n.creativeOptions[n.tagPosition].localState.imps+=1,n.creativeOptions[n.tagPosition].localState.curPass.imps+=1,n.creativeOptions[n.tagPosition].localState.curPass.assumeTotalImps+=1);try{s=o+"?v=i&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&ad_id="+t.adId+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&adSlotPosition="+t.adSlotPosition+"&totalTags="+t.totalTags+"&media_src="+base64.encode(t.mediaSrc)+"&media_type="+encodeURIComponent(t.mediaType)+"&ad_type="+t.adType+"&ad_duration="+t.adDuration+"&ad_tag="+base64.encode(t.tag)+"&runtime="+t.runTime+"&vendri_ver="+version,n.useDataTracking&&http.fireAndForget(s,n,6e4),vEvents.fireEvent(n.target,e,{adEvtObj:t})}catch(e){}break;case"init":case"start":case"run":try{s=o+"?v=r&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&totalTags="+t.totalTags+"&type="+e+"&media_src="+base64.encode(t.mediaSrc)+"&media_type="+encodeURIComponent(t.mediaType)+"&ad_type="+t.adType+"&ad_duration="+t.adDuration+"&ad_tag="+base64.encode(t.tag)+"&runtime="+t.runTime+"&retry="+t.retry+"&msg="+encodeURIComponent(t.msg)+"&vendri_ver="+version,n.useDataTracking&&http.fireAndForget(s,n),vEvents.fireEvent(n.target,e,t)}catch(e){}break;case"q":try{s=o+"?v=q&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&status="+t.status+"&ad_duration="+t.adDuration+"&runtime="+t.runTime,n.useDataTracking&&http.fireAndForget(s,n),vEvents.fireEvent(n.target,e,{adEvtObj:t})}catch(e){}break;case"complete":try{s=o+"?v=c&status="+t.status+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&ad_id="+t.adId+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&totalTags="+t.totalTags+"&instance="+t.instanceId+"&ad_tag="+base64.encode(t.tag)+"&retry="+t.retry+"&runtime="+t.runTime,n.useDataTracking&&http.fireAndForget(s,n,6e4),vEvents.fireEvent(n.target,e,t)}catch(e){}break;case"error":case"timeout":try{s=o+"?v=e&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&ad_id="+t.adId+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&totalTags="+t.totalTags+"&type="+e+"&adSlotPosition="+t.adSlotPosition+"&retry="+t.retry+"&media_src="+base64.encode(t.mediaSrc)+"&media_type="+encodeURIComponent(t.mediaType)+"&ad_type="+t.adType+"&ad_tag="+base64.encode(t.tag)+"&ad_duration="+t.adDuration+"&runtime="+t.runTime+"&status="+encodeURIComponent(t.status)+"&msg="+encodeURIComponent(t.msg)+"&vendri_ver="+version,n.useDataTracking&&http.fireAndForget(s,n,6e4),vEvents.fireEvent(n.target,e,t)}catch(e){}break;case"method":try{s=o+"?v=z&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&methodsRan="+t.methodsRan+"&totalMethods="+t.totalMethods+"&preferredMethod="+t.preferredMethod+"&chosenMethod="+t.chosenMethod+"&responseType="+t.responseType+"&status="+t.status+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&totalTags="+t.totalTags+"&ad_tag="+base64.encode(t.tag)+"&runtime="+t.runTime+"&tag="+base64.encode(t.tag)+"&msg="+encodeURIComponent(t.msg)+"&vendri_ver="+version,n.useDataTracking&&http.fireAndForget(s,n),vEvents.fireEvent(n.target,e,t)}catch(e){}break;case"clickthru":try{s=o+"?v=m&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&ad_id="+t.adId+"&ad_tag="+base64.encode(t.tag)+"&runtime="+t.runTime,n.useDataTracking&&http.fireAndForget(s,n),vEvents.fireEvent(n.target,e,{adEvtObj:t})}catch(e){}break;default:var p="";try{t.impressions=!1,p=JSON.stringify(t),s=o+"?v=l&instance="+t.instanceId+"&PID="+r+"&PFID="+i+"&PLID="+a+"&CPID="+c+"&CRID="+u+"&TRID="+l+"&localIdentifier="+Vendri.localIdentifier+"&buildTime="+Vendri.buildTime+"&retry="+t.retry+"&fallback="+t.fallback+"&tagPosition="+t.tagPosition+"&totalTags="+t.totalTags+"&type="+e+"&vendri_ver="+version+"&data="+encodeURIComponent(p),n.useDataTracking&&http.fireAndForget(s,n)}catch(e){}}},fireImpressions:function(e,t){setTimeout((function(){var n,r="";if(Object.prototype.hasOwnProperty.call(e,"impressions")&&Object.prototype.hasOwnProperty.call(e.impressions,"length"))for(n=0;n<e.impressions.length;n+=1)r=e.impressions[n],http.fireAndForget(r,t,2e4)}),0),vEvents.fireVendriEvent("impression",e,t)},vpaidEvent:function(e,t,n){n.adBreaksArray;var r=validator.isObject(n)&&"string"==typeof n.creativeIdName?n.creativeIdName:CONSTANTS.unknownAdNetworkName,i=newTime();if(t=t||{},(n=validator.isObject(n)?n:{}).adSlotPosition==t.adSlotPosition){try{callStack.push("vpaidEvent"),callStack.push(e),t.callers=callStack.getStack(),t.adBreakPosition=n.adBreakPosition,t.populatedTag=""+n.populatedTag,t.adNetworkName=r}catch(e){}switch(debugPing(e,t,"vpaid"),e.toLowerCase()){case"sizechange":vEvents.fireTrackingEvent(e,n.adCreative,n),vPlayer.moveModal(n);break;case"durationchange":vendriTimer.stop(n,"duration"),n.constraints.playTime&&n.mediaDuration&&n.mediaDuration>0&&vendriTimer.start(n,"duration",1e3*(n.mediaDuration+1),(function(){t.retry=n.retries.toString(),t.adSlotPosition=1*n.adSlotPosition,t.adSlots=1*n.adSlots,t.adBreakType=n.adBreakType.toString(),t.fallback=n.fallbacks.toString(),t.tagPosition=n.tagPosition.toString(),t.status="success",t.msg="VPAID Start Event Duration Timer Catch Event Fired - Duration should have been: "+n.mediaDuration,t.runTime=newTime()-n.starttime,debugPing("timeout VPAID ad went too long, cutting it off",t,"timeout"),vEvents.vpaidEvent("stopped",t,n)})),vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"start":vendriTimer.stop(n,"start"),vendriTimer.stop(n.superTimers,"adBreakStartTime"),n.adState="started",n.constraints.playTime&&n.mediaDuration&&n.mediaDuration>0&&vendriTimer.start(n,"duration",1e3*(n.mediaDuration+3),(function(){t.retry=n.retries.toString(),t.adSlotPosition=1*n.adSlotPosition,t.adSlots=1*n.adSlots,t.adBreakType=n.adBreakType.toString(),t.fallback=n.fallbacks.toString(),t.tagPosition=n.tagPosition.toString(),t.status="success",t.msg="VPAID Start Event Duration Timer Catch Event Fired - Duration should have been: "+n.mediaDuration,t.runTime=newTime()-n.starttime,debugPing("timeout VAST ad went too long, cutting it off",t,"timeout"),vEvents.vpaidEvent("stopped",t,n)})),vEvents.fireTrackingEvent("start",n.adCreative,n),t.runTime=newTime()-n.starttime,t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,vEvents.fireVendriEvent("q",t,n),vEvents.fireInstanceEvent(n,"adStarted",{adEvtObj:t}),vEvents.fireEvent(n.eventTarget,"adStarted",{adEvtObj:t}),vEvents.fireInstanceEvent(n,"vstarted",{adEvtObj:t}),vEvents.fireEvent(n.eventTarget,"vstarted",{adEvtObj:t}),vPlayer.showModal(!1),vPlayer.moveModal(n);break;case"impression":t.runTime=i-n.starttime,t.timeToImpression=millisToSecondsTwoPlaces(i-n.slotStartTime),vEvents.fireImpressions(t,n),vEvents.vastEvent("companion",t,n);break;case"companion":n&&n.creative&&companion.displayCompanions(n,n.creative),vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"stopped":clearVendriTimers(n),t.status="success",t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireTrackingEvent(e,n.adCreative,n),vPlayer.crossDeviceVideoRemove(n),vEvents.fireInstanceEvent(n,"adFinished",{adEvtObj:t,status:"success"}),vEvents.fireEvent(n.eventTarget,"adFinished",{adEvtObj:t,status:"success"})),"adBreak"===n.creator&&!n.stopAdBreak&&!isAdBreakExpired(n)&&n.adSlotPosition+1<n.adSlots?(n.adState="finished",n.adSlotPosition+=1,n.retries=0,n.tagPosition=0,n.fallbacks=0,validator.isArray(n.adBank)&&n.adBank[n.adSlotPosition]&&!n.currentlyPrefetching?playFromBank(n,n.adSlotPosition,n.adBreakPosition):n.checkSetup(!0)):endAdBreak(n,t,e.toLowerCase());break;case"stop":case"error":case"timeout":clearVendriTimers(n),t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireTrackingEvent(e,n.adCreative,n),vPlayer.crossDeviceVideoRemove(n),vEvents.fireVendriEvent(e.toLowerCase(),t,n)),n.adState="finished",n.slotStartTime=i,n.creativeOptions[n.tagPosition+1]?(n.tagPosition+=1,n.fallbacks+=1,n.checkSetup(!0)):!n.stopAdBreak&&!isAdBreakExpired(n)&&n.retries<n.retry?(n.retries+=1,n.tagPosition=0,n.fallbacks=0,n.checkSetup(!0)):(t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireInstanceEvent(n,"adFinished",{adEvtObj:t,status:e.toLowerCase()}),vEvents.fireEvent(n.eventTarget,"adFinished",{adEvtObj:t,status:e.toLowerCase()})),"adBreak"===n.creator&&!n.stopAdBreak&&!isAdBreakExpired(n)&&n.adSlotPosition+1<n.adSlots?(n.adSlotPosition+=1,n.retries=0,n.tagPosition=0,n.fallbacks=0,n.checkSetup(!0)):endAdBreak(n,t,e.toLowerCase()));break;case"clickthru":case"clickthrough":n.onClickThrough(t),vEvents.fireTrackingEvent(e,n.adCreative,n),vEvents.fireEvent(n.target,"clickThru",{adEvtObj:t});break;case"pause":case"paused":vendriTimer.pause(n,"duration"),vEvents.fireTrackingEvent(e,n.adCreative,n),vEvents.fireEvent(n.target,"adPaused_success",{});break;case"resume":case"playing":vendriTimer.resume(n,"duration"),vEvents.fireTrackingEvent(e,n.adCreative,n),vEvents.fireEvent(n.target,"adResumed_success",{});break;case"firstquartile":case"midpoint":case"thirdquartile":t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,vEvents.fireVendriEvent("q",t,n),vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"complete":case"finished":t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireVendriEvent("q",t,n),vEvents.fireTrackingEvent(e,n.adCreative,n));break;case"skip":validator.isAttributor(t.adNetworkName,Vendri.setupParams.attributors)&&(n.adSlots=Vendri.setupParams.adSlots+1),vEvents.vastEvent("skip",t,n);break;case"expand":case"collapse":vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"adfreepod":attribution(t.adNetworkName,n,Vendri.setupParams.attributors,attributionCredits)&&(n.stopAdBreak=!0,n.attributed=!0);break;default:vEvents.fireTrackingEvent(e,n.adCreative,n)}}else debugPing("Vpaid Late Event",t,"vpaid")},vastEvent:function(e,t,n){t=t||{},n=validator.isObject(n)?n:{creative:{}};var r=newTime(),i=validator.isObject(n)&&"string"==typeof n.creativeIdName?n.creativeIdName:CONSTANTS.unknownAdNetworkName;if(n.adSlotPosition==t.adSlotPosition){try{callStack.push("vastEvent"),callStack.push(e),t.callers=callStack.getStack(),t.adBreakPosition=n.adBreakPosition,t.populatedTag=""+n.populatedTag,t.adNetworkName=i,t.creativeObject=JSON.stringify(getCreativeObject(n))}catch(e){}switch(debugPing(e,t,"vast"),e.toLowerCase()){case"adplayrejected":vendriTimer.pause(n,"duration"),vendriTimer.pause(n,"start"),vendriTimer.stop(n.superTimers,"adBreakStartTime"),vEvents.fireEvent(n.eventTarget,"adPlayRejected",{adEvtObj:t});break;case"sizechange":n.currentlyPrefetching||(vEvents.fireTrackingEvent(e,n.adCreative,n),vPlayer.moveModal(n));break;case"click":if("vpaid"===n.adType)break;n.onClickThrough(t);break;case"clickthru":case"clickthrough":if("vpaid"===n.adType)break;vEvents.fireTrackingEvent(e,n.adCreative,n),t.retry=n.retries.toString(),t.adSlotPosition=1*n.adSlotPosition,t.adSlots=1*n.adSlots,t.adBreakType=n.adBreakType.toString(),t.fallback=n.fallbacks.toString(),t.tagPosition=n.tagPosition.toString(),t.status="clickThru",t.runTime=newTime()-n.starttime,t.clickThroughLink=n.clickThroughLink||"",vEvents.fireVendriEvent("clickthru",t,n),vEvents.fireInstanceEvent(n,"vast",{adEvtObj:t,vastEvent:"clickThru"}),vEvents.fireEvent(n.eventTarget,"vast",{adEvtObj:t,vastEvent:"clickThru"});break;case"start":n.currentlyPrefetching||(vendriTimer.stop(n,"start"),vendriTimer.stop(n.superTimers,"adBreakStartTime"),n.adState="started",n.constraints.playTime&&n.mediaDuration&&n.mediaDuration>0&&vendriTimer.start(n,"duration",1e3*(n.mediaDuration+3),(function(){t.status="success",t.msg="VAST Start Event Duration Timer Catch Event Fired - Duration should have been: "+n.mediaDuration,t.runTime=newTime()-n.starttime,debugPing("timeout VAST waiting for ad to start",t,"timeout"),vEvents.vastEvent("finished",t,n)})),vEvents.fireTrackingEvent(e,n.adCreative,n),t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,t.adNetworkName=i,t.adSlotPosition=1*n.adSlotPosition,vEvents.fireVendriEvent("q",t,n),"swf"===n.adMediaType&&(n.flashPlayer.onmousedown=function(e){t.status="clickThru",t.runTime=newTime()-n.starttime,t.event=e,vEvents.vastEvent("clickThru",t,n)}),vEvents.fireInstanceEvent(n,"adStarted",{adEvtObj:t}),vEvents.fireEvent(n.eventTarget,"adStarted",{adEvtObj:t}),vEvents.fireInstanceEvent(n,"vstarted",{adEvtObj:t}),vEvents.fireEvent(n.eventTarget,"vstarted",{adEvtObj:t}),vPlayer.showModal(!1),vPlayer.moveModal(n),"sdk"===n.creative.type.toLowerCase()&&(t.runTime=newTime()-n.starttime,vEvents.fireImpressions(t,n)));break;case"stop":case"finish":case"finished":case"complete":clearVendriTimers(n),t.retry=n.retries.toString(),t.adNetworkName=i,t.adSlotPosition=1*n.adSlotPosition,t.adSlots=1*n.adSlots,t.adBreakType=n.adBreakType.toString(),t.adDuration=1*n.mediaDuration,t.fallback=n.fallbacks.toString(),t.tagPosition=n.tagPosition.toString(),t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,n.creative&&"sdk"===n.creative.type&&(n.pauseAdBreak=!1),validator.isFunction(n.flashPlayerStopEventReceived)&&n.flashPlayerStopEventReceived(),n.slotStartTime=r,n.currentlyPrefetching||(vEvents.fireTrackingEvent(e,n.adCreative,n),vPlayer.crossDeviceVideoRemove(n),vEvents.fireVendriEvent("q",t,n),vEvents.fireInstanceEvent(n,"adFinished",{adEvtObj:t,status:"success"}),vEvents.fireEvent(n.eventTarget,"adFinished",{adEvtObj:t,status:"success"})),"adBreak"===n.creator&&!n.stopAdBreak&&!isAdBreakExpired(n)&&n.adSlotPosition+1<n.adSlots?(n.adState="finished",n.adSlotPosition+=1,n.retries=0,n.tagPosition=0,n.fallbacks=0,validator.isArray(n.adBank)&&n.adBank[n.adSlotPosition]&&!n.currentlyPrefetching?playFromBank(n,n.adSlotPosition,n.adBreakPosition):n.checkSetup(!0)):endAdBreak(n,t,e.toLowerCase());break;case"skip":clearVendriTimers(n),t.runTime=newTime()-n.starttime,t.adSlotPosition=1*n.adSlotPosition,t.status="skip",vEvents.fireTrackingEvent(e,n.adCreative,n),Vendri.useExternalRenderer()||vPlayer.crossDeviceVideoRemove(n),vEvents.fireVendriEvent("q",t,n),vEvents.fireInstanceEvent(n,"adFinished",{adEvtObj:t,status:"skip"}),n.currentlyPrefetching||vEvents.fireEvent(n.eventTarget,"adFinished",{adEvtObj:t,status:"skip"}),"adBreak"===n.creator&&!n.stopAdBreak&&!isAdBreakExpired(n)&&n.adSlotPosition+1<n.adSlots?(n.adSlotPosition+=1,n.adState="finished",n.retries=0,n.tagPosition=0,n.fallbacks=0,validator.isArray(n.adBank)&&n.adBank[n.adSlotPosition]?playFromBank(n,n.adSlotPosition,n.adBreakPosition):n.checkSetup(!0)):(n.adState="finished",n.adSlotPosition+=1,n.retries=0,n.tagPosition=0,n.fallbacks=0,endAdBreak(n,t,e.toLowerCase()));break;case"error":case"timeout":clearVendriTimers(n),t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireTrackingEvent(e,n.adCreative,n),Vendri.useExternalRenderer()||vPlayer.crossDeviceVideoRemove(n),vEvents.fireVendriEvent(e.toLowerCase(),t,n)),n.adState="finished",Vendri.useExternalRenderer()?n.stopAdBreak&&endAdBreak(n,t,e.toLowerCase()):n.creativeOptions[n.tagPosition+1]?(n.tagPosition+=1,n.fallbacks+=1,n.checkSetup(!0)):!n.stopAdBreak&&!isAdBreakExpired(n)&&n.retries<n.retry?(n.retries+=1,n.tagPosition=0,n.fallbacks=0,n.checkSetup(!0)):(t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,n.currentlyPrefetching||(vEvents.fireInstanceEvent(n,"adFinished",{adEvtObj:t,status:e.toLowerCase()}),vEvents.fireEvent(n.eventTarget,"adFinished",{adEvtObj:t,status:e.toLowerCase()})),"adBreak"===n.creator&&!n.stopAdBreak&&!isAdBreakExpired(n)&&n.adSlotPosition+1<n.adSlots?(n.adSlotPosition+=1,n.retries=0,n.tagPosition=0,n.fallbacks=0,validator.isArray(n.adBank)&&n.adBank[n.adSlotPosition]&&!n.currentlyPrefetching?playFromBank(n,n.adSlotPosition,n.adBreakPosition):n.checkSetup(!0)):endAdBreak(n,t,e.toLowerCase()));break;case"impression":t.runTime=r-n.starttime,t.timeToImpression=millisToSecondsTwoPlaces(r-n.slotStartTime),vEvents.fireImpressions(t,n),vEvents.vastEvent("companion",t,n);break;case"companion":n&&n.creative&&companion.displayCompanions(n,n.creative),vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"pause":vendriTimer.pause(n,"duration"),vEvents.fireTrackingEvent(e,n.adCreative,n),vEvents.fireEvent(n.target,"adPaused_success",{});break;case"resume":vendriTimer.resume(n,"duration"),vEvents.fireTrackingEvent(e,n.adCreative,n),vEvents.fireEvent(n.eventTarget,"adResumed_success",{});break;case"firstquartile":case"midpoint":case"thirdquartile":t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,vEvents.fireVendriEvent("q",t,n),vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"fullscreen":case"exitFullscreen":vEvents.fireTrackingEvent(e,n.adCreative,n);break;case"fetched":clearVendriTimers(n),vEvents.fireTrackingEvent(e,n.adCreative,n),t.retry=n.retries.toString(),t.adBreakPosition=1*n.adBreakPosition,t.adSlots=1*n.adSlots,t.adBreakType=n.adBreakType.toString(),t.fallback=n.fallbacks.toString(),t.tagPosition=n.tagPosition.toString(),t.status=e.toLowerCase(),t.runTime=newTime()-n.starttime,validator.isAttributor(t.adNetworkName,Vendri.setupParams.attributors)?(n.currentlyPrefetching=!1,n.playPartiallyPrefetched=!0,n.prefetched=!0,n.displayMode="normal"):!n.stopAdBreak&&!isAdBreakExpired(n)&&n.prefetchAdSlotIndex+1<n.adSlots&&!n.prefetched?(n.prefetchAdSlotIndex+=1,n.adState="finished",n.retries=0,n.tagPosition=0,n.fallbacks=0,n.playPartiallyPrefetched&&validator.isArray(n.adBank)&&validator.isNotEmpty(n.adBank[n.adSlotPosition])?(n.currentlyPrefetching=!1,n.displayMode="normal",playFromBank(n,n.adSlotPosition)):n.checkSetup(!0)):(n.currentlyPrefetching=!1,n.prefetched=!0,n.displayMode="prefetchComplete",vEvents.fireVendriEvent("fetchComplete",t,n),vEvents.fireInstanceEvent(n,"vfetchComplete",{adEvtObj:t,status:"success"}),vEvents.fireEvent(n.eventTarget,"vfetchComplete",{adEvtObj:t,status:"success"}),n.playPartiallyPrefetched&&validator.isArray(n.adBank)&&validator.isNotEmpty(n.adBank[n.adSlotPosition])&&(n.currentlyPrefetching=!1,n.displayMode="normal",playFromBank(n,n.adSlotPosition)));break;default:n.currentlyPrefetching||vEvents.fireTrackingEvent(e,n.adCreative,n)}}else debugPing("Vast Late Event",t,"vast")},fireTracking:function(e,t){var n;if(e&&Object.prototype.hasOwnProperty.call(e,"length")&&e.length)for(n=0;n<e.length;n+=1)http.fireAndForget(e[n],t)},clearTrigger:function(e,t){try{e.logic.listner&&removeEvent(e.tevent.name,e.tevent.target,e.logic.listner),t&&clearInterval(t)}catch(e){}},trigEvt:function(instance,trigger,type,a){callStack.reset(),callStack.push("trigEvt");var conditionValid=!0,adEvtObj={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"",type:"trigger-trigEvt"};if(trigger.called+=1,trigger.maxRuns&&0!==trigger.maxRuns&&trigger.ran>=trigger.maxRuns)vEvents.clearTrigger(trigger,a),adEvtObj={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"max runs on this trigger already",type:"trigger-trigEvt"},vEvents.fireEvent(window,"vnothing",{adEvtObj:adEvtObj,status:"noop"});else{if("string"==typeof trigger.condition&&/^function|^\{|^\[/.test(trigger.condition)&&(trigger.condition=eval("("+trigger.condition+")")),trigger.setup&&"string"==typeof trigger.setup&&/^\{/.test(trigger.setup)){try{trigger.setup=decodeURIComponent(decodeURI(trigger.setup))}catch(e){try{trigger.setup=decodeURI(trigger.setup)}catch(e){trigger.setup=trigger.setup.replace(/:%5B%22/g,':["').replace(/%22%5D}/g,'"]}')}}try{trigger.setup=eval("("+trigger.setup+")")}catch(e){}}populateMaps(instance);var conditionType=validator.isArray(trigger.condition)?"array":typeof trigger.condition;switch(conditionType){case"function":conditionValid=trigger.condition(instance.mapped,instance);break;case"object":conditionValid=validator.isObjectValue(instance,trigger.condition)||validator.isObjectValue(instance.mapped,trigger.condition);break;case"array":conditionValid=parser.conditionMapper(trigger.condition,instance);break;default:conditionValid=!!validator.isEmpty(trigger.condition)}conditionValid||0===conditionValid?(trigger.maxRuns&&0!==trigger.maxRuns&&trigger.ran>=trigger.maxRuns&&vEvents.clearTrigger(trigger,a),getPlatform(Vendri.setupParams.platforms)?triggerActions[trigger.action](instance,trigger,conditionValid):(adEvtObj={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"no valid platform",type:"trigger-trigEvt"},vEvents.fireEvent(window,"vnothing",{adEvtObj:adEvtObj,status:"noop"}))):(adEvtObj={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:"",adSlotPosition:"",adBreakType:"",adSlots:"",fallback:"",tagPosition:"",totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"noop",msg:"trigger condition resulted as false",type:"trigger-trigEvt"},vEvents.fireEvent(window,"vnothing",{adEvtObj:adEvtObj,status:"noop"}))}},setupTriggers:function(e){var t=[];validator.isEmpty(e.triggersSetup)&&validator.isNotEmpty(e.triggers,"array")&&(validator.isNotEmpty(e.placements,"array")&&each(e.placements,(function(t,n){if(validator.isNotEmpty(n.watchMe,"boolean")&&validator.isNotEmpty(n.target,"string"))try{!validator.isNotEmpty(n.type,"string")||"element"!==n.type&&"element_append"!==n.type||e.triggers.push({PLID:t+1,PLIDs:[t+1],TRID:Vendri.setupParams.triggers.length+1,action:"adBreak",condition:function(e,t){var r,i,a=!1,o=10,s=0,u=3,c=1;try{validator.hasProperties(t.constraints,"startTime")&&validator.isNotEmpty(t.constraints.startTime,"number")&&(u=1*t.constraints.startTime),validator.isNotEmpty(t.adSlots,"number")&&(c=1*t.adSlots),validator.hasProperties(t.constraints,"minPrefetchThreshold")&&validator.isNotEmpty(t.constraints.minPrefetchThreshold,"number")&&(o=1*t.constraints.minPrefetchThreshold)}catch(e){}try{(!(s=u*c)||s<o)&&(s=o)}catch(e){s=o}try{(r=document.getElementById(n.target))&&-1!==(i="number"==typeof r.currentTime?r.currentTime:-1)&&(a=getAdBreakTriggerType(r,i,s,n))}catch(e){a=!1}return a},setup:{},maxRuns:0,method:"watch",time:1})}catch(e){}})),populateMaps(e),each(e.triggers,(function(n,r){Object.prototype.hasOwnProperty.call(r,"condition")&&!validator.isEmpty(r.condition)||Object.prototype.hasOwnProperty.call(r,"tevent")&&validator.isNotEmpty(r.tevent)&&(Object.prototype.hasOwnProperty.call(r.tevent,"condition")&&validator.isNotEmpty(r.tevent.condition)&&(r.condition=r.tevent.condition),Object.prototype.hasOwnProperty.call(r.tevent,"setup")&&validator.isNotEmpty(r.tevent.setup)&&(r.setup=r.tevent.setup));try{var i=pushAndIndex(e.triggersSetup,extend({},triggerObj,r));if(""!==e.triggersSetup[i].action&&exists(triggerActions,e.triggersSetup[i].action)&&(t.push(r),e.triggersSetup[i].method))switch(e.triggersSetup[i].method){case"event":e.triggersSetup[i].event.target&&"string"==typeof e.triggersSetup[i].event.name?(e.triggersSetup[i].event.target=getObjectFromString(e.triggersSetup[i].event.target),e.triggersSetup[i].logic.func=function(t){try{setTimeout(vEvents.trigEvt(e,e.triggersSetup[i],"event"),0)}catch(e){}},e.triggersSetup[i].logic.listner=addEvent(e.triggersSetup[i].event.name,e.triggersSetup[i].event.target,e.triggersSetup[i].logic.func)):e.triggersSetup[i].tevent.target&&"string"==typeof e.triggersSetup[i].tevent.name&&(e.triggersSetup[i].tevent.target=getObjectFromString(e.triggersSetup[i].tevent.target),e.triggersSetup[i].logic.func=function(t){try{setTimeout(vEvents.trigEvt(e,e.triggersSetup[i],"tevent"),0)}catch(e){}},e.triggersSetup[i].logic.listner=addEvent(e.triggersSetup[i].tevent.name,e.triggersSetup[i].tevent.target,e.triggersSetup[i].logic.func));break;case"watch":var a,o=1e3*e.triggersSetup[i].time;a=setInterval((function(){vEvents.trigEvt(e,e.triggersSetup[i],"watch",a)}),o)}}catch(e){}})),arrayRemove(e.triggers,t),readinessHelper.triggersExist(!0),validator.isPluginEnabled("pAPI",e.plugins)?(publicaProxy.linkEvents(this),publicaProxy.init(e)):(readinessHelper.pAPITimeout(!0),readinessHelper.ready()&&window.dispatchEvent(new CustomEvent("vevt_ready"))))}}}(),preferredTypeMatch=function(e,t){var n=!1;switch(t.fileType){case"flv":case"swf":"flash"===e.preferredType&&(n=!0);break;case"video":case"audio":n=!0;break;case"javascript":"html5"===e.preferredType&&(n=!0)}return n},preferredDeliveryTypeMatch=function(e,t){var n=!1,r=exists(t,"sDeliveryType")?t.delivery:"";return e.preferredDeliveryType===r&&(n=!0),n},exactMatch=function(e,t){return preferredTypeMatch(e,t)&&preferredDeliveryTypeMatch(e,t)&&function(e,t,n){var r=!1;return t===e.width&&n===e.height&&(r=!0),r}(e,parseInt(t.width),parseInt(t.height))&&parseInt(t.bitrate)===bitrate.value},rateMatch=function(e,t){var n=0,r=parseInt(t.bitrate),i=[bitrate.value-100/3,bitrate.value-50,bitrate.value-100],a=[bitrate.value+100/3,bitrate.value+50,bitrate.value+100];r===bitrate.value?n+=20:r>=i[0]&&r<=a[0]?n+=17:r>=i[1]&&r<=a[1]?n+=16:r>=i[2]&&r<=a[2]?n+=15:r<=bitrate.value?n+=5:(bitrate.value,n+=-(r-bitrate.value)/20),preferredTypeMatch(e,t)?n+=17:n/=2,preferredDeliveryTypeMatch(e,t)?n+=19:n/=2;var o=parseInt(t.width),s=parseInt(t.height),u=Math.abs(o*s-e.width*e.height);return 0===u?n+=6:u<=10?n+=5:u<=20?n+=4:u<=30?n+=3:u<=40?n+=2:u<=e.sizeRange&&(n+=1),n},media={findWidthHeight:function(e,t,n){return n&&t.height<=0&&t.width<=0&&device.isMobile&&(t.height=n.height,t.width=n.width),t.height<=0&&t.width<=0&&(t.height=e.minHeight,t.width=e.minWidth),t.aspect=t.height/t.width,t.width<=e.origWidth&&t.height<=e.origHeight?(e.width=t.width,e.height=t.height):t.width<=e.origWidth?(e.width=t.width=e.height*t.aspect,t.height=e.height):(t.width=e.width,e.height=t.height=e.width*t.aspect),e.dimensions=e.width*e.height,t.dimensions=t.width*t.height,t},mediaDecider:function(e,t){var n,r,i,a,o,s={};for(n=0;n<t.length;n+=1)if(e.useModal||(e.width=e.target.offsetWidth,e.height=e.target.offsetHeight),(r=t[n]).width=parseInt(r.width),r.height=parseInt(r.height),r.bitrate=parseInt(r.bitrate),r.embedType=device.mediaSupportedOnDevice.as(r),r.embedType){if(validator.isNotEmpty(s)&&(o=r.width*r.height-e.width*e.height,i=Math.abs(o),a=Math.abs(s.width*s.height-e.width*e.height)),exactMatch(e,r)){(s=r).pos=n;break}(validator.isEmpty(s)||!preferredTypeMatch(e,s)&&preferredTypeMatch(e,r)&&!preferredDeliveryTypeMatch(e,s)&&preferredDeliveryTypeMatch(e,r)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&i<a&&!preferredTypeMatch(e,s)&&!preferredDeliveryTypeMatch(e,s)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&i<=a&&!preferredTypeMatch(e,s)&&!preferredDeliveryTypeMatch(e,s)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&!preferredTypeMatch(e,s)&&!preferredDeliveryTypeMatch(e,s)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&i<=a&&preferredTypeMatch(e,r)&&preferredDeliveryTypeMatch(e,r)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&i<=a&&preferredTypeMatch(e,s)===preferredTypeMatch(e,r)&&preferredDeliveryTypeMatch(e,s)===preferredDeliveryTypeMatch(e,r)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&Math.abs((bitrate.value-r.bitrate)/2)>=i&&preferredTypeMatch(e,r)&&preferredDeliveryTypeMatch(e,r)||Math.abs(bitrate.value-r.bitrate)<=Math.abs(bitrate.value-s.bitrate)&&i<a&&preferredTypeMatch(e,r)||!preferredTypeMatch(e,s)&&preferredTypeMatch(e,r)||!preferredDeliveryTypeMatch(e,s)&&preferredDeliveryTypeMatch(e,r)&&preferredTypeMatch(e,r)||rateMatch(e,r)>rateMatch(e,s))&&((s=r).pos=n)}return s},displayCreative:function(e){var t,n=e.creative,r=function(){for(t=0;t<e.vastMediaClickUrls.length;t+=1)http.fireAndForget(e.vastMediaClickUrls[t],e)},i=function(t){if(e.clickThroughLink)try{window.open(e.clickThroughLink,"_blank"),t.retry=e.retries.toString(),t.adSlotPosition=1*e.adSlotPosition,t.adSlots=1*e.adSlots,t.adBreakType=e.adBreakType.toString(),t.clickThroughLink=e.clickThroughLink,t.fallback=e.fallbacks.toString(),t.tagPosition=e.tagPosition.toString(),t.status="clickThru",t.runTime=newTime()-e.starttime,vEvents.vastEvent("clickThru",t,e),r()}catch(e){debugPing("onClickThrough error",{event:e},"dom")}};e.vastMediaClickUrls=[],e.vastMediaClick=r,e.adType=e.adCreative.adType,e.adMediaType=e.adCreative.media.fileType,e.origHeight=parseInt(e.height),e.origWidth=parseInt(e.width),e.controlHeight="audio"===e.adMediaType?0:34,this.findWidthHeight(e,n[n.type].media,!1),callStack.reset(),callStack.push("displayCreative");var a={callers:callStack.getStack(),impressions:!!Object.prototype.hasOwnProperty.call(n[n.type],"impressions")&&n[n.type].impressions.slice(0),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:Object.prototype.hasOwnProperty.call(n[n.type],"media")&&Object.prototype.hasOwnProperty.call(n[n.type].media,"link")?n[n.type].media.link:"",mediaType:Object.prototype.hasOwnProperty.call(n[n.type],"media")&&Object.prototype.hasOwnProperty.call(n[n.type].media,"type")?n[n.type].media.type:"",adDuration:e.mediaDuration,adType:"",runTime:0,status:"",adId:n.AdID};try{if(a.msg="Display Creative: begin  :: ",Object.prototype.hasOwnProperty.call(n[n.type],"videoclicks")&&n[n.type].videoclicks&&Object.prototype.hasOwnProperty.call(n[n.type].videoclicks,"length"))for(a.msg+="Display Creative: found videoclicks to setup :: ",t=0;t<n[n.type].videoclicks.length;t+=1)n[n.type].videoclicks[t].link&&""!==n[n.type].videoclicks[t].link&&("clickthrough"===n[n.type].videoclicks[t].type||"customclick"===n[n.type].videoclicks[t].type?e.clickThroughLink||("audio"===n[n.type].media.fileType?e.audioClickthrough&&(e.clickThroughLink=document.createElement("a"),e.clickThroughLink.href=n[n.type].videoclicks[t].link,e.clickThroughLink.target="_blank",e.clickThroughLink.innerHTML="Click for more information.",e.clickThroughLink.onclick=r):e.clickThroughLink=n[n.type].videoclicks[t].link,"vpaid"!==e.adType&&(e.onClickThrough=i)):"clicktracking"===n[n.type].videoclicks[t].type&&e.vastMediaClickUrls.push(n[n.type].videoclicks[t].link));a.msg+="Display Creative: goPlayMedia :: ",function(e){var t=!1;switch(e.embedType=e.creative[e.creative.type].media.embedType,e.creative[e.creative.type].media.embedType){case"flash":t=!0,e.embeddedPlayer=vPlayer.embedFlashPlayer(e);break;case"html5":t=!0,e.embeddedPlayer=vPlayer.embedHTML5PlayerNF(e);break;case"javascript":t=!0,e.embeddedPlayer=vPlayer.embedHTML5VPAIDPlayer(e);break;default:t=!1}return t}(e)||(a.retry=e.retries.toString(),a.adSlotPosition=1*e.adSlotPosition,a.adSlots=1*e.adSlots,a.adBreakType=e.adBreakType.toString(),a.fallback=e.fallbacks.toString(),a.tagPosition=e.tagPosition.toString(),a.status="error",a.msg+="Display Creative: Unknown Creative Type: "+n[n.type].media.fileType,a.runTime=newTime()-e.starttime,vEvents.vastEvent("error",a,e))}catch(t){a.retry=e.retries.toString(),a.adSlotPosition=1*e.adSlotPosition,a.adSlots=1*e.adSlots,a.adBreakType=e.adBreakType.toString(),a.fallback=e.fallbacks.toString(),a.tagPosition=e.tagPosition.toString(),a.status="error",a.msg+="Display Creative: "+JSON.stringify(t),a.runTime=newTime()-e.starttime,vEvents.vastEvent("error",a,e)}}},loopWrappers=function(e,t){return new Vendri.Promise((function(n,r){var i,a=0,o=0;if(t&&validator.isNotEmpty(t.ads))for(o=t.ads.length,i=0;i<o;i+=1)Object.prototype.hasOwnProperty.call(t.ads[i],"type")&&"wrapper"===t.ads[i].type&&Object.prototype.hasOwnProperty.call(t.ads[i].wrapper,"vastadtaguri")&&adVASTCall(e,t.ads[i].wrapper.vastadtaguri).done((function(e){t.ads[a].wrapperResponse=e,(a+=1)===o&&n(t)}),(function(e){t.ads[a].wrapperResponse=e,(a+=1)===o&&n(t)}));else n(t)}))},adVASTCall=function(e,t){return new Vendri.Promise((function(n,r){http.ajax2(t,(function(t){var i=parser.parseVast(t.content);e.stopAdBreak&&r({mediaSrc:"",status:e.creatives,mediaType:"",adDuration:e.mediaDuration,adType:"",status:"error",runTime:newTime()-e.starttime}),i&&"wrapper"===t.type?loopWrappers(e,i).done((function(e){n(e)}),(function(e){r({})})):n(i)}),(function(t){t.status=e.creatives,t.mediaType="",t.adDuration=e.mediaDuration,t.adType="",t.status="error",t.runTime=newTime()-e.starttime,debugPing("vast call failure",t,"fetch"),r(t)}),e)}))},playAds=function(e,t){var n,r,i={},a=!1;callStack.reset(),callStack.push("playAds");var o={callers:callStack.getStack(),impressions:!1,tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:0,status:"",adIds:t.adId};try{for(n=0;n<t.length;n+=1){for(r=0;r<t[n].creatives.length;r+=1)if(extend(i={},t[n].creatives[r]),i&&Object.prototype.hasOwnProperty.call(i,"type")&&i.type&&Object.prototype.hasOwnProperty.call(i[i.type],"mediafiles")&&i[i.type].mediafiles&&(i[i.type].media=!1,Object.prototype.hasOwnProperty.call(i[i.type],"impressions")||(i[i.type].impressions=[]),Object.prototype.hasOwnProperty.call(t[n],"impressions")&&(i[i.type].impressions=i[i.type].impressions.concat(t[n].impressions)),i[i.type].media=media.mediaDecider(e,i[i.type].mediafiles),i[i.type].media&&i[i.type].media.fileType)){a=!0,"prefetch"===e.displayMode?(i.creativeIdName=e.creativeIdName,e.adBank.push(i),o.retry=e.retries.toString(),o.adBreakPosition=e.adBreakPosition,o.adSlots=e.adSlots.toString(),o.adBreakType=e.adBreakType.toString(),o.fallback=e.fallbacks.toString(),o.tagPosition=e.tagPosition.toString(),o.status="fetched",vEvents.vastEvent("fetched",o,e)):(e.mediaDuration=Object.prototype.hasOwnProperty.call(i[i.type],"duration")&&i[i.type].duration?durationToSeconds(i[i.type].duration):0,i[i.type].adType=Object.prototype.hasOwnProperty.call(i[i.type].media,"apiFramework")&&"vpaid"===i[i.type].media.apiFramework.toLowerCase()?"vpaid":"vast",e.creative=i,e.adCreative=i[i.type],a=!0,media.displayCreative(e));break}if(a)break}}catch(t){return o.retry=e.retries.toString(),o.adSlotPosition=1*e.adSlotPosition,o.adSlots=1*e.adSlots,o.adBreakType=e.adBreakType.toString(),o.fallback=e.fallbacks.toString(),o.tagPosition=e.tagPosition.toString(),o.status="error",o.msg="Play Ads: "+JSON.stringify(t),o.runTime=newTime()-e.starttime,vEvents.vastEvent("error",o,e),debugPing("playAds failure",{message:t,adEvtObj:o},"fetch"),!1}return!!a||(o.status="error",o.msg="No playable ads",o.runTime=newTime()-e.starttime,vEvents.vastEvent("error",o,e),!1)},getAds=function(e,t){var n,r,i,a=0,o=0,s=!!Object.prototype.hasOwnProperty.call(e,"id")&&e.id;if(t?s&&(t.adId+=","+s):(t={adId:""},s&&(t.adId=s)),Object.prototype.hasOwnProperty.call(e,"type")){for(n in e[e.type])if(Object.prototype.hasOwnProperty.call(e[e.type],n))switch(n){case"xml":case"extensions":break;case"creatives":if(Object.prototype.hasOwnProperty.call(t,n)||(t[n]=[]),Object.prototype.hasOwnProperty.call(e[e.type][n],"length"))for(a=0;a<e[e.type][n].length;a+=1)if(Object.prototype.hasOwnProperty.call(e[e.type][n][a],"companionads")&&Object.prototype.hasOwnProperty.call(e[e.type][n][a].companionads,"companions")&&a>0)if(Object.prototype.hasOwnProperty.call(e[e.type][n][a].companionads,"sequence"))for(o=0;o<e[e.type][n].length;o+=1)Object.prototype.hasOwnProperty.call(e[e.type][n][o],"sequence")&&e[e.type][n][o].sequence===e[e.type][n][a].companionads.sequence&&(t[n][o][t[n][o].type].companions=e[e.type][n][a].companionads.companions);else t[n][a-1][t[n][a-1].type].companions=e[e.type][n][a].companionads.companions;else if(t[n][a]){for(r in e[e.type][n][a])if(Object.prototype.hasOwnProperty.call(e[e.type][n][a],r))if(t[n][a][r]&&"string"!=typeof e[e.type][n][a][r])switch(r){case"companionads":break;default:for(i in e[e.type][n][a][r])if(Object.prototype.hasOwnProperty.call(e[e.type][n][a][r],i))if(t[n][a][r][i]){if(validator.isNotEmpty(e[e.type][n][a][r][i]))if(validator.isArray(e[e.type][n][a][r][i]))try{t[n][a][r][i]=t[n][a][r][i].concat(e[e.type][n][a][r][i])}catch(e){debugPing("creative parse error",{message:e},"fetch")}else"object"==typeof e[e.type][n][a][r][i]&&(t[n][a][r][i]=extend(t[n][a][r][i],e[e.type][n][a][r][i]))}else t[n][a][r][i]=e[e.type][n][a][r][i]}else t[n][a][r]=e[e.type][n][a][r]}else t[n][a]=e[e.type][n][a];t[n]=reindexArray(t[n]);break;case"error":case"vastadtaguri":case"impression":Object.prototype.hasOwnProperty.call(t,n)?"string"==typeof t[n]&&(t[n]=[t[n]]):t[n]=[],t[n].push(e[e.type][n]);break;case"impressions":Object.prototype.hasOwnProperty.call(t,n)?"string"==typeof t[n]&&(t[n]=[t[n]]):t[n]=[],t[n]=t[n].concat(e[e.type][n]);break;default:t[n]=e[e.type][n]}if(e[e.type].adId=s||"",Object.prototype.hasOwnProperty.call(e,"wrapperResponse")&&Object.prototype.hasOwnProperty.call(e.wrapperResponse,"ads")&&e.wrapperResponse.ads)for(a=0;a<e.wrapperResponse.ads.length;a+=1)t=getAds(e.wrapperResponse.ads[a],t)}return t},setupAds=function(e){var t=[];return each(e,(function(e,n){Object.prototype.hasOwnProperty.call(n,"ads")&&validator.isNotEmpty(n.ads)&&each(n.ads,(function(e,n){t.push(getAds(n))}))})),t},vAd={adProgress:function(e,t){var n="",r=percOf(e,t);return r>=100?n="completed":r>=75?n="thirdQuartile":r>=50?n="midpoint":r>=25?n="firstQuartile":r>0&&(n="started"),n},beginVastCalls:function(e,t){if(callStack.reset(),callStack.push("beginVastCalls"),window.dispatchEvent(new CustomEvent("adLoading")),validator.isSpecialEvent("ad_requested",e.creativeOptions[0].id)){var n={callers:callStack.getStack(),impressions:!1,tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adNetworkName:e.creativeOptions[0].name,adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:"",mediaType:"",adDuration:e.mediaDuration,adType:"",runTime:newTime()-e.starttime,msg:"Requesting Tag: "+e.creativeOptions[0].id,status:"ad_request",populatedTag:e.populatedTag};vEvents.fireEvent(e.target,"ad_requested",n)}adVASTCall(e,t).then((function(t){try{e.vastResponses=[t],playAds(e,setupAds(e.vastResponses))}catch(t){var n={callers:callStack.getStack(),impressions:!1,tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:"",mediaType:"",adDuration:e.mediaDuration,adType:"",runTime:newTime()-e.starttime,msg:"Calling Tag: "+JSON.stringify(t),status:"error"};vEvents.vastEvent("error",n,e)}})).catcherr((function(t){var n={callers:callStack.getStack(),impressions:!1,tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:"",mediaType:"",adDuration:e.mediaDuration,adType:"",runTime:newTime()-e.starttime,msg:"Calling Tag: "+JSON.stringify(t),status:"error"};vEvents.vastEvent("error",n,e)}))},a9ApiBidGetter:function(e,t){if("object"==typeof bidders&&bidders.hasOwnProperty("a9")&&bidders.a9.hasOwnProperty("initialized")){bidders.a9.timers.push(setTimeout((function(){e&&e()}),1e3));try{a9ApiCreativeFetcher(e,t)}catch(t){e&&e()}}else e&&e()},a9LibraryLoader:function(e,t){var n,r,i="//c.amazon-adsystem.com/aax2/apstag.js";if(!e.apstag){function a(t,n){e.apstag._Q.push([t,n])}e.apstag={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},Vendri.setupParams.debug&&(i+=i.indexOf("?")>-1?"&amzn_debug_mode=1":"?amzn_debug_mode=1"),(n=t.createElement("script")).async=!0,n.src=i,(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r)}},a9LibraryRemover:function(e,t){e.apstag&&(delete e.apstag,each(t.getElementsByTagName("script"),(function(e,t){t.src&&t.src.indexOf("//c.amazon-adsystem.com/aax2/apstag.js")>-1&&t.parentNode.removeChild(t)})))}},findMatchingCompanion=function(e,t){var n,r=!1;if(Object.prototype.hasOwnProperty.call(e[e.type],"companions")&&e[e.type].companions)for(n=0;n<e[e.type].companions.length;n+=1)if(validator.isDimention(t.width,t.height,e[e.type].companions[n])){(r=e[e.type].companions[n]).width=parseInt(e[e.type].companions[n].width)||0,r.height=parseInt(e[e.type].companions[n].height)||0;break}return r},setupSrcElement=function(e,t,n){var r,i=document.createElement(e);if(i.src=t,n)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r]);return i},companionScriptFix=function(e){var t,n;for(t=0;t<e.childElementCount;t+=1)if("SCRIPT"===e.childNodes[t].nodeName){(n=document.createElement("script")).src=e.childNodes[t].src,n.id=e.childNodes[t].id,e.removeChild(e.childNodes[t]),e.appendChild(n);break}},setupSwfElement=function(e,t){var n=document.createElement("object"),r=document.createElement("param");r.name="movie",r.value=e,n.appendChild(r),(r=document.createElement("param")).name="quality",r.value="high",n.appendChild(r),(r=document.createElement("param")).name="bgcolor",r.value="#ffffff",n.appendChild(r),(r=document.createElement("param")).name="allowScriptAccess",r.value="always",n.appendChild(r);var i=document.createElement("embed");return i.src=e,i.quality="high",i.bgcolor="#ffffff",i.width=t.width,i.height=t.height,i.name="companion",i.play="true",i.loop="false",i.quality="high",i.allowScriptAccess="always",i.type="application/x-shockwave-flash",i.pluginspage="//www.adobe.com/go/getflashplayer",n.appendChild(i),n},setupStaticCompanion=function(e,t,n){var r;if(Object.prototype.hasOwnProperty.call(n,"staticresource")&&n.staticresource&&Object.prototype.hasOwnProperty.call(n.staticresource,"creativeType")){var i={tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,companion:{height:n.height,width:n.width,type:n.type,resource:n.staticresource},runTime:0,status:"setupStaticCompanion",msg:"Create an static companion which may be clickable"};switch(n.staticresource.creativeType.toLowerCase()){case"application/x-shockwave-flash":i.msg="Static Ad Type: flash",r=setupSwfElement(n.staticresource.link,n),t.appendChild(r);break;case"application/x-javascript":i.msg="Static Ad Type: js",r=setupSrcElement("script",n.staticresource.link),t.appendChild(r);break;default:i.msg="Static Ad Type: img",Object.prototype.hasOwnProperty.call(n,"companionclickthrough")?t.innerHTML='<a href="'+n.companionclickthrough.link+'" target="_blank"><img src="'+n.staticresource.link+'" height="'+n.height+'" width="'+n.width+'"></a>':t.innerHTML='<img src="'+n.staticresource.link+'" height="'+n.height+'" width="'+n.width+'">'}Object.prototype.hasOwnProperty.call(n,"companionclickthrough")?"application/x-shockwave-flash"===n.staticresource.creativeType.toLowerCase()?(r.onclick=function(){window.open(n.companionclickthrough.link,"_blank")},vEvents.fireTrackingEvent("creativeView",n,e),i.runTime=newTime()-e.starttime,vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}})):"application/x-javascript"===n.staticresource.creativeType.toLowerCase()?(t.onclick=function(){window.open(n.companionclickthrough.link,"_blank")},vEvents.fireTrackingEvent("creativeView",n,e),i.runTime=newTime()-e.starttime,vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}})):(vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}})):(vEvents.fireTrackingEvent("creativeView",n,e),i.runTime=newTime()-e.starttime,vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:i,name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}})),"application/x-javascript"===n.staticresource.creativeType.toLowerCase()&&companionScriptFix(t)}},setupIframeCompanion=function(e,t,n){var r;Object.prototype.hasOwnProperty.call(n,"iframeresource")&&n.iframeresource&&((r=setupSrcElement("iframe",n.iframeresource.link,{height:n.height,width:n.width,seamless:"seamless",scrolling:"no",frameBorder:"0",style:"padding: 0; margin: 0; border: none;"})).style.padding="0",r.style.margin="0",r.style.border="none",Object.prototype.hasOwnProperty.call(n,"companionclickthrough")&&(t.onclick=function(){window.open(n.companionclickthrough.link,"_blank")}),vEvents.fireTrackingEvent("creativeView",n,e),vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:{tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,companion:{height:n.height,width:n.width,type:n.type,resource:n.iframeresource.link},runTime:newTime()-e.starttime,status:"setupIframeCompanion",msg:"Create an iframe companion which may be clickable"},name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:{tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,companion:{height:n.height,width:n.width,type:n.type,resource:n.iframeresource.link},runTime:newTime()-e.starttime,status:"setupIframeCompanion",msg:"Create an iframe companion which may be clickable"},name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.iframeresource.link}}))},setupHtmlCompanion=function(e,t,n){n&&n.htmlresource&&(t.innerHTML=n.htmlresource.link,companionScriptFix(t),Object.prototype.hasOwnProperty.call(n,"companionclickthrough")&&(t.onclick=function(){window.open(n.companionclickthrough.link,"_blank")}),vEvents.fireTrackingEvent("creativeView",n,e),vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:{tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,companion:{height:n.height,width:n.width,type:n.type,resource:n.htmlresource.link},runTime:newTime()-e.starttime,status:"setupHtmlCompanion",msg:"Create an iframe companion which may be clickable"},name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.staticresource}}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:{tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,companion:{height:n.height,width:n.width,type:n.type,resource:n.htmlresource.link},runTime:newTime()-e.starttime,status:"setupHtmlCompanion",msg:"Create an iframe companion which may be clickable"},name:"companion",message:{height:n.height,width:n.width,type:n.type,resource:n.htmlresource.link}}))},placeCompanion=function(e,t,n){switch("string"==typeof t&&(t=document.getElementById(t)),t.innerHTML="",n.type){case"staticresource":case"static":setupStaticCompanion(e,t,n);break;case"iframeresource":case"iframe":setupIframeCompanion(e,t,n);break;case"htmlresource":case"html":setupHtmlCompanion(e,t,n)}},companion={displayCompanions:function(e,t){e.companionCache=[];var n,r=0,i={link:"assets/default300x250.jpg",target:!1,valid:!1,pubIdentified:!1},a={link:"",target:!1,valid:!1},o={link:"",target:!1,valid:!1},s=function(t){var n,r=[];for(n=0;n<e.companionCache.length;n+=1)e.companionCache[n].target&&e.companionCache[n].target.innerHTML&&(e.companionCache[n].target.innerHTML=e.companionCache[n].html),r.push(e.companionCache[n]);vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:{tag:e.tag.toString(),instanceId:e.instanceId.toString(),version:e.version,items:r,runTime:newTime()-e.starttime,status:"restoreCompanion",msg:"Restore companions or clear them"},name:"companion",message:"cleared"}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:{tag:e.tag.toString(),instanceId:e.instanceId.toString(),version:e.version,items:r,runTime:newTime()-e.starttime,status:"restoreCompanion",msg:"Restore companions or clear them"},name:"companion",message:"cleared"}),removeEvent("adFinished",t.target,s)};if(e.companions)for(r=0;r<e.companions.length;r+=1)e.companions[r].target&&"string"==typeof e.companions[r].target&&(e.companions[r].target=document.getElementById(e.companions[r].target)),validator.isNotEmpty(e.companions[r].defaultBanner)?e.companions[r].resource=e.companions[r].defaultBanner:validator.isEmpty(e.companions[r].resource)&&(e.companions[r].resource=""),Object.prototype.hasOwnProperty.call(e.companions[r],"type")&&"header"===e.companions[r].type&&!a.valid&&e.useModal&&vPlayer.modal&&(e.companions[r].claimed=!0,extend(a,e.companions[r]),a.valid=!0,a.link=e.companions[r].resource,a.target=vPlayer.modalHeader),Object.prototype.hasOwnProperty.call(e.companions[r],"type")&&"footer"===e.companions[r].type&&!o.valid&&e.useModal&&vPlayer.modal&&(e.companions[r].claimed=!0,extend(o,e.companions[r]),o.valid=!0,o.link=e.companions[r].resource,o.target=vPlayer.modalFooter),"audio"===t[t.type].media.fileType&&(validator.isObject(e.companions[r].type)&&"audio"===e.companions[r].type&&validator.isNotEmpty(e.companions[r].resource)||!i.valid&&validator.isNotEmpty(e.companions[r].resource)&&validator.isWidthMatch(e.minWidth,e.companions[r]))&&(e.companions[r].claimed=!0,extend(i,e.companions[r]),i.valid=!0,i.pubIdentified=!0,i.link=e.companions[r].resource,i.target=(!e.useModal||!vPlayer.modal)&&e.companions[r].target,n=findMatchingCompanion(t,{width:e.companions[r].width,height:e.companions[r].height}));if(a.valid&&("string"==typeof a.link&&validator.isNotEmpty(a.link)?validator.isHtml(a.link)?a.ad={type:"html",htmlresource:{creativeType:"html",link:a.link}}:a.ad={type:"static",staticresource:{creativeType:"img",link:a.link}}:a.ad=findMatchingCompanion(t,{width:a.width,height:a.height}),a.ad&&placeCompanion(e,a.target,a.ad)),o.valid&&("string"==typeof o.link&&validator.isNotEmpty(o.link)?validator.isHtml(o.link)?o.ad={type:"html",htmlresource:{creativeType:"html",link:o.link}}:o.ad={type:"static",staticresource:{creativeType:"img",link:o.link}}:o.ad=findMatchingCompanion(t,{width:o.width,height:o.height}),o.ad&&placeCompanion(e,o.target,o.ad)),"audio"===t[t.type].media.fileType&&(n||i.pubIdentified||(n=findMatchingCompanion(t,{width:300,height:250})),i.target||(i.target=document.createElement("div"),i.target.className="audio_companion",e.target.firstChild.insertBefore(i.target,e.target.firstChild.firstChild)),e.companionCache.push({target:i.target,html:i.target.innerHTML||""}),placeCompanion(e,i.target,n||{type:"static",staticresource:{creativeType:"img",link:i.link}}),removeEvent("adFinished",e.eventTarget,s),addEvent("adFinished",e.eventTarget,s)),e.companions)for(r=0;r<e.companions.length;r+=1)Object.prototype.hasOwnProperty.call(e.companions[r],"target")&&(e.companions[r].target&&"string"==typeof e.companions[r].target&&(e.companions[r].target=document.getElementById(e.companions[r].target)),Object.prototype.hasOwnProperty.call(e.companions[r],"width")&&Object.prototype.hasOwnProperty.call(e.companions[r],"height")&&(e.companions[r].target&&(!Object.prototype.hasOwnProperty.call(e.companions[r],"adMediaType")||Object.prototype.hasOwnProperty.call(e.companions[r],"adMediaType")&&e.companions[r].adMediaType===t[t.type].media.fileType)?Object.prototype.hasOwnProperty.call(e.companions[r],"claimed")&&e.companions[r].claimed||((n=findMatchingCompanion(t,e.companions[r]))?(e.companions[r].claimed=!0,e.companionCache.push({target:e.companions[r].target,html:Object.prototype.hasOwnProperty.call(e.companions[r],"replace")&&e.companions[r].replace&&e.companions[r].target&&e.companions[r].target.innerHTML?e.companions[r].target.innerHTML:""}),placeCompanion(e,e.companions[r].target,n)):validator.isNotEmpty(e.companions[r].resource)&&Object.prototype.hasOwnProperty.call(e.companions[r],"clear")&&e.companions[r].clear!==t[t.type].media.fileType?(e.companions[r].claimed=!0,e.companionCache.push({target:e.companions[r].target,html:Object.prototype.hasOwnProperty.call(e.companions[r],"replace")&&e.companions[r].replace&&e.companions[r].target&&e.companions[r].target.innerHTML?e.companions[r].target.innerHTML:""}),placeCompanion(e,e.companions[r].target,{type:"static",staticresource:{creativeType:"img",link:e.companions[r].resource}})):Object.prototype.hasOwnProperty.call(e.companions[r],"clear")&&("all"===e.companions[r].clear||e.companions[r].clear===t[t.type].media.fileType||"video"===e.companions[r].clear&&"audio"!==t[t.type].media.fileType)&&(e.companions[r].target.innerHTML=""),removeEvent("adFinished",e.eventTarget,s),addEvent("adFinished",e.eventTarget,s)):e.companions[r]))}},Device=function(){var e,t=this,n=function(){var e,t=!1;try{t=(e=new Video)&&e.canPlayType}catch(n){try{t=(e=document.createElement("video"))&&e.canPlayType}catch(e){t=!1}}return!!t&&e}(),r=function(){var e,t=!1;try{t=(e=new Audio)&&e.canPlayType}catch(n){try{t=(e=document.createElement("audio"))&&e.canPlayType}catch(e){t=!1}}return!!t&&e}(),i=!!screen,a=Object.prototype.hasOwnProperty.call(document,"documentElement"),o=function(e){var n;return t.hasAttributes.screenWidth&&(e.screenWidth=screen.width,e.screenHeight=screen.height),t.hasAttributes.deviceXDPI&&(e.deviceXDPI=screen.deviceXDPI,e.deviceYDPI=screen.deviceYDPI,e.logicalXDPI=screen.logicalXDPI,e.logicalYDPI=screen.logicalYDPI),t.hasAttributes.devicePixelRatio&&(e.devicePixelRatio=window.devicePixelRatio),t.hasAttributes.pageXOffset&&(e.pageXOffset=window.pageXOffset,e.pageYOffset=window.pageYOffset),t.hasAttributes.offsetWidth&&(e.offsetWidth=document.documentElement.offsetWidth,e.offsetHeight=document.documentElement.offsetHeight),t.hasAttributes.clientWidth&&(e.clientWidth=document.documentElement.clientWidth,e.clientHeight=document.documentElement.clientHeight),t.hasAttributes.innerWidth&&(e.innerWidth=window.innerWidth,e.innerHeight=window.innerHeight),t.hasAttributes.scrollLeft&&(e.scrollLeft=document.documentElement.scrollLeft,e.scrollTop=document.documentElement.scrollTop),t.hasAttributes.scrollHeight&&(e.scrollHeight=document.documentElement.scrollHeight,e.scrollWidth=document.documentElement.scrollWidth),t.hasAttributes.height&&(e.height=document.height,e.width=document.width),t.hasAttributes.orientation?e.orientation=(n=window.orientation,t.isAndroid&&(90==n||-90==n)||!t.isAndroid&&(0==n||180==n)?"p":"l"):t.hasAttributes.screenWidth?e.orientation=e.screenWidth-e.screenHeight>=0?"l":"p":t.hasAttributes.clientWidth?e.orientation=e.clientWidth-e.clientHeight>=0?"l":"p":t.hasAttributes.offsetWidth&&(e.orientation=e.offsetWidth-e.offsetHeight>=0?"l":"p"),t.hasAttributes.innerWidth?e.viewOrientation=e.innerWidth-e.innerHeight>=0?"l":"p":t.hasAttributes.clientWidth&&(e.orientation=e.clientWidth-e.clientHeight>=0?"l":"p"),e};extend(this,{TOUCH_DOWN_EVENT_NAME:"mousedown touchstart",TOUCH_UP_EVENT_NAME:"mouseup touchend",TOUCH_MOVE_EVENT_NAME:"mousemove touchmove",TOUCH_DOUBLE_TAB_EVENT_NAME:"dblclick dbltap",isWebOs:validator.isWebOs(),isAndroid:validator.isAndroid(),isAndroidSDK:validator.isAndroidSDK(),isIosSDK:validator.isIosSDK(),isIOsWebView:validator.isIOsWebView(),isBlackBerry:validator.isBlackBerry(),isIpad:validator.isIpad(),isIpod:validator.isIpod(),isIphone:validator.isIphone(),isMobileOpera:validator.isMobileOpera(),isMobileIe:validator.isMobileIe(),isWindowsPhone:validator.isWindowsPhone(),isIE:validator.isIE(),isChrome:validator.isChrome(),isSafari:validator.isSafari(),isFirefox:validator.isFirefox(),isOpera:validator.isOpera(),isMobile:validator.isMobile(),isIos:validator.isIos(),isMobileWindows:validator.isMobileWindows(),isCorsDevice:validator.isCorsDevice(),isTablet:validator.isTablet(),isPhone:validator.isPhone(),isHtml5AudioSafe:validator.isHtml5AudioSafe(),hasActiveX:validator.hasActiveX(),isFlashSafe:validator.isFlashSafe(),hasScoper:validator.hasScoper(),html5VideoObject:n,html5AudioObject:r,hasEvents:{orientationchange:!1,matchMediaOrientation:!1},hasAttributes:{hasScreen:i,hasDocumentElement:Object.prototype.hasOwnProperty.call(document,"documentElement"),screenWidth:i&&Object.prototype.hasOwnProperty.call(screen,"width"),deviceXDPI:i&&Object.prototype.hasOwnProperty.call(screen,"deviceXDPI"),devicePixelRatio:Object.prototype.hasOwnProperty.call(window,"devicePixelRatio"),pageXOffset:Object.prototype.hasOwnProperty.call(window,"pageXOffset"),innerWidth:Object.prototype.hasOwnProperty.call(window,"innerWidth"),orientation:Object.prototype.hasOwnProperty.call(window,"orientation"),offsetWidth:a&&Object.prototype.hasOwnProperty.call(document.documentElement,"offsetWidth"),clientWidth:a&&Object.prototype.hasOwnProperty.call(document.documentElement,"clientWidth"),scrollLeft:a&&Object.prototype.hasOwnProperty.call(document.documentElement,"scrollLeft"),scrollHeight:a&&Object.prototype.hasOwnProperty.call(document.documentElement,"scrollHeight"),height:Object.prototype.hasOwnProperty.call(document,"height")},screen:{orientation:"l",viewOrientation:"l",screenWidth:0,screenHeight:0,deviceXDPI:0,deviceYDPI:0,logicalXDPI:0,logicalYDPI:0,devicePixelRatio:0,pageXOffset:0,pageYOffset:0,offsetWidth:0,offsetHeight:0,clientWidth:0,clientHeight:0,scrollLeft:0,scrollTop:0,scrollHeight:0,scrollWidth:0,innerHeight:0,innerWidth:0,height:0,width:0}}),this.screen=(e=o(e={orientation:"l",viewOrientation:"l",screenWidth:!1,screenHeight:!1,deviceXDPI:!1,deviceYDPI:!1,logicalXDPI:!1,logicalYDPI:!1,devicePixelRatio:!1,pageXOffset:!1,pageYOffset:!1,offsetWidth:!1,offsetHeight:!1,clientWidth:!1,clientHeight:!1,scrollLeft:!1,scrollTop:!1,amVisiable:function(){return!0}}),addEvent("resize",window,(function(){e=o(e)})),e),this.getDocumentHeight=function(){var e,n=[t.screen.height,t.screen.innerHeight,t.screen.scrollHeight,t.screen.offsetHeight,t.screen.clientHeight],r=[],i=480;for(e=0;e<n.length;e+=1)n[e]&&n[e]>10&&r.push(n[e]);return validator.isNotEmpty(n)&&(i=Math.min.apply(Math,r)),i},this.getDocumentWidth=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth},this.bitrateTest=function(){var e,n,r=new Image;function i(){clearTimeout(e)}function a(){this.onload=this.onabort=this.onerror=function(){},i()}function o(){var o;r.onerror=r.onabort=a,r.onload=function(){i();var e=(newTime()-n)/1e3,r=8*bitrate.downloadSize;bitrate.value=parseInt(r/e/1024),bitrate.value<bitrate.def&&!t.isMobile&&(bitrate.value=bitrate.def)},n=newTime(),r.src=bitrate.imageAddr+"?"+cacheBuster(),e=setTimeout((o=r,function(){a.call(o)}),500)}bitrate.async?setTimeout((function(){o()}),0):o()},this.mediaSupportedOnDevice={any:function(e){var n,r,i,a=!0,o=["video/x-ms-wmv;","video/3gpp;"],s=["video/ogg;","video/webm;"];if(validator.isArray(e))for(n=0;n<e.length;n+=1){if(r=e[n].mimeType+";","javascript"===(i=e[n].fileType)){a=!0;break}if("flv"===i||"swf"===i){if(!t.isMobile&&t.isFlashSafe){a=!0;break}}else if(!exists(o,r)){if("audio"===i&&t.html5AudioObject&&(t.html5AudioObject.canPlayType(r).replace(/no/,"")||t.isFlashSafe)){a=!0;break}if("video"===i&&t.html5VideoObject&&(t.html5VideoObject.canPlayType(r).replace(/no/,"")||t.isFlashSafe&&!exists(s,r))){a=!0;break}}}return a},as:function(e){var n,r,i=!1;return n=e.mimeType+";","javascript"===(r=e.fileType)&&(i="javascript"),"flv"===r||"swf"===r?!t.isMobile&&t.isFlashSafe&&(i="flash"):exists(["video/x-ms-wmv;","video/3gpp;"],n)||("audio"===r&&t.html5AudioObject&&(t.html5AudioObject.canPlayType(n).replace(/no/,"")?i="html5":t.isFlashSafe&&(i="flash")),"video"===r&&t.html5VideoObject&&(t.html5VideoObject.canPlayType(n).replace(/no/,"")?i="html5":t.isFlashSafe&&!exists(["video/ogg;","video/webm;"],n)&&(i="flash"))),i}}},function(){VPlayer=function(){var vPlayer=this,touchStartPromise,optIn,videoPosition=0,playGestureGranted=!1,seekAttempted=!1,seekPrevention=function(e,t){var n=0,r=!1,i=function(){e.currentTime;r=!0,seekAttempted=!0},a=function(){var t=e.currentTime;(t>n+.1||t<n-.1)&&(e.currentTime=n),e.play(),seekAttempted=!0,r=!1},o=function(t){e.currentTime;r||(videoPosition=e.currentTime,n=e.currentTime)};t?(e.addEventListener("seeking",i),e.addEventListener("seeked",a),e.addEventListener("timeupdate",o)):(e.removeEventListener("seeking",i),e.removeEventListener("seeked",a),e.removeEventListener("timeupdate",o))},VPAIDWrapper;this.volume=.7,this.touchVideo=void 0,this.modal=void 0,this.popup=void 0,this.overlay=void 0,this.fullscreen=!1,this.bodyOrigOverflow,this.removeModal=function(e){e.useModal&&vPlayer.modal&&(document.body.style.overflow=vPlayer.bodyOrigOverflow,vPlayer.modal.parentNode.removeChild(vPlayer.modal),removeEvent("resize",window,(function(){vPlayer.moveModal(e)})),removeEvent("orientationchange",window,(function(){vPlayer.moveModal(e)})),removeEvent("scroll",window,(function(){vPlayer.moveModal(e)})),vPlayer.modalTarget=null,vPlayer.modal=null)},this.makeModal=function(e){var t=device.getDocumentHeight()/2-e.height/2,n=device.getDocumentWidth()/2-e.width/2,r="rgb(255, 255, 255)",i="0.8";if(isFinite(t)&&!isNaN(t)||(t=device.getDocumentHeight()/2-100),(!isFinite(t)||isNaN(t)||t<0)&&(t=e.height/2),(!isFinite(t)||isNaN(t)||t<0)&&(t=0),"dark"===e.theme?(r="rgb(4, 5, 4)",i="0.8"):"light"===e.theme&&(r="rgb(255, 255, 255)",i="0.8"),!vPlayer.modal&&!vPlayer.modalTarget){var a=document.createElement("div");a.id="vmodal";var o=document.createElement("div");o.style.cssText="display:none !important;opacity:"+i+" !important; background-color:"+r+" !important;position:fixed !important;z-index:100000 !important;height:100% !important;width:100% !important;top:0 !important;left:0 !important;",o.id="voverlay",o.className=e.theme,a.appendChild(o);var s=document.createElement("div");s.style.cssText="top:"+t+"px;left:"+n+"px;display:none !important;width:1px;height:1px;overflow:hidden !important;opacity: 1 !important;position:absolute !important;z-index:100001 !important;",s.id="vpopup",a.appendChild(s);var u=document.createElement("div");u.id="vheader",s.appendChild(u);var c=document.createElement("div");c.id="vtarget",s.appendChild(c);var l=document.createElement("div");l.id="vtargetfooter",s.appendChild(l),document.body.appendChild(a),vPlayer.modal=a,vPlayer.popup=s,vPlayer.overlay=o,vPlayer.modalTarget=c,vPlayer.modalHeader=u,vPlayer.modalFooter=l,removeEvent("resize",window,(function(){vPlayer.moveModal(e)})),removeEvent("orientationchange",window,(function(){vPlayer.moveModal(e)})),removeEvent("scroll",window,(function(){vPlayer.moveModal(e)})),addEvent("resize",window,(function(){vPlayer.moveModal(e)})),addEvent("orientationchange",window,(function(){vPlayer.moveModal(e)})),addEvent("scroll",window,(function(){vPlayer.moveModal(e)}))}return vPlayer.modalTarget},this.moveModal=function(e){if(vPlayer.modal&&vPlayer.popup){var t=e.height||e.minHeight+250,n=e.width||e.minWidth,r=document.body.scrollTop||0,i=document.body.scrollLeft||0;vPlayer.fullscreen||(vPlayer.popup.style.top=device.getDocumentHeight()/2+r-t/2+"px",vPlayer.popup.style.left=device.getDocumentWidth()/2+i-n/2+"px")}},this.showModal=function(e){if(vPlayer.bodyOrigOverflow=document.body.style.overflow,vPlayer.modal){if(e){try{vPlayer.overlay.className+=" hide"}catch(e){}try{vPlayer.popup.style.overflow="hidden !important"}catch(e){}try{vPlayer.popup.style.height="1px"}catch(e){}try{vPlayer.popup.style.width="1px"}catch(e){}}else vPlayer.overlay.className=vPlayer.overlay.className.replace(/hide/g,""),vPlayer.overlay.style&&vPlayer.overlay.style.display&&(vPlayer.overlay.style.display=""),vPlayer.overlay.style.display="block",document.body.style.overflow="hidden",vPlayer.popup.style.overflow="",vPlayer.popup.style.height="",vPlayer.popup.style.width="";try{vPlayer.popup.style&&vPlayer.popup.style.display&&(vPlayer.popup.style.display="")}catch(e){}}},this.skipLink=function(e,t,n,r){var i,a,o=!1,s=!1,u=function(e){o&&(r&&(n.adPlayheadPosition=r.currentTime,r&&r.style&&(r.setAttribute("width","1px"),r.setAttribute("height","1px")),r.unsubscribe(),clearInterval(r.playProgressInterval),r.unsubscribe=null),vEvents.vastEvent("skip",n,t),vPlayer.fullscreen&&(vPlayer.fullscreen=!1)),document.body.style.overflow=vPlayer.bodyOrigOverflow};function c(e,t){nodeTextContentInsert(t,e.adSkip.textAfter),t.className="skip",o=!0}return t.skippableLink.show=function(){i&&(i.style.display="")},t.skippableLink.hide=function(){i&&(i.style.display="none")},t.skippableLink.isplaying=function(e){t.skippableLink.show(),s=!0},t.skippableLink.ispaused=function(e){s=!1},t.skippableLink.create=function(t,n){var r,o=parseInt(t.adSkip.duration);!a&&t.adSkip.enabled&&((i=document.createElement("div")).className="skip-container",r=(r=parseInt(o%60,10))<10?"0"+r:r,a=document.createElement("a"),nodeTextContentInsert(a,t.adSkip.textBefore.replace(/\{duration}/g,r.toString())),a.className="skip soon",i.onclick=u,s||t.skippableLink.hide(),i.appendChild(a),e.appendChild(i),function(e,t){if(e.adSkip.duration&&e.adSkip.duration>0){var n,r,i=parseInt(e.adSkip.duration),a=newTime(),o=newTime();r=setInterval((function(){s&&(!0,o=newTime(),n=(n=parseInt(i%60,10))<10?"0"+n:n,nodeTextContentInsert(t,e.adSkip.textBefore.replace(/\{duration}/g,n.toString())),(i-=Math.round((o-a)/1e3))<0&&(clearInterval(r),c(e,t))),a=newTime()}),1e3)}else c(e,t)}(t,a))},t.skippableLink.create(t,n),t.skippableLink},this.cancelX=function(e,t,n){t.cancelX=document.createElement("div");var r=t.cancelX;return r.setAttribute("class","vendriIcon_active_control"),r.setAttribute("id","vendriIcon_close"),r.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31"><path d="M3 0 L0 3 L28 31 L31 28 Z M0 28 L3 31 L31 3 L28 0 Z"></path></svg>'),t.controls&&t.controls.close&&e.appendChild(r),r.addEventListener("click",(function(){vEvents.vastEvent("skip",n,t),document.body.style.overflow=vPlayer.bodyOrigOverflow})),r},this.crossDeviceVideoMaker=function(e,t){var n;return stashedVideoSlot?(vPlayer.touchVideo=stashedVideoSlot,n=vPlayer.touchVideo):(n=e.createElement("video"),seekPrevention(n,!0),vPlayer.touchVideo=n),n.setAttribute("playsinline",""),n.setAttribute("poster",CONSTANTS.blackPoster),n.setAttribute("width","1px"),n.setAttribute("height","1px"),n.setAttribute("autoplay",""),n.style.display="",n},this.crossDeviceVideoRemove=function(e){if(vPlayer&&vPlayer.touchVideo){for(validator.isFunction(vPlayer.touchVideo.unsubscribe)&&vPlayer.touchVideo.unsubscribe(),seekPrevention(vPlayer.touchVideo,!1),setTimeout((function(){vPlayer.touchVideo.setAttribute("width","1px"),vPlayer.touchVideo.setAttribute("height","1px")}),0);vPlayer.touchVideo.firstChild;)vPlayer.touchVideo.removeChild(vPlayer.touchVideo.firstChild);vPlayer.touchVideo.setAttribute("playsinline",""),vPlayer.touchVideo.setAttribute("poster",CONSTANTS.blackPoster),vPlayer.touchVideo.setAttribute("width","1px"),vPlayer.touchVideo.setAttribute("height","1px"),vPlayer.touchVideo.setAttribute("autoplay",""),vPlayer.touchVideo.style.display="none",device.isIos&&vPlayer.touchVideo.webkitExitFullScreen(),document.body.appendChild(vPlayer.touchVideo);try{vPlayer.touchVideo.src="",vPlayer.touchVideo.load()}catch(e){debugPing("crossDeviceVideoRemove; failure on load",{message:e},"playback")}}this.removeModal(e),e.replace&&e.replaceData&&!e.useModal?e.target.innerHTML=e.replaceData:e.useModal||(e.target.innerHTML="")},this.makeFullScreen=function(e,t){e.requestFullscreen?document.fullScreenElement?document.cancelFullScreen():e.requestFullscreen():e.msRequestFullscreen?document.msFullscreenElement?document.msExitFullscreen():e.msRequestFullscreen():e.mozRequestFullScreen?document.mozFullScreenElement?document.mozCancelFullScreen():e.mozRequestFullScreen():e.webkitRequestFullscreen&&(document.webkitFullscreenElement?document.webkitCancelFullScreen():e.webkitRequestFullscreen()),t.stopPropagation()},this.makeInterface=function(e,t){var n,r,i,a,o,s,u,c,l,d,f,p,h,v,m,g,y,b,_,A,S,E,w,T,P,C,O,k;try{n=t.target.ownerDocument,r=document.createElementNS("http://www.w3.org/2000/svg","svg").namespaceURI,(i=n.createElement("table")).setAttribute("id","vendriIcon_controls"),i.setAttribute("class","vendriIcon_invisible"),a=n.createElement("tbody"),i.appendChild(a),o=n.createElement("tr"),a.appendChild(o),(u=n.createElement("td")).setAttribute("id","vendriIcon_play"),u.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M0 0 L0 31 L31 15.5 Z"></path></svg>'),(c=n.createElement("td")).style.display="none",c.setAttribute("id","vendriIcon_pause"),c.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M2 2 L2 29 L11 29 L11 2 Z M20 2 L20 29 L29 29 L29 2 Z"></path></svg>'),(l=n.createElement("td")).setAttribute("class","vendriIcon_progress"),l.insertAdjacentHTML("beforeend",'<div class="vendriIcon_progressBacking"><div id="vendriIcon_loaded"></div><div id="vendriIcon_playpos"></div></div>'),f=l.children[0].children[1],d=l.children[0].children[0],(p=n.createElement("td")).setAttribute("id","vendriIcon_clock"),p.setAttribute("class","vendriIcon vendriIcon_active_control"),p.insertAdjacentHTML("beforeend","00:00 / 00:00"),(h=n.createElement("td")).setAttribute("id","vendriIcon_mute"),h.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M0 9 L0 22 L9 22 L18 31 L18 0 L9 9 Z M23 8 A11 11 0 0 1 23 23 L26 26 A15.24 15.24 0 0 0 26 5 Z"></path></svg>'),(v=n.createElement("td")).style.display="none",v.setAttribute("id","vendriIcon_muted"),v.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M5 9 L5 22 L14 22 L23 31 L23 0 L14 9 Z" class="vendriIcon_inactive_control"></path><path class="vendriIcon_active_control" d="M3 0 L0 3 L28 31 L31 28 Z M0 28 L3 31 L31 3 L28 0 Z"></path></svg>'),(m=n.createElement("td")).setAttribute("id","vendriIcon_volume"),m.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" preserveAspectRatio="none" class="vendriIcon"><defs><linearGradient id="volumeState"><stop class="vendriIcon_active_control vendriIcon_vcpos" offset="84%"></stop><stop class="vendriIcon_inactive_control vendriIcon_vcpos" offset="84%"></stop></linearGradient></defs><path d="M0 31 L31 31 L31 0 Z" fill="url(#volumeState)"></path></svg>'),y=m.children[0],g=y.getElementsByTagNameNS(r,"defs")[0].children[0].children,(b=n.createElement("td")).setAttribute("id","vendriIcon_fs_inactive"),b.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M0 0 l0 12 l3 0 l0 -6 l8 8 l3 -3 l-8 -8 l6 0 l0 -3 Z M0 19 l0 12 l12 0 l0 -3 l-6 0 l8 -8 l-3 -3 l-8 8 l0 -6 Z M31 0 l-12 0 l0 3 l6 0 l-8 8 l3 3 l8 -8 l0 6 l3 0 Z M31 31 l0 -12 l-3 0 l0 6 l-8 -8 l-3 3 l8 8 l-6 0 l0 3 Z"></path></svg>'),(_=n.createElement("td")).setAttribute("id","vendriIcon_fs_active"),_.insertAdjacentHTML("beforeend",'<svg viewBox="0 0 31 31" class="vendriIcon vendriIcon_active_control"><path d="M13 13 l0 -12 l-3 0 l0 6 l-7 -7 l-3 3 l7 7 l-6 0 l0 3 Z M18 13 l12 0 l0 -3 l-6 0 l7 -7 l-3 -3 l-7 7 l0 -6 l-3 0 Z M13 18 l-12 0 l0 3 l6 0 l-7 7 l3 3 l7 -7 l0 6 l3 0 Z M18 18 l0 12 l3 0 l0 -6 l7 7 l3 -3 l-7 -7 l6 0 l0 -3 Z"></path></svg>'),A=function(){var e,t=!1;function n(){t=!1,i.setAttribute("class","vendriIcon_invisible")}function r(){return setTimeout(n,1e3)}return function(){t?(clearTimeout(e),e=r()):(t=!0,i.setAttribute("class",""),e=r())}}(),C="",O={val:0,min:0,sec:0},k={val:0,min:0,sec:0},S=function(e){"timeupdate"===e.type&&(O.val=e.target.currentTime,O.sec=Math.floor(O.val%60),O.min=Math.floor(O.val/60),O.min<10&&(O.min="0"+O.min.toString()),O.sec<10&&(O.sec="0"+O.sec.toString()),k.val=e.target.duration,k.sec=Math.floor(k.val%60),k.min=Math.floor(k.val/60),k.min<10&&(k.min="0"+k.min.toString()),k.sec<10&&(k.sec="0"+k.sec.toString()),C=O.val/k.val*100+"%",f.style.width=C,p.innerHTML=O.min+":"+O.sec+" / "+k.min+":"+k.sec)},E=function(){var e=0,t=0,n={},r=0;return function(i){if("progress"===i.type){e=i.target.currentTime,t=0,n=i.target.buffered;try{for(;!(n.start(t)<=e&&e<=n.end(t));)t+=1;r=n.end(t)/i.target.duration*100}catch(e){r=100}d.style.width=r+"%"}}}(),w=function(){(T=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)?"vwrapper"===T.className&&(b.style.display="none",_.style.display=""):(_.style.display="none",b.style.display="")},P=function(e){var t=100*e+"%";g[0].setAttributeNS(null,"offset",t),g[1].setAttributeNS(null,"offset",t)},s=!1,t.controls.play&&(s=!0,o.appendChild(u),o.appendChild(c)),t.controls.progress&&(s=!0,o.appendChild(l),o.appendChild(p)),t.controls.mute&&(s=!0,o.appendChild(h),o.appendChild(v)),t.controls.volume&&(s=!0,o.appendChild(m)),t.controls.fullscreen&&(s=!0,o.appendChild(b),o.appendChild(_),vPlayer.fullscreen?b.style.display="none":_.style.display="none",o.appendChild(b),o.appendChild(_)),s&&(t.useModal,e.appendChild(i)),i.fsInactive=b,i.fsActive=_,i.play=u,i.pauser=c,i.volume=m,i.mute=h,i.muted=v,i.showInterface=A,i.progressUpdate=S,i.loadedProgress=E,i.updateFs=w,i.updateVolume=P}catch(e){}return i},this.embedStaticCreative=function(instance){var creative=instance.creative;function scriptFix(container){var codes=container.getElementsByTagName("script"),i;for(i=0;i<codes.length;i++)eval(codes[i].text)}if(instance.target.innerHTML="",creative&&creative.resource){callStack.reset(),callStack.push("embedStaticCreative");var adEvtObj={callers:callStack.getStack(),creatives:instance.creatives,retry:instance.retries.toString(),adSlotPosition:1*instance.adSlotPosition,adBreakType:instance.adBreakType.toString(),adSlots:1*instance.adSlots,fallback:instance.fallbacks.toString(),tagPosition:instance.tagPosition.toString(),totalTags:instance.totalTags.toString(),instanceId:instance.instanceId.toString(),version:instance.version,mediaSrc:creative.resource,mediaType:"media",mediaDuration:instance.mediaDuration,runTime:0,tag:""};instance.mediaDuration||vendriTimer.stop(instance,"duration"),instance.target.innerHTML=creative.resource,scriptFix(instance.target),adEvtObj.status="start",adEvtObj.msg="Starting HTML Creative",adEvtObj.runTime=newTime()-instance.starttime,vEvents.vastEvent("start",adEvtObj,instance),vEvents.fireVendriEvent("start",adEvtObj,instance),vEvents.fireVendriEvent("impression",adEvtObj,instance),vEvents.fireInstanceEvent(instance,"adStarted",{adEvtObj:adEvtObj}),vEvents.fireEvent(instance.eventTarget,"adStarted",{adEvtObj:adEvtObj}),vEvents.fireInstanceEvent(instance,"vstarted",{adEvtObj:adEvtObj}),vEvents.fireEvent(instance.eventTarget,"vstarted",{adEvtObj:adEvtObj})}},this.embedMediaCreative=function(e){var t=e.creative;if(e.target.innerHTML="",t&&t.resource){callStack.reset(),callStack.push("embedMediaCreative");var n,r={callers:callStack.getStack(),creatives:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:t.resource,mediaType:"media",mediaDuration:e.mediaDuration,runTime:0,tag:""};switch(t.fileType){case"i":n=document.createElement("img");break;case"a":n=document.createElement("audio");break;case"v":n=document.createElement("video")}e.mediaDuration||vendriTimer.stop(e,"duration"),n.onload=function(){r.status="start",r.msg="Starting HTML Creative",r.runTime=newTime()-e.starttime,vEvents.vastEvent("start",r,e),vEvents.fireVendriEvent("start",r,e),vEvents.fireVendriEvent("impression",r,e)},e.target.appendChild(n),n.src=t.resource}},this.embedHTMLCreative=function(e){var t=e.creative;if(e.target.innerHTML="",t&&t.resource){var n;callStack.reset(),callStack.push("embedHTMLCreative");var r,i={callers:callStack.getStack(),creatives:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:t.resource,mediaType:"html",mediaDuration:e.mediaDuration,runTime:0},a=document.createElement("iframe"),o=0;a.id="vendriHtml5loadframe",a.scrolling="no",a.seamless="seamless",a.frameBorder="0",a.setAttribute("allow","autoplay"),a.width=t.width||640,a.height=t.height||480,e.target.appendChild(a),n=setInterval((function(){if(a.contentDocument||a.contentWindow||o>=200){clearInterval(n),(r=a.contentDocument||a.contentWindow.document).open(),r.write("<html><head><style>"+base64.decode("Ym9keSB7IG1hcmdpbjogMDsgfQ0KI3ZpZGVvIHsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgfQ0KdmlkZW8gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KICAgIHRvcDogMHB4ICFpbXBvcnRhbnQ7DQogICAgbGVmdDogMHB4ICFpbXBvcnRhbnQ7DQogICAgLypoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsqLw0KICAgIC8qd2lkdGg6IDEwMCUgIWltcG9ydGFudDsqLw0KICAgIC8qei1pbmRleDogMSAhaW1wb3J0YW50OyovDQp9DQouc2tpcC1jb250YWluZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KICAgIHRvcDogMTBweCAhaW1wb3J0YW50Ow0KICAgIHJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7DQogICAgY29sb3I6IGRhcmtncmF5Ow0KICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjIpOw0KICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOw0KICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICB6LWluZGV4OiA5OTk5OTsNCn0NCi5za2lwLWNvbnRhaW5lcjpob3ZlciB7DQogICAgY29sb3I6IHdoaXRlOw0KfQ0KLnNraXA6aG92ZXIgew0KICAgIGNvbG9yOiB3aGl0ZTsNCn0NCi5zb29uIHsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCiNjb250cm9scyB7IGRpc3BsYXk6IG5vbmU7IG9wYWNpdHk6IDAuODU7IGNvbG9yOiAjZmZmOyBwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogMzBweDsgfQ0KLmNvbnRyb2wgeyBmbG9hdDogbGVmdDsgaGVpZ2h0OiAyNXB4OyB3aWR0aDogMjVweDsgbWFyZ2luLXJpZ2h0OiA1cHg7IGJhY2tncm91bmQtY29sb3I6ICMwMDFFMjU7IHRleHQtYWxpZ246IGNlbnRlcjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCi5jb250cm9sOmxhc3QtY2hpbGQgeyBtYXJnaW4tcmlnaHQ6IDA7IH0NCi5jb250cm9sOmZpcnN0LWNoaWxkIHsgbWFyZ2luLWxlZnQ6IDVweDsgfQ0KI3BsYXkgc3BhbiB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDBweDsgbGluZS1oZWlnaHQ6IDA7IH0NCiNwbGF5LnBsYXkgc3BhbiB7IHdpZHRoOiAwOyBoZWlnaHQ6IDA7IG1hcmdpbjogOHB4IDAgMCA4cHg7IGJvcmRlci10b3A6IDVweCBzb2xpZCAjMDAxRTI1OyBib3JkZXItbGVmdDogMTBweCBzb2xpZCAjZmZmOyBib3JkZXItYm90dG9tOiA1cHggc29saWQgIzAwMUUyNTsgfQ0KI3BsYXkucGF1c2Ugc3BhbiB7IHdpZHRoOiAzcHg7IGhlaWdodDogMTBweDsgbWFyZ2luOiA4cHggYXV0byAwOyBib3JkZXItdG9wOiAwcHg7IGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2ZmZjsgYm9yZGVyLWJvdHRvbTogMHB4OyBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCAjZmZmOyB9DQojcHJvZ3Jlc3MgeyB3aWR0aDogMTkwcHg7IH0NCiNwcm9ncmVzcyAjcHJvZ3Jlc3NfYm94IHsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiAxMDBweDsgaGVpZ2h0OiA5cHg7IGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7IGJhY2tncm91bmQtY29sb3I6ICMwMDFFMjU7IG1hcmdpbjogN3B4IDAgMCA1cHg7IG92ZXJmbG93OmhpZGRlbjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjcGxheV9wcm9ncmVzcyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMHB4OyBoZWlnaHQ6IDlweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjbG9hZF9wcm9ncmVzcyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMHB4OyBoZWlnaHQ6IDlweDsgYmFja2dyb3VuZC1jb2xvcjogIzc3NzsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjcGxheV90aW1lIHsgZmxvYXQ6IGxlZnQ7IG1hcmdpbjogN3B4IDAgMCA1cHg7IGZvbnQtc2l6ZTogMTBweDsgbGluZS1oZWlnaHQ6IDE7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOyAgfQ0KI3ZvbHVtZSB7IHdpZHRoOiA1MHB4OyB9DQojdm9sdW1lIHNwYW4geyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiA0cHggMCAwIDVweDsgfQ0KI3ZvbHVtZSB1bCB7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGxpc3Qtc3R5bGU6IG5vbmU7IH0NCiN2b2x1bWUgdWwgbGkgeyBmbG9hdDogbGVmdDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBsaXN0LXN0eWxlOiBub25lOyB3aWR0aDogNXB4OyBtYXJnaW4tcmlnaHQ6IDJweDsgaGVpZ2h0OiAwcHg7IGJvcmRlci1ib3R0b206IDE4cHggc29saWQgIzU1NTsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMSkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAycHg7IGhlaWdodDogMTZweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMikgeyBib3JkZXItYm90dG9tLXdpZHRoOiA0cHg7IGhlaWdodDogMTRweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMykgeyBib3JkZXItYm90dG9tLXdpZHRoOiA3cHg7IGhlaWdodDogMTFweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoNCkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAxMHB4OyBoZWlnaHQ6IDhweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoNSkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAxNHB4OyBoZWlnaHQ6IDRweDsgfQ0KI2Z1bGxfc2NyZWVuIHNwYW4geyBkaXNwbGF5OiBibG9jazsgZmxvYXQ6IGxlZnQ7IG1hcmdpbjogNXB4IDAgMCA1cHg7IHBhZGRpbmc6IDA7IH0NCiNmdWxsX3NjcmVlbiBzcGFuIHRhYmxlIHsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9DQojZnVsbF9zY3JlZW4gc3BhbiB0YWJsZSB0ZCB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgdGV4dC1hbGlnbjogbGVmdDsgdmVydGljYWwtYWxpZ246IHRvcDsgfQ0KI2Z1bGxfc2NyZWVuIHNwYW4gdGFibGUgdHI6Zmlyc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQgeyB3aWR0aDogOXB4OyBoZWlnaHQ6IDlweDsgfQ0KI2Z1bGxfc2NyZWVuIC5mcy1jb3JuZXIgeyBmb250LXNpemU6IDA7IGxpbmUtaGVpZ2h0OiAwOyB3aWR0aDogMDsgfQ0KI2Z1bGxfc2NyZWVuICNmc190b3BfbGVmdCB7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7IGJvcmRlci1yaWdodDogNnB4IHNvbGlkICMwMDFFMjU7IH0NCiNmdWxsX3NjcmVlbiAjZnNfdG9wX3JpZ2h0IHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4gI2ZzX2JvdHRvbV9sZWZ0IHsgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuICNmc19ib3R0b21fcmlnaHQgeyBib3JkZXI6IG5vbmU7IGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjZmZmOyBib3JkZXItbGVmdDogNnB4IHNvbGlkICMwMDFFMjU7IH0NCiNmdWxsX3NjcmVlbi5mcy1hY3RpdmUgI2ZzX3RvcF9sZWZ0IHsgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4uZnMtYWN0aXZlICNmc190b3BfcmlnaHQgeyBib3JkZXI6IG5vbmU7IGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjZmZmOyBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4uZnMtYWN0aXZlICNmc19ib3R0b21fbGVmdCB7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7IGJvcmRlci1sZWZ0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSAjZnNfYm90dG9tX3JpZ2h0IHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSBzcGFuIHRhYmxlIHRyOmZpcnN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkIHsgd2lkdGg6IDEzcHg7IGhlaWdodDogMTNweDsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSBzcGFuIHsgZGlzcGxheTogYmxvY2s7IGZsb2F0OiBsZWZ0OyBtYXJnaW46IDNweCAwIDAgM3B4OyBwYWRkaW5nOiAwOyB9")+"</style></head><body>"+t.resource+"</body></html>"),r.close();var s=600,u=function(){setTimeout((function(){s-=1;var t=r.body;t?(vPlayer.skipLink(t,e,i),e.skippableLink.isplaying(),i.status="start",i.msg="Starting HTML Creative",i.runTime=newTime()-e.starttime,vEvents.vastEvent("start",i,e),vEvents.fireVendriEvent("start",i,e),vEvents.fireVendriEvent("impression",i,e)):s>0?u():(i.retry=e.retries.toString(),i.adSlotPosition=1*e.adSlotPosition,i.adSlots=1*e.adSlots,i.adBreakType=e.adBreakType.toString(),i.fallback=e.fallbacks.toString(),i.tagPosition=e.tagPosition.toString(),i.status="timeout",i.msg="HTML Creative Timeout waiting for the iframe",i.runTime=newTime()-e.starttime,vEvents.vpaidEvent("timeout",i,e))}),100)};u()}o+=1}),10)}},this.embedHTML5VPAIDPlayer=function(e){var t,n,r,i=e.creative,a=document.createElement("script"),o=!1;e.target.innerHTML="";var s,u,c=!1,l=0;callStack.reset(),callStack.push("embedHTML5VPAIDPlayer");var d,f={callers:callStack.getStack(),impressions:!!Object.prototype.hasOwnProperty.call(i[i.type],"impressions")&&i[i.type].impressions.slice(0),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:Object.prototype.hasOwnProperty.call(i[i.type],"media")&&Object.prototype.hasOwnProperty.call(i[i.type].media,"link")?i[i.type].media.link:"",mediaType:Object.prototype.hasOwnProperty.call(i[i.type],"media")&&Object.prototype.hasOwnProperty.call(i[i.type].media,"type")?i[i.type].media.type:"",adDuration:e.mediaDuration,adType:i[i.type].adType.toString(),runTime:0,status:"",adId:i.AdID},p=document.createElement("iframe"),h=0;return p.id="vendriHtml5loadframe",p.scrolling="no",p.seamless="seamless",p.frameBorder="0",p.setAttribute("allow","autoplay"),e.target.appendChild(p),"number"==typeof i[i.type].media.width&&"number"===i[i.type].media.height?(p.width=i[i.type].media.width,p.height=i[i.type].media.height):(p.width=e.target.clientWidth,p.height=e.target.clientHeight),s=setInterval((function(){if(p.contentDocument||p.contentWindow||h>=100){clearInterval(s),(d=p.contentDocument||p.contentWindow.document).open(),d.write("<html><head><style>"+base64.decode("Ym9keSB7IG1hcmdpbjogMDsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgfQ0KI3ZpZGVvIHsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgfQ0KdmlkZW8gew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KICAgIHRvcDogMHB4ICFpbXBvcnRhbnQ7DQogICAgbGVmdDogMHB4ICFpbXBvcnRhbnQ7DQogICAgLypoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsqLw0KICAgIC8qd2lkdGg6IDEwMCUgIWltcG9ydGFudDsqLw0KICAgIC8qei1pbmRleDogMSAhaW1wb3J0YW50OyovDQp9DQouc2tpcC1jb250YWluZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50Ow0KICAgIHRvcDogMTBweCAhaW1wb3J0YW50Ow0KICAgIHJpZ2h0OiAxMHB4ICFpbXBvcnRhbnQ7DQogICAgY29sb3I6IGRhcmtncmF5Ow0KICAgIGN1cnNvcjogZGVmYXVsdDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjIpOw0KICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOw0KICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOw0KICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICB6LWluZGV4OiA5OTk5OTsNCn0NCi5za2lwLWNvbnRhaW5lcjpob3ZlciB7DQogICAgY29sb3I6IHdoaXRlOw0KfQ0KLnNraXA6aG92ZXIgew0KICAgIGNvbG9yOiB3aGl0ZTsNCn0NCi5zb29uIHsNCiAgICBjb2xvcjogd2hpdGU7DQp9DQoNCiNjb250cm9scyB7IGRpc3BsYXk6IG5vbmU7IG9wYWNpdHk6IDAuODU7IGNvbG9yOiAjZmZmOyBwb3NpdGlvbjogYWJzb2x1dGU7IGhlaWdodDogMzBweDsgfQ0KLmNvbnRyb2wgeyBmbG9hdDogbGVmdDsgaGVpZ2h0OiAyNXB4OyB3aWR0aDogMjVweDsgbWFyZ2luLXJpZ2h0OiA1cHg7IGJhY2tncm91bmQtY29sb3I6ICMwMDFFMjU7IHRleHQtYWxpZ246IGNlbnRlcjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCi5jb250cm9sOmxhc3QtY2hpbGQgeyBtYXJnaW4tcmlnaHQ6IDA7IH0NCi5jb250cm9sOmZpcnN0LWNoaWxkIHsgbWFyZ2luLWxlZnQ6IDVweDsgfQ0KI3BsYXkgc3BhbiB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDBweDsgbGluZS1oZWlnaHQ6IDA7IH0NCiNwbGF5LnBsYXkgc3BhbiB7IHdpZHRoOiAwOyBoZWlnaHQ6IDA7IG1hcmdpbjogOHB4IDAgMCA4cHg7IGJvcmRlci10b3A6IDVweCBzb2xpZCAjMDAxRTI1OyBib3JkZXItbGVmdDogMTBweCBzb2xpZCAjZmZmOyBib3JkZXItYm90dG9tOiA1cHggc29saWQgIzAwMUUyNTsgfQ0KI3BsYXkucGF1c2Ugc3BhbiB7IHdpZHRoOiAzcHg7IGhlaWdodDogMTBweDsgbWFyZ2luOiA4cHggYXV0byAwOyBib3JkZXItdG9wOiAwcHg7IGJvcmRlci1sZWZ0OiAzcHggc29saWQgI2ZmZjsgYm9yZGVyLWJvdHRvbTogMHB4OyBib3JkZXItcmlnaHQ6IDNweCBzb2xpZCAjZmZmOyB9DQojcHJvZ3Jlc3MgeyB3aWR0aDogMTkwcHg7IH0NCiNwcm9ncmVzcyAjcHJvZ3Jlc3NfYm94IHsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiAxMDBweDsgaGVpZ2h0OiA5cHg7IGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7IGJhY2tncm91bmQtY29sb3I6ICMwMDFFMjU7IG1hcmdpbjogN3B4IDAgMCA1cHg7IG92ZXJmbG93OmhpZGRlbjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjcGxheV9wcm9ncmVzcyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMHB4OyBoZWlnaHQ6IDlweDsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjbG9hZF9wcm9ncmVzcyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogMHB4OyBoZWlnaHQ6IDlweDsgYmFja2dyb3VuZC1jb2xvcjogIzc3NzsgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1cHg7IC1tb3otYm9yZGVyLXJhZGl1czogNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IH0NCiNwcm9ncmVzcyAjcGxheV90aW1lIHsgZmxvYXQ6IGxlZnQ7IG1hcmdpbjogN3B4IDAgMCA1cHg7IGZvbnQtc2l6ZTogMTBweDsgbGluZS1oZWlnaHQ6IDE7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IGZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOyAgfQ0KI3ZvbHVtZSB7IHdpZHRoOiA1MHB4OyB9DQojdm9sdW1lIHNwYW4geyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiA0cHggMCAwIDVweDsgfQ0KI3ZvbHVtZSB1bCB7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGxpc3Qtc3R5bGU6IG5vbmU7IH0NCiN2b2x1bWUgdWwgbGkgeyBmbG9hdDogbGVmdDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBsaXN0LXN0eWxlOiBub25lOyB3aWR0aDogNXB4OyBtYXJnaW4tcmlnaHQ6IDJweDsgaGVpZ2h0OiAwcHg7IGJvcmRlci1ib3R0b206IDE4cHggc29saWQgIzU1NTsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMSkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAycHg7IGhlaWdodDogMTZweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMikgeyBib3JkZXItYm90dG9tLXdpZHRoOiA0cHg7IGhlaWdodDogMTRweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoMykgeyBib3JkZXItYm90dG9tLXdpZHRoOiA3cHg7IGhlaWdodDogMTFweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoNCkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAxMHB4OyBoZWlnaHQ6IDhweDsgfQ0KI3ZvbHVtZSB1bCBsaTpudGgtY2hpbGQoNSkgeyBib3JkZXItYm90dG9tLXdpZHRoOiAxNHB4OyBoZWlnaHQ6IDRweDsgfQ0KI2Z1bGxfc2NyZWVuIHNwYW4geyBkaXNwbGF5OiBibG9jazsgZmxvYXQ6IGxlZnQ7IG1hcmdpbjogNXB4IDAgMCA1cHg7IHBhZGRpbmc6IDA7IH0NCiNmdWxsX3NjcmVlbiBzcGFuIHRhYmxlIHsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyB9DQojZnVsbF9zY3JlZW4gc3BhbiB0YWJsZSB0ZCB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgdGV4dC1hbGlnbjogbGVmdDsgdmVydGljYWwtYWxpZ246IHRvcDsgfQ0KI2Z1bGxfc2NyZWVuIHNwYW4gdGFibGUgdHI6Zmlyc3QtY2hpbGQgdGQ6Zmlyc3QtY2hpbGQgeyB3aWR0aDogOXB4OyBoZWlnaHQ6IDlweDsgfQ0KI2Z1bGxfc2NyZWVuIC5mcy1jb3JuZXIgeyBmb250LXNpemU6IDA7IGxpbmUtaGVpZ2h0OiAwOyB3aWR0aDogMDsgfQ0KI2Z1bGxfc2NyZWVuICNmc190b3BfbGVmdCB7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7IGJvcmRlci1yaWdodDogNnB4IHNvbGlkICMwMDFFMjU7IH0NCiNmdWxsX3NjcmVlbiAjZnNfdG9wX3JpZ2h0IHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4gI2ZzX2JvdHRvbV9sZWZ0IHsgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuICNmc19ib3R0b21fcmlnaHQgeyBib3JkZXI6IG5vbmU7IGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjZmZmOyBib3JkZXItbGVmdDogNnB4IHNvbGlkICMwMDFFMjU7IH0NCiNmdWxsX3NjcmVlbi5mcy1hY3RpdmUgI2ZzX3RvcF9sZWZ0IHsgYm9yZGVyOiBub25lOyBib3JkZXItYm90dG9tOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLWxlZnQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4uZnMtYWN0aXZlICNmc190b3BfcmlnaHQgeyBib3JkZXI6IG5vbmU7IGJvcmRlci1ib3R0b206IDZweCBzb2xpZCAjZmZmOyBib3JkZXItcmlnaHQ6IDZweCBzb2xpZCAjMDAxRTI1OyB9DQojZnVsbF9zY3JlZW4uZnMtYWN0aXZlICNmc19ib3R0b21fbGVmdCB7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXRvcDogNnB4IHNvbGlkICNmZmY7IGJvcmRlci1sZWZ0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSAjZnNfYm90dG9tX3JpZ2h0IHsgYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiA2cHggc29saWQgI2ZmZjsgYm9yZGVyLXJpZ2h0OiA2cHggc29saWQgIzAwMUUyNTsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSBzcGFuIHRhYmxlIHRyOmZpcnN0LWNoaWxkIHRkOmZpcnN0LWNoaWxkIHsgd2lkdGg6IDEzcHg7IGhlaWdodDogMTNweDsgfQ0KI2Z1bGxfc2NyZWVuLmZzLWFjdGl2ZSBzcGFuIHsgZGlzcGxheTogYmxvY2s7IGZsb2F0OiBsZWZ0OyBtYXJnaW46IDNweCAwIDAgM3B4OyBwYWRkaW5nOiAwOyB9")+"</style></head><body></body></html>"),addEvent("error",a,(function(e){debugPing("embed iframe script error",{message:e},"script"),o=!0})),a.type="text/javascript",a.async=!0,a.src=i[i.type].media.link,d.head.appendChild(a),d.close();var v=60,m=function(){setTimeout((function(){v-=1;var a,s=d.body;try{a=p.contentWindow.getVPAIDAd}catch(e){a=!1}if(a&&validator.isFunction(a))if(t=a(),(r=new VPAIDWrapper(t))&&r.validated){var u={AdParameters:i[i.type].adparameters||""},c=d.createElement("div");c.id="videoAdLayer",(n=vPlayer.crossDeviceVideoMaker(d)).setAttribute("width",i[i.type].media.width),n.setAttribute("height",i[i.type].media.height),s.appendChild(n),s.appendChild(c);var l={slot:c,videoSlot:n,videoSlotCanAutoPlay:!0},h=function(){f.status="metaEvent",f.msg="HTML5 VPAID metaEvent",f.runTime=newTime()-e.starttime;var t=media.findWidthHeight(e,{width:n.videoWidth,height:n.videoHeight},i[i.type].media);p.width=e.target.clientWidth,p.height=e.target.clientHeight,i[i.type].media.height=t.height,vPlayer.moveModal(e),vEvents.fireInstanceEvent(e,"onResize",{adEvtObj:f,media:i[i.type].media,frameWidth:p.width,frameHeight:p.height}),vEvents.fireEvent(e.eventTarget,"onResize",{adEvtObj:f,media:i[i.type].media,frameWidth:p.width,frameHeight:p.height}),removeEvent("loadedmetadata",n,h)};addEvent("loadedmetadata",n,h),vendriTimer.start(e,"start",1e3*e.constraints.startTime,(function(){f.status="timeout",f.msg="HTML5 VPAID Timeout waiting for AdStart",f.runTime=newTime()-e.starttime,debugPing("timeout waiting for VPAID ad break start",f,"timeout"),vEvents.vastEvent("timeout",f,e)})),f.status="start",f.msg="Starting HTML5 VPAID Ad",f.runTime=newTime()-e.starttime,vEvents.fireVendriEvent("start",f,e),vPlayer.skipLink(s,e,f);var g=extend({},u);!function(t){var n,r=t.ad,i=t.width,a=t.height,o=t.mode,s=t.bitrate,u=t.seeData,c=t.environmentVars;switch(t.body,n=c.videoSlot,autoplayStatus){case"fulfilled":case"touched":r.initAd(i,a,o,s,u,c),r.setAdVolume(vPlayer.volume);break;case"rejected":case"pending":default:Vendri.grantGesturePermission=function(){autoplayStatus="touched";try{n.play(),r.initAd(i,a,o,s,u,c),r.setAdVolume(vPlayer.volume)}catch(e){debugPing("grantGesturePermission FAILED from setupVPAID",{message:e},"playback")}Vendri.grantGesturePermission=function(){},r.initAd(i,a,o,s,u,c),r.setAdVolume(vPlayer.volume)},vendriTimer.stop(e,"start"),vendriTimer.stop(e.superTimers,"adBreakStartTime"),vEvents.fireEvent(e.eventTarget,"adPlayRejected",{adEvtObj:f})}}({ad:r,width:e.target.clientWidth,height:e.target.clientHeight,mode:"normal",bitrate:bitrate.value,seeData:g,environmentVars:l,adPlayRejected:!1,body:s})}else f.retry=e.retries.toString(),f.adSlotPosition=1*e.adSlotPosition,f.adSlots=1*e.adSlots,f.adBreakType=e.adBreakType.toString(),f.fallback=e.fallbacks.toString(),f.tagPosition=e.tagPosition.toString(),f.runTime=newTime()-e.starttime,f.status="error",f.msg="HTML5 VPAID Error: "+this.errorMessage,vEvents.vpaidEvent("error",f,e);else v>0&&!o?m():(f.retry=e.retries.toString(),f.adSlotPosition=1*e.adSlotPosition,f.adSlots=1*e.adSlots,f.adBreakType=e.adBreakType.toString(),f.fallback=e.fallbacks.toString(),f.tagPosition=e.tagPosition.toString(),f.runTime=newTime()-e.starttime,o?(f.status="error",f.msg="HTML5 VPAID Error loading VPAID unit",vEvents.vpaidEvent("error",f,e)):(f.status="timeout",f.msg="HTML5 VPAID Timeout waiting for the VPAID unit to give us control",vEvents.vpaidEvent("timeout",f,e)))}),100)};m();u=function(n){"object"==typeof t&&"function"==typeof t.resizeAd&&t.resizeAd(e.target.clientWidth,e.target.clientHeight,"normal")},addEvent("resize",window,u),addEvent("orientationchange",window,u),addEvent("fullscreenchange",window,u),(VPAIDWrapper=function(e){this.creative=e;var t=function(e){var t,n,r,i="",a=0,o=0,s=[{method:"handshakeVersion",blocking:!0},{method:"initAd",blocking:!0},{method:"resizeAd",blocking:!0},{method:"startAd",blocking:!0},{method:"stopAd",blocking:!0},{method:"pauseAd",blocking:!1},{method:"resumeAd",blocking:!1},{method:"expandAd",blocking:!1},{method:"collapseAd",blocking:!1},{method:"skipAd",blocking:!1},{method:"subscribe",blocking:!0},{method:"getAdExpanded",blocking:!1},{method:"getAdSkippableState",blocking:!1},{method:"getAdRemainingTime",blocking:!1},{method:"setAdVolume",blocking:!1},{method:"getAdVolume",blocking:!1}],u=s.length;for(r=0;r<u;r++)(t=e[(n=s[r]).method])&&validator.isFunction(t)?a++:(n.blocking||o++,i+=s[r].method+", ");return a===u?{validated:!0,errorMessage:""}:a+o===u?{validated:!0,errorMessage:"Malformed VPAID; methods: "+i+"non-blocking errors in interface."}:{validated:!1,errorMessage:"Malformed VPAID; "+i+"interface unusable"}}(e);this.errorMessage=t.errorMessage,this.validated=t.validated,this.validated&&this.setCallbacksForCreative()}).prototype.setCallbacksForCreative=function(){var e,t={AdFreePod:this.onAdFreePod,AdStarted:this.onStartAd,AdStopped:this.onStopAd,AdSkipped:this.onSkipAd,AdLoaded:this.onAdLoaded,AdLinearChange:this.onAdLinearChange,AdSizeChange:this.onAdSizeChange,AdExpandedChange:this.onAdExpandedChange,AdSkippableStateChange:this.onAdSkippableStateChange,AdDurationChange:this.onAdDurationChange,AdRemainingTimeChange:this.onAdRemainingTimeChange,AdVolumeChange:this.onAdVolumeChange,AdImpression:this.onAdImpression,AdClickThru:this.onAdClickThru,AdInteraction:this.onAdInteraction,AdVideoStart:this.onAdVideoStart,AdVideoFirstQuartile:this.onAdVideoFirstQuartile,AdVideoMidpoint:this.onAdVideoMidpoint,AdVideoThirdQuartile:this.onAdVideoThirdQuartile,AdVideoComplete:this.onAdVideoComplete,AdUserAcceptInvitation:this.onAdUserAcceptInvitation,AdUserMinimize:this.onAdUserMinimize,AdUserClose:this.onAdUserClose,AdPaused:this.onAdPaused,AdPlaying:this.onAdPlaying,AdError:this.onAdError,AdLog:this.onAdLog};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.creative.subscribe(t[e],e,this)},VPAIDWrapper.prototype.onAdFreePod=function(){vEvents.vpaidEvent("adFreePod",f,e)},VPAIDWrapper.prototype.initAd=function(e,t,n,r,i,a){this.creative.initAd(e,t,n,r,i,a)},VPAIDWrapper.prototype.removeResizeEvents=function(){removeEvent("resize",window,u),removeEvent("orientationchange",window,u),removeEvent("fullscreenchange",window,u)},VPAIDWrapper.prototype.onAdPaused=function(){f.status="paused",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("paused",f,e)},VPAIDWrapper.prototype.onAdPlaying=function(){f.status="playing",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("playing",f,e)},VPAIDWrapper.prototype.onAdError=function(t){f.status="error",f.msg="HTML5 VPAID AdError: "+JSON.stringify(t),f.runTime=newTime()-e.starttime,this.removeResizeEvents(),vEvents.vpaidEvent("error",f,e)},VPAIDWrapper.prototype.onAdLog=function(t){f.status="log",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("log",f,e)},VPAIDWrapper.prototype.onAdUserAcceptInvitation=function(){f.status="userAcceptInvitation",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("userAcceptInvitation",f,e)},VPAIDWrapper.prototype.onAdUserMinimize=function(){f.status="userMinimize",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("userMinimize",f,e)},VPAIDWrapper.prototype.onAdUserClose=function(){f.status="userClose",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("userClose",f,e)},VPAIDWrapper.prototype.onAdSkippableStateChange=function(){f.status="skippableStateChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("skippableStateChange",f,e)},VPAIDWrapper.prototype.onAdExpandedChange=function(){f.status="expandedChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("expandedChange",f,e)},VPAIDWrapper.prototype.getAdExpanded=function(){var e;try{e=this.creative.getAdExpanded()}catch(e){}return e},VPAIDWrapper.prototype.getAdSkippableState=function(){var e;try{e=this.creative.getAdSkippableState()}catch(e){}return e},VPAIDWrapper.prototype.onAdSizeChange=function(){var t=media.findWidthHeight(e,{width:this.creative.getAdWidth(),height:this.creative.getAdHeight()},i[i.type].media);"number"==typeof i[i.type].media.width&&"number"===i[i.type].media.height?(p.width=i[i.type].media.width,p.height=i[i.type].media.height):(p.width=e.target.clientWidth,p.height=e.target.clientHeight),n.setAttribute("width",t.width),n.setAttribute("height",t.height),vPlayer.moveModal(e),f.status="sizeChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("sizeChange",f,e)},VPAIDWrapper.prototype.onAdDurationChange=function(){e.mediaDuration=this.creative.getAdDuration(),f.status="durationChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("durationChange",f,e)},VPAIDWrapper.prototype.onAdRemainingTimeChange=function(){f.status="remainingTimeChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("remainingTimeChange",f,e)},VPAIDWrapper.prototype.getAdRemainingTime=function(){var e;try{e=this.creative.getAdRemainingTime()}catch(e){}return e},VPAIDWrapper.prototype.onAdImpression=function(){l++,f.status="impression",(-1===rejectFirstAdImpressionNetworks.indexOf(e.creativeIdName)||l>1)&&vEvents.vpaidEvent("impression",f,e)},VPAIDWrapper.prototype.onAdClickThru=function(t,n,r){f.status="clickThru",f.runTime=newTime()-e.starttime,f.url=t,f.id=n,f.playerHandles=r,vEvents.vpaidEvent("clickThru",f,e),t&&window.open(t,"_blank")},VPAIDWrapper.prototype.onAdInteraction=function(t){f.status="interaction",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("interaction",f,e)},VPAIDWrapper.prototype.onAdVideoStart=function(){f.status="impression",f.runTime=newTime()-e.starttime,c||(c=!0,vEvents.vpaidEvent("start",f,e)),e.pauseAdBreak&&e.playerAdPause()},VPAIDWrapper.prototype.onAdVideoFirstQuartile=function(){f.status="firstQuartile",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("firstQuartile",f,e)},VPAIDWrapper.prototype.onAdVideoMidpoint=function(){f.status="midpoint",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("midpoint",f,e)},VPAIDWrapper.prototype.onAdVideoThirdQuartile=function(){f.status="thirdQuartile",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("thirdQuartile",f,e)},VPAIDWrapper.prototype.onAdVideoComplete=function(){f.status="complete",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("complete",f,e)},VPAIDWrapper.prototype.onAdLinearChange=function(){f.status="linearChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("linearChange",f,e)},VPAIDWrapper.prototype.getAdLinear=function(){return this.creative.getAdLinear()},VPAIDWrapper.prototype.startAd=function(){n.setAttribute("width","100%"),n.setAttribute("height","100%"),this.creative.startAd()},VPAIDWrapper.prototype.onAdLoaded=function(){f.status="loaded",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("loaded",f,e),this.startAd()},VPAIDWrapper.prototype.onStartAd=function(){n.volume=vPlayer.volume,f.status="start",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("creativeView",f,e),n.style.width="",n.style.height=""},VPAIDWrapper.prototype.stopAd=function(){this.creative.stopAd()},VPAIDWrapper.prototype.onStopAd=function(){vendriTimer.stop(e,"stopVpaidAd"),n.setAttribute("width","1px"),n.setAttribute("height","1px"),this.removeResizeEvents(),setTimeout((function(){f.status="stop",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("stopped",f,e)}),600)},VPAIDWrapper.prototype.forceRemoveAd=function(){this.onStopAd=blankFunc,vendriTimer.stop(e,"stopVpaidAd"),n.setAttribute("width","1px"),n.setAttribute("height","1px"),this.removeResizeEvents(),f.status="stop",f.runTime=newTime()-e.starttime,debugPing("timeout waiting for VPAID start, forcibly removing VPAID",f,"timeout"),vEvents.vpaidEvent("stopped",f,e)},VPAIDWrapper.prototype.cancelAd=function(){try{this.creative.stopAd()}catch(e){}vendriTimer.start(e,"stopVpaidAd",1e3,this.forceRemoveAd),n.setAttribute("width","1px"),n.setAttribute("height","1px"),this.removeResizeEvents(),f.status="stop",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("stop",f,e)},VPAIDWrapper.prototype.onSkipAd=function(){f.status="skip",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("skip",f,e),this.removeResizeEvents()},VPAIDWrapper.prototype.setAdVolume=function(e){try{this.creative.setAdVolume(e)}catch(e){}},VPAIDWrapper.prototype.getAdVolume=function(){var e;try{e=this.creative.getAdVolume()}catch(e){}return e},VPAIDWrapper.prototype.onAdVolumeChange=function(){f.status="volumeChange",f.runTime=newTime()-e.starttime,vEvents.vpaidEvent("volumeChange",f,e)},VPAIDWrapper.prototype.resizeAd=function(e,t,n){this.creative.resizeAd(e,t,n)},VPAIDWrapper.prototype.pauseAd=function(){try{this.creative.pauseAd(),e.adPausedStart=newTime()}catch(e){}return!0},VPAIDWrapper.prototype.resumeAd=function(){try{this.creative.resumeAd(),e.adPausedStart>0&&(e.adPausedDuration+=newTime()-e.adPausedStart,e.adPausedStart=0)}catch(e){}return!0},VPAIDWrapper.prototype.expandAd=function(){try{this.creative.expandAd()}catch(e){}},VPAIDWrapper.prototype.collapseAd=function(){try{this.creative.collapseAd()}catch(e){}}}h+=1}),10),e.playerAdPlay=function(){validator.isObject(r)&&validator.isFunction(r.resumeAd)&&r.resumeAd()},e.playerAdPause=function(){validator.isObject(r)&&validator.isFunction(r.pauseAd)&&r.pauseAd()},{stop:function(){validator.isObject(r)&&validator.isFunction(r.cancelAd)&&r.cancelAd()}}},this.embedHTML5PlayerNF=function(e){var t=e.creative;e.html5PlayerReady=!1,e.target.innerHTML="",callStack.reset(),callStack.push("embedHTML5PlayerNF");var n,r,i,a,o,s,u,c,l,d,f,p,h,v,m,g={callers:callStack.getStack(),impressions:!!Object.prototype.hasOwnProperty.call(t[t.type],"impressions")&&t[t.type].impressions.slice(0),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:Object.prototype.hasOwnProperty.call(t[t.type],"media")&&Object.prototype.hasOwnProperty.call(t[t.type].media,"link")?t[t.type].media.link:"",mediaType:Object.prototype.hasOwnProperty.call(t[t.type],"media")&&Object.prototype.hasOwnProperty.call(t[t.type].media,"type")?t[t.type].media.type:"",adDuration:e.mediaDuration,adType:t[t.type].adType.toString(),runTime:0,status:"",adId:t.AdID,adBreakTime:e&&e.constraints&&e.constraints.adBreakTime?1*e.constraints.adBreakTime:0},y="",b=!1,_=!1;e.targetWrapper||(e.targetWrapper=document.createElement("div"),e.targetWrapper.className="vwrapper");var A=e.targetWrapper;e.target.appendChild(A);var S=device.hasScoper?"scope":"vsd";setScopeStyles(e.target,S),n=vPlayer.crossDeviceVideoMaker(document,t[t.type].media.fileType),"audio"===t[t.type].media.fileType?(n.setAttribute("width","0px"),n.setAttribute("height","0px")):(n.setAttribute("width","100%"),n.setAttribute("height","100%")),A.appendChild(n),"audio"!=t[t.type].media.fileType&&(vPlayer.skipLink(A,e,g,n),vPlayer.cancelX(A,e,g,n)),processScoper(e.target);var E=vPlayer.makeInterface(A,e);return o={srcError:function(t){g.retry=e.retries.toString(),g.adSlotPosition=1*e.adSlotPosition,g.adSlots=1*e.adSlots,g.adBreakType=e.adBreakType.toString(),g.fallback=e.fallbacks.toString(),g.tagPosition=e.tagPosition.toString(),g.status="error",g.msg="HTML5 Source Playback Error",g.runTime=newTime()-e.starttime,vEvents.vastEvent("error",g,e)},clickCtrl:function(){e.clickThroughLink&&(n.paused?s(!1):(h(),e.onClickThrough(g)))},playCtrl:function(){e.controls.play&&(n.paused?(s(!1),g.status="resume",g.runTime=newTime()-e.starttime,vEvents.fireVendriEvent("q",g,e)):(h(),g.status="pause",g.runTime=newTime()-e.starttime,vEvents.fireVendriEvent("q",g,e)))},volCtrl:function(t){e.controls.volume&&(u(),"mousedown"===t.type&&d(t.pageX),A.onmousemove=function(e){d(e.pageX)},A.onmouseup=function(){c(),A.onmousemove=null,A.onmouseup=null})},fullScrnCtrl:function(t){vEvents.vastEvent("fullscreen",g,e),vPlayer.makeFullScreen(A,t)},vidMetaData:function(){g.status="vidMetaData",g.msg="HTML5 vidMetaData",g.runTime=newTime()-e.starttime;var r=media.findWidthHeight(e,{width:n.videoWidth,height:n.videoHeight},t[t.type].media);try{r.height&&!isNaN(r.height)||(r.height=0),e.controlHeight&&!isNaN(e.controlHeight)||(e.controlHeight=34)}catch(e){r.height=0}"audio"===t[t.type].media.fileType?(t[t.type].media.height=0,n.setAttribute("width","0px"),n.setAttribute("height","0px")):(n.setAttribute("width","100%"),n.setAttribute("height","100%")),vEvents.fireInstanceEvent(e,"onResize",{adEvtObj:g,media:t[t.type].media}),vEvents.fireEvent(e.eventTarget,"onResize",{adEvtObj:g,media:t[t.type].media}),vPlayer.moveModal(e),n.volume=vPlayer.volume,s(!0),vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:g,name:"vidmetadata",message:n}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:g,name:"vidmetadata",message:n})},vidError:function(t){var r=n.error&&n.error.code?n.error.code:0;g.retry=e.retries.toString(),g.adSlotPosition=1*e.adSlotPosition,g.adSlots=1*e.adSlots,g.adBreakType=e.adBreakType.toString(),g.fallback=e.fallbacks.toString(),g.tagPosition=e.tagPosition.toString(),g.status="error",g.msg="HTML5 Playback or Source Error: "+r,g.runTime=newTime()-e.starttime,vEvents.vastEvent("error",g,e)},vidFinished:function(t){seekAttempted&&videoPosition<n.duration-.5?(n.currentTime=videoPosition,n.play(),seekAttempted=!1):(seekAttempted=!1,v(),p(),clearVendriTimers(e),y="complete",g.status="complete",g.runTime=newTime()-e.starttime,vEvents.vastEvent("complete",g,e),vPlayer.fullscreen)},vidPlay:function(t){g.runTime=newTime()-e.starttime,""===y?y="start":(vendriTimer.resume(e,"duration"),g.status="resume",vEvents.vastEvent("resume",g,e)),e.skippableLink.isplaying()},vidTimeUpdate:function(r){var i=isFinite(r.target.duration)?r.target.duration:e.mediaDuration,a=vAd.adProgress(r.target.currentTime,i);y!==a&&(g.runTime=newTime()-e.starttime,_||""===a?y!==a&&"start"!==a&&"started"!==a&&"completed"!==a&&(g.status=a,vEvents.vastEvent(a,g,e)):(_=!0,g.status="creativeView",vEvents.vastEvent("creativeView",g,e),g.status="impression",vEvents.vastEvent("impression",g,e),"audio"===t[t.type].media.fileType&&e.clickThroughLink&&A.appendChild(e.clickThroughLink),g.status="start",vEvents.vastEvent("start",g,e)),n&&n.volume!==vPlayer.volume&&(n.volume=vPlayer.volume),y=a)},vidPause:function(t){var n=isFinite(t.target.duration)?t.target.duration:e.mediaDuration;"completed"!==vAd.adProgress(t.target.currentTime,n)&&(vendriTimer.pause(e,"duration"),g.status="pause",g.runTime=newTime()-e.starttime,vEvents.vastEvent("pause",g,e)),e.skippableLink.ispaused()},vidVolumeChange:function(t){g.runTime=newTime()-e.starttime,0===vPlayer.volume?(g.status="mute",vEvents.vastEvent("mute",g,e),b=!0):b&&(g.status="unmute",vEvents.vastEvent("unmute",g,e),b=!1)},vidResized:function(r){var i=media.findWidthHeight(e,{width:n.videoWidth,height:n.videoHeight},t[t.type].media);"audio"===t[t.type].media.fileType?(t[t.type].media.height=0,n.setAttribute("width","0px"),n.setAttribute("height","0px")):t[t.type].media.height=i.height,g.status="sizeChange",g.runTime=newTime()-e.starttime,vEvents.vastEvent("sizeChange",g,e)},windowResized:function(e){},fullScrnChange:function(e){if(e.target==A)try{E.updateFs(e)}catch(e){}}},m=function(){addEvent("click",E.play,o.playCtrl),addEvent("click",E.pauser,o.playCtrl),addEvent("mousedown",E.volume,o.volCtrl),addEvent("touchstart",E.volume,o.volCtrl),addEvent("mousemove",e.target,E.showInterface),addEvent("click",e.target,E.showInterface),addEvent("click",E.fsInactive,o.fullScrnCtrl),addEvent("click",E.fsActive,o.fullScrnCtrl),addEvent("click",n,o.clickCtrl),addEvent("loadedmetadata",n,o.vidMetaData),addEvent("error",n,o.vidError),addEvent("ended",n,o.vidFinished),addEvent("play",n,o.vidPlay),addEvent("pause",n,o.vidPause),addEvent("pause",n,E.showInterface),addEvent("volumechange",n,o.vidVolumeChange),addEvent("resize",n,o.vidResized),addEvent("resize",window,o.windowResized),addEvent("timeupdate",n,o.vidTimeUpdate),addEvent("timeupdate",n,E.progressUpdate),addEvent("progress",n,E.loadedProgress),addEvent("fullscreenchange",document,o.fullScrnChange),addEvent("webkitfullscreenchange",document,o.fullScrnChange),addEvent("mozfullscreenchange",document,o.fullScrnChange),addEvent("MSFullscreenChange",document,o.fullScrnChange),vendriTimer.start(e,"start",1e3*e.constraints.startTime,(function(){g.status="timeout",g.msg="HTML5 VAST Timeout waiting for AdStarted Event ",g.runTime=newTime()-e.starttime,debugPing("timeout waiting for VAST ad break start",g,"timeout"),vEvents.vastEvent("timeout",g,e)})),n.src=t[t.type].media.link,n.load()},v=function(){removeEvent("click",E.play,o.playCtrl),removeEvent("click",E.pauser,o.playCtrl),removeEvent("mousedown",E.volume,o.volCtrl),removeEvent("touchstart",E.volume,o.volCtrl),removeEvent("click",E.fsInactive,o.fullScrnCtrl),removeEvent("click",E.fsActive,o.fullScrnCtrl),removeEvent("mousemove",e.target,E.showInterface),removeEvent("click",e.target,E.showInterface),removeEvent("click",n,o.clickCtrl),removeEvent("loadedmetadata",n,o.vidMetaData),removeEvent("error",n,o.vidError),removeEvent("ended",n,o.vidFinished),removeEvent("play",n,o.vidPlay),removeEvent("pause",n,o.vidPause),removeEvent("pause",n,E.showInterface),removeEvent("volumechange",n,o.vidVolumeChange),removeEvent("resize",n,o.vidResized),removeEvent("resize",window,o.windowResized),removeEvent("fullscreenchange",window,o.windowResized),removeEvent("timeupdate",n,o.vidTimeUpdate),removeEvent("timeupdate",n,E.progressUpdate),removeEvent("progress",n,E.loadedProgress)},n.unsubscribe=v,u=function(){A.focus(),A.onselectstart=function(){return!1}},c=function(){A.onselectstart=function(){return!0}},l=function(){(i=n.currentTime)&&(e.adSkip.enabled&&e.adSkip.sync&&(i!=a?e.skippableLink.isplaying():e.skippableLink.ispaused()),a=i)},d=function(e){try{var t=(e-function(e){for(var t=e.offsetLeft;e=e.offsetParent;)t+=e.offsetLeft;return t-10}(E.volume))/E.volume.offsetWidth;t>1?t=1:t<0&&(t=0),E.updateVolume(t),n.volume=vPlayer.volume=t}catch(e){}},f=function(){r=setInterval(l,33),n.playProgressInterval=r},p=function(){clearInterval(r),n.playProgressInterval=null},e.playerAdPlay=s=function(t){var r;if(e.adPausedStart>0&&(e.adPausedDuration+=newTime()-e.adPausedStart,e.adPausedStart=0),t&&!_)if(g.status="start",g.msg="Starting HTML5 VAST Ad ",g.runTime=newTime()-e.starttime,vEvents.fireVendriEvent("start",g,e),e.autoFullscreen)try{n&&n.webkitEnterFullScreen()}catch(e){}else try{n.webkitCancelFullScreen&&n.webkitCancelFullScreen()}catch(e){}try{switch(autoplayStatus){case"rejected":case"pending":Vendri.grantGesturePermission=function(){autoplayStatus="touched",n.play(),Vendri.grantGesturePermission=function(){}},vendriTimer.stop(e,"start"),vendriTimer.stop(e.superTimers,"adBreakStartTime"),vEvents.fireEvent(e.eventTarget,"adPlayRejected",{adEvtObj:g});break;default:void 0!==(r=n.play())&&r.catch((function(){Vendri.grantGesturePermission=function(){n.play(),Vendri.grantGesturePermission=function(){}},vendriTimer.stop(e,"start"),vendriTimer.stop(e.superTimers,"adBreakStartTime"),vEvents.fireEvent(e.eventTarget,"adPlayRejected",{adEvtObj:g})}))}}catch(e){}f();try{E.play.style.display="none",E.pauser.style.display=""}catch(e){}return!0},e.playerAdPause=h=function(){n.pause(),p(),e.adPausedStart=newTime();try{E.pauser.style.display="none",E.play.style.display=""}catch(e){}return!0},m(),{stop:function(){g.retry=e.retries.toString(),g.adSlotPosition=e.adSlotPosition.toString(),g.adSlots=e.adSlots.toString(),g.adBreakType=e.adBreakType.toString(),g.fallback=e.fallbacks.toString(),g.tagPosition=e.tagPosition.toString(),g.status="stopped",g.msg="HTML5 Playback stopped Externally",g.runTime=newTime()-e.starttime,v(),vEvents.vastEvent("stop",g,e)}}},this.embedFlashPlayer=function(e){var t=e.creative;e.target.innerHTML="",callStack.reset(),callStack.push("embedFlashPlayer");var n={};n=e.flashAdEvtObj={callers:callStack.getStack(),impressions:!!Object.prototype.hasOwnProperty.call(t[t.type],"impressions")&&t[t.type].impressions.slice(0),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,mediaSrc:Object.prototype.hasOwnProperty.call(t[t.type],"media")&&Object.prototype.hasOwnProperty.call(t[t.type].media,"link")?t[t.type].media.link:"",mediaType:Object.prototype.hasOwnProperty.call(t[t.type],"media")&&Object.prototype.hasOwnProperty.call(t[t.type].media,"type")?t[t.type].media.type:"",adDuration:e.mediaDuration,adType:t[t.type].adType.toString(),runTime:newTime()-e.starttime,status:"embedFlashPlayer",adId:t[t.type].adId||t[t.type].AdID},t[t.type].media.height=t[t.type].media.height>0?t[t.type].media.height:e.minHeight,t[t.type].media.width=t[t.type].media.width>0?t[t.type].media.width:e.minWidth;var r=t[t.type].media.width,i="video"===t[t.type].media.fileType&&"vast"===e.adCreative.adType?parseInt(t[t.type].media.height)+34:t[t.type].media.height;vEvents.fireInstanceEvent(e,"onResize",{adEvtObj:n,media:t[t.type].media,frameWidth:t[t.type].media.width,frameHeight:t[t.type].media.height}),vEvents.fireEvent(e.eventTarget,"onResize",{adEvtObj:n,media:t[t.type].media,frameWidth:t[t.type].media.width,frameHeight:t[t.type].media.height});var a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+r+'" height="'+i+'" id="VendriFlashPlayer" allowScriptAccess="always" hspace="0" vspace="0" quality="high"><param name="movie" value="'+e.swfFile+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /> <param name="allowNetworking" value="all" /><param name=FlashVars value="instanceId='+e.instanceId+'" /> ';function o(t){try{e.flashPlayer.parentNode.removeChild(e.flashPlayer)}catch(e){}delete e.flashPlayerStopEventReceived,vEvents.vastEvent("stop",n,e)}10===device.isIE?a+="</object>":a+='\x3c!--[if !IE]>--\x3e<embed id="VendriFlashPlayer2" src="'+e.swfFile+'" type="application/x-shockwave-flash" wmode="window" allowScriptAccess="always" quality="high" width="'+r+'" height="'+i+'" hspace="0" vspace="0" name="VendriFlashPlayer" swLiveConnect="true" play="true" loop="false" menu="0" scale="noborder" quality="high" FlashVars="instanceId='+e.instanceId+'"></embed></embed>\x3c!--<![endif]--\x3e</object>',e.target.innerHTML=a,e.flashPlayerStopEventReceived=function(){vendriTimer.stop(e,"forceStop"),delete e.flashPlayerStopEventReceived},vendriTimer.start(e,"ready",3e4,(function(){o(),n.status="timeout",n.msg="FLASH Player timed out before calling playerReady ",n.runTime=newTime()-e.starttime,debugPing("timeout waiting for FLASH ad start",n,"timeout"),vEvents.vastEvent("timeout",n,e)}));var s=0,u=setInterval((function(){if(document.getElementById("VendriFlashPlayer2")||document.getElementById("VendriFlashPlayer")||s>=100){clearInterval(u);try{e.flashPlayer=document.getElementById("VendriFlashPlayer2")||document.getElementById("VendriFlashPlayer"),n.runTime=newTime()-e.starttime,vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:n,name:"notification",message:"flash ready"}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:n,name:"notification",message:"flash ready"}),vPlayer.showModal(!0)}catch(e){}}s+=1}),10);return{stop:function(){validator.isFunction(e.flashPlayer.stop)&&e.flashPlayer.stop(),vendriTimer.start(e,"forceStop",1e3,o.bind(null,"not stopping in time"))}}},this.embedSDKPlayer=function(e){var t=e.creative,n={id:"",instanceId:"",creative:t,resource:"",triggered:!1,stopped:!1},r="";e.target.innerHTML="",e.listenToSDK=!0,callStack.reset(),callStack.push("embedSDKPlayer");var i=e.adEvtObj={callers:callStack.getStack(),tag:e.tag.toString(),tags:e.creatives,retry:e.retries.toString(),adSlotPosition:1*e.adSlotPosition,adBreakType:e.adBreakType.toString(),adSlots:1*e.adSlots,fallback:e.fallbacks.toString(),tagPosition:e.tagPosition.toString(),totalTags:e.totalTags.toString(),instanceId:e.instanceId.toString(),version:e.version,sdkObj:n,runTime:newTime()-e.starttime,status:"embedSDKPlayer"};try{n.id=t.name.toString(),n.instanceId=e.instanceId.toString(),n.resource=t.resource,r=JSON.stringify({resource:n.resource}),device.isAndroidSDK?window&&window.VendriAndroidApp&&window.VendriAndroidApp.triggerSDK&&validator.isFunction(window.VendriAndroidApp.triggerSDK)&&(window.VendriAndroidApp.triggerSDK(n.id,n.instanceId,r),n.triggered=!0):device.isIosSDK&&window&&window.VendriIosApp&&window.VendriIosApp.triggerSDK&&validator.isFunction(window.VendriIosApp.triggerSDK)&&(window.VendriIosApp.triggerSDK(n.id,n.instanceId,r),n.triggered=!0)}catch(e){debugPing("embedSDKPlayer; error",{message:e},"playback")}return i.sdkObj=n,n.triggered?(vendriTimer.start(e,"start",1e3*e.constraints.startTime,(function(){i.status="timeout",i.msg="SDK Timeout waiting for AdStarted Event ",i.runTime=newTime()-e.starttime,debugPing("timeout waiting for SDK ad to start",i,"timeout"),vEvents.vastEvent("timeout",i,e)})),vEvents.fireInstanceEvent(e,"adLog",{adEvtObj:i,name:"notification",message:"sdk call made"}),vEvents.fireEvent(e.eventTarget,"adLog",{adEvtObj:i,name:"notification",message:"sdk call made"})):(i.status="error",i.msg="SDK was unable to trigger ",i.runTime=newTime()-e.starttime,vEvents.vastEvent("error",i,e)),{stop:function(){n.stopped=!1,i.sdkObj=n;try{device.isAndroidSDK?window&&window.VendriAndroidApp&&validator.isFunction(window.VendriAndroidApp.cancelAd)&&window.VendriAndroidApp.cancelAd()&&(n.stopped=!0,vendriTimer.start(e,"sdkStopDelayed",1e3,(function(){i.status="stopped",i.msg="SDK ad externally forecably stopped",debugPing("timeout waiting for external SDK to stop when commanded",i,"timeout"),vEvents.vastEvent("stop",i,e)}))):device.isIosSDK&&window&&window.VendriIosApp&&validator.isFunction(window.VendriIosApp.cancelAd)&&window.VendriIosApp.cancelAd()&&(n.stopped=!0)}catch(e){debugPing("embedSDKPlayer; can't cancelAd",{message:e},"playback")}return n.stopped}}}}}(),VendriInstance=function(e,t){var n=this,r={},i={instanceId:n.instanceId,buildTime:Vendri.buildTime,totalTags:n.totalTags,tagPosition:n.tagPosition,fallbacks:n.fallbacks,retries:n.retries,adSlotPosition:n.adSlotPosition,maps:n.maps,mapped:n.mapped},a=t||{};function o(e,t){var n,r,i=[],a=[];validator.isNotEmpty(e.creatives)&&validator.isNotEmpty(t.creatives)&&(each(e.creatives,(function(n,a){if(e.creatives[n].supername="PFPLCPCR",e.creatives[n].superkey=e.superkey+"."+e.creatives[n].id,e.creatives[n]=updateStateObj(e.creatives[n]),r=getVendriObjectsById("CRID",[e.creatives[n].id],t.creatives),validator.isNotEmpty(r)||(r=getVendriObjectsById("id",[e.creatives[n].id],t.creatives)),validator.isNotEmpty(r)){e.creatives[n].source=r[0],e.creatives[n].chosen=!1,e.creatives[n].start=e.start,e.creatives[n].end=e.end||0,e.creatives[n].context={PID:t.PID,PFID:t.PFID,PLID:t.PLID,CPID:e.CPID,CRID:e.creatives[n].id,TRID:0,start:e.start,end:e.end};var o=(new Date).getTime();o>e.start&&(o<e.end||0===e.end)&&(0!==e.end&&0===e.creatives[n].limits.secs&&(e.creatives[n].limits.secs=(e.creatives[n].end-e.creatives[n].start)/1e3),function(e){var t=!1;if(!e.localState.finished){var n=(new Date).getTime(),r=(n-(e.t>e.localState.curPass.update?e.t:e.localState.curPass.update))/1e3,i=e.avgs.instancesPerSec;i<=0&&(i=e.localState.avgInsts)<=0&&(i=.1);var a=e.avgs.callsPerIn;a<=0&&(a=e.localState.avgCalls)<=0&&(a=.5);var o=e.avgs.impsPerCa;o<=0&&(o=e.localState.avgImps)<=0&&(o=.3),e.localState.avgInsts=e.localState.instances/e.localState.secs,e.localState.avgInsts<=0&&(e.localState.avgInsts=i-1+1),e.avgs.instancesPerSec<=0&&e.localState.avgInsts>0&&(e.avgs.instancesPerSec=e.localState.avgInsts-1+1),e.localState.avgCalls=e.localState.calls/e.localState.instances,e.localState.avgCalls<=0&&(e.localState.avgCalls=a-1+1),e.avgs.callsPerIn<=0&&e.localState.avgCalls>0&&(e.avgs.callsPerIn=e.localState.avgCalls-1+1),e.localState.avgImps=e.localState.imps/e.localState.calls,e.localState.avgImps<=0&&e.avgs.impsPerCa>0&&(e.localState.avgImps=o-1+1),e.avgs.impsPerCa<=0&&e.localState.avgImps>0&&(e.avgs.impsPerCa=e.localState.avgImps-1+1),e.localState.secs=(n-e.start)/1e3,e.localState.curPass.secs=(n-e.localState.curPass.update)/1e3,e.localState.instances+=1,e.localState.curPass.instances+=1,e.t=n-1+1,e.lastResultT=n-1+1;var s=i*a*o||0,u=e.localState.avgInsts*e.localState.avgCalls*e.localState.avgImps||0;u<=0&&(u=e.localState.avgInsts*e.localState.avgCalls*.3)<=0&&(u=.5*e.localState.avgInsts*.3)<=0&&(u=0);var c=e.limits.imps/(s*e.limits.secs);isFinite(c)||(c=100);var l=e.limits.secs-e.localState.secs,d=e.localState.secs-1+1;e.localState.curPass.update>0&&(d=e.localState.secs-(e.localState.curPass.update-e.start)/1e3);var f=d*u;(!f||f<0)&&(f=0);var p=d*i*a*o;(!(p-=f)||p<0)&&(p=0);var h=l*i*a*o;(!h||h<0)&&(h=1),e.localState.curPass.imps||(e.localState.curPass.imps=0),e.state.imps||(e.state.imps=0),e.localState.curPass.assumeTotalImps||(e.localState.curPass.assumeTotalImps=0);var v=Math.floor(p+e.localState.curPass.imps+e.state.imps);e.localState.curPass.assumeTotalImps=p-1+1;var m=e.limits.imps-v,g=e.limits.secs*(i*a*o);g<=0&&(g=e.limits.secs-1+1);var y=m/h;isFinite(y)||(y=100);var b=y-c;e.limits.secs>0&&e.limits.imps>0?m>0&&l>0?(e.I<=150&&e.I>=-150?(e.I+=b*r,e.d=(b-e.E)/r,e.E=b-1+1,e.lastResult=y+(1*b+.2*e.I+1*e.d)):e.I>=-150?b<0?(e.I+=b*r,e.d=(b-e.E)/r,e.E=b-1+1,e.lastResult=y+(1*b+.2*e.I+1*e.d)):(e.I=151,e.d=(b-e.E)/r,e.E=b-1+1,e.lastResult=y+(1*b+.2*e.I+1*e.d)):e.I<=150&&(b>0?(e.I+=b*r,e.d=(b-e.E)/r,e.E=b-1+1,e.lastResult=y+(1*b+.2*e.I+1*e.d)):(e.I=-151,e.d=(b-e.E)/r,e.E=b-1+1,e.lastResult=y+(1*b+.2*e.I+1*e.d))),e.lastResult>0&&(t=100*Math.random()<=e.lastResult)):(e.lastResult=0,e.localState.finished=!0):e.weight?(e.lastResult=e.weight-1+1,t=100*Math.random()<=e.lastResult):(e.lastResult=100,t=!0)}return t}(e.creatives[n])&&(e.creatives[n].localState.chosen+=1,e.creatives[n].localState.curPass.chosen+=1,e.creatives[n].chosen=!0,i[e.creatives[n].p]||(i[e.creatives[n].p]=[]),i[e.creatives[n].p].push(e.creatives[n])))}})),each(i,(function(e,r){validator.isNotEmpty(r)&&(r.length>1?(each(r,(function(e,t){n=Math.round(t.localState.curPass.assumeTotalImps+t.localState.curPass.imps+t.state.imps),a[n]||(a[n]=[]),a[n].push(t)})),each(a,(function(e,n){validator.isNotEmpty(n)&&(n=shuffle(n),each(n,(function(e,n){t.creativeOptions.push(n),validator.isNotEmpty(n.condition)&&!conditionTester(n.condition,t)&&t.creativeOptions.pop()})))}))):each(r,(function(e,n){t.creativeOptions.push(n),validator.isNotEmpty(n.condition)&&!conditionTester(n.condition,t)&&t.creativeOptions.pop()})))})))}function s(e,t){var n,r=[],i={PID:e.PID,PFID:e.PFID,PLID:e.PLID,CPID:0,CRID:0,TRID:0,start:0};if(validator.isNotEmpty(t)&&validator.isNotEmpty(e.platforms)&&validator.isNotEmpty(e.campaigns)&&validator.isNotEmpty(e.creatives))if(t.superkey=t.PFID+"."+t.PLID,r=getVendriObjectsById("CPID",t.CPIDs,e.campaigns),validator.isArray(r))for(n=0;n<r.length;n+=1)exists(r[n],"creatives")&&(e.creativeOptions&&e.creativeOptions.length&&0!==e.creativeOptions.length||(r[n].superkey=t.PFID+"."+t.PLID+"."+r[n].CPID,i.CPID=r[n].CPID,i.start=r[n].start,o(r[n],e)));else debugPing("No campaigns to run",{},"config")}extend(this,Vendri.setupParams,e),e&&validator.isPluginEnabled("pAPI",e.plugins)&&publicaProxy.linkInstance(this),this.marked=!1,this.adState="",this.adPausedStart,this.triggerResultVal={breakIndex:0,startTime:0,endTime:0,offset:0},this.displayMode="normal",this.prefetched=!1,this.attributed=!1,this.prefetcherStarted=!1,this.currentlyPrefetching=!1,this.prefetchAdSlotIndex=0,this.adBreakPosition=null,this.adPausedDuration=0,this.pauseAdBreak=!1,this.stopAdBreak=!1,this.listenToSDK=!1,this.PLID=0,this.buildTime=Vendri.buildTime,this.starttime=newTime(),this.prefetchDuration=0,this.skippableLink={create:function(){},onclick:function(){},isplaying:function(){},ispaused:function(){},show:function(){},hide:function(){}},this.adCreative={},this.creativeOptions=[],this.creative={},this.mediaDuration=0,this.vastResponses=[],this.eventTarget=window||document.body,this.logData={creatives:[{creative:{},trackers:[{tracker:"",fired:!1,httpStatus:""}],events:[{name:"",target:"",data:""}],companions:[{companion:{},trackers:[{tracker:"",fired:!1,httpStatus:""}],events:[{name:"",target:"",data:""}]}]}],trackers:[{tracker:"",fired:!1,httpStatus:""}],events:[{name:"",target:"",data:""}]},this.clickThroughLink=void 0,this.flashPlayer=void 0,this.onClickThrough=function(){return!1},this.populatedTag="",this.totalTags=0,this.retries=0,this.adBreakType="",this.fallbacks=0,this.tagPosition=0,this.timers={duration:!1,start:!1,instance:!1,adBreak:!1,sdkStopDelayed:!1},this.superTimers={timers:{}},this.started=!1,this.instanceId=generateInstanceId(),this.adSlotPosition=0,this.embeddedPlayer=void 0,this.checkStartTime=newTime(),this.creator="",this.slotStartTime=newTime(),this.checkSetup=function(e){populateMaps(n),n.creativeOptions=[],s(n,a),n.adCreative={},n.creative={},n.vastResponses=[],n.mediaDuration=0,n.clickThroughLink=void 0,n.flashPlayer=void 0,n.onClickThrough=function(){return!1};var t=!1;if(this.checkStartTime=newTime(),n.totalTags>0){if("string"==typeof n.creativeOptions[n.tagPosition].source.resource&&/^\{|^\[/.test(n.creativeOptions[n.tagPosition].source.resource))try{var i=n.creativeOptions[n.tagPosition].source.resource.replace(/(\{*\}*)(\[*\]*)(\(*\)*)/g,"");vinArray(["a9_amzniid","a9_amznbid","a9_amznp","a9_slotID","a9_mediaType","a9_r_amznbid","a9_r_amzniid","a9_r_amznp","a9_qsParams","a9_encodedQsParams"],i)>-1&&n.mapped.bids.a9&&n.mapped.bids.a9[n.adSlotPosition]&&n.mapped.bids.a9[n.adSlotPosition][i.substring(3)]?n.creativeOptions[n.tagPosition].resource=n.mapped.bids.a9[""+n.adSlotPosition][i.substring(3)]:n.mapped[i]?n.creativeOptions[n.tagPosition].resource=n.mapped[i]:(device.isAndroidSDK?window.VendriAndroidApp&&window.VendriAndroidApp.getScopedVariables&&(n.creativeOptions[n.tagPosition].resource=window.VendriAndroidApp.getScopedVariables(i)||!1):device.isIosSDK&&window.VendriIosApp&&window.VendriIosApp.getScopedVariables&&(n.creativeOptions[n.tagPosition].resource=window.VendriIosApp.getScopedVariables(i)||!1),window&&window[i]?n.creativeOptions[n.tagPosition].resource=window[i]:n.target&&n.target[i]?n.creativeOptions[n.tagPosition].resource=n.target[i]:document&&document[i]?n.creativeOptions[n.tagPosition].resource=document[i]:document&&document.body&&document.body[i]&&(n.creativeOptions[n.tagPosition].resource=document.body[i]))}catch(e){n.creativeOptions[n.tagPosition].resource=""}if(n.tag=n.creativeOptions[n.tagPosition].source.resource,n.populatedTag=""+n.tag,e||(device.isAndroidSDK?(n.target=document.getElementById("android_div")||document.body,n.placementType="androidSDK"):device.isIosSDK&&(n.target=document.getElementById("android_div")||document.body,n.placementType="iosSDK"),n.useModal=!n.target,n.eventTarget=n.target),n.useModal)n.target=vPlayer.makeModal(n),n.placementType="modal",n.eventTarget=document.body||n.target;else{if("element_append"==n.placementType){if(n.replace=!1,n.targetParent=n.target,n.target&&n.target.childNodes&&n.target.childNodes.length)try{eachNode(n.target.childNodes,(function(e,r){r.name&&"vendris_div"===r.name&&(n.target=r,t=!0)}))}catch(e){debugPing("cannot do element append",{message:e},"dom")}t||(n.target=document.createElement("div"),n.target.name="vendris_div",n.targetParent.appendChild(n.target))}n.replace?n.replaceData=n.target.innerHTML||"":n.replaceData=""}n.volume=n.volume>=0?n.volume<=1?n.volume:n.volume/100:.7,vPlayer.volume=n.volume,populateMaps(n),callStack.reset(),callStack.push("checkSetup");var o={callers:callStack.getStack(),impressions:!1,tag:n.tag.toString(),tags:n.creativeOptions,retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakTime:1*n.adBreakTime,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:n.totalTags.toString(),instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:n.mediaDuration,adType:"",runTime:0,status:"",msg:"checkSetup",type:"run"};if(n.target)if(n.pauseAdBreak)n.playerAdPlay=function(){return n.adPausedStart>0&&(n.adPausedDuration+=newTime()-n.adPausedStart,n.adPausedStart=0),n.checkSetup(e),!0};else{n.playerAdPause=function(){return!1},n.playerAdPlay=function(){return!1},n.target.instanceId=n.instanceId,n.target.VendriInstance=n,n.listenToSDK=!1,n.eventTarget.instanceId=n.instanceId;try{if(n.vastResponses=[],n.vastQueue=0,o.retry=n.retries.toString(),o.adSlotPosition=1*n.adSlotPosition,o.adSlots=1*n.adSlots,o.adBreakType=n.adBreakType.toString(),o.fallback=n.fallbacks.toString(),o.tagPosition=n.tagPosition.toString(),o.type="run",o.runTime=newTime()-n.starttime,vEvents.fireVendriEvent("run",o,n),validator.isNotEmpty(n.creativeOptions)){switch(r=n.creativeOptions[n.tagPosition],n.creativeIdName=r.id,n.creativeOptions[n.tagPosition].type){case"js":break;case"html":case"static":n.creative=extend({},n.creativeOptions[n.tagPosition]),Vendri.useExternalRenderer()?(n.displayMode="normal",n.tagPosition+=1,this.checkSetup(!0)):(n.mediaDuration=0,vPlayer.embedStaticCreative(n));break;case"sdk":n.creative=extend({},n.creativeOptions[n.tagPosition]),Vendri.useExternalRenderer()?(n.displayMode="normal",n.tagPosition+=1,this.checkSetup(!0)):n.displayMode&&"prefetch"===n.displayMode?(n.creative.adType="sdk",n.creative.creativeIdName=n.creativeIdName,n.adBank.push(n.creative),o.retry=n.retries.toString(),o.adBreakPosition=n.adBreakPosition,o.adSlots=n.adSlots.toString(),o.adBreakType=n.adBreakType.toString(),o.fallback=n.fallbacks.toString(),o.tagPosition=n.tagPosition.toString(),o.status="fetched",vEvents.vastEvent("fetched",o,n)):n.embeddedPlayer=vPlayer.embedSDKPlayer(n);break;case"media":n.creative=extend({},n.creativeOptions[n.tagPosition]),Vendri.useExternalRenderer()?(n.displayMode="normal",n.tagPosition+=1,this.checkSetup(!0)):(n.creative.fileType="i",n.mediaDuration=0,vPlayer.embedMediaCreative(n));break;case"a9-bid":Vendri.useExternalRenderer()?(n.displayMode="normal",n.tagPosition+=1,this.checkSetup(!0)):d((function(){vAd.beginVastCalls(n,n.tag)}));break;case"a9-api":Vendri.useExternalRenderer()?(n.displayMode="normal",n.tagPosition+=1,this.checkSetup(!0)):vAd.a9ApiBidGetter((function(e){vAd.beginVastCalls(n,e)}),n);break;default:if(n.creative=extend({},n.creativeOptions[n.tagPosition]),Vendri.useExternalRenderer()){var u=parser.parseDomURL(n.mapped,n.tag,!1,n);n.displayMode="normal",vendriTimer.start(n,"start",1e3*n.constraints.startTime,(function(){publicaProxy.stop(),callStack.reset(),callStack.push("publicaProxy.playAd");var e={adBreakTime:1*n.adBreakTime,adBreakType:n.adBreakType.toString(),adDuration:n.mediaDuration,adSlotPosition:1*n.adSlotPosition,adSlots:1*n.adSlots,adType:"",callers:callStack.getStack(),fallback:n.fallbacks.toString(),impressions:!1,instanceId:n.instanceId.toString(),mediaSrc:"",mediaType:"",msg:"pAPI:  "+n.adCreative.adType+" timed out waiting for Publica's 'event_filled'",retry:n.retries.toString(),runTime:newTime()-n.starttime,status:"timeout",tag:n.tag.toString(),tagPosition:n.tagPosition.toString(),tags:n.creativeOptions,totalTags:n.totalTags.toString(),type:"run",version:n.version};debugPing("timeout waiting for default ad start",e,"timeout"),vEvents.vastEvent("timeout",e,n)})),publicaProxy.playAd(n.creative.id,u.mappedUrl)}else vAd.beginVastCalls(n,n.tag)}n.creativeOptions[n.tagPosition].localState.calls+=1,n.creativeOptions[n.tagPosition].localState.curPass.calls+=1}else o.retry=n.retries.toString(),o.adSlotPosition=1*n.adSlotPosition,o.adBreakType=n.adBreakType.toString(),o.adSlots=1*n.adSlots,o.fallback=n.fallbacks.toString(),o.tagPosition=n.tagPosition.toString(),o.status="error",o.msg="no creativeOptions",o.runTime=newTime()-n.starttime,vEvents.vastEvent("error",o,n)}catch(e){debugPing("checkSetup error",{message:e},"config"),o.retry=n.retries.toString(),o.adSlotPosition=1*n.adSlotPosition,o.adSlots=1*n.adSlots,o.adBreakType=n.adBreakType.toString(),o.fallback=n.fallbacks.toString(),o.tagPosition=n.tagPosition.toString(),o.status="error",o.msg="Check Setup: "+JSON.stringify(e),o.runTime=newTime()-n.starttime,vEvents.vastEvent("error",o,n)}}else o.retry=n.retries.toString(),o.adSlotPosition=1*n.adSlotPosition,o.adSlots=1*n.adSlots,o.adBreakType=n.adBreakType.toString(),o.fallback=n.fallbacks.toString(),o.tagPosition=n.tagPosition.toString(),o.status="error",o.msg="No target provided or target is busy",o.runTime=newTime()-n.starttime,debugPing("no valid creative options",o,"config"),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:o,status:"No target provided or target is busy"})}else callStack.reset(),callStack.push("checkSetup"),debugPing("checkSetup, no creatives",o={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"fail",msg:"no creatives",type:"run"},"config"),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:o,status:"no creatives"})},this.setup=function(e,t){if(pidEndpointOverride=e.pidEndpointOverride||pidEndpointOverride,n.PLID=0,populateMaps(n),validator.isNotEmpty(t)){n.PLID=t.PLID,s(n,t);try{"element"!==t.type&&"element_append"!==t.type||!validator.isNotEmpty(t.target)||(n.target=document.getElementById(t.target),n.placementType=t.type)}catch(e){}}!function(e,t){var n;callStack.reset(),callStack.push("setup");var r={callers:callStack.getStack(),impressions:!1,tag:"",msg:"",tags:[],retry:0,fallback:0,tagPosition:0,totalTags:0,instanceId:t.instanceId.toString(),version:t.version,mediaSrc:"",mediaType:"",adDuration:t.mediaDuration,adType:"",runTime:0,status:""};try{for(n in e)!Object.prototype.hasOwnProperty.call(e,n)||Object.prototype.hasOwnProperty.call(i,n)||Object.prototype.hasOwnProperty.call(oKeepProtected,n)||(t[n]=e[n]);for(n in oKeepProtected)Object.prototype.hasOwnProperty.call(oKeepProtected,n)&&(t[n]=oKeepProtected[n]);t.buildTime=Vendri.buildTime,t.starttime=newTime(),(!t.pti||"number"!=typeof t.pti||t.pti<=0)&&(t.pti=Vendri.setupParams.pti),t.theme=t.theme||"light",t.preferredMediaType=t.preferredMediaType||null,t.preferredAdType=t.preferredAdType||null,t.retry?!0===t.retry?t.retry=3:t.retry>10&&(t.retry=10):t.retry=0,t.replace||(t.replace=!1),t.constraints||(t.constraints={playTime:!1,startTime:3,adBreakTime:0}),t.constraints.startTime&&"number"==typeof t.constraints.startTime||(t.constraints.startTime=Vendri.setupParams.constraints.startTime),t.constraints.adBreakTime&&"number"==typeof t.constraints.adBreakTime||(t.constraints.adBreakTime=Vendri.setupParams.constraints.adBreakTime),t.constraints.adBreakStartTime&&"number"==typeof t.constraints.adBreakStartTime||(t.constraints.adBreakStartTime=Vendri.setupParams.constraints.adBreakStartTime),!t.adSlots||t.adSlots<=0||!0===t.adSlots?t.adSlots=1:t.adSlots>100&&(t.adSlots=100),t.adBreakType&&""!=t.adBreakType||(t.adBreakType="preroll"),t.preferredType="flash"!==t.preferredType.toLowerCase()&&"swf"!==t.preferredType.toLowerCase()?"html5":"flash",t.preferredDeliveryType="streaming"!==t.preferredDeliveryType.toLowerCase()?"progressive":"streaming",t.height="number"==typeof t.height?t.height:480,t.width="number"==typeof t.width?t.width:640,t.sizeRange="number"==typeof t.height?t.sizeRange:50,bitrate.check&&device.bitrateTest(),validator.isNotEmpty(t.creativeOptions)?t.totalTags=t.creativeOptions.length:validator.isNotEmpty(t.adTags)?(each(t.adTags,(function(e,n){t.creativeOptions.push({source:{resource:n}})})),t.totalTags=t.creativeOptions.length):validator.isArray(t.tag)?(each(t.tag,(function(e,n){t.creativeOptions.push({resource:n})})),t.totalTags=t.creativeOptions.length):"string"==typeof t.tag&&""!==t.tag&&(t.creativeOptions=[t.tag],t.totalTags=1),e.maps&&"object"==typeof e.maps&&(t.maps=extend(t.maps,e.maps)),t.forcePlay&&!t.started&&(t.started=!0,t.checkSetup()),"prefetch"!==t.displayMode&&vendriTimer.start(t.superTimers,"adBreakStartTime",1e3*t.constraints.adBreakStartTime,(function(){callStack.reset(),callStack.push("adBreak");var e={adSlotPosition:1*t.adSlotPosition,callers:callStack.getStack(),impressions:!1,tag:"",tags:"",adSlots:1*t.adSlots,fallback:t.fallbacks.toString(),tagPosition:t.tagPosition.toString(),totalTags:0,instanceId:t.instanceId.toString(),version:t.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-t.starttime,adBreakPosition:t.adBreakPosition,status:"timeout",msg:'adBreak timed out waiting for "adStarted" event',type:""};t.stopAdBreak=!0,debugPing("timeout waiting for ad break to start",e,"timeout"),vEvents.vastEvent("timeout",e,t)}))}catch(n){debugPing("instance setup error",{message:n},"config"),r.retry=t.retries.toString(),r.adSlotPosition=1*t.adSlotPosition,r.adSlots=1*t.adSlots,r.adBreakType=t.adBreakType.toString(),r.fallback=t.fallbacks.toString(),r.tagPosition=t.tagPosition.toString(),r.totalTags=t.totalTags.toString(),r.status="error",r.tags=t.creativeOptions,r.msg="Vendri Init Setup Error: "+JSON.stringify(n),r.runTime=newTime()-t.starttime,e.target&&vEvents.vastEvent("error",r,t),vEvents.fireEvent(t.eventTarget,"vnothing",{adEvtObj:r,status:"endri Init Setup Error"})}}(e,n)},this.play=function(e,t,r){var i=!1;if(""===n.creator&&(n.creator="play"),e=e||{},n.started){n.pauseAdBreak=!1;try{i=n.playerAdPlay()}catch(e){i=!1}if(!i){callStack.reset(),callStack.push("play");var o={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"redundant",msg:"already playing",type:"play"};vEvents.fireInstanceEvent(n,"vnothing",{adEvtObj:o,status:"redundant"}),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:o,status:"redundant"})}}else if(i=!0,n.pauseAdBreak=!1,e.forcePlay=!0,n.TRID=t,a.instanceId=n.instanceId,dataChecker(n.setup(e,a)),r)try{incrementTrigger(r.TRID)}catch(e){}return i},this.resume=function(e,t,r){var i=!1;if(e=e||{},n.started){n.pauseAdBreak=!1;try{i=n.playerAdPlay()}catch(e){i=!1}}else{i=!1,callStack.reset(),callStack.push("resume");var a={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"redundant",msg:"already playing",type:"play"};vEvents.fireInstanceEvent(n,"vnothing",{adEvtObj:a,status:"redundant"}),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:a,status:"redundant"})}return i},this.adBreak=function(e,t,r,i){var o,s,u,c,l=!1;""===n.creator&&(n.creator="adBreak"),e=e||{},a&&a.context&&i&&i.adBreakType&&a.context[i.adBreakType]&&(c=a.context[i.adBreakType],Object.assign(e,c)),callStack.reset(),callStack.push("adBreak");var d={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,adBreakPosition:n.adBreakPosition,adSlotPosition:0,status:"adBreak",msg:"",type:""};return n.pauseAdBreak=!1,n.started?(l=!1,d={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"redundant",msg:"already started",type:"adBreak"},vEvents.fireInstanceEvent(n,"vnothing",{adEvtObj:d,status:"redundant"}),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:d,status:"redundant"})):(e.forcePlay=!0,n.TRID=t,a.instanceId=n.instanceId,i&&(n.triggerResultVal=i),s=validator.isPrefetchInstance(n),u=validator.isNormalInstance(n),(s||u)&&(n.adBreakPosition=n.triggerResultVal.breakIndex,n.prefetchStartTime=n.triggerResultVal.startTime,n.prefetchEndTime=n.triggerResultVal.endTime,n.prefetchOffset=n.triggerResultVal.offset,(o=document.getElementById(a.target))&&(n.adBreaksArray=validator.isArray(o.adBreaks)?o.adBreaks:[],n.prefetched=!1,n.prefetchAdSlotIndex=0,s&&!Vendri.useExternalRenderer()?(n.displayMode="prefetch",n.currentlyPrefetching=!0,n.adBank=[],n.prefetcherStarted=!0,setTimeout((function e(){var t="number"==typeof o.currentTime?o.currentTime:-1;-1!==t&&n.prefetchStartTime<=t&&t<n.prefetchEndTime&&!n.adBreaksArray[n.adBreakPosition].completePrefetchFailure?t>=n.prefetchOffset?(n.adSlotPosition=0,d.adBreakPosition=n.adBreakPosition,n.slotStartTime=n.checkStartTime=newTime(),vEvents.fireEvent(window,"adBreakStarted",{adEvtObj:d,status:"success"}),debugPing("adBreakStarted",d,"experience"),vendriTimer.start(n.superTimers,"adBreakStartTime",1e3*n.constraints.adBreakStartTime,(function(){vendriTimer.stop(n,"start"),n.stopAdBreak=!0,d.status="timeout",d.msg='adBreak timed out waiting for "adStarted" event',d.runTime=newTime()-n.starttime,debugPing("timeout waiting for ad break to start",d,"timeout"),vEvents.vastEvent("timeout",d,n)})),n.prefetchDuration=newTime()-n.starttime,n.prefetched&&!o.isScrubbing()?playFromBank(n,n.adSlotPosition):n.playPartiallyPrefetched=!0):setTimeout(e,500):(n.adBreaksArray[n.adBreakPosition].fetchedState=!1,n.stop(r))}),500)):(d.adBreakPosition=n.adBreakPosition,n.checkStartTime=newTime(),vEvents.fireEvent(window,"adBreakStarted",{adEvtObj:d,status:"success"}),debugPing("adBreakStarted",d,"experience"),n.displayMode="normal"))),n.checkStartTime=newTime(),dataChecker(n.setup(e,a))),l},this.playerAdPlay=function(){return!1},this.playerAdPause=function(){return!1},this.pause=function(e){var t=!1;if(e)try{incrementTrigger(e.TRID)}catch(e){}if("started"===n.adState)try{t=n.playerAdPause()}catch(e){}return n.pauseAdBreak=!0,t},this.setFullscreen=function(e){if(e)try{incrementTrigger(e.TRID)}catch(e){}return!1},this.mute=function(e){var t=!1;try{if(n.volume=0,t=vPlayer.volume=n.volume,e)try{incrementTrigger(e.TRID)}catch(e){}}catch(e){t=e}return t},this.setVolume=function(e,t){var r=!1;try{if("number"==typeof t&&(n.volume=t>=0?t<=1?t:t/100:.7,r=vPlayer.volume=n.volume,e))try{incrementTrigger(e.TRID)}catch(e){}}catch(e){r=e}return r},this.stop=function(e){var t=!1;if(n.stopAdBreak=!0,n.started){callStack.reset(),callStack.push("instanceStop");var r={callers:callStack.getStack(),impressions:"",tag:n.tag.toString(),tags:n.creatives,retry:n.retries.toString(),fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:n.totalTags.toString(),instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:newTime()/1e3,adType:"",runTime:newTime()-n.starttime,status:"stopped",adId:""};if(e)try{incrementTrigger(e.TRID)}catch(e){}n.embeddedPlayer&&validator.isFunction(n.embeddedPlayer.stop)?n.embeddedPlayer.stop():(publicaProxy.stop(),clearInstance(n)),clearVendriTimers(n.superTimers),validator.isObject(publicaProxy)&&validator.isFunction(publicaProxy.cancel)&&publicaProxy.cancel(),t=!0}else t=!1,callStack.reset(),callStack.push("stop"),r={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:n.adSlotPosition.toString(),adBreakType:n.adBreakType.toString(),adSlots:n.adSlots.toString(),fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"redundant",msg:"nothing to stop",type:"stop"},vEvents.fireInstanceEvent(n,"vnothing",{adEvtObj:r,status:"redundant"}),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:r,status:"redundant"});return t},this.endBreak=function(e){var t=!1;if(n.stopAdBreak=!0,n.started){callStack.reset(),callStack.push("endBreak");var r={callers:callStack.getStack(),impressions:"",tag:n.tag.toString(),tags:n.creatives,retry:n.retries.toString(),fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:n.totalTags.toString(),instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:newTime()/1e3,adType:"",runTime:newTime()-n.starttime,status:"stopped",adId:""};if(e)try{incrementTrigger(e.TRID)}catch(e){}t=!0}else t=!1,callStack.reset(),callStack.push("endBreak"),r={callers:callStack.getStack(),impressions:!1,tag:"",tags:"",retry:n.retries.toString(),adSlotPosition:1*n.adSlotPosition,adBreakType:n.adBreakType.toString(),adSlots:1*n.adSlots,fallback:n.fallbacks.toString(),tagPosition:n.tagPosition.toString(),totalTags:0,instanceId:n.instanceId.toString(),version:n.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-n.starttime,status:"redundant",msg:"nothing to stop",type:"stop"},vEvents.fireInstanceEvent(n,"vnothing",{adEvtObj:r,status:"redundant"}),vEvents.fireEvent(n.eventTarget,"vnothing",{adEvtObj:r,status:"redundant"});return t},this.skip=function(e){if(e)try{incrementTrigger(e.TRID)}catch(e){}return!1};var u,c=!1,l=function(e,t){var n=[];c=!0,n.push({slotID:"videoSlot",mediaType:"video"}),e.fetchBids({slots:n},(function(e){!function(e,t){clearTimeout(u),c&&(c=!1,Vendri.setupParams.mapped.bids.a9=e,t&&t())}(e,t)}))},d=function(e){var t=window.apstag;setupParams.debug?window.apstagDEBUG={url:"http://www.crunchyroll.com?amzn_debug_mode=1"}:window.apstagDEBUG&&delete window.apstagDEBUG,u=setTimeout((function(){c?(c=!1,e&&e()):debugPing("timeout with a9 not working",{},"a9")}),3e3);try{c||(t?bidders.a9.initialized?(c=!0,l(t,e)):bidders.a9.pubID&&bidders.a9.videoAdServer?(c=!0,t.init({pubID:bidders.a9.pubID,videoAdServer:bidders.a9.videoAdServer},(function(){bidders.a9.initialized=!0,l(t,e)}))):(debugPing("bidGetter; unable to start, calling callback",{},"a9"),e&&e()):e&&e())}catch(t){debugPing("bidGetter; failure during setup error",{message:t},"a9"),e&&e()}}},window.apstag={goodBid:[{slotID:"videoSlot",amznbid:"a1b2c3",amzniid:"aaaaabbbbbbccccc11111111",amznsz:"300x250",amznp:"z9y8x7"}],init:function(e,t){"function"==typeof t&&t(this.goodBid)},fetchBids:function(e,t){t(this.goodBid)}},startGarbageCollector();var readyStateCheckInterval,loopChecks=0;function initFunction(){var e,t={},n=[],r={};try{removeEvent("onload",document.body,init)}catch(e){}try{clearInterval(readyStateCheckInterval)}catch(e){}if(extend(Vendri.setupParams.mapped,{pageVisible:!1,pageLoaded:!0,pageLoadTime:newTime(),pageUrl:window.location.href}),!readinessHelper.triggersExist()&&!readinessHelper.readyForNewPid()){if(device=new Device,vPlayer=new VPlayer,injectScoper(),setupResizeDetector(),getPageVisibleEvent(),t=getMySourceObject(),validator.isNotEmpty(t.setup))try{t.setup=t.setup.replace(/^\[/,"{").replace(/\]$/,"}").replace(/:\\"/g,'":["').replace(/\\""/g,'"]'),function(t){r={};try{validator.isObject(t)&&(each(t,(function(t,n){e=t})),t=e),t=t.replace(/\[\\%22/g,"%5B%22").replace(/\\%22\]/g,"%22%5D"),r=JSON.parse(t),n.push(r)}catch(e){debugPing("getSetupFromParams error",{message:e},"config")}}(t.setup)}catch(e){debugPing("getSetupFromParams error",{message:e},"config")}validator.isNotEmpty(t.PID)&&0!==t.PID&&"0"!==t.PID?(Vendri.setupParams.PID=t.PID.toString(),validator.isNotEmpty(n)&&each(n,(function(e,t){setupsLater.unshift(t)})),isRunningSetups||(callStack.reset(),callStack.push("init"),vEvents.fireVendriEvent("init",{callers:callStack.getStack(),impressions:!1,tag:"",msg:"",tags:[],retry:0,fallback:0,tagPosition:0,totalTags:0,instanceId:"",version:Vendri.setupParams.version,mediaSrc:"",mediaType:"",adDuration:0,adType:"",runTime:newTime()-Vendri.buildTime,status:"init"},Vendri.setupParams),pidChecker((function(){Vendri.setup(),dataDoGet=!0,pidTimerStart(!0),readinessHelper.readyForNewPid(!0),vEvents.fireEvent(window,"vevt_ready",{})})))):(readinessHelper.readyForNewPid(!0),setupsLater=[],vEvents.fireEvent(window,"vevt_ready",{}))}}init=function(){autoplayChecked||window.androidController||window.iosController?(autoplayStatus="fulfilled",initFunction()):autoplayTester(initFunction)};try{addEvent("onload",document.body,init)}catch(e){}return readyStateCheckInterval=setInterval((function(){("complete"===document.readyState||loopChecks>=100)&&(clearInterval(readyStateCheckInterval),init()),loopChecks+=1}),10),global.Vendri=Vendri,Vendri}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return Vendri}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPrefetchThreshold=void 0,t.defaultPrefetchThreshold=20},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ELLATION_VIDEOQOS_LOADING_TASK=t.ELLATION_VIDEOQOS_MAIN_TASK=void 0;var s=n(9),u=n(2),c=n(8),l=n(59),d=n(40),f=n(39),p=o(n(287)),h=o(n(13)),v=n(152),m=n(41),g=n(7);t.ELLATION_VIDEOQOS_MAIN_TASK="EllationVideoQoS",t.ELLATION_VIDEOQOS_LOADING_TASK="EllationVideoQoSLoading";var y,b,_=!1,A=null,S=null,E=null,w=!1,T=function(e){function n(){var t=e.call(this,"VideoQoSRollup")||this;return t.sessions={},t.getOptions=function(){return{sagas:[t.register],reducerMap:{QoS:p.default}}},t.validateAdBreakDurationError=function(e){for(var t=e.payload,n=[],r=0;r<t.length;r++){var i=t[r].duration,a=t[r].type;a===l.AdBreakType.PREROLL?(i<14||i>61)&&n.push({index:r,type:a,duration:i,expectedMin:14,expectedMax:61}):(i<89||i>141)&&n.push({index:r,type:a,duration:i,expectedMin:89,expectedMax:141}),n&&console.warn("Ad "+a+r+" only has a total duration of "+i)}return n},t.validateAdSlotCountError=function(e){var t=e.payload,n=[],r=t[0].type;r!==l.AdBreakType.PREROLL&&(console.warn("Preroll is missing"),n.push({index:0,type:r,expectedSlots:1,actualSlots:0}));for(var i=0;i<t.length;i++){var a=t[i].adSlots.length;if((r=t[i].type)===l.AdBreakType.PREROLL&&1!==a||r===l.AdBreakType.MIDROLL&&a<4){console.warn("Ad "+r+i+" only has "+a+" total Ad Slots");var o=r===l.AdBreakType.PREROLL?1:4;n.push({index:i,type:r,expectedSlots:o,actualSlots:a})}}return n},t.register=t.register.bind(t),t.registerStartEvents=t.registerStartEvents.bind(t),t.completedLoading=t.completedLoading.bind(t),t.handleFireInterval=t.handleFireInterval.bind(t),t.handleForceExit=t.handleForceExit.bind(t),t.handleLoadContent=t.handleLoadContent.bind(t),t.handleReadyToPlay=t.handleReadyToPlay.bind(t),t.handleRejectAdsAutoplay=t.handleRejectAdsAutoplay.bind(t),t.handleRejectPlay=t.handleRejectPlay.bind(t),t.handleSetSource=t.handleSetSource.bind(t),t.handleStartedAdSlot=t.handleStartedAdSlot.bind(t),t.handleStartedPlaying=t.handleStartedPlaying.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.handleUpdateAdBreaks=t.handleUpdateAdBreaks.bind(t),t.sendEvent=t.sendEvent.bind(t),t.updatePlaybackMetrics=t.updatePlaybackMetrics.bind(t),t.validateAdBreakCountError=t.validateAdBreakCountError.bind(t),t}return i(n,e),n.prototype.isSingleton=function(){return!0},n.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,g.gateUtils.addTask(u.contentLifecycleActionCreators.completeUnloadContent,"QoS cleanup")];case 1:return e.sent(),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({sessionStartTime:Date.now()}))];case 2:return e.sent(),[2]}}))},n.prototype.handleLoadContent=function(){var e,n,r,i,o,l,p;return a(this,(function(a){switch(a.label){case 0:return[4,s.fork(this.registerStartEvents)];case 1:return b=a.sent(),_=!1,A||(A=Math.random().toString(36)+Math.random().toString(36)),[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_VIDEOQOS_MAIN_TASK)];case 2:return a.sent()?[3,4]:[4,s.put(u.coreActionCreators.startIntervalTask({name:t.ELLATION_VIDEOQOS_MAIN_TASK,interval:5}))];case 3:a.sent(),a.label=4;case 4:return[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_VIDEOQOS_LOADING_TASK)];case 5:return a.sent()?[3,7]:[4,s.put(u.coreActionCreators.startIntervalTask({name:t.ELLATION_VIDEOQOS_LOADING_TASK,interval:.25}))];case 6:a.sent(),a.label=7;case 7:return E=Date.now(),[4,s.select(c.videoQoSRollupSelectors.all)];case 8:return e=a.sent().sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppTimeToConfig:Date.now()-e}))];case 9:return a.sent(),[4,s.select(c.configurationSelectors.self)];case 10:return n=a.sent(),[4,s.select(c.adsManagerSelectors.all)];case 11:return r=a.sent().adBreaks,i=d.isUserPremium(n),"Vendri"!==(o=d.getAdTech(n))||(null==r?void 0:r.length)?[3,12]:(o="noads",[3,18]);case 12:return!i&&o?[3,13]:(o="noads",[3,18]);case 13:return f.isUsingSSAI(n)?[4,f.getConfigId()]:[3,15];case 14:return p=a.sent(),[3,16];case 15:p=d.getPubId(n),a.label=16;case 16:return l=p,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({adsConfigId:l}))];case 17:a.sent(),a.label=18;case 18:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({adTech:o}))];case 19:return a.sent(),[2]}}))},n.prototype.handleSetSource=function(){var e,t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.playerSelectors.all)];case 1:return e=a.sent(),t=e.attachedTech,n=e.attachedTechVersion,r=e.drm,i=e.type,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({drm:r,playerTech:t,playerTechVersion:n,streamType:i}))];case 2:return a.sent(),[2]}}))},n.prototype.handleProgress=function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return n=(t=c.playerSelectors).all,[4,s.select()];case 1:return e=n.apply(t,[i.sent()]).cdnMetrics,r={cdnManifest:e.manifestHost,cdnAffinity:e.affinityHost,playbackAudioBitrateAvgKbps:e.avgAudioBitrate/1024,playbackVideoBitrateAvgKbps:e.avgVideoBitrate/1024,playbackTotalBitrateAvgKbps:(e.avgAudioBitrate+e.avgVideoBitrate)/1024},Object.entries(e.hosts).forEach((function(e){var t=e[0],n=e[1],i=n.audio,a=n.video;r["cdnAvgRate-"+t]=(i.avgTransferRate+a.avgTransferRate)/1024})),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties(r))];case 2:return i.sent(),[2]}}))},n.prototype.handleRequestDrmAuthorization=function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=t.sent().sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppDRMAuthLoadStart:Date.now()-e}))];case 2:return t.sent(),[2]}}))},n.prototype.handleLoadedDrmAuthorization=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppDRMAuthLoadStart,n=e.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppDRMAuthLoadTime:Date.now()-n-t}))];case 2:return r.sent(),[2]}}))},n.prototype.handleRequestDrmCertOrLicense=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppDRMLicenseRequestStart,n=e.sessionStartTime,t?[3,3]:[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppDRMLicenseRequestStart:Date.now()-n}))];case 2:r.sent(),r.label=3;case 3:return[2]}}))},n.prototype.handleLoadedDrmLicense=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppDRMLicenseRequestStart,n=e.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppDRMLicenseRequestTime:Date.now()-n-t}))];case 2:return[2,r.sent()]}}))},n.prototype.handleEndSeek=function(){return a(this,(function(e){return S=null,[2]}))},n.prototype.handleRequestSsaiStream=function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=t.sent().sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppAdStreamLoadStart:Date.now()-e}))];case 2:return t.sent(),[2]}}))},n.prototype.handleReceivedSsaiStream=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppAdStreamLoadStart,n=e.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppAdStreamLoadTime:Date.now()-n-t}))];case 2:return r.sent(),[2]}}))},n.prototype.handleFetchedManifest=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppManifestRequestStart,n=e.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppManifestRequestTime:Date.now()-n-t}))];case 2:return r.sent(),[2]}}))},n.prototype.handleRequestInitSegment=function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=t.sent().sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppInitialBufferStart:Date.now()-e}))];case 2:return t.sent(),[2]}}))},n.prototype.handleRequestManifest=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=n.sent().sessionStartTime,[4,s.select(c.playerSelectors.all)];case 2:return t=n.sent(),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({cdnInitialManifestUrl:t.source.split("?")[0],ppManifestRequestStart:Date.now()-e}))];case 3:return n.sent(),[2]}}))},n.prototype.handleFireInterval=function(e){var n=e.payload;return a(this,(function(e){switch(e.label){case 0:return[t.ELLATION_VIDEOQOS_LOADING_TASK].includes(n)?n!==t.ELLATION_VIDEOQOS_LOADING_TASK?[3,2]:[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({abandonLoadingTime:Date.now()-E}))]:[2];case 1:e.sent(),e.label=2;case 2:return[4,this.updatePlaybackMetrics()];case 3:return e.sent(),[2]}}))},n.prototype.updatePlaybackMetrics=function(){var e,t,n,r,i,o,l,d,f,p;return a(this,(function(a){switch(a.label){case 0:return[4,s.select()];case 1:return e=a.sent(),t=c.mediaSelectors.all(e),n=t.contentTime,r=t.contentDuration,i=c.videoQoSRollupSelectors.all(e),o=i.userAnime4kWatchedTime,l=i.watchedTime,null===S&&(S=n),(d=n-S)<0&&(d=0),(f=l+d)>r&&(f=r),(p=o+d)>r&&(p=r),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({watchedTime:Math.round(f)}))];case 2:return a.sent(),[4,s.select(c.uiSelectors.property,"alternativePlayerRenderer")];case 3:return a.sent()?[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userAnime4kWatchedTime:p}))]:[3,5];case 4:a.sent(),a.label=5;case 5:return S=n,[2]}}))},n.prototype.sendEvent=function(e){return a(this,(function(t){switch(t.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.videoQoSSessionComplete(e))];case 1:return t.sent(),[2]}}))},n.prototype.handleStartedPlaying=function(){var e,t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.playerSelectors.startTime)];case 1:return e=a.sent(),[4,s.select(c.mediaSelectors.all)];case 2:return t=a.sent().contentTime,n=Math.round(1e3*(t-e)),[4,s.select(c.videoQoSRollupSelectors.all)];case 3:return r=a.sent(),i=r.ppInitialBufferStart,o=r.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppInitialBufferTime:Date.now()-o-i-n}))];case 4:return a.sent(),[4,this.completedLoading(!0,n)];case 5:return a.sent(),[2]}}))},n.prototype.handleRejectPlay=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=r.sent(),t=e.ppInitialBufferStart,n=e.sessionStartTime,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppInitialBufferTime:Date.now()-n-t}))];case 2:return r.sent(),[4,this.completedLoading(!1,0)];case 3:return r.sent(),[2]}}))},n.prototype.handleUpdateVideoMedia=function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,s.select(c.analyticsSelectors.organization)];case 1:return e=t.sent().videoMedia,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties(e))];case 2:return t.sent(),[2]}}))},n.prototype.handleWaiting=function(){var e,t,n,r,i,o,l,d,f,p,h;return a(this,(function(a){switch(a.label){case 0:return[4,s.select()];case 1:return e=a.sent(),t=c.mediaSelectors.all(e).contentTime,n=c.videoQoSRollupSelectors.all(e),r=n.playbackStallCount,i=n.seekBufferCount,o=c.playerSelectors.all(e),l=o.buffered,d=o.isLoaded,f=o.isSeeking,p=o.isWaiting,d?(h=!l.some((function(e){var n=e.start,r=e.end;return t>=n&&t+1<=r})),p&&h&&!y?f?[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({seekBufferCount:i+1}))]:[3,3]:[3,6]):[2];case 2:return a.sent(),[3,5];case 3:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({playbackStallCount:r+1}))];case 4:a.sent(),a.label=5;case 5:S=t,y=Date.now(),w=f,a.label=6;case 6:return[2]}}))},n.prototype.handleEndWaiting=function(){var e,t,n,r,i;return a(this,(function(a){switch(a.label){case 0:return[4,s.select()];case 1:return e=a.sent(),t=c.videoQoSRollupSelectors.all(e),n=t.playbackStallDuration,r=t.seekBufferDuration,y?(i=Date.now()-y,w?[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({seekBufferDuration:r+i}))]:[3,3]):[3,6];case 2:return a.sent(),[3,5];case 3:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({playbackStallDuration:n+i}))];case 4:a.sent(),a.label=5;case 5:y=null,w=!1,a.label=6;case 6:return[2]}}))},n.prototype.handleEnded=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateReachedContentEnd(!0))];case 1:return e.sent(),[2]}}))},n.prototype.handleReadyToPlay=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.playerSelectors.all)];case 1:return e.sent().isAutoPlayEnabled?[3,3]:[4,this.completedLoading(!1,0)];case 2:e.sent(),e.label=3;case 3:return[2]}}))},n.prototype.handleStartedAdSlot=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateAutoPlayed(!0))];case 1:return e.sent(),[4,this.completedLoading(!0,0)];case 2:return e.sent(),[2]}}))},n.prototype.handleRejectAdsAutoplay=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateAutoPlayed(!1))];case 1:return e.sent(),[4,this.completedLoading(!1,0)];case 2:return e.sent(),[2]}}))},n.prototype.completedLoading=function(e,n){var r,i,o,l,d,f,p,h;return a(this,(function(a){switch(a.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateAutoPlayed(e))];case 1:return a.sent(),r=Date.now()-E-n,[4,s.put(u.videoQoSRollupActionCreators.updateInitialStartupTime(r))];case 2:return a.sent(),[4,s.select(c.configurationSelectors.self)];case 3:return i=a.sent(),(null===(h=i.analytics)||void 0===h?void 0:h.videoRequestTime)?[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({ppTimeFromClickToVideoStart:Date.now()-i.analytics.videoRequestTime,sessionStartType:i.analytics.sessionStartType}))]:[3,5];case 4:a.sent(),a.label=5;case 5:return d=(l=c.playerSelectors).all,[4,s.select()];case 6:return o=d.apply(l,[a.sent()]),f=v.getCurrentVideoTrack(o),p=(null==f?void 0:f.bitrate)||o.cdnMetrics.initialVideoBitrate,[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({abandonLoadingTime:-1,playbackStartBitrateKbps:p?p/1024:null,playbackStartResolution:(null==f?void 0:f.height)?f.height+"p":null,userTargetResolution:o?o.activeVideoTrackQuality:null}))];case 7:return a.sent(),[4,s.put(u.coreActionCreators.stopIntervalTask(t.ELLATION_VIDEOQOS_LOADING_TASK))];case 8:return a.sent(),[4,s.cancel(b)];case 9:return a.sent(),b=null,[2]}}))},n.prototype.handleForceExit=function(){var e;return a(this,(function(t){switch(t.label){case 0:return _?[3,3]:[4,s.select(c.videoQoSRollupSelectors.all)];case 1:return e=t.sent(),[4,this.sendEvent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))},n.prototype.handleUnloadContent=function(){var e,n,r,i,o,l,d,f,p,h,v;return a(this,(function(a){switch(a.label){case 0:return _=!0,[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_VIDEOQOS_LOADING_TASK)];case 1:return e=a.sent(),[4,s.select(c.coreSelectors.isTaskActive,t.ELLATION_VIDEOQOS_MAIN_TASK)];case 2:return n=a.sent(),d=(l=c.videoQoSRollupSelectors).all,[4,s.select()];case 3:return r=d.apply(l,[a.sent()]),i=r.playbackStallDuration,o=r.seekBufferDuration,e?[4,s.put(u.coreActionCreators.stopIntervalTask(t.ELLATION_VIDEOQOS_LOADING_TASK))]:[3,5];case 4:a.sent(),a.label=5;case 5:return n?[4,s.put(u.coreActionCreators.stopIntervalTask(t.ELLATION_VIDEOQOS_MAIN_TASK))]:[3,7];case 6:a.sent(),a.label=7;case 7:return b?[4,s.cancel(b)]:[3,9];case 8:a.sent(),b=null,a.label=9;case 9:return y?(f=Date.now()-y,w?[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({abandonDuringStallTime:f,seekBufferDuration:o+f}))]:[3,11]):[3,13];case 10:return a.sent(),[3,13];case 11:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({abandonDuringStallTime:f,playbackStallDuration:i+f}))];case 12:a.sent(),a.label=13;case 13:return[4,this.updatePlaybackMetrics()];case 14:return a.sent(),v=(h=c.videoQoSRollupSelectors).all,[4,s.select()];case 15:return p=v.apply(h,[a.sent()]),[4,g.gateUtils.completeTask(u.contentLifecycleActionCreators.completeUnloadContent,"QoS cleanup")];case 16:return a.sent(),[4,this.sendEvent(p)];case 17:return a.sent(),[2]}}))},n.prototype.handleCompleteUnloadContent=function(){return a(this,(function(e){switch(e.label){case 0:return A=null,E=null,S=null,y=null,[4,s.put(u.videoQoSRollupActionCreators.reset())];case 1:return e.sent(),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({sessionStartTime:Date.now()}))];case 2:return e.sent(),[2]}}))},n.prototype.handleShowStatsForNerds=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userStatsNerdsEnabled:!0}))];case 1:return e.sent(),[2]}}))},n.prototype.handleShowAdvancedSettingsMenu=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userAdvancedControlsEnabled:!0}))];case 1:return e.sent(),[2]}}))},n.prototype.handleToggleAlternativePlayerRenderer=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userAnime4KEnabled:!0}))];case 1:return e.sent(),[2]}}))},n.prototype.handleSetAlternativePlayerRenderer=function(e){var t=e.payload;return a(this,(function(e){switch(e.label){case 0:return"Anime4k"!==t.type?[2]:m.defaultAnime4kState.attributes.blur===t.attributes.blur||m.defaultAnime4kState.attributes.bold===t.attributes.bold?[3,2]:[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userAnime4kChangedValues:!0}))];case 1:e.sent(),e.label=2;case 2:return[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({userAnime4kLastBlurValue:Math.round(10*t.attributes.blur)/10,userAnime4kLastBoldValue:Math.round(10*t.attributes.bold)/10}))];case 3:return e.sent(),[2]}}))},n.prototype.validateAdBreakCountError=function(e){var t,n,r,i,o,u,l,d,f=e.payload;return a(this,(function(e){switch(e.label){case 0:return t=[],n=f.length,[4,s.select()];case 1:return r=e.sent(),i=c.mediaSelectors.all(r).contentDuration,o=i/60,u=[10,15,25,35,40,50,55,60],l=Math.max.apply(Math,u),d=u.findIndex((function(e){return o<=e||o>e&&e===l}))+1,n&&n<d&&(console.warn("Content only has "+n+" out of "+d+" Ad Breaks"),t.push({expectedAdBreaks:d,actualAdBreaks:n})),[2,t]}}))},n.prototype.handleUpdateAdBreaks=function(e){var t,n,r,i,o=e.payload;return a(this,(function(e){switch(e.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return t=e.sent(),f.isUsingSSAI(t)?[4,this.validateAdBreakCountError({payload:o})]:[2];case 2:return n=e.sent(),r=this.validateAdBreakDurationError({payload:o}),i=this.validateAdSlotCountError({payload:o}),[4,s.put(u.videoQoSRollupActionCreators.updateQoSProperties({adBreakCountError:n,adBreakDurationError:r,adSlotCountError:i}))];case 3:return e.sent(),[2]}}))},n.prototype.registerStartEvents=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.contentLifecycleActionCreators.startedPlaying,this.handleStartedPlaying),s.takeEvery(u.adsManagerActionCreators.startedAdSlot,this.handleStartedAdSlot),s.takeEvery(u.adsManagerActionCreators.rejectAdsAutoPlay,this.handleRejectAdsAutoplay),s.takeEvery(u.ssaiActionCreators.requestVmap,this.handleRequestSsaiStream),s.takeEvery(u.ssaiActionCreators.receivedVmap,this.handleReceivedSsaiStream),s.takeEvery(u.playerActionCreators.requestDrmAuthorization,this.handleRequestDrmAuthorization),s.takeEvery(u.playerActionCreators.loadedDrmAuthorization,this.handleLoadedDrmAuthorization),s.takeEvery(u.playerActionCreators.loadedDrmLicense,this.handleLoadedDrmLicense),s.takeEvery([u.playerActionCreators.requestDrmCertificate,u.playerActionCreators.requestDrmLicense],this.handleRequestDrmCertOrLicense),s.takeEvery(u.contentLifecycleActionCreators.readyToPlay,this.handleReadyToPlay),s.takeEvery(u.playerActionCreators.rejectPlay,this.handleRejectPlay),s.takeEvery(u.playerActionCreators.fetchedManifest,this.handleFetchedManifest),s.takeEvery(u.playerActionCreators.requestInitSegment,this.handleRequestInitSegment),s.takeEvery(u.playerActionCreators.requestManifest,this.handleRequestManifest),s.takeEvery(u.playerActionCreators.setSource,this.handleSetSource)])];case 1:return e.sent(),[2]}}))},n.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp),s.takeEvery(u.contentLifecycleActionCreators.loadContent,this.handleLoadContent),s.takeEvery(u.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent),s.takeEvery(u.contentLifecycleActionCreators.completeUnloadContent,this.handleCompleteUnloadContent),s.takeEvery(u.coreActionCreators.fireInterval,this.handleFireInterval),s.takeEvery(u.ellationAnalyticsActionCreators.updateVideoMedia,this.handleUpdateVideoMedia),s.takeEvery(u.playerActionCreators.waiting,this.handleWaiting),s.takeEvery(u.playerActionCreators.ended,this.handleEnded),s.takeLatest(u.playerActionCreators.endWaiting,this.handleEndWaiting),s.takeEvery(u.playerActionCreators.endSeek,this.handleEndSeek),s.takeEvery(u.playerActionCreators.progress,this.handleProgress),s.takeEvery(u.uiActionCreators.showStatsForNerds,this.handleShowStatsForNerds),s.takeEvery(u.uiActionCreators.toggleAlternativePlayerRenderer,this.handleToggleAlternativePlayerRenderer),s.takeEvery(u.uiActionCreators.setAlternativePlayerRenderer,this.handleSetAlternativePlayerRenderer),s.takeEvery(u.coreActionCreators.toggleAdvancedQualityControls,this.handleShowAdvancedSettingsMenu),s.takeEvery(u.coreActionCreators.forceExit,this.handleForceExit),s.takeEvery(u.adsManagerActionCreators.updateAdBreaks,this.handleUpdateAdBreaks)])];case 1:return e.sent(),[2]}}))},n}(h.default);t.default=T},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(9),d=n(2),f=c(n(13)),p=n(60),h=s(n(721)),v=function(e){function t(){var t=e.call(this,"CMSConfigFetcher")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!1},t.cmsClient=new h.default(h.CMSEnvironment.PROD),t.register=t.register.bind(t),t.handleReceiveEvent=t.handleReceiveEvent.bind(t),t}return i(t,e),t.prototype.register=function(){return u(this,(function(e){switch(e.label){case 0:return[4,l.all([l.takeEvery(d.messageBusActionCreators.receiveEvent,this.handleReceiveEvent)])];case 1:return e.sent(),[2]}}))},t.prototype.handleReceiveEvent=function(e){var t,n,r,i,a,o,s,c=e.payload;return u(this,(function(e){switch(e.label){case 0:switch(c.type){case p.MessageType.ACTION_FETCH_CONFIG:return[3,1]}return[3,7];case 1:t=c.payload,n=t.guid,r=t.nextGuid,i=void 0,a=void 0,o=void 0,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,l.call(this.cmsClient.getConfig,n,r)];case 3:return i=e.sent(),[3,5];case 4:return s=e.sent(),a=s.code,o=s.message,[3,5];case 5:return[4,l.put(d.messageBusActionCreators.sendMessageToClient({type:p.MessageType.CLIENT_RETRIEVED_CONFIG,payload:{configuration:i,errorCode:a,errorMessage:o}}))];case 6:return[2,e.sent()];case 7:return[2]}}))},t}(f.default);t.default=v},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CMSEnvironment=void 0;var u,c=s(n(722)),l=s(n(739));!function(e){e.STAGING="staging",e.PROD="prod"}(u=t.CMSEnvironment||(t.CMSEnvironment={}));var d=function(e){var t=this;this.getConfig=function(e,n){return i(t,void 0,void 0,(function(){var t,i,s,u,c,d,f,p,h,v;return a(this,(function(a){switch(a.label){case 0:return t=r({},l.default),[4,this.fetchGuid(e)];case 1:return i=a.sent(),s=this.generateConfig(i),u=s.images,c=s.metadata,d=s.playbackLambda,t.media.images=u,t.media.reportingParent=this.getReportingParent(i),t.metadata=c,t.playbackLambda=d,n?[4,this.fetchGuid(n)]:[3,3];case 2:f=a.sent(),p=this.generateConfig(f),h=p.images,v=p.metadata,t.upNextMetadata=v,t.media.images=o(t.media.images,h),a.label=3;case 3:return[2,t]}}))}))},this.getMetadata=function(e){var t=e.items[0],n=[];return t.episode_metadata.is_mature&&n.push("mature"),{id:t.id,channelId:"crunchyroll",channelName:null,description:t.description,distributionNumber:t.episode_metadata.episode_number,duration:t.episode_metadata.duration_ms,episodeNumber:t.episode_metadata.episode_number,releaseDate:t.episode_metadata.episode_air_date,restrictions:n,seasonNumber:t.episode_metadata.season_number,seasonTitle:t.episode_metadata.season_title,sequenceNumber:t.episode_metadata.sequence_number,seriesId:t.episode_metadata.series_id,seriesTitle:t.episode_metadata.series_title,title:t.title,type:t.type}},this.getReportingParent=function(e){var t=e.items[0];return"episode"===t.type?{type:"Series",id:t.episode_metadata.series_id,title:t.episode_metadata.series_title}:{type:"movie_listing",id:t.movie_listing_metadata.first_movie_id,title:t.title+"|"+t.title}},this.generateConfig=function(e){var n,r=e.items[0];return{images:null===(n=r.images.thumbnail[0])||void 0===n?void 0:n.map((function(e){return{height:e.height,mediaId:r.id,mediaType:r.type,orientation:e.height>e.width?"portrait":"landscape",src:e.source,width:e.width}})),metadata:t.getMetadata(e),playbackLambda:{url:r.playback}}},this.fetchGuid=function(e){return i(t,void 0,void 0,(function(){var t,n,r,i;return a(this,(function(a){switch(a.label){case 0:t=this.environment===u.STAGING?"http://cms-api.cx-staging.com/cms/v2/US/M2/crunchyroll/objects/":"http://cms-api.cx-prod.com/cms/v2/US/M2/crunchyroll/objects/",n=t+e,r={timeout:1e4},a.label=1;case 1:return a.trys.push([1,3,,4]),[4,c.default.get(n,r)];case 2:return[2,a.sent().data];case 3:throw i=a.sent(),console.log("Unable to fetch guid",i),i;case 4:return[2]}}))}))},this.environment=e};t.default=d},function(e,t,n){e.exports=n(723)},function(e,t,n){"use strict";var r=n(49),i=n(335),a=n(724),o=n(341);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(n(338));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=n(342),u.CancelToken=n(737),u.isCancel=n(337),u.all=function(e){return Promise.all(e)},u.spread=n(738),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(49),i=n(336),a=n(725),o=n(726),s=n(341);function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(49);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(49),i=n(727),a=n(337),o=n(338);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(49);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(49);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(340);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(49);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(733),i=n(734);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(49),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},function(e,t,n){"use strict";var r=n(49);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(342);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e){e.exports=JSON.parse('{"ads":{"adBreaks":[],"adTech":"Yospace"},"client":{"id":"cx-web","accountingId":"vrv"},"drm":{},"eec":{"enabled":true,"anonymousId":"6973a52e-385a-4b68-b06c-df23d80a85f1","apiHost":"//cr-eec.etp-proto0.com/v1","apiKey":"SIeNJozAqhQxDdHOOY6mvnSKKzHo1BvJ"},"media":{"images":[],"playlists":[],"previews":[],"reportingParent":{}},"metadata":{},"upNextMetadata":{},"organization":{"apiDomain":"api.vrv.co"},"playbackLambda":{},"player":{"startTime":0},"user":{"allowedRestrictions":["premium"],"id":"3495466","preferredLanguage":"en-us"}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(9),l=n(119),d=n(2),f=n(8),p=n(53),h=u(n(13)),v=n(153),m=n(35),g=n(741),y=function(e){function t(){var t=e.call(this,"ConfigDelta")||this;return t.hasFetched=!1,t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.fetchExperiments=function(e){return o(t,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch(e)];case 1:return[4,(t=r.sent()).json()];case 2:return(n=r.sent()).error&&(n.error.statusCode=t.status),[2,n];case 3:return[2,{error:{type:"exception",message:r.sent().message}}];case 4:return[2]}}))}))},t.register=t.register.bind(t),t.handleReceivedClientConfig=t.handleReceivedClientConfig.bind(t),t.getSavedExperiments=t.getSavedExperiments.bind(t),t.handleStartApp=t.handleStartApp.bind(t),t}return i(t,e),t.prototype.register=function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.all([c.takeEvery(d.coreActionCreators.startApp,this.handleStartApp),c.takeEvery(d.configStackActionCreators.receivedClientConfig,this.handleReceivedClientConfig)])];case 1:return e.sent(),[2]}}))},t.prototype.handleStartApp=function(){return s(this,(function(e){switch(e.label){case 0:return[4,c.fork(this.getSavedExperiments)];case 1:return e.sent(),[4,c.put(d.configStackActionCreators.setLayerOptions({layer:p.ConfigStackLayer.A_B_TEST,isResetOnNewContent:!1,priority:90}))];case 2:return e.sent(),[2]}}))},t.prototype.handleReceivedClientConfig=function(){var e,t,n,r,i,a,o,u,h,y,b,_;return s(this,(function(s){switch(s.label){case 0:return[4,c.select(f.configStackSelectors.getLayer,p.ConfigStackLayer.CLIENT)];case 1:if(e=s.sent(),this.hasFetched||!(null===(h=e.eec)||void 0===h?void 0:h.anonymousId))return[2];switch(this.hasFetched=!0,f.ellationCoreSelectors.environment(e)){case m.CrunchyrollEnv.PROTO:t=m.APIDomains.BETA_PROTO;break;case m.CrunchyrollEnv.STAGING:t=m.APIDomains.BETA_STAGING;break;case m.CrunchyrollEnv.PROD:t=m.APIDomains.BETA_PROD}return n="https://"+t,r=g.CONFIG_DELTA_PATH.replace("{{APP_ID}}",g.CONFIG_DELTA_APP_ID),i=new URLSearchParams({anonymous_id:null===(y=e.eec)||void 0===y?void 0:y.anonymousId,app_version:"0.4.0"}),(null===(b=e.user)||void 0===b?void 0:b.id)&&i.append("user_id",null===(_=e.user)||void 0===_?void 0:_.id),a=l.sprintf("%s%s?%s",n,r,i.toString()),[4,c.call(this.fetchExperiments,a)];case 2:return(o=s.sent()).error?[4,c.put(d.ellationCoreActionCreators.failedToGetExperiments(o.error))]:[3,4];case 3:return[2,s.sent()];case 4:return u=null==o?void 0:o.config_delta,[4,c.put(d.configStackActionCreators.setLayerConfig({layer:p.ConfigStackLayer.A_B_TEST,config:u}))];case 5:return s.sent(),[4,c.put(d.ellationCoreActionCreators.fetchedExperiments(u))];case 6:return s.sent(),[4,c.call(v.setItemInAsyncStorage,g.CONFIG_DELTA_KEY,u)];case 7:return s.sent(),[2]}}))},t.prototype.getSavedExperiments=function(){var e,t,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,c.call(v.getItemFromAsyncStorage,g.CONFIG_DELTA_KEY,{})];case 1:return e=i.sent(),t=a(a({},e),{saved:{isSaved:!0}}),[4,c.put(d.ellationCoreActionCreators.loadedSavedExperiments(t))];case 2:return i.sent(),r=(n=f.ellationCoreSelectors).all,[4,c.select()];case 3:return r.apply(n,[i.sent()]).fetchedExperiments?[3,5]:[4,c.put(d.configStackActionCreators.setLayerConfig({layer:p.ConfigStackLayer.A_B_TEST,config:e}))];case 4:i.sent(),i.label=5;case 5:return[2]}}))},t}(h.default);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONFIG_DELTA_PATH=t.CONFIG_DELTA_APP_ID=t.CONFIG_DELTA_KEY=void 0,t.CONFIG_DELTA_KEY="ConfigDelta",t.CONFIG_DELTA_APP_ID="cr-velocity",t.CONFIG_DELTA_PATH="/config-delta/v1/apps/{{APP_ID}}/config_delta"},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(53),l=o(n(13)),d=o(n(743)),f=function(e){function t(){var t=e.call(this,"CrunchyrollBrandConfig")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.configStackActionCreators.setLayerOptions({isResetOnNewContent:!1,layer:c.ConfigStackLayer.BRAND,priority:10}))];case 1:return e.sent(),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:c.ConfigStackLayer.BRAND,config:d.default}))];case 2:return e.sent(),[2]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp)])];case 1:return e.sent(),[2]}}))},t}(l.default);t.default=f},function(e){e.exports=JSON.parse('{"configDelta":{"enabled":true},"crunchyrollSkipEvents":{"aiPrefix":"https://static.crunchyroll.com/datalab-intro-v2/","productionPrefix":"https://static.crunchyroll.com/skip-events/production/"},"drm":{"policy":"if-available","widevineRobustness":"SW_SECURE_CRYPTO"},"ellationAnalytics":{"enabled":true},"ellationPlayhead":{"enabled":true},"shaka":{"config":{"streaming":{"bufferingGoal":180,"rebufferingGoal":2,"smallGapLimit":2},"manifest":{"dash":{"ignoreMinBufferTime":true}},"abr":{"switchInterval":4,"defaultBandwidthEstimate":2000000}}}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(8),l=n(53),d=o(n(13)),f=n(7),p=n(35),h=o(n(745)),v=o(n(746)),m=o(n(747)),g=function(e){function t(){var t=e.call(this,"CrunchyrollEnvironmentConfig")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.register=t.register.bind(t),t.handleReceivedClientConfig=t.handleReceivedClientConfig.bind(t),t.handleStartApp=t.handleStartApp.bind(t),t}return i(t,e),t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.configStackActionCreators.setLayerOptions({isResetOnNewContent:!1,layer:l.ConfigStackLayer.ENVIRONMENT,priority:30}))];case 1:return e.sent(),[2]}}))},t.prototype.handleReceivedClientConfig=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,f.gateUtils.isComplete(u.configStackActionCreators.combineConfigLayers,l.ConfigStackLayer.ENVIRONMENT)];case 1:return n.sent()?[2]:[4,s.select(c.configStackSelectors.getLayer,l.ConfigStackLayer.CLIENT)];case 2:switch(t=n.sent(),c.ellationCoreSelectors.environment(t)){case p.CrunchyrollEnv.PROTO:e=v.default;break;case p.CrunchyrollEnv.STAGING:e=m.default;break;default:e=h.default}return[4,s.put(u.configStackActionCreators.setLayerConfig({layer:l.ConfigStackLayer.ENVIRONMENT,config:e}))];case 3:return n.sent(),[2]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp),s.takeEvery(u.configStackActionCreators.receivedClientConfig,this.handleReceivedClientConfig)])];case 1:return e.sent(),[2]}}))},t}(d.default);t.default=g},function(e){e.exports=JSON.parse('{"drm":{"fairPlayCertificateURL":"https://lic.drmtoday.com/license-server-fairplay/cert/","fairPlayLicenseURL":"https://lic.drmtoday.com/license-server-fairplay/","playReadyLicenseURL":"https://lic.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx","widevineLicenseURL":"https://lic.drmtoday.com/license-proxy-widevine/cenc/"}}')},function(e){e.exports=JSON.parse('{"drm":{"fairPlayCertificateURL":"https://lic.staging.drmtoday.com/license-server-fairplay/cert/","fairPlayLicenseURL":"https://lic.staging.drmtoday.com/license-server-fairplay/","playReadyLicenseURL":"https://lic.staging.drmtoday.comlicense-proxy-headerauth/drmtoday/RightsManager.asmx","widevineLicenseURL":"https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/"}}')},function(e){e.exports=JSON.parse('{"drm":{"fairPlayCertificateURL":"https://lic.staging.drmtoday.com/license-server-fairplay/cert/","fairPlayLicenseURL":"https://lic.staging.drmtoday.com/license-server-fairplay/","playReadyLicenseURL":"https://lic.staging.drmtoday.comlicense-proxy-headerauth/drmtoday/RightsManager.asmx","widevineLicenseURL":"https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/"}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=s(n(13)),f=n(154),p=n(101),h=n(52),v=function(e){function t(){var t=e.call(this,"CrunchyrollSkipEventProvider")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.register=t.register.bind(t),t.handleLoadContent=t.handleLoadContent.bind(t),t.loadProductionEvent=t.loadProductionEvent.bind(t),t.loadSongFingerprint=t.loadSongFingerprint.bind(t),t}return i(t,e),t.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.contentLifecycleActionCreators.loadContent,this.handleLoadContent)])];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadContent=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=n.sent(),h.getQueryParamValue("skip")||(null===(t=e.skipEvents)||void 0===t?void 0:t.enabled)?[4,u.all([this.loadSongFingerprint(),this.loadProductionEvent()])]:[2];case 2:return n.sent(),[2]}}))},t.prototype.loadProductionEvent=function(){var e,t,n,r,i,s,d,h,v;return o(this,(function(o){switch(o.label){case 0:return n=(t=l.configurationSelectors).self,[4,u.select()];case 1:return e=n.apply(t,[o.sent()]),r=e.metadata.id,i=(null===(v=e.crunchyrollSkipEvents)||void 0===v?void 0:v.productionPrefix)+r+".json",[4,u.call(p.fetchUrl,i)];case 2:return s=o.sent(),d=s.data,s.type===p.CallStatus.SUCCESS&&(null==d?void 0:d.intro)?(h=a(a({},d.intro),{source:f.SkipSource.PRODUCTION}),[4,u.put(c.uiActionCreators.setSkipEvent(h))]):[2];case 3:return o.sent(),[2]}}))},t.prototype.loadSongFingerprint=function(){var e,t,n,r,i,a,s,d,h;return o(this,(function(o){switch(o.label){case 0:return n=(t=l.configurationSelectors).self,[4,u.select()];case 1:return e=n.apply(t,[o.sent()]),r=e.metadata.id,i=(null===(h=e.crunchyrollSkipEvents)||void 0===h?void 0:h.aiPrefix)+r+".json",[4,u.call(p.fetchUrl,i)];case 2:return a=o.sent(),s=a.data,a.type!==p.CallStatus.SUCCESS?[2]:(d={end:s.endTime,source:f.SkipSource.AI,start:s.startTime,type:f.SkipType.INTRO},[4,u.put(c.uiActionCreators.setSkipEvent(d))]);case 3:return o.sent(),[2]}}))},t}(d.default);t.default=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=s(n(12)),f=s(n(750)),p=n(153),h=n(343),v=n(343),m=function(e){function t(){var t=e.call(this,"EEC","eec")||this;return t.MAX_RETRY_COUNT=3,t.isMobileNetworkAvailable=!1,t.moduleName="EEC",t.preprocessedEvents=[],t.getOptions=function(){return{sagas:[t.register]}},t.load=function(e,n){t.client=new h.EECClient(e,n.anonymousId,n.apiHost,n.apiKey,v.IntegrationsProvider.get())},t.sendEvent=function(e,n){return a(t,void 0,void 0,(function(){var t,r;return o(this,(function(i){switch(i.label){case 0:return this.client?this.isMobileNetworkAvailable||!d.default.allowSavedEvents?[3,3]:[4,p.getItemFromAsyncStorage(this.moduleName,[])]:(console.warn("EEC plugin not initialized."),[2,!1]);case 1:return t=i.sent(),this.preprocessedEvents.push({eventName:e,payload:n,retryCount:0}),t.push.apply(t,this.preprocessedEvents),[4,p.setItemInAsyncStorage(this.moduleName,t)];case 2:return(r=i.sent().error)||(this.preprocessedEvents=[]),[2,!r];case 3:return[4,this.client.track(e,new Map(Object.entries(n)))];case 4:return[2,i.sent()]}}))}))},t.handleNetworkConnectivity=t.handleNetworkConnectivity.bind(t),t.handleProcessQueueTask=t.handleProcessQueueTask.bind(t),t.register=t.register.bind(t),t.subscribeToProcessQueueTask=t.subscribeToProcessQueueTask.bind(t),t.unsubscribeToProcessQueueTask=t.unsubscribeToProcessQueueTask.bind(t),t}return i(t,e),t.prototype.register=function(){return o(this,(function(t){switch(t.label){case 0:return[4,u.takeLeading(c.coreActionCreators.gainedNetworkAccess,this.handleNetworkConnectivity)];case 1:return t.sent(),[4,u.takeEvery(c.coreActionCreators.lostNetworkAccess,this.handleNetworkConnectivity)];case 2:return t.sent(),[4,u.takeEvery(c.coreActionCreators.setAppToActive,this.subscribeToProcessQueueTask)];case 3:return t.sent(),[4,u.takeEvery(c.coreActionCreators.setAppToBackground,this.unsubscribeToProcessQueueTask)];case 4:return t.sent(),[4,e.prototype.register.call(this)];case 5:return t.sent(),[2]}}))},t.prototype.subscribeToProcessQueueTask=function(){var e;return o(this,(function(t){switch(t.label){case 0:return this.processQueueTask?[3,2]:(e=this,[4,u.fork(this.handleProcessQueueTask)]);case 1:e.processQueueTask=t.sent(),t.label=2;case 2:return[2]}}))},t.prototype.unsubscribeToProcessQueueTask=function(){return o(this,(function(e){switch(e.label){case 0:return this.processQueueTask?[4,u.cancel(this.processQueueTask)]:[3,2];case 1:e.sent(),this.processQueueTask=null,e.label=2;case 2:return[2]}}))},t.prototype.handleProcessQueueTask=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return[4,u.call(p.getItemFromAsyncStorage,this.moduleName,[])];case 1:return(e=r.sent()).length?(t=e[0],n=e.slice(1),[4,u.call(this.sendEvent,t.eventName,t.payload)]):[3,8];case 2:return!r.sent()&&t.retryCount<this.MAX_RETRY_COUNT?(t.retryCount+=1,[4,u.call(p.setItemInAsyncStorage,this.moduleName,e)]):[3,5];case 3:return r.sent(),[4,this.unsubscribeToProcessQueueTask()];case 4:return r.sent(),[2];case 5:return[4,u.call(p.setItemInAsyncStorage,this.moduleName,n)];case 6:r.sent(),r.label=7;case 7:return[3,10];case 8:return[4,u.delay(5e3)];case 9:r.sent(),r.label=10;case 10:return[3,0];case 11:return[2]}}))},t.prototype.handleNetworkConnectivity=function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return n=(t=l.coreSelectors).all,[4,u.select()];case 1:return e=n.apply(t,[r.sent()]).isMobileNetworkAvailable,this.isMobileNetworkAvailable=e,!e||this.processQueueTask?[3,3]:[4,this.subscribeToProcessQueueTask()];case 2:r.sent(),r.label=3;case 3:return[2]}}))},t}(f.default);t.default=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(9),f=u(n(2)),p=n(2),h=n(8),v=l(n(13)),m=l(n(31)),g=n(286),y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.getOptions=function(){return{sagas:[r.register]}},r.isSingleton=function(){return!1},r.configName=n,r.getPayload=r.getPayload.bind(r),r.handleConfigChange=r.handleConfigChange.bind(r),r.handleEvent=r.handleEvent.bind(r),r.register=r.register.bind(r),r.subscribeToEvents=r.subscribeToEvents.bind(r),r.unsubscribeFromEvents=r.unsubscribeFromEvents.bind(r),r.watchEvents=r.watchEvents.bind(r),r}return i(t,e),t.prototype.register=function(){return c(this,(function(e){switch(e.label){case 0:return[4,d.takeEvery([p.contentLifecycleActionCreators.loadConfig,p.contentLifecycleActionCreators.updateConfig],this.handleConfigChange)];case 1:return e.sent(),[2]}}))},t.prototype.handleConfigChange=function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,d.select(h.configurationSelectors.self)];case 1:return e=t.sent(),m.default.get(e,this.configName+".enabled",!1)?[4,this.subscribeToEvents()]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,this.unsubscribeFromEvents()];case 4:t.sent(),t.label=5;case 5:return[2]}}))},t.prototype.getPayload=function(e,t){var n,r;return c(this,(function(i){switch(i.label){case 0:return"event"===e?[2,t]:[4,d.select(h.rootSelectors.all)];case 1:return n=i.sent(),r={},Object.keys(e).forEach((function(t){var i=m.default.get(n,e[t]);void 0!==i?t.startsWith("...")?r=a(a({},r),i):r[t]=i:console.warn("Missing analytics value:",e[t])})),[2,r]}}))},t.prototype.handleEvent=function(e,t){var n,r,i=e.eventName,a=e.config;return c(this,(function(e){switch(e.label){case 0:return[4,this.getPayload(a.payload,t.payload)];case 1:return n=e.sent(),[4,d.call(this.sendEvent,i,n)];case 2:return r=e.sent(),[4,d.put(p.analyticsActionCreators.reportEvent({plugin:g.AnalyticsPlugin[this.configName.toUpperCase()],eventName:i,isSuccessful:r,payload:n}))];case 3:return e.sent(),[2]}}))},t.prototype.subscribeToEvents=function(){var e,t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,this.unsubscribeFromEvents()];case 1:return i.sent(),[4,d.select(h.configurationSelectors.self)];case 2:return e=i.sent(),t=this.configName+".events",n=m.default.get(e,t,{}),this.load(m.default.get(e,"user.id"),m.default.get(e,this.configName,{})),r=this,[4,d.fork(this.watchEvents,n)];case 3:return r.watchTask=i.sent(),[2]}}))},t.prototype.unsubscribeFromEvents=function(){return c(this,(function(e){switch(e.label){case 0:return this.watchTask?[4,d.cancel(this.watchTask)]:[3,2];case 1:e.sent(),this.watchTask=null,e.label=2;case 2:return[2]}}))},t.prototype.watchEvents=function(e){var t,n,r,i,a,o,s;return c(this,(function(u){switch(u.label){case 0:t=Object.keys(e),n=0,r=t,u.label=1;case 1:return n<r.length?(i=r[n],(a=e[i]).on?(o=a.on.replace(/Actions\./i,"ActionCreators."),(s=m.default.get(f,o))?[4,d.takeEvery(s,this.handleEvent,{eventName:i,config:a})]:(console.warn("Invalid analytics action:",a.on),[3,3])):[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return n++,[3,1];case 4:return[2]}}))},t}(v.default);t.default=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EECClient=void 0;var o=a(n(22)),s=n(344),u=n(348),c=n(213),l=function(){function e(e,t,n,r,i){this.userId=e||null,this.anonymousId=t,this.analyticsClient=new s.Client(n,r),this.contextBuilder=u.ContextBuilderFactory.create(),this.userAgent=o.default.getUserAgent(),this.integrations=i}return e.prototype.identify=function(e){this.analyticsClient.identify(this.userId,e,this.buildOptions())},e.prototype.track=function(e,t){return r(this,void 0,void 0,(function(){return i(this,(function(n){return[2,this.analyticsClient.track(this.userId,e,t,this.buildOptions())]}))}))},e.prototype.screen=function(e,t){this.analyticsClient.screen(this.userId,e,t,this.buildOptions())},e.prototype.buildOptions=function(){var e=new c.Options;return e.setAnonymousId(this.anonymousId),e.setContext(this.contextBuilder.build()),e.setTimestamp(new Date),e.setUserAgent(this.userAgent),e.setIntegrations(this.integrations),e},e}();t.EECClient=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Alias=void 0;var a=n(86),o=function(e){function t(t,n,r){var i=e.call(this,a.ActionMethod.Alias,n,r)||this;return i.previousId=t,i}return i(t,e),t.prototype.getPreviousId=function(){return this.previousId},t}(n(102).BaseAction);t.Alias=o},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Group=void 0;var a=n(103),o=n(86),s=function(e){function t(t,n,r,i){var s=e.call(this,o.ActionMethod.Group,t,i)||this;return s.groupId=n,s.traits=a.convertMapToObject(r),s}return i(t,e),t.prototype.getGroupId=function(){return this.groupId},t}(n(102).BaseAction);t.Group=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Identify=void 0;var a=n(103),o=n(86),s=function(e){function t(t,n,r){var i=e.call(this,o.ActionMethod.Identify,t,r)||this;return i.traits=a.convertMapToObject(n),i}return i(t,e),t}(n(102).BaseAction);t.Identify=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var a=n(103),o=n(86),s=function(e){function t(t,n,r,i,s){var u=e.call(this,o.ActionMethod.Page,t,s)||this;return u.name=n,u.category=r,u.properties=a.convertMapToObject(i),u}return i(t,e),t}(n(102).BaseAction);t.Page=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;var a=n(103),o=n(86),s=function(e){function t(t,n,r,i,s){var u=e.call(this,o.ActionMethod.Screen,t,s)||this;return u.name=n,u.category=r,u.properties=a.convertMapToObject(i),u}return i(t,e),t}(n(102).BaseAction);t.Screen=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var a=n(103),o=n(86),s=function(e){function t(t,n,r,i){var s=e.call(this,o.ActionMethod.Track,t,i)||this;return s.event=n,s.properties=a.convertMapToObject(r),s}return i(t,e),t.prototype.getEvent=function(){return this.event},t}(n(102).BaseAction);t.Track=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorStrings=void 0,t.ErrorStrings={InvalidEventType:"Invalid event type: ",MissingEvent:'You must pass an "event".',MissingGroupId:'You must pass a "groupId".',MissingUserId:'You must pass a "userId".',MissingPreviousId:'You must pass a "previousId".',MissingUserIdAndAnonymousId:'You must pass either an "anonymousId" or a "userId".'}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatorResult=void 0;var r=n(346),i=n(347),a=function(){function e(e){this.result=e}return e.prototype.getResult=function(){return this.result},e.prototype.hasFailed=function(){return this.result instanceof r.EventError},e.prototype.hasSucceeded=function(){return this.result instanceof i.EventSuccess},e}();t.ValidatorResult=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextBuilder=void 0;var r=n(214),i=function(){function e(e){this.contextInfo=e,this.appKey="app",this.appBuildKey="build",this.appNameKey="name",this.appVersionKey="version",this.deviceKey="device",this.deviceIdKey="id",this.deviceManufacturerKey="manufacturer",this.deviceModelKey="model",this.deviceNameKey="name",this.deviceTypeKey="type",this.deviceVersionKey="version",this.directKey="direct",this.osKey="os",this.osNameKey="name",this.osVersionKey="version",this.localeKey="locale",this.timeZoneKey="timezone"}return e.prototype.build=function(){var e=new r.Context;return e.set(this.appKey,this.buildAppVersion()),e.set(this.deviceKey,this.buildDeviceInfo()),e.set(this.directKey,"true"),e.set(this.osKey,this.buildOSInfo()),e.set(this.localeKey,this.contextInfo.locale),e.set(this.timeZoneKey,this.contextInfo.timeZone),e},e.prototype.buildAppVersion=function(){var e=this,t=new Map;return this.tryAddValue(t,this.appBuildKey,(function(){return e.contextInfo.appBuild})),this.tryAddValue(t,this.appNameKey,(function(){return e.contextInfo.appName})),this.tryAddValue(t,this.appVersionKey,(function(){return e.contextInfo.appVersion})),t},e.prototype.buildDeviceInfo=function(){var e=this,t=new Map;return this.tryAddValue(t,this.deviceIdKey,(function(){return e.contextInfo.deviceId})),this.tryAddValue(t,this.deviceManufacturerKey,(function(){return e.contextInfo.deviceManufacturer})),this.tryAddValue(t,this.deviceModelKey,(function(){return e.contextInfo.deviceModel})),this.tryAddValue(t,this.deviceNameKey,(function(){return e.contextInfo.deviceName})),this.tryAddValue(t,this.deviceTypeKey,(function(){return e.contextInfo.deviceType})),this.tryAddValue(t,this.deviceVersionKey,(function(){return e.contextInfo.deviceVersion})),t},e.prototype.buildOSInfo=function(){var e=this,t=new Map;return this.tryAddValue(t,this.osNameKey,(function(){return e.contextInfo.osName})),this.tryAddValue(t,this.osVersionKey,(function(){return e.contextInfo.osVersion})),t},e.prototype.tryAddValue=function(e,t,n){var r=n();r&&e.set(t,r)},e}();t.ContextBuilder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformContextInfo=void 0;var r=n(35),i=function(){function e(){this.appBuild=1,this.appName="vilos",this.appVersion="0.4.17",this.deviceId="",this.deviceManufacturer="",this.deviceModel="",this.deviceName="",this.deviceType="",this.deviceVersion="",this.osName="web",this.osVersion=null,this.locale="",this.timeZone=this.getTimeZone()}return e.prototype.getTimeZone=function(){return Intl.DateTimeFormat(r.DEFAULT_LOCALE).resolvedOptions().timeZone},e}();t.PlatformContextInfo=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsProvider=void 0;var r=function(){function e(){}return e.get=function(){return this.integrations},e.integrations=(new Map).set("Amplitude",!0),e}();t.IntegrationsProvider=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(53),l=o(n(13)),d=o(n(765)),f=function(e){function t(){var t=e.call(this,"EECEventConfig")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.configStackActionCreators.setLayerOptions({isResetOnNewContent:!1,layer:c.ConfigStackLayer.ANALYTICS,priority:80}))];case 1:return e.sent(),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:c.ConfigStackLayer.ANALYTICS,config:d.default}))];case 2:return e.sent(),[2]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp)])];case 1:return e.sent(),[2]}}))},t}(l.default);t.default=f},function(e){e.exports=JSON.parse('{"eec":{"events":{"Upsell Selected":{"on":"ellationAnalyticsActions.upsellSelected","payload":"event"},"Video Heartbeat":{"on":"ellationAnalyticsActions.reportHeartbeat","payload":{"...heartbeat":"analytics.organization.lastHeartbeat","...videoMedia":"analytics.organization.videoMedia"}},"Video Play Requested":{"on":"contentLifecycleActions.initiatedPlayback","payload":{"...previousMedia":"analytics.organization.previousVideoMedia","...videoMedia":"analytics.organization.videoMedia","playType":"analytics.organization.initialPlayType","playbackSource":"player0.locationType","Experiment":"analytics.organization.experiment"}},"Video Play Started From Beginning":{"on":"contentLifecycleActions.initiatedPlaybackFromBeginning","payload":{"...previousMedia":"analytics.organization.previousVideoMedia","...videoMedia":"analytics.organization.videoMedia","playType":"analytics.organization.initialPlayType","playbackSource":"player0.locationType"}},"Video Error":{"on":"coreActions.error","payload":{"...videoMedia":"analytics.organization.videoMedia","code":"core.error.code","description":"core.error.message","dumpId":"core.dumpId","playheadTime":"media.contentTime"}},"Video Error Dump":{"on":"coreActions.dumpLogs","payload":{"code":"core.error.code","description":"core.error.message","dumpId":"core.dumpId","videoErrorDumpPayload":"core.dumpPayload"}},"Video Ad Break Completed":{"on":"adsManagerActions.endedAdBreak","payload":{"lengthOfAdBreak":"adsManager.totalDurationOfAdsConsumed"}},"Video Ad Break Started":{"on":"adsManagerActions.startedAdBreak","payload":{"...videoMedia":"analytics.organization.videoMedia","breakPosition":"adsManager.targetAdBreakIndex","breakType":"adsManager.adBreakType","maxDurationOfPod":"","numSlotsInPod":"","playheadTime":"media.contentTime"}},"Video Ad ClickThrough":{"on":"adsManagerActions.clickedAd","payload":{"url":"adsManager.vendriEvent.url"}},"Video Ad Completed":{"on":"adsManagerActions.endedAdSlot","payload":{"...videoMedia":"analytics.organization.videoMedia","adNetworkName":"adsManager.targetAdSlotAdNetwork","breakPosition":"adsManager.targetAdBreakIndex","breakType":"adsManager.adBreakType","duration":"adsManager.targetAdSlotDuration","playheadTime":"media.contentTime","slotPosition":"adsManager.targetAdSlotIndex"}},"Video Ad Error":{"on":"adsManagerActions.caughtAdSlotError","payload":{"...videoMedia":"analytics.organization.videoMedia","adNetworkName":"adsManager.targetAdSlotAdNetwork","breakPosition":"adsManager.targetAdBreakIndex","breakType":"adsManager.adBreakType","message":"adsManager.vendriEvent.msg","playheadTime":"media.contentTime","slotPosition":"adsManager.targetAdSlotIndex"}},"Video Ad Impression":{"on":"adsManagerActions.sawAdImpression","payload":{"...videoMedia":"analytics.organization.videoMedia","adNetworkName":"adsManager.targetAdSlotAdNetwork","breakPosition":"adsManager.targetAdBreakIndex","breakType":"adsManager.adBreakType","creativeObject":"adsManager.vendriEvent.creativeObject","duration":"adsManager.targetAdSlotDuration","playheadTime":"media.contentTime","slotPosition":"adsManager.targetAdSlotIndex"}},"Video Ad Skipped":{"on":"adsManagerActions.skippedAdSlot","payload":{"adPlayheadPosition":"adsManager.vendriEvent.adPlayheadPosition"}},"Video Ad Slot Started":{"on":"adsManagerActions.startedAdSlot","payload":{"adNetworkName":"adsManager.targetAdSlotAdNetwork","breakPosition":"adsManager.targetAdBreakIndex","breakType":"adsManager.adBreakType","playheadTime":"media.contentTime","slotPosition":"adsManager.targetAdSlotIndex"}},"Video Session Complete":{"_comment":"Don\'t modify payload, data could be from a previously saved session","on":"videoQoSRollupActions.videoQoSSessionComplete","payload":"event"},"Video Completed":{"on":"playerActions.ended","payload":{"playbackSource":"analytics.organization.lastHeartbeat.playbackSource","...videoMedia":"analytics.organization.videoMedia"}},"Video Problem Reported":{"on":"coreActions.reportProblem","payload":{"...videoMedia":"analytics.organization.videoMedia","issueId":"core.reportProblem.issueId","issueTitle":"core.reportProblem.issueTitle","issueText":"core.reportProblem.issueText","playbackSource":"analytics.organization.lastHeartbeat.playbackSource"}}}}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(285)),s=a(n(13)),u=a(n(146)),c=a(n(215)),l=a(n(349)),d=a(n(768)),f=function(e){function t(){var t=e.call(this,"EllationAnalytics")||this;return t.getOptions=function(){return{reducerMap:{analytics:o.default(u.default)},sagas:[d.default,c.default,l.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(s.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.all=void 0,t.all=function(e){return e.analytics.organization}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(2),o=n(8),s=n(215);function u(){var e,t;return r(this,(function(n){switch(n.label){case 0:return[4,i.select(o.configurationSelectors.self)];case 1:return(null==(e=n.sent().ellationAnalytics)?void 0:e.enabled)?[4,s.getVideoMediaData()]:[2];case 2:return t=n.sent(),[4,i.put(a.ellationAnalyticsActionCreators.updateVideoMedia(t))];case 3:return n.sent(),[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeLatest([a.playerActionCreators.loadedData,a.playerActionCreators.setActiveExternalTextTrack,a.playerActionCreators.setActiveTextTrack,a.playerActionCreators.setSource],u)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(291)),u=function(e){function t(){var t=e.call(this,"EllationCore")||this;return t.getOptions=function(){return{reducerMap:{ellation:s.default}}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=n(9),f=n(2),p=n(8),h=n(77),v=n(39),m=n(53),g=n(43),y=l(n(13)),b=n(35),_=l(n(771)),A=n(7),S=n(148),E=n(101),w=u(n(22)),T=l(n(216)),P=n(23),C=n(52),O=function(e){function t(){var t=e.call(this,"PlaybackLambda")||this;return t.isGateActive=!1,t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.activateRequestVmapGate=t.activateRequestVmapGate.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t.handleReceivedAllAdBidInfo=t.handleReceivedAllAdBidInfo.bind(t),t.handleReceivedClientConfig=t.handleReceivedClientConfig.bind(t),t.handleRequestVmap=t.handleRequestVmap.bind(t),t.handleSetActiveHardSubTrack=t.handleSetActiveHardSubTrack.bind(t),t.handleSetUnprocessedSource=t.handleSetUnprocessedSource.bind(t),t.handleStartApp=t.handleStartApp.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.register=function(){return c(this,(function(e){switch(e.label){case 0:return[4,d.all([d.takeEvery(f.coreActionCreators.startApp,this.handleStartApp),d.takeEvery(f.configStackActionCreators.receivedClientConfig,this.handleReceivedClientConfig),d.takeEvery(f.configurationActionCreators.loadConfig,this.handleLoadConfig),d.takeEvery(f.ssaiActionCreators.requestVmap,this.handleRequestVmap),d.takeEvery(f.adsManagerActionCreators.receivedAllAdBidInfo,this.handleReceivedAllAdBidInfo),d.takeEvery(f.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent),d.takeEvery(f.mediaActionCreators.setUnprocessedSource,this.handleSetUnprocessedSource),d.takeEvery(f.playerActionCreators.setActiveHardSubTrack,this.handleSetActiveHardSubTrack)])];case 1:return e.sent(),[2]}}))},t.prototype.handleStartApp=function(){return c(this,(function(e){switch(e.label){case 0:return[4,d.put(f.configStackActionCreators.setLayerOptions({layer:m.ConfigStackLayer.STREAMS,isResetOnNewContent:!0,priority:70}))];case 1:return e.sent(),[4,A.gateUtils.create(f.ssaiActionCreators.requestVmap)];case 2:return e.sent(),[4,A.gateUtils.addTask(f.ssaiActionCreators.requestVmap,t.setUnprocessedSourceTask)];case 3:return e.sent(),[4,A.gateUtils.addTask(f.ssaiActionCreators.requestVmap,t.receivedAllAdBidInfoTask)];case 4:return e.sent(),[2]}}))},t.prototype.handleLoadConfig=function(){return c(this,(function(e){switch(e.label){case 0:return this.isGateActive?[3,2]:[4,this.activateRequestVmapGate()];case 1:e.sent(),e.label=2;case 2:return[2]}}))},t.prototype.handleReceivedAllAdBidInfo=function(){return c(this,(function(e){switch(e.label){case 0:return[4,A.gateUtils.isComplete(f.ssaiActionCreators.requestVmap,t.receivedAllAdBidInfoTask)];case 1:return e.sent()?[3,3]:[4,A.gateUtils.completeTask(f.ssaiActionCreators.requestVmap,t.receivedAllAdBidInfoTask)];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleSetUnprocessedSource=function(){return c(this,(function(e){switch(e.label){case 0:return[4,A.gateUtils.isComplete(f.ssaiActionCreators.requestVmap,t.setUnprocessedSourceTask)];case 1:return e.sent()?[3,3]:[4,A.gateUtils.completeTask(f.ssaiActionCreators.requestVmap,t.setUnprocessedSourceTask)];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleUnloadContent=function(){return c(this,(function(e){switch(e.label){case 0:return[4,A.gateUtils.resetTask(f.ssaiActionCreators.requestVmap,t.setUnprocessedSourceTask)];case 1:return e.sent(),[4,A.gateUtils.resetTask(f.ssaiActionCreators.requestVmap,t.receivedAllAdBidInfoTask)];case 2:return e.sent(),[4,this.activateRequestVmapGate()];case 3:return e.sent(),[2]}}))},t.prototype.handleSetActiveHardSubTrack=function(){return c(this,(function(e){switch(e.label){case 0:return[4,A.gateUtils.resetTask(f.ssaiActionCreators.requestVmap,t.setUnprocessedSourceTask)];case 1:return e.sent(),[4,this.activateRequestVmapGate()];case 2:return e.sent(),[2]}}))},t.prototype.activateRequestVmapGate=function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return e=t.sent(),A.adsUtils.isUsingKatana(e)?(this.isGateActive=!0,[4,A.gateUtils.activate(f.ssaiActionCreators.requestVmap)]):[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))},t.prototype.handleReceivedClientConfig=function(){var e,t,n,r,i,a,o,s,u,l,h,v,y,b,S,T,C;return c(this,(function(c){switch(c.label){case 0:return[4,d.select(p.configStackSelectors.getLayer,m.ConfigStackLayer.CLIENT)];case 1:return e=c.sent(),(null===(T=e.playbackLambda)||void 0===T?void 0:T.url)?[3,3]:[4,d.put(f.configStackActionCreators.setLayerConfig({layer:m.ConfigStackLayer.STREAMS,config:{}}))];case 2:return[2,c.sent()];case 3:return r=(n=p.coreSelectors).all,[4,d.select()];case 4:return t=r.apply(n,[c.sent()]).detectedStreamTypes,i=P.containsRestriction(null===(C=e.user)||void 0===C?void 0:C.allowedRestrictions,g.ContentRestriction.PREMIUM),a=[!0,!1].map((function(e){return{type:t[0].toLowerCase(),isDrm:e,useAds:!i}})),o=a.map((function(e){return(e.useAds?"vo_":"")+(e.isDrm?"drm_":"")+"adaptive_"+e.type})),s={bifs:!0,hardSubs:A.textTrackUtils.getPreferredTextMode()===w.TEXT_MODE.HARDCODED,streamTypes:o},u=e.playbackLambda.url+_.default.generateQueryString(s),[4,d.call(E.fetchUrl,u,{})];case 5:return(l=c.sent()).type===E.CallStatus.SUCCESS?[3,7]:[4,A.gateUtils.completeTask(f.configStackActionCreators.combineConfigLayers,m.ConfigStackLayer.STREAMS)];case 6:return[2,c.sent()];case 7:return h=l.data,v=_.default.formatPreviews(h),y=_.default.formatStreams(h,o),b=_.default.formatTextTracks(h),S={media:{externalTextTracks:b,playlists:y,previews:v}},[4,d.put(f.configStackActionCreators.setLayerConfig({layer:m.ConfigStackLayer.STREAMS,config:S}))];case 8:return c.sent(),[2]}}))},t.prototype.handleRequestVmap=function(){var e,t,n,r,i,o,s,u,l,m,y,_,O,k,I,x,D,R,M,N,L,j,B;return c(this,(function(c){switch(c.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return e=c.sent(),t=P.containsRestriction(null===(B=e.user)||void 0===B?void 0:B.allowedRestrictions,g.ContentRestriction.PREMIUM),n=A.adsUtils.isUsingKatana(e),t||!n?[2]:[4,d.select(p.adsManagerSelectors.all)];case 2:for(r=c.sent().adBidPlugins,i={noYo:1,toJson:1},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],i=a(a({},i),r[u].adCallParams);return[4,d.select(p.mediaSelectors.property,"unprocessedSource")];case 3:return l=c.sent(),m=l.source,y=l.type,_=l.drm,O=l.startTime,k=l.switchType,I=S.encode(m),x=C.objectToQueryParams(i),[4,v.getConfigId()];case 4:return D=c.sent(),R=e.client,M=(null==R?void 0:R.environment)||b.CrunchyrollEnv.PROD,N=C.getQueryParamValue(h.QueryParamName.LOCAL_NOYO)?b.LocalCSMEndpoints[M]:b.PlaybackLambdaCSMEndpoints[M],L={source:N+"/"+D+"/"+I+x,type:y,drm:_,startTime:O,switchType:k},w.default.isWeb()?[4,d.call(E.fetchUrl,L.source,{},{plainText:!0})]:[3,10];case 5:return(j=c.sent()).type!==E.CallStatus.SUCCESS?[3,7]:[4,d.put(f.ssaiActionCreators.receivedVmap(j.data))];case 6:return c.sent(),[3,9];case 7:return j.type!==E.CallStatus.ERROR?[3,9]:[4,d.put(f.mediaActionCreators.error({code:"MED-2",message:"Failed to retrieve VMAP"}))];case 8:c.sent(),c.label=9;case 9:return[3,15];case 10:return c.trys.push([10,13,,15]),[4,d.call(T.default,"GET",L.source)];case 11:return j=c.sent(),[4,d.put(f.ssaiActionCreators.receivedVmap(j))];case 12:return c.sent(),[3,15];case 13:return c.sent(),[4,d.put(f.mediaActionCreators.error({code:"MED-3",message:"Failed to retrieve VMAP"}))];case 14:return c.sent(),[3,15];case 15:return[2]}}))},t.setUnprocessedSourceTask="setUnprocessedSource",t.receivedAllAdBidInfoTask="receivedAllAdBidInfo",t}(y.default);t.default=O},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(119),a=n(27),o=r(n(68)),s=function(){function e(){}return e.getStreamType=function(e){return e.endsWith("dash")?a.StreamType.DASH:e.endsWith("hls")?a.StreamType.HLS:null},e.formatPreviews=function(e){return e.bifs.map((function(e){return{src:e}}))},e.formatStreams=function(t,n){return n.map((function(n){var r=t.streams[n]||[];return Object.keys(r).map((function(t){return{drm:n.includes("drm_"),hardsub_lang:r[t].hardsub_locale.toLowerCase(),isSSAICompatible:n.includes("vo_"),mime_type:e.getStreamType(n),multitrack:!1,src:r[t].url,videoCodec:r[t].vcodec}}))})).flat()},e.formatTextTracks=function(e){return Object.keys(e.subtitles).map((function(t,n){var r=o.default(t);return{index:n,kind:a.TextTrackKind.SUBTITLES,label:r.desc,language:r.code,src:e.subtitles[t].url,type:e.subtitles[t].format}}))},e.generateQueryString=function(t){return Object.keys(t).map((function(n){return i.sprintf("&%s=%s",n,e.formatValue(t[n]))})).join("")},e.formatValue=function(e){return"boolean"==typeof e?e?"1":"0":e},e}();t.default=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(773)),u=function(e){function t(){var t=e.call(this,"YospaceLoader")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleStartApp=void 0;var o=n(9),s=n(2),u=a(n(774));window.ClassHelper=u.default.ClassHelper;var c=a(n(775));function l(){return i(this,(function(e){switch(e.label){case 0:return[4,o.put(s.yoSpaceActionCreators.passSDK(r(r({},u.default),{VPAIDAdapter:c.default})))];case 1:return e.sent(),[2]}}))}t.handleStartApp=l,t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.all([o.takeEvery(s.coreActionCreators.startApp,l)])];case 1:return e.sent(),[2]}}))}},function(module,exports,__webpack_require__){(function(module){if(module.hasOwnProperty("exports"))var exports=module.exports;else void 0!==exports&&Object.defineProperty(exports,"__esModule",{value:!0});var ClassHelper=function(){function e(){}function t(t){function n(){this.initialize.apply(this,arguments)}return t&&(e.prototype=t.prototype,n.prototype=new e,e.prototype={}),n.prototype.constructor=n,n._isConstructor=!0,n}function n(){}function r(e){var t,n,r,i,a,o;if(t="function"==typeof e?e.$super:e.callee.$super)if(1==arguments.length)o=t.call(this);else{for(r=arguments.length-1,n=new Array(r),i=1,a=0;a<r;)n[a++]=arguments[i++];o=t.apply(this,n)}return o}function i(e){var t,n,r;for(n in t=[],r=0,e)t[r++]=n;return a&&void 0!==e.toString&&(t[r++]="toString"),o&&void 0!==e.valueOf&&(t[r++]="valueOf"),t}var a,o;return function(){var e;for(e in a=o=!0,{toString:!0,valueOf:!0})"toString"==e&&(a=!1),"valueOf"==e&&(o=!1)}(),{makeClass:function(){var e,a,o,s,u,c,l,d,f;for("function"==typeof arguments[a=0]&&arguments[a]._isConstructor&&(e=arguments[a++]),o=t(e);a<arguments.length;)for("function"==typeof(s=arguments[a++])&&(s=s()),c=(u=i(s)).length-1;c>=0;--c)d=s[l=u[c]],e&&"function"==typeof d&&!d._isMixinFunction&&"function"==typeof(f=e.prototype[l])&&(d.$super=f),o.prototype[l]=d;return"initialize"in o.prototype||(o.prototype.initialize=n),o.prototype.callSuper=r,o},makeMixin:function(){var e,t,n,r,a;for(e={},t=0;t<arguments.length;)for("function"==typeof(n=arguments[t++])&&(n=n()),r=i(n),nameIndex=r.length-1;nameIndex>=0;--nameIndex)name=r[nameIndex],"function"==typeof(a=n[name])&&(a._isMixinFunction=!0),e[name]=a;return e}}}(),YSURL=ClassHelper.makeClass({initialize:function(e){this._source=e,this._scheme="",this._host="",this._username="",this._password="",this._port=-1,this._path="",this._query="",this._fragment="",this._parse()},auth:function(){var e="";return""!==this.userinfo()&&(e+=this.userinfo()+"@"),e+=this.host(),""!==this.host()&&this.port()>-1&&(e+=":"+this.port()),e},fragment:function(){return this._fragment},host:function(){return this._host},path:function(){return this._path},port:function(){return this._port},scheme:function(){return this._scheme},source:function(){return this._source},userinfo:function(){if(!this._username)return"";var e="";return(e+=this._username)+":"+this._password},query:function(){return this._query},queryByName:function(e){if(this._query.length>0){var t=this._query.split("&");if(t.length>0)for(var n=0;n<t.length;n++){var r=t[n].split("=");if(r.length>0&&r[0]===e)return r.length>1?r[1]:""}}return null},toString:function(){var e="";return this.scheme()&&(e+=this.scheme()+":"),this.auth()&&(e+="//"+this.auth()),""===this.auth()&&"file"==this.scheme()&&(e+="//"),e+=this.path(),""!==this.query()&&(e+="?"+this.query()),""!==this.fragment()&&(e+="#"+this.fragment()),e},_parse:function(){var e=this._source;if(0===e.length)throw new Error("Invalid URL supplied to YSURL");var t=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)([?]([^#]*))?(#(.*))?").exec(e);if(t[1]&&t[2]&&(this._scheme=t[2]),t[3]){var n=t[4],r="";if(n.indexOf("@")>-1){var i=n.split("@")[0];r=n.split("@")[1],-1!=i.indexOf(":")?(this._username=i.split(":")[0],this._password=i.split(":")[1]):this._username=i}else r=n;if(r.indexOf(":")>-1){for(var a=r.split(":")[1],o=!0,s=0;s<a.length;s++){var u=a.charAt(s);if(u<"0"||u>"9"){o=!1;break}}o&&(r=r.split(":")[0],a&&a.length>0&&(this._port=parseInt(a,10)))}this._host=r}t[5]&&(this._path=t[5]),t[6]&&(this._query=t[7]),t[8]&&(this._fragment=t[9])}});YSURL.Base64Encode=function(e){if(/([^\u0000-\u00ff])/.test(e))return e;var t,n,r,i,a,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=[],c="";if((n=e.length%3)>0)for(;n++<3;)c+="=",e+="\0";for(n=0;n<e.length;n+=3)r=(t=e.charCodeAt(n)<<16|e.charCodeAt(n+1)<<8|e.charCodeAt(n+2))>>18&63,i=t>>12&63,a=t>>6&63,o=63&t,u[n/3]=s.charAt(r)+s.charAt(i)+s.charAt(a)+s.charAt(o);return(e=u.join("")).slice(0,e.length-c.length)+c},YSURL._r=/\\/g;var ProtoAjax={Browser:function(){if("undefined"==typeof navigator||"undefined"==typeof window)return{IE:!1,Opera:!1,WebKit:!1,Gecko:!1,MobileSafari:!1};var e=navigator.userAgent,t="[object Opera]"==Object.prototype.toString.call(window.opera);return{IE:e&&!!window.attachEvent&&!t,Opera:t,WebKit:e&&e.indexOf("AppleWebKit/")>-1,Gecko:e&&e.indexOf("Gecko")>-1&&-1===e.indexOf("KHTML"),MobileSafari:e&&/Apple.*Mobile/.test(e)}}(),getTransport:function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(var e,t=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],n=0;n<t.length;n++)try{e=new ActiveXObject(t[n]);break}catch(e){}return e},activeRequestCount:0};ProtoAjax.Base=ClassHelper.makeClass({initialize:function(e){for(var t in this.options={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:""},e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.options.method=this.options.method.toLowerCase()}}),ProtoAjax.Request=ClassHelper.makeClass(ProtoAjax.Base,{_complete:!1,initialize:function(e,t){this.callSuper(this.initialize,t),this.transport=ProtoAjax.getTransport(),this.request(e)},request:function(e){this.url=e,this.method=this.options.method;var t=this.options.parameters;"get"!==this.method&&"post"!==this.method&&(t+=(t?"&":"")+"_method="+this.method,this.method="post"),t&&"get"===this.method&&(this.url+=(this.url.include("?")?"&":"?")+t),this.parameters=t;try{var n=new ProtoAjax.Response(this);this.options.onCreate&&this.options.onCreate(n),this.transport.open(this.method.toUpperCase(),this.url,this.options.asynchronous),this.options.asynchronous&&this.defer(this.respondToReadyState.bind(this,1)),this.transport.onreadystatechange=this.onStateChange.bind(this),this.setRequestHeaders(),this.body="post"==this.method?this.options.postBody||t:null,this.transport.send(this.body),!this.options.asynchronous&&this.transport.overrideMimeType&&this.onStateChange()}catch(e){}},update:function(e,t){for(var n=e.length,r=t.length;r--;)e[n+r]=t[r];return e},delay:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return e*=1e3,setTimeout((function(){return t.apply(t,n)}),e)},defer:function(e){var t=this.update([.01],arguments);return this.delay.apply(e,t)},onStateChange:function(){var e=this.transport.readyState;e>1&&(4!=e||!this._complete)&&this.respondToReadyState(this.transport.readyState)},setRequestHeaders:function(){var e={Accept:"text/javascript, text/html, application/xml, text/xml, */*"};if("post"==this.method&&(e["Content-type"]=this.options.contentType+(this.options.encoding?"; charset="+this.options.encoding:""),this.transport.overrideMimeType&&(navigator.userAgent.match(/Gecko\/(\d{4})/)||[0,2005])[1]<2005&&(e.Connection="close")),"object"==typeof this.options.requestHeaders){var t=this.options.requestHeaders;if(Object.isFunction(t.push))for(var n=0,r=t.length;n<r;n+=2)e[t[n]]=t[n+1];else $H(t).each((function(t){e[t.key]=t.value}))}for(var i in e)null!=e[i]&&this.transport.setRequestHeader(i,e[i])},success:function(){var e=this.getStatus();return!e||e>=200&&e<300||304==e},getStatus:function(){try{return 1223===this.transport.status?204:this.transport.status||0}catch(e){return 0}},respondToReadyState:function(e){var t=ProtoAjax.Request.Events[e],n=new ProtoAjax.Response(this);if("Complete"==t)try{this._complete=!0,(this.options["on"+n.status]||this.options["on"+(this.success()?"Success":"Failure")]||function(){})(n)}catch(e){Debugger.print("Error handling state: "+e)}try{(this.options["on"+t]||function(){})(n)}catch(e){}"Complete"==t&&(this.transport.onreadystatechange=function(){})},getHeader:function(e){try{return this.transport.getResponseHeader(e)||null}catch(e){return null}},evalResponse:function(){try{return eval((this.transport.responseText||"").unfilterJSON())}catch(e){}}}),ProtoAjax.Request.Events=["Uninitialized","Loading","Loaded","Interactive","Complete"],ProtoAjax.Response=ClassHelper.makeClass({initialize:function(e){this.request=e;var t=this.transport=e.transport,n=this.readyState=t.readyState;if((n>2&&!ProtoAjax.Browser.IE||4==n)&&(this.status=this.getStatus(),this.statusText=this.getStatusText(),this.responseText=null===t.responseText?"":String(t.responseText)),4==n){var r=t.responseXML;this.responseXML=void 0===r?null:r}},status:0,statusText:"",getStatus:ProtoAjax.Request.prototype.getStatus,getStatusText:function(){try{return this.transport.statusText||""}catch(e){return""}},getHeader:ProtoAjax.Request.prototype.getHeader,getAllHeaders:function(){try{return this.getAllResponseHeaders()}catch(e){return null}},getResponseHeader:function(e){return this.transport.getResponseHeader(e)},getAllResponseHeaders:function(){return this.transport.getAllResponseHeaders()}}),ProtoAjax.DELEGATE=null;var VMAPNS="http://www.iab.net/videosuite/vmap",TAG_VMAP_AD_BREAK="AdBreak",ATTR_AD_BREAK_START="timeOffset",ATTR_AD_BREAK_TYPE="breakType",ATTR_AD_BREAK_ID="breakId",TAG_AD_SOURCE="AdSource",TAG_VMAP_TRACKING_EVENTS="TrackingEvents",TAG_VMAP_EXTENSIONS="Extensions",TAG_VMAP_EXTENSION="Extension",TAG_YOEXT_ADBREAK="http://www.yospace.com/extension/adbreak",TAG_YOEXT_STREAM="http://www.yospace.com/extension/stream",TAG_VAST_AD_DATA="VASTAdData",TAG_YO_STREAM="Stream",ATTR_STREAM_DURATION="duration",ATTR_STREAM_PDTSTART="pdtstart",ATTR_STREAM_PDTEND="pdtend",ATTR_URL_DOMAIN="urlDomain",ATTR_URL_SUFFIX="urlSuffix",TAG_AD="Ad",TAG_AD_EXTENSIONS="Extensions",TAG_AD_EXTENSION="Extension",TAG_INLINE="InLine",TAG_INLINE_ADSYSTEM="AdSystem",TAG_INLINE_VERSION="version",TAG_INLINE_ADTITLE="AdTitle",TAG_INLINE_DESCRIPTION="Description",TAG_INLINE_ADVERTISER="Advertiser",TAG_INLINE_SURVEY="Survey",TAG_CREATIVES="Creatives",TAG_CREATIVE="Creative",TAG_IMPRESSION="Impression",TAG_VAST_TRACKING="Tracking",TAG_VAST_TRACKINGEVENTS="TrackingEvents",TAG_NONLINEARADS="NonLinearAds",TAG_STATICRESOURCE="StaticResource",TAG_IFRAMERESOURCE="IFrameResource",TAG_NONLINEARCLICKTHROUGH="NonLinearClickThrough",TAG_LINEAR="Linear",TAG_CLICKTHROUGH="ClickThrough",TAG_CLICKTRACKING="ClickTracking",TAG_HTMLRESOURCE="HTMLResource",TAG_EXTENSIONS="CreativeExtensions",TAG_EXTENSION="CreativeExtension",ANALYTICS_TOKEN="#EXT-X-YOSPACE-ANALYTICS-URL",PAUSE_TOKEN="#EXT-X-YOSPACE-PAUSE",YSParseUtils={NAMESPACES:!1,NS_SEPARATOR:":",timecodeToString:function(e){var t="0"+e%60;return(("0"+parseInt(e/3600,10)+":0"+parseInt(e%3600/60,10)+":"+t).replace(/(^|:|\.)0(\d{2})/g,"$1$2")+".000".substr(-1===t.indexOf(".")?0:1)).substr(0,12)},timecodeFromString:function(e){return-1===e.indexOf(":")?e:3600*parseInt(e.substr(0,2),10)+60*parseInt(e.substr(3,2),10)+parseFloat(e.substr(6),10)},getDOMElements:function(e,t,n,r){if(!1===YSParseUtils.NAMESPACES||void 0===e.getElementsByTagNameNS){var i=(""===t?"":t+YSParseUtils.NS_SEPARATOR)+r;return e.getElementsByTagName(i)}return e.getElementsByTagNameNS(n,r)}},TrackingEvents=ClassHelper.makeClass({initialize:function(e,t){if(this.events={},this.suppressedCalls=[],this.isSuppressed=!1,this.ad=t,this.nsPrefix="",null!==e){var n=e.tagName.indexOf(TAG_VAST_TRACKINGEVENTS);if(-1===n){if(1!==(e=e.getElementsByTagName(TAG_VAST_TRACKINGEVENTS)).length)return;n=(e=e.item(0)).tagName.indexOf(TAG_VAST_TRACKINGEVENTS)}n>0&&(this.nsPrefix=e.tagName.substr(0,n-1));for(var r=YSParseUtils.getDOMElements(e,this.nsPrefix,"*",TAG_VAST_TRACKING),i=0;i<r.length;i++){var a=r.item(i).getAttribute("event");if(a){var o=null;"progress"===a&&(a+="-"+(o=r.item(i).getAttribute("offset")));var s={url:r.item(i).textContent.replace(/\s+/g,""),offset:o,event:a,expired:!1};Debugger.print("Adding tracking for event: "+a),this.events[a]=this.events[a]||[],this.events[a].push(s)}}}},Destroy:function(){for(var e in this.suppressedCalls=null,this.events)this.events.hasOwnProperty(e)&&delete this.events[e];this.events=null},addClickTracking:function(e){this.addTracking("click",e)},addTracking:function(e,t){var n={url:t,event:e,offset:null,expired:!1};this.events[e]=this.events[e]||[],this.events[e].push(n)},getEventsOfType:function(e){var t=[],n=e.indexOf("progress")>-1;for(var r in this.events)this.events.hasOwnProperty(r)&&(e.indexOf(r)>-1||n&&0===r.indexOf("progress-"))&&(t=t.concat(this.events[r]));return t},suppressAnalytics:function(e){return e?this.isSuppressed||(this.suppressedCalls=[],this.isSuppressed=!0):this.isSuppressed=!1,this.suppressedCalls},fire:function(e,t){for(var n=TrackingEvents.ACTION_EVENTS.length,r=!1,i=0;i<n;i++)if(TrackingEvents.ACTION_EVENTS[i]===t.event){r=!0;break}if(r?Debugger.print("Is an action-based event"):(Debugger.print("Not an action-based event"),t.expired=!0),this.isSuppressed)this.suppressedCalls.push({event:t.event,url:e}),Debugger.print(" ** SUPPRESSING CALL ** Suppressed length: "+this.suppressedCalls.length);else if(e.length>0){var a=new Image,o=new YSURL(e);!0===TrackingEvents.FORCE_HTTPS&&(o._scheme="https"),a.src=o.toString()}},track:function(e,t){this.ad?Debugger.print("Tracking "+e+" in "+this.ad.id):Debugger.print("Tracking "+e+" at global level.");var n=[];this.events[e]&&0!==this.events[e].length?n=[].concat(this.events[e]):Debugger.print("No specific event to be tracked!");var r,i={};for(var a in t)t.hasOwnProperty(a)&&(i["["+a+"]"]=encodeURIComponent(t[a]));if("creativeView"===e)if(null===this.ad||this.ad.hasSentImpression())null===this.ad?Debugger.print(" *** NO ADVERT FOR FIRING IMPRESSION"):Debugger.print(" *** IMPRESSION ALREADY SENT");else for(this.ad.impressionSent(),Debugger.print(" -=-> Ad Impression"),r=this.ad.impressions.length-1;r>=0;r--)n.unshift({url:this.ad.impressions[r],expired:!1,event:"impression"});for(r=0;r<n.length;r++){for(var o=n[r],s=o.url,u=String(parseInt(99999999*Math.random(),10));8!==u.length;)u="0"+u;for(a in i["[CACHEBUSTING]"]=u,i)i.hasOwnProperty(a)&&(s=s.replace(a,i[a]));!1===o.expired&&(Debugger.print("Firing tracking of: "+s),this.fire(s,o))}},progressTrack:function(e,t,n){var r=[],i=t;for(var a in this.events){var o=this.events[a];if(o.length>0)for(var s=0;s<o.length;s++)if("progress-"===(f=o[s]).event.substr(0,9)){var u=f.event.substr(9);if(-1!==u.indexOf("%")){var c=u.substr(0,u.length-1);i=parseFloat(c)*t/100}else i=YSParseUtils.timecodeFromString(u);n>=i&&r.push(f)}}if(r.length>0){var l={};for(var d in e)e.hasOwnProperty(d)&&(l["["+d+"]"]=encodeURIComponent(e[d]));for(a=0;a<r.length;a++){for(var f=r[a],p=f.url,h=String(parseInt(99999999*Math.random(),10));8!==h.length;)h="0"+h;for(d in l["[CACHEBUSTING]"]=h,l)l.hasOwnProperty(d)&&(p=p.replace(d,l[d]));!1===f.expired&&(Debugger.print("Firing timed tracking of: "+p),this.fire(p,f))}}}});TrackingEvents.FORCE_HTTPS=!1,TrackingEvents.ACTION_EVENTS=["mute","unmute","pause","resume","fullscreen","exitFullscreen","expand","collapse","click"];var YoExtension=ClassHelper.makeClass({initialize:function(e){this.isValid=!1,this.extensionXml=e},Destroy:function(){this.extensionXml=null},getRaw:function(){return this.extensionXml},getTypeName:function(){return"YoExtension"}}),YoStream=ClassHelper.makeClass(YoExtension,{initialize:function(e){this.callSuper(this.initialize,e),this.isValid=!0,this.StartPDT=null,this.EndPDT=null,Debugger.print("[1/4] Extracting STREAM extension...");var t=YSParseUtils.getDOMElements(e,"yospace","",TAG_YO_STREAM);if(1==t.length){var n=t.item(0);if(Debugger.print("[2/4] Validating STREAM tagname..."),n.tagName==="yospace"+YSParseUtils.NS_SEPARATOR+TAG_YO_STREAM){if(Debugger.print("[3/4] Checking for STREAM duration attribute..."),!n.hasAttribute(ATTR_STREAM_DURATION))return Debugger.print("[3/4] STREAM duration attribute not found..."),void(this.isValid=!1);this.duration=n.getAttribute(ATTR_STREAM_DURATION),Debugger.print("[3/4] Found STREAM duration... "+this.duration),Debugger.print("[4/4] Extracting misc STREAM attributes..."),n.hasAttribute(ATTR_STREAM_PDTSTART)&&(this.StartPDT=n.getAttribute(ATTR_STREAM_PDTSTART)),n.hasAttribute(ATTR_STREAM_PDTEND)&&(this.EndPDT=n.getAttribute(ATTR_STREAM_PDTEND)),this.urlDomain=n.getAttribute(ATTR_URL_DOMAIN),this.urlSuffix=n.getAttribute(ATTR_URL_SUFFIX),this.id=n.getAttribute("id")}else Debugger.print("Invalid tag name for yospace"+YSParseUtils.NS_SEPARATOR+TAG_YO_STREAM),this.isValid=!1}else Debugger.print("[1/4] STREAM: No firstElementChild was returned..."),this.isValid=!1;Debugger.print("[-/-] STREAM extension parsed. Valid? ... "+(this.isValid?"YES":"NO"))},Destroy:function(){this.callSuper(this.Destroy)},getTypeName:function(){return"YoStream"}}),YoBreak=ClassHelper.makeClass(YoExtension,{initialize:function(e){if(e){this.callSuper(this.initialize,e),this.isValid=!0;var t=YSParseUtils.getDOMElements(e,"yospace","",TAG_VMAP_AD_BREAK);if(1==t.length){var n=t.item(0);this.duration=n.getAttribute(ATTR_STREAM_DURATION)}else Debugger.print("[1/4] BREAK: No firstElementChild was returned..."),this.isValid=!1}},Destroy:function(){this.callSuper(this.Destroy)},getTypeName:function(){return"YoBreak"}}),Extensions=ClassHelper.makeClass({initialize:function(e){if(this.extensions=[],e){var t=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_VMAP_EXTENSION);if(t.length)for(var n=0;n<t.length;n++){var r,i=t.item(n),a=i.getAttribute("type");a===TAG_YOEXT_ADBREAK?(r=new YoBreak(i),this.extensions.push(r),Debugger.print("Found BREAK extension in VMAP")):a===TAG_YOEXT_STREAM?(r=new YoStream(i),this.extensions.push(r),Debugger.print("Found STREAM extension in VMAP")):Debugger.print("Unhandled Extension Type: "+a)}else Debugger.print("Empty Extensions section")}else Debugger.print("Adjustment/Extraction failed for VMAP extensions")},Destroy:function(){for(;this.extensions.length>0;)this.extensions.pop().Destroy();this.extensions=null},getFirstOfType:function(e){return getNextOfType(e,null)},getNextOfType:function(e,t){var n=null,r=getClassForType(e),i=!1;if(null!==r)for(var a=0;a<this.extensions.length;a++)if(this.extensions[a].getTypeName()==r){if(null===t||!0===i){n=this.extensions[a];break}this.extensions[a]===t&&(i=!0)}return n},getAllOfType:function(e){var t=[],n=this.getClassForType(e);if(null!==n)for(var r=0;r<this.extensions.length;r++)this.extensions[r].getTypeName()==n&&t.push(this.extensions[r]);return t},getClassForType:function(e){switch(e){case TAG_YOEXT_ADBREAK:return"YoBreak";case TAG_YOEXT_STREAM:return"YoStream"}return null}}),VASTIcon=ClassHelper.makeClass({initialize:function(e,t,n){var r,i;for(this.id=n,this.linear=e,this.clickThrough=null,this.resources={html:null,iframe:null,images:{}},(i=t.getElementsByTagName(TAG_HTMLRESOURCE)).length>0&&(this.resources.html=i.item(0).textContent.replace(/\s+/g,"")),(i=t.getElementsByTagName(TAG_IFRAMERESOURCE)).length>0&&(this.resources.iframe=i.item(0).textContent.replace(/\s+/g,"")),i=t.getElementsByTagName(TAG_STATICRESOURCE),r=0;r<i.length;r++)this.resources.images[i.item(r).getAttribute("creativeType")]=i.item(r).textContent.replace(/\s+/g,"");this.tracking=e.tracking;var a=t.getElementsByTagName("IconClicks");if(a.length){var o=(a=a.item(0)).getElementsByTagName("IconClickThrough");if(o.length&&(this.clickThrough=o.item(0).textContent.replace(/\s+/g,"")),(o=a.getElementsByTagName("IconClickTracking")).length)for(r=0;r<o.length;r++)Debugger.print("Adding Icon Click Tracking: "+r),this.tracking.addTracking("IconClick_"+n,o.item(r).textContent.replace(/\s+/g,""))}var s=t.getElementsByTagName("IconViewTracking");if(s.length)for(r=0;r<s.length;r++)this.tracking.addTracking("IconView_"+n,s.item(r).textContent.replace(/\s+/g,""))},Destroy:function(){this.resources=null,this.linear=null,this.tracking=null},getAllResources:function(){return this.resources}}),VASTInteractive=ClassHelper.makeClass({initialize:function(e,t){for(var n in Debugger.print("Constructing VPAID Unit"),this.width=-1,this.height=-1,this.id="",this.scalable=!1,this.type="",this.maintainAspectRatio=!1,this.src="",this.linear=e,this.bitrate=-1,this.parameters="",t)if(t.hasOwnProperty(n)){var r=t[n].replace(/\s+/g,"");switch(n.toLowerCase()){case"height":case"width":case"bitrate":this[n.toLowerCase()]=parseInt(r,10);break;case"id":case"type":this[n.toLowerCase()]=r;break;case"maintainaspectratio":this.maintainAspectRatio="true"===r.toLowerCase();break;case"scalable":this.scalable="true"===r.toLowerCase();break;case"src":this.src=r;break;default:Debugger.print("Unknown attribute: "+n+" with value: "+r)}}var i=e.root.getElementsByTagName("AdParameters");1===i.length&&(this.parameters=i.item(0).textContent),this.tracking=new TrackingEvents(e.root,e.vastAd)},Destroy:function(){this.resources=null,this.linear=null,this.tracking.Destroy(),this.tracking=null},track:function(e,t,n,r){Debugger.print(" VPAID: Invoke Tracking: "+e),this.tracking.track(e,{CONTENTPLAYHEAD:YSParseUtils.timecodeToString(t),ASSETURI:n,"YO:ACTUAL_DURATION":r})}}),VASTCreative=ClassHelper.makeClass({initialize:function(e,t,n,r){this.vastAd=e,this.root=t,this.clickThrough=null,this.AdID=n,this.CreativeID=r,this.CreativeExtensions=[];var i=t.getElementsByTagName(TAG_EXTENSIONS);if(i.length>0)for(var a=0;a<i.length;a++){var o=i.item(a).getElementsByTagName(TAG_EXTENSION);if(o.length>0)for(var s=0;s<o.length;s++)this.CreativeExtensions.push(o.item(s))}"NonLinear"===t.tagName&&(t=t.parentNode),this.tracking=new TrackingEvents(t,e)},Destroy:function(){this.root=null,this.CreativeExtensions=null,this.tracking&&(this.tracking.Destroy(),this.tracking=null)},track:function(e,t,n,r){this.tracking.track(e,{CONTENTPLAYHEAD:YSParseUtils.timecodeToString(t),ASSETURI:n,"YO:ACTUAL_DURATION":r}),this.tracking.progressTrack({CONTENTPLAYHEAD:YSParseUtils.timecodeToString(t),ASSETURI:n,"YO:ACTUAL_DURATION":r},this.getDuration(),t)},trackProgress:function(e,t,n){this.tracking.progressTrack({CONTENTPLAYHEAD:YSParseUtils.timecodeToString(e),ASSETURI:t,"YO:ACTUAL_DURATION":n},this.duration,e)},getClickThrough:function(){if(this.clickThrough){var e=new YSURL(this.clickThrough);return!0===TrackingEvents.FORCE_HTTPS&&(e._scheme="https"),e.toString()}return null},attribute:function(e,t){if(!this.root.hasAttribute(e))return t;var n=this.root.getAttribute(e);switch(e){case"skipoffset":case"duration":case"offset":case"minSuggestedDuration":n=YSParseUtils.timecodeFromString(n)}return n}}),VASTLinear=ClassHelper.makeClass(VASTCreative,{initialize:function(e,t,n,r){this.callSuper(this.initialize,e,t,n,r),this.mediaFiles=[],this.duration=null,this.skipOffset=-1,this.icons=[],this.interactiveUnit=null;var i=t.getElementsByTagName("VideoClicks");if(i.length){var a=(i=i.item(0)).getElementsByTagName(TAG_CLICKTHROUGH);if(a.length&&(this.clickThrough=a.item(0).textContent.replace(/\s+/g,"")),(a=i.getElementsByTagName(TAG_CLICKTRACKING)).length)for(p=0;p<a.length;p++)Debugger.print("Adding Click Tracking: "+p),this.tracking.addClickTracking(a.item(p).textContent.replace(/\s+/g,""))}var o=t.getElementsByTagName("Duration");if(o.length&&(this.duration=YSParseUtils.timecodeFromString(o.item(0).textContent.replace(/\s+/g,""))),t.hasAttribute("skipoffset")){var s=t.getAttribute("skipoffset").replace(/\s+/g,"");if(s.indexOf("%")>=0){var u=this.duration*s.substring(0,s.length-1)/100;this.skipOffset=u}else this.skipOffset=YSParseUtils.timecodeFromString(s)}var c=t.getElementsByTagName("MediaFiles");if(c.length){for(c=c.item(0).getElementsByTagName("MediaFile"),p=0;p<c.length;p++){var l={};if(void 0!==(h=c.item(p)).attributes)for(var d=0;d<h.attributes.length;d++)l[h.attributes.item(d).name]=h.attributes.item(d).value;else h.hasAttribute("id")&&(l.id=h.getAttribute("id")),h.hasAttribute("bitrate")&&(l.bitrate=h.getAttribute("bitrate")),h.hasAttribute("width")&&(l.width=h.getAttribute("width")),h.hasAttribute("height")&&(l.height=h.getAttribute("height"));l.src=c.item(p).textContent.replace(/\s+/g,""),l.hasOwnProperty("apiFramework")&&"VPAID"===l.apiFramework.toUpperCase()&&(this.interactiveUnit=new VASTInteractive(this,l)),this.mediaFiles.push(l)}var f=t.getElementsByTagName("Icons");if(f.length&&(f=f.item(0).getElementsByTagName("Icon")).length)for(var p=0;p<f.length;p++){var h=f.item(p);"Icon"===h.tagName&&this.icons.push(new VASTIcon(this,h,p))}}},Destroy:function(){if(this.callSuper(this.Destroy),this.mediaFiles=null,this.interactiveUnit&&(this.interactiveUnit.Destroy(),this.interactiveUnit=null),this.icons){for(;this.icons.length>0;)this.icons.pop().Destroy();this.icons=null}},getDuration:function(){return this.duration},getSkipOffset:function(){return this.skipOffset},getAllMedias:function(){return this.mediaFiles},hasInteractiveUnit:function(){return null!==this.interactiveUnit}}),VASTNonLinear=ClassHelper.makeClass(VASTCreative,{initialize:function(e,t,n,r){var i,a;for(this.callSuper(this.initialize,e,t,n,r),this.resources={html:null,iframe:null,images:{}},(a=t.getElementsByTagName(TAG_HTMLRESOURCE)).length>0&&(this.resources.html=a.item(0).textContent.replace(/\s+/g,"")),(a=t.getElementsByTagName(TAG_IFRAMERESOURCE)).length>0&&(this.resources.iframe=a.item(0).textContent.replace(/\s+/g,"")),a=t.getElementsByTagName(TAG_STATICRESOURCE),i=0;i<a.length;i++)this.resources.images[a.item(i).getAttribute("creativeType")]=a.item(i).textContent.replace(/\s+/g,"");this.tracking=e.nonLinearsTracking;var o=t.getElementsByTagName("NonLinearClickTracking");if(o.length)for(i=0;i<o.length;i++)this.tracking.addClickTracking(o.item(i).textContent.replace(/\s+/g,""));(o=t.getElementsByTagName(TAG_NONLINEARCLICKTHROUGH)).length&&(this.clickThrough=o.item(0).textContent.replace(/\s+/g,"")),this.attributes={},t.hasAttribute("width")&&(this.attributes.width=t.getAttribute("width")),t.hasAttribute("height")&&(this.attributes.height=t.getAttribute("height")),t.hasAttribute("id")&&(this.attributes.id=t.getAttribute("id")),t.hasAttribute("expandedWidth")&&(this.attributes.expandedWidth=t.getAttribute("expandedWidth")),t.hasAttribute("expandedHeight")&&(this.attributes.expandedHeight=t.getAttribute("expandedHeight")),t.hasAttribute("scalable")&&(this.attributes.scalable=t.getAttribute("scalable")),t.hasAttribute("maintainAspectRatio")&&(this.attributes.maintainAspectRatio=t.getAttribute("maintainAspectRatio")),t.hasAttribute("minSuggestedDuration")&&(this.attributes.minSuggestedDuration=t.getAttribute("minSuggestedDuration")),t.hasAttribute("apiFramework")&&(this.attributes.apiFramework=t.getAttribute("apiFramework"))},Destroy:function(){this.callSuper(this.Destroy),this.resources=null,this.attributes=null},getAllResources:function(){return this.resources}}),VASTAd=ClassHelper.makeClass({initialize:function(e,t){var n,r;this.container=null,this.vast=e,this.vastXML=t,this.id="",this.AdTitle="",this.Description="",this.Advertiser="",this.Survey="",this.version="",this.AdSystem="",this.sequence=null,this.linear=null,this.nonLinears=[],this.nonLinearsTracking=null,this.hasContent=!0,this.impressions=[],this.sentImpression=!1,this.Extensions=[],this.AdvertLineage=null,this.nonLinearsTracking=new TrackingEvents(null,this),t.hasAttribute("sequence")&&(this.sequence=parseInt(t.getAttribute("sequence"),10),Debugger.print(" *VASTAd* Extracted sequence: "+this.sequence)),t.hasAttribute("id")&&(this.id=t.getAttribute("id"),Debugger.print(" *VASTAd* Extracted id: "+this.id));var i=t.getElementsByTagName(TAG_INLINE);if(0===i.length)return Debugger.print(" *VASTAd* Found no inline element"),void(this.hasContent=!1);Debugger.print(" *VASTAd* Inline located. Count (should be 1): "+i.length);var a=(i=i.item(0)).getElementsByTagName(TAG_INLINE_ADSYSTEM);if(0!==a.length){Debugger.print(" *VASTAd* Extracted AdSystem. Count: "+a.length);var o=a.item(0);this.AdSystem=o.textContent.replace(/\s+/g,""),o.hasAttribute("version")&&(this.version=o.getAttribute("version"),Debugger.print(" *VASTAd* Extracted AdSystem version: "+this.version))}0!==(a=i.getElementsByTagName(TAG_INLINE_ADTITLE)).length&&(this.AdTitle=a.item(0).textContent.replace(/\s+/g,""),Debugger.print(" *VASTAd* Extracted AdTitle: "+this.AdTitle)),0!==(a=i.getElementsByTagName(TAG_INLINE_DESCRIPTION)).length&&(this.Description=a.item(0).textContent.replace(/\s+/g,""),Debugger.print(" *VASTAd* Extracted Description: "+this.Description)),0!==(a=i.getElementsByTagName(TAG_INLINE_SURVEY)).length&&(this.Survey=a.item(0).textContent.replace(/\s+/g,""),Debugger.print(" *VASTAd* Extracted Survey: "+this.Survey)),0!==(a=i.getElementsByTagName(TAG_INLINE_ADVERTISER)).length&&(this.Advertiser=a.item(0).textContent.replace(/\s+/g,""),Debugger.print(" *VASTAd* Extracted Advertiser: "+this.Advertiser));var s=i.getElementsByTagName(TAG_IMPRESSION);for(Debugger.print(" *VASTAd* Extracted impressions. Count: "+s.length),n=0;n<s.length;n++)this.impressions.push(s.item(n).textContent.replace(/\s+/g,"")),Debugger.print(" *VASTAd* Impression "+String(n+1)+". URL: "+s.item(n).textContent.replace(/\s+/g,""));var u=t.getElementsByTagName(TAG_AD_EXTENSIONS);if(Debugger.print(" *VASTAd* Extracted Extensions. Count: "+u.length),u.length>0)for(n=0;n<u.length;n++){var c=u.item(n).getElementsByTagName(TAG_AD_EXTENSION);if(Debugger.print(" *VASTAd* For Extensions tag "+String(n+1)+", Extension count: "+c.length),c.length>0)for(r=0;r<c.length;r++)if(Debugger.print(" *VASTAd* For Extensions tag "+String(n+1)+", Extension "+String(r+1)+" have added item"),c.item(r).hasAttribute("type")&&"com.yospace.wrapperhierarchy"===c.item(r).getAttribute("type"))for(var l=c.item(r).firstChild,d=null;null!==l;){if("AdWrapper"===l.tagName){Debugger.print("Detected Hierarchy: "+l.getAttribute("id")+" / "+l.getAttribute("creativeId")+" / "+l.getAttribute("AdSystem"));var f=new AdvertWrapper(l.getAttribute("id"),l.getAttribute("creativeId"),l.getAttribute("AdSystem"));null===d?this.AdvertLineage=f:d.child=f,d=f}l=l.firstChild}else this.Extensions.push(c.item(r))}var p=i.getElementsByTagName(TAG_CREATIVES);if(Debugger.print(" *VASTAd* Extracted creatives tag. Count: "+p.length),0!==p.length)for(p=p.item(0).getElementsByTagName(TAG_CREATIVE),Debugger.print(" *VASTAd* Extracted creatives. Count: "+p.length),n=0;n<p.length;n++){var h,v="",m="";p.item(n).hasAttribute("AdID")&&(v=p.item(n).getAttribute("AdID")),p.item(n).hasAttribute("id")&&(m=p.item(n).getAttribute("id")),Debugger.print(" *VASTAd* For creatives "+String(n+1)+", AdID: "+v+", CreativeID: "+m);for(var g=p.item(n).firstChild;null!==g&&3===g.nodeType;)g=g.nextSibling;if(null!==g)switch(g.tagName){case TAG_LINEAR:Debugger.print(" *VASTAd* For creatives "+String(n+1)+", Extracting Linear"),this.linear=new VASTLinear(this,g,v,m);break;case TAG_NONLINEARADS:Debugger.print(" *VASTAd* For creatives "+String(n+1)+", Extracting NonLinear");var y=g.tagName.replace("Ads",""),b=g.getElementsByTagName(y);for(r=0;r<b.length;r++)null!==(h=new VASTNonLinear(this,b.item(r),v,m))&&this.nonLinears.push(h)}}},Destroy:function(){if(this.hasContent=!1,this.vast=null,this.vastXML=null,this.impressions=null,this.Extensions=null,this.container=null,this.AdvertLineage=null,this.linear&&(this.linear.Destroy(),this.linear=null),this.nonLinearsTracking&&(this.nonLinearsTracking.Destroy(),this.nonLinearsTracking=null),this.nonLinears){for(;this.nonLinears.length>0;)this.nonLinears.pop().Destroy();this.nonLinears=null}},hasSentImpression:function(){return this.sentImpression},impressionSent:function(){this.sentImpression=!0},isNumber:function(e){return this.sequence===e},hasSequence:function(){return null!==this.sequence},isEmpty:function(){return!this.hasContent},getLinear:function(){return this.linear},getNonLinears:function(){return this.nonLinears}}),AdvertWrapper=ClassHelper.makeClass({initialize:function(e,t,n){this.AdId=e,this.AdSystem=n,this.CreativeID=t,this.child=null}}),VASTAds=ClassHelper.makeClass({initialize:function(e,t){this.ads=[],this.onAdsAvailable=e,this.onAdsError=t,this.onReceivedErrorCounter=0},Destroy:function(){for(this.onAdsAvailable=null,this.onAdsError=null;this.ads.length>0;)this.ads.pop().Destroy();this.ads=null},parse:function(e){var t=YSParseUtils.getDOMElements(e,"","*",TAG_AD),n=this;if(0!==t.length){for(var r=0;r<t.length;r++){var i=new VASTAd(this,t.item(r));i.isEmpty()?(Debugger.print("Parsed an empty ad"),function(){n.onReceivedErrorCounter++,n.onReceivedErrorCounter===t.length&&"function"==typeof this.onAdsError&&this.onAdsError.call(this,"All Ads Failed")}()):this.ads.push(i)}"function"==typeof this.onAdsAvailable&&this.onAdsAvailable.call(this,this.ads)}else"function"==typeof this.onAdsAvailable&&this.onAdsAvailable.call(this,[])}}),AdBreak=ClassHelper.makeClass({initialize:function(e){this.adSource=null,this.vast=null,this.tracking=null,this.extensions=null,this.isValid=!1,this.position=e.getAttribute(ATTR_AD_BREAK_START),this.type=e.getAttribute(ATTR_AD_BREAK_TYPE),this.id=e.getAttribute(ATTR_AD_BREAK_ID);var t=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_AD_SOURCE);if(t.length){var n=YSParseUtils.getDOMElements(t.item(0),"vmap",VMAPNS,TAG_VAST_AD_DATA);if(n.length){var r=this;this.adSource=n.item(0).innerHTML,this.vast=new VASTAds((function(e){Debugger.print("VAST: "+e.length),e.length>0&&(r.isValid=!0)}),(function(){Debugger.print("Vast Failed")})),this.vast.parse(n.item(0))}else Debugger.print("Not a VASTAdData tag")}else Debugger.print("No AdSource section in AdBreak");var i=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_VMAP_TRACKING_EVENTS);i.length?(this.tracking=new TrackingEvents(i.item(0),null),this.isValid=!0):Debugger.print("No TrackingEvents section in AdBreak");var a=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_VMAP_EXTENSIONS);a.length?this.extensions=new Extensions(a.item(0)):Debugger.print("No Extensions section in AdBreak")},Destroy:function(){this.adSource=null,this.vast&&(this.vast.Destroy(),this.vast=null),this.tracking&&(this.tracking.Destroy(),this.tracking=null),this.extensions&&(this.extensions.Destroy(),this.extensions=null)}}),VMAPParser=ClassHelper.makeClass({initialize:function(e,t){this.breaks=[],this.extensions=null,this.onSuccess=e,this.onFailure=t},Destroy:function(){for(this.extensions&&(this.extensions.Destroy(),this.extensions=null),this.onSuccess=null,this.onFailure=null;this.breaks.length>0;)this.breaks.pop().Destroy();this.breaks=null},parse:function(e){var t;if(null!==e){if(9==e.nodeType){Debugger.print("Looks like VMAP document was provided. Stepping into root node");var n=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,"VMAP");if(1!=n.length)return Debugger.print("VMAP root node count was not 1. This probably wont work: "+n.length),void("function"==typeof this.onFailure&&this.onFailure.call(this,"error"));e=n.item(0),Debugger.print("Located root node")}if(!0===YSSessionManager.DEFAULTS.AD_DEBUG&&!0===YSSessionManager.DEFAULTS.DEBUGGING){var r=e.parentNode.children.item(0).nextSibling;null!==r&&r.nodeType==Node.COMMENT_NODE&&(Debugger.print(" ************* AD-CALL DIAGNOSTICS ****************"),Debugger.print(r.nodeValue),Debugger.print(" ************* END DIAGNOSTICS ****************"))}var i=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_VMAP_AD_BREAK);if(i.length)for(t=0;t<i.length;t++){Debugger.print("Processing break: "+t);var a=i.item(t);if(void 0!==a.parentNode&&(a.parentNode==e||void 0!==e.tagName&&a.parentNode.tagName===e.tagName)){var o=new AdBreak(a);o.isValid?this.breaks.push(o):Debugger.print("Break not valid")}else Debugger.print("Ignoring floating AdBreak")}else Debugger.print(" ** NO ADBREAK ELEMENTS LOCATED IN VMAP.");var s=YSParseUtils.getDOMElements(e,"vmap",VMAPNS,TAG_VMAP_EXTENSIONS);if(s.length)for(t=0;t<s.length;t++){var u="function"==typeof s.item?s.item(t):s[t],c=void 0!==u?u.parentNode:void 0;if(void 0!==c&&(c==e||void 0!==e.tagName&&c.tagName===e.tagName)){this.extensions=new Extensions(s.item(t));break}Debugger.print("Ignoring custom extension which is not top-level")}else Debugger.print(" ** NO EXTENSIONS LOCATED IN VMAP.");var l=!0;if(null!==this.extensions&&null!==this.extensions.extensions){for(t=0;t<this.extensions.extensions.length;t++)if(!this.extensions.extensions[t].isValid){Debugger.print("Extension "+t+" is not valid"),l=!1;break}}else Debugger.print("extensions is "+(null!==this.extensions?"NOT":"")+" null"),null!==this.extensions&&Debugger.print("extensions.extensions is "+(null!==this.extensions.extensions?"NOT":"")+" null");l?"function"==typeof this.onSuccess&&this.onSuccess.call(this,this.breaks):"function"==typeof this.onFailure&&this.onFailure.call(this,"error")}else"function"==typeof this.onFailure&&this.onFailure.call(this,"error")}}),PlaylistParser=ClassHelper.makeClass({initialize:function(e,t,n){Debugger.print("Loading M3U8 from: "+e),this.server=e,this.content=[],this.handleSuccess=t,this.handleFailure=n,this.isRedirect=!1,this.isXML=!1,null!==ProtoAjax.DELEGATE?ProtoAjax.DELEGATE(e,{onSuccess:this.onLoadSucceeded.bind(this),onFailure:this.onLoadFailed.bind(this)}):new ProtoAjax.Request(e,{method:"get",evalJSON:!1,evalJS:!1,onSuccess:this.onLoadSucceeded.bind(this),onFailure:this.onLoadFailed.bind(this)})},Destroy:function(){this.handleSuccess=null,this.handleFailure=null,this.content=null},onLoadSucceeded:function(e){Debugger.print("Playlist loaded... parsing"),void 0!==e.transport&&void 0!==e.transport.responseURL&&0!==e.transport.status&&e.transport.responseURL!==this.server&&(this.server=e.transport.responseURL,Debugger.print("Detected a playlist redirect to: "+this.server),this.isRedirect=!0),null===e.responseXML?this.content=this.textToArray(e.responseText):(this.isXML=!0,this.content=[e.responseXML]),e.transport.status>=200&&e.transport.status<=399?"function"==typeof this.handleSuccess&&this.handleSuccess.call(this):"function"==typeof this.handleFailure&&this.handleFailure.call(this,e.transport.status)},onLoadFailed:function(e){Debugger.printErr("Failed to load Playlist from '"+this.server+"':"+e.status),"function"==typeof this.handleFailure&&this.handleFailure.call(this,e.status)},textToArray:function(e){return"string"!=typeof e?[]:(e=String(e).trim())?e.split(/\s+/):[]}}),VASTParser=ClassHelper.makeClass({initialize:function(e,t,n){this.ads=null,this.server=e,this.onSuccess=t,this.onFailure=n},Destroy:function(){this.onSuccess=null,this.onFailure=null,null!==this.ads&&(this.ads.Destroy(),this.ads=null)},load:function(){null!==this.server&&(Debugger.print("Loading VAST from: "+this.server),null!==ProtoAjax.DELEGATE?ProtoAjax.DELEGATE(this.server,{onSuccess:this.onLoadSuccess.bind(this),onFailure:this.onLoadFailure.bind(this)}):new ProtoAjax.Request(this.server,{method:"get",evalJSON:!1,evalJS:!1,onSuccess:this.onLoadSuccess.bind(this),onFailure:this.onLoadFailure.bind(this)}))},onLoadSuccess:function(e){e=e.responseXML,this.parse(e)},parse:function(e){if(this.ads=new VASTAds(this.onVastReady.bind(this),this.onVastFailed.bind(this)),this.ads.parse(e),!0===YSSessionManager.DEFAULTS.AD_DEBUG&&!0===YSSessionManager.DEFAULTS.DEBUGGING){var t=e.children.item(0).nextSibling;null!==t&&t.nodeType==Node.COMMENT_NODE&&(Debugger.print(" ************* AD-CALL DIAGNOSTICS ****************"),Debugger.print(t.nodeValue),Debugger.print(" ************* END DIAGNOSTICS ****************"))}},onVastReady:function(e){"function"==typeof this.onSuccess&&this.onSuccess.call(this,this.ads.ads)},onVastFailed:function(e){Debugger.print("ADS ERROR: "+e),"function"==typeof this.onFailure&&this.onFailure.call(that,e)},onLoadFailure:function(e){Debugger.printErr("Failed to load VAST from '"+this.server+"':"+e),"function"==typeof this.onFailure&&this.onFailure.call(this,e)}}),YOPoller=ClassHelper.makeClass({initialize:function(e,t){this.longperiod=e,this.shortperiod=t,this.running=!1,this.highpriority=!1,this.timer=null,this.callback=null},Destroy:function(){this.isRunning()&&this.stopPolling(),this.callback=null},isRunning:function(){return!0===this.running&&null!==this.timer},startPolling:function(e,t){null!==this.timer&&this.stopPolling(),this.callback=t,this.highpriority=e,this.running=!0,this.timer=setInterval(this.timerElapsed.bind(this),e?this.shortperiod:this.longperiod)},stopPolling:function(){this.running=!1,null!==this.timer&&clearInterval(this.timer),this.timer=null},timerElapsed:function(){this.callback&&this.callback.call(this)}}),Debugger={};!function(){"use strict";Debugger.print=function(e){YSSessionManager.DEFAULTS.DEBUGGING&&console.log(e)},Debugger.printErr=function(e){console.error(e)}}();var YSPlayerPolicy=ClassHelper.makeClass({initialize:function(e){this.session=e},Destroy:function(){this.session=null},canSeekTo:function(e){if(Debugger.print("Checking seek to: "+e),!(this.session instanceof YSLiveSession)){Debugger.print("VOD can seek to: "+e);var t=this.session.timeline;if(t){if(!this.canSeek())return Debugger.print("Returning last position as we're in an active advert"),this.session.lastPosition||0;var n=t.getAllElements();if(t.getElementAtTime(this.session.lastPosition),n&&0!=n.length){for(var r=-1,i=!1,a=n.length-1;a>=0;a--)if(Debugger.print("Checking element from "+n[a].offset+" with duration: "+n[a].duration),n[a].getType()===YSTimelineElement.ADVERT)if(i)for(var o=n[a].getAdverts().adverts,s=0;s<o.length;s++)o[s].setActive(!1);else e>=n[a].offset&&n[a].getAdverts().isActive()&&(Debugger.print("Break reports active"),r=n[a].offset,i=!0);return i&&null!==this.session.player&&"function"==typeof this.session.player.UpdateTimeline&&(Debugger.print("Reporting timeline to player: "+YSParseUtils.timecodeToString(t.getTotalDuration())),this.session.player.UpdateTimeline(t)),-1==r?e:r}Debugger.print("No elements")}else Debugger.print("No timeline");return e}return Debugger.print("Returning live default"),this.session.lastPosition},canStart:function(){return!0},canStop:function(){return!0},canPause:function(){return!(this.session instanceof YSLiveSession)},canSeek:function(){return!(this.session instanceof YSLiveSession||this.session.isInAnAdvert()&&this.session.currentAdvert.isActive)},canSkip:function(){if(this.session.isInAnAdvert()){if(this.session instanceof YSLiveSession)return-1;var e=this.session.currentAdvert.advert;if(null!==e){var t=e.getLinear();if(null!==t){var n=t.getSkipOffset();if(!1===this.session.currentAdvert.isActive&&(n=0),-1===n)return-1;var r=this.session.currentAdvert.timeElapsed(),i=r>=n?0:n-r;if(this.session instanceof YSVoDSession)return i;var a=t.getDuration()-r,o=this.session.timeline,s=o.getTotalDuration()+o.startOffset;return this.session.lastPosition+a>=s-YSPlayerPolicy.LIVE_TOLERANCE?-1:i}}}return-1},canMute:function(){return!0},canChangeFullScreen:function(e){return!0},canExpandCreative:function(){return!1},canClickThrough:function(){return!0}});YSPlayerPolicy.LIVE_TOLERANCE=30;var YSSession=ClassHelper.makeClass({initialize:function(e,t,n){Debugger.print("Constructing YSSession"),null!==t&&t.length>0?this.source=new YSURL(t):this.source=null,this.manager=e,this.onComplete=n,null!==this.source?this.hostnode=this.source.host():this.hostnode="",this.sessionId="",this.analyticsUrl="",this.livePauseUrl="",this.masterURL=null,this.timeline=new YSTimeline,this.adBreakArray={},this.currentAdvert=null,this.breakEndTimer=null,this.player=null,this.streamType="hls",this.lastPosition=void 0,this.analyticsSuppressed=!1,this.isPaused=!1,this.isPlaying=!1,this.policy=new YSPlayerPolicy(this),this._missedBreaks=[]},Destroy:function(){if(Debugger.print("Shutting down Session"),this.source=null,this.manager=null,this.masterURL=null,this.playlist=null,this.player=null,this.policy=null,this.currentAdvert=null,this.onComplete=null,this.stopBreakEndTimer(),this.timeline&&(this.timeline.Destroy(),this.timeline=null),this.adBreakArray){for(var e in this.adBreakArray)if(this.adBreakArray.hasOwnProperty(e)){for(var t=this.adBreakArray[e];t.length>0;)t.pop().Destroy();delete this.adBreakArray[e]}this.adBreakArray=null}if(this._missedBreaks.length>0)for(var n=0;n<this._missedBreaks.length;n++)this._missedBreaks[n].Destroy();this._missedBreaks=null},LateInit:function(e,t){},beginSession:function(){},setPaused:function(e){this.isPaused=e,e&&!this.isPlaying&&(this.isPlaying=!0)},getCurrentBreak:function(){if(this instanceof YSLiveSession){if(this.currentAdvert&&this._currentBreak)return this._currentBreak}else{var e=this.timeline.getElementAtTime(this.lastPosition);if(e.getType()===YSTimelineElement.ADVERT)return e.adBreak;if(this.currentAdvert)return this.currentAdvert.adBreak}return null},addEmptyBreak:function(e){if(this._missedBreaks.length>0)for(var t=0;t<this._missedBreaks.length;t++){var n=this._missedBreaks[t];if(e.startPosition<n.startPosition)return Debugger.print("Inserting empty break"),void this._missedBreaks.splice(t,0,e);if(e.startPosition==n.startPosition)return void Debugger.print("Ignoring addition of duplicate empty break")}this._missedBreaks.push(e)},getAdById:function(e){var t=null;if(this.adBreakArray.hasOwnProperty(e)){var n=this.adBreakArray[e];n.length>0?t=n.pop():null===n?Debugger.print("No adverts have yet been defined"):Debugger.print("Adverts previously seen for this ID, but none currently available: "+e)}else Debugger.print("No adverts found in array for this ID, and have not yet seen any: "+e),null===this.adBreakArray&&Debugger.print("And ad break array is null");return t},getLinearClickthrough:function(){var e=void 0;return this.currentAdvert&&this.currentAdvert.advert&&this.currentAdvert.advert.getLinear()&&(e=this.currentAdvert.advert.getLinear().getClickThrough()),e},setPlayer:function(e){this.player=e},suppressAnalytics:function(e){return e?(this.currentAdvert&&!this.analyticsSuppressed&&this.currentAdvert.isSuppressed(!0),this.analyticsSuppressed=!0,this.stopBreakEndTimer(),null):(this instanceof YSLiveSession&&this.startBreakEndTimer(),this.currentAdvert&&this.analyticsSuppressed?(this.analyticsSuppressed=!1,this.currentAdvert.isSuppressed(!1)):(this.analyticsSuppressed=!1,null))},pingAnalytics:function(e){this.analyticsUrl.length>0?null!==ProtoAjax.DELEGATE?ProtoAjax.DELEGATE(this.analyticsUrl,{onSuccess:e.bind(this,!0),onFailure:e.bind(this,!1)}):new ProtoAjax.Request(this.analyticsUrl,{method:"get",evalJSON:!1,evalJS:!1,onSuccess:e.bind(this,!0),onFailure:e.bind(this,!1)}):Debugger.print("No analytics need to be fetched. Poller will not be initialized")},processAnalytics:function(e){},handleMetadata:function(e){},updatePosition:function(e){this.lastPosition=e},isInAnAdvert:function(){return null!==this.currentAdvert},masterPlaylistUrl:function(){return this.masterURL.toString()},loadPlaylist:function(){this.playlist=new PlaylistParser(this.masterPlaylistUrl(),this.playlistLoaded.bind(this),this.playlistNotLoaded.bind(this))},playlistLoaded:function(){if(Debugger.print("Playlist was loaded"),this.playlist.isRedirect&&(this.masterURL=new YSURL(this.playlist.server)),this.playlist.isXML){Debugger.print("Playlist is XML - assuming DASH");var e=this.playlist.content[0].getElementsByTagName("MPD");e.length>0&&((e=e.item(0)).hasAttribute("analytics")&&(this.analyticsUrl=e.getAttribute("analytics").replace(/\s+/g,""),(i=(r=new YSURL(this.analyticsUrl)).path().split(";"))[0]=this.masterURL.path(),this.masterURL._path=i.join(";"),this.masterURL._host=r.host(),this.hostnode=r.host(),this.sessionId=i[1].split("=")[1]),e.hasAttribute("livepause")&&(this.livePauseUrl=e.getAttribute("livepause").replace(/\s+/g,""))),this.streamType="dash"}else{var t=Object.keys(this.playlist.content);for(var n in t){if(this.playlist.content.hasOwnProperty(n)&&0===this.playlist.content[n].indexOf(ANALYTICS_TOKEN)){this.analyticsUrl=this.playlist.content[n].substr(ANALYTICS_TOKEN.length+1),'"'==this.analyticsUrl.charAt(0)&&(this.analyticsUrl=this.analyticsUrl.substr(1,this.analyticsUrl.length-2));var r=new YSURL(this.analyticsUrl),i=r.path().split(";");this.masterURL._path=this.masterURL.path()+";"+i[1],this.masterURL._host=r.host(),this.hostnode=r.host(),this.sessionId=i[1].split("=")[1]}this.playlist.content.hasOwnProperty(n)&&0===this.playlist.content[n].indexOf(PAUSE_TOKEN)&&(this.livePauseUrl=this.playlist.content[n].substr(PAUSE_TOKEN.length+1),'"'==this.livePauseUrl.charAt(0)&&(this.livePauseUrl=this.livePauseUrl.substr(1,this.livePauseUrl.length-2)))}}Debugger.print("Modified URL: "+this.masterPlaylistUrl()),Debugger.print("Deduced analytics URL: "+this.analyticsUrl),this.livePauseUrl.length>0&&Debugger.print("Deduced Live Pause URL: "+this.livePauseUrl),0===this.analyticsUrl.length?"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.NO_ANALYTICS,YSSessionStatus.NON_YOSPACE_URL,void 0):this instanceof YSLivePauseSession?0===this.livePauseUrl.length?"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.INITIALISED,0,YSSessionStatus.NO_LIVEPAUSE):"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.INITIALISED,0,0):"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.INITIALISED)},playlistNotLoaded:function(e){Debugger.print("Playlist was NOT loaded"),"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.NOT_INITIALISED,e,YSSessionStatus.CONNECTION_ERROR)},startBreakEndTimer:function(e){isNaN(e)&&(e=YSSession.BREAK_TOLERANCE),null!==this.breakEndTimer&&this.stopBreakEndTimer();var t=this._currentBreak;t&&(console.log("Starting break end timer with break: "+t+" and duration: "+e),this.breakEndTimer=setTimeout(this.handleBreakEnd.bind(this,t),e))},stopBreakEndTimer:function(){null!==this.breakEndTimer&&(clearTimeout(this.breakEndTimer),this.breakEndTimer=null)},handleBreakStart:function(e){Debugger.print(" |||||||| CONTROL FLOW |||||||| HANDLE BREAK START"),e&&e.vmapBreak&&e.vmapBreak.tracking&&e.vmapBreak.tracking.track("breakStart",[]),e&&(this._currentBreak=e),null===this.breakEndTimer&&(null!==this.player&&"function"==typeof this.player.AdBreakStart&&this.player.AdBreakStart(e),this instanceof YSLiveSession&&this.startBreakEndTimer())},handleBreakEnd:function(e){Debugger.print(" |||||||| CONTROL FLOW |||||||| HANDLE BREAK END"),e&&e.vmapBreak&&e.vmapBreak.tracking&&e.vmapBreak.tracking.track("breakEnd",[]),this.isInAnAdvert()&&(null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(this.currentAdvert.getMediaID()),this.currentAdvert.setActive(!1),this.currentAdvert=null),null!==this.breakEndTimer&&this.stopBreakEndTimer(),e&&(Debugger.print("Advert break ended - notifying consumer"),null!==this.player&&"function"==typeof this.player.AdBreakEnd&&this.player.AdBreakEnd(e)),this._currentBreak=null},handleAdvertStart:function(e){null!==this.player&&"function"==typeof this.player.AdvertStart&&this.player.AdvertStart(e.getMediaID())},handleAdvertEnd:function(e){e.setActive(!1),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(e.getMediaID()),this.currentAdvert=null},reportLinearEvent:function(e){if(this.isInAnAdvert()){var t=this.currentAdvert;null!==t&&t.reportLinearEvent(e)}},reportNonLinearEvent:function(e,t){if(this.isInAnAdvert()){var n=this.currentAdvert;null!==n&&n.reportNonLinearEvent(e,t)}},getPolicy:function(){return this.policy}});YSSession.idRE=new RegExp(/([^_]*)_YO_([\s\S]*)/i),YSSession.BREAK_TOLERANCE=6e3,YSSession.READY="ready",YSSession.INIT_FAILED="error";var YSSessionResult={INITIALISED:"ready",NOT_INITIALISED:"error",NO_ANALYTICS:"no-analytics"},YSSessionStatus={CONNECTION_ERROR:-1,CONNECTION_TIMEOUT:-2,MALFORMED_URL:-3,NON_YOSPACE_URL:-10,NO_LIVEPAUSE:-11},YSVoDSession=ClassHelper.makeClass(YSSession,{initialize:function(e,t,n,r){this.callSuper(this.initialize,e,t,n),Debugger.print("Constructing YSVoDSession"),this.isVLive=r},Destroy:function(){Debugger.print("Shutting down VOD Session"),this.callSuper(this.Destroy),this.loader&&(this.loader.Destroy(),this.loader=null)},beginSession:function(){this.callSuper(this.beginSession);var e=this.source.toString(),t=this;null!==e&&e.length>0?null!==e&&(null!==ProtoAjax.DELEGATE?ProtoAjax.DELEGATE(e,{onSuccess:this.onVMAPLoaded.bind(this),onFailure:function(e){t.onComplete.call(t,YSSessionResult.NOT_INITIALISED,e.status,YSSessionStatus.CONNECTION_ERROR)}}):new ProtoAjax.Request(e,{method:"get",evalJSON:!1,evalJS:!1,onSuccess:this.onVMAPLoaded.bind(this),onFailure:function(e){t.onComplete.call(t,YSSessionResult.NOT_INITIALISED,e.status,YSSessionStatus.CONNECTION_ERROR)}})):Debugger.print("Expecting late initialization")},onVMAPLoaded:function(e){var t=e.responseText.indexOf("#EXTM3U")>=0;null===e.responseXML?"function"==typeof this.onFailure&&(t?this.onComplete.call(this,YSSessionResult.NO_ANALYTICS,YSSessionStatus.NON_YOSPACE_URL,void 0):this.onComplete.call(this,YSSessionResult.NOT_INITIALISED,e.status,YSSessionStatus.CONNECTION_ERROR)):(e=e.responseXML,this.grabVMAP(e))},grabVMAP:function(e){var t=this;this.loader=new VMAPParser(this.onVMAPSuccess.bind(this),(function(e){Debugger.print("Ad Break Load Failed"),"function"==typeof t.onComplete&&("ism3u8"===e?t.onComplete.call(t,YSSessionResult.NO_ANALYTICS,YSSessionStatus.NON_YOSPACE_URL,void 0):t.onComplete.call(t,YSSessionResult.NOT_INITIALISED,e,YSSessionStatus.CONNECTION_ERROR))})),this.loader.parse(e)},onVMAPSuccess:function(e){if(this.rebuildTimeline(e),!this.masterURL)return Debugger.printErr("VOD - Cannot start session without playback URL"),void("function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.NOT_INITIALISED,0,YSSessionStatus.CONNECTION_ERROR));this.isVLive?this.loadPlaylist():(Debugger.print("Standard VOD - Bypassing session initialisation"),this.masterURL.toString().indexOf("mpd")>0&&(this.streamType="dash"),"function"==typeof this.onComplete&&this.onComplete.call(this,YSSessionResult.INITIALISED))},rebuildTimeline:function(e){if(Debugger.print("\n<<<<<<<<<<<<<< PARSE COMPLETE >>>>>>>>>>>>>>>>\nBreaks returned. Length: "+e.length),null!==this.loader.extensions){var t=this.loader.extensions.getAllOfType(TAG_YOEXT_STREAM);if(t.length>0&&!this.masterURL){var n=this.source.scheme()+"://"+t[0].urlDomain+t[0].urlSuffix;this.hostnode=t[0].urlDomain,this.masterURL=new YSURL(n),Debugger.print("URL: "+this.masterPlaylistUrl())}for(var r=0,i=0;i<e.length;i++){var a=e[i];r=YSParseUtils.timecodeFromString(a.position);var o=new YSAdBreak(a);if(o.adBreakIdentifier=a.id,o.adBreakDescription=a.type,o.startPosition=r,a.vast){for(var s=a.vast.ads,u=0;u<s.length;u++){var c=s[u].getLinear();if(c){var l=YSSession.idRE.exec(s[u].id)[2],d=this,f=new YSAdvert(s[u],d.onAdTimeout.bind(d,l),o);f.trackingMonitor=d.onTrackingMonitor.bind(d),o.adverts.push(f),r+=c.getDuration()}}this.replaceOnTimeline(new YSTimelineAdvertElement(o.startPosition,o.getDuration(),o))}else this.addEmptyBreak(o)}var p=t.length>0&&t[0].isValid&&t[0].duration.length>0?YSParseUtils.timecodeFromString(t[0].duration):r;p>0?this.timeline.adjustContent(p):Debugger.print("No duration info at this time"),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&(Debugger.print("Reporting timeline to player: "+YSParseUtils.timecodeToString(this.timeline.getTotalDuration())),this.player.UpdateTimeline(this.timeline))}else Debugger.printErr("VMAP contained no extensions - this is a potential problem!")},replaceOnTimeline:function(e){if(this.timeline){var t=this.timeline.getElementAtTime(e.offset);if(t){if(t.offset!==e.offset||t.duration!==e.duration||t.getType()!==e.getType()){var n=this.timeline.elements.indexOf(t);this.timeline.elements.splice(n,1,e)}}else this.timeline.appendElement(e)}},onTrackingMonitor:function(e,t,n){null!==this.player&&"function"==typeof this.player.AnalyticsFired&&this.player.AnalyticsFired(e,{progress:t,asset:n})},processAnalytics:function(e,t){Debugger.print("Processing VMAP Analytics Data (VOD)"),this.callSuper(this.processAnalytics,e);var n=this;this.loader=new VMAPParser((function(e){Debugger.print("New breaks received: "+e.length),n.rebuildTimeline(e),Debugger.print("Timeline rebuilt. Total len: "+n.timeline.getTotalDuration()+" :: "+YSParseUtils.timecodeToString(n.timeline.getTotalDuration()));for(var r=0;r<n.timeline.getAllElements().length;r++){var i=n.timeline.getAllElements()[r];Debugger.print("$"+r+": "+i.getType()+" start: "+YSParseUtils.timecodeToString(i.offset)+" dur: "+YSParseUtils.timecodeToString(i.duration))}"function"==typeof t&&t.call(n,!0,e)}),(function(e){Debugger.print("!no breaks"),"function"==typeof t&&t.call(n,!1,e)})),this.loader.parse(e.responseXML)},onAdTimeout:function(e){Debugger.print(" !!! Advert Timeout flagged for item: "+e)},updatePosition:function(e){if(!this.isPaused&&this.isPlaying){if(this.timeline){var t=this.timeline.getTotalDuration();e=t>0&&e>t?t:e}if(this._missedBreaks.length>0)for(a=0;a<this._missedBreaks.length;a++){var n=this._missedBreaks[a];if(!(this.lastPosition>n.startPosition)&&e>n.startPosition){Debugger.print(" @@ MISSED BREAK @@ Transiting a missed break opportunity");var r=n.vmapBreak;r.tracking&&(r.tracking.track("breakStart",[]),r.tracking.track("breakEnd",[]));break}}if(this.callSuper(this.updatePosition,e),this.isInAnAdvert()){this.currentAdvert.isSuppressed(this.analyticsSuppressed);var i=this.currentAdvert.pingWatchdog();if(i&&i.length>0)for(var a=0;a<i.length;a++)if(null!==this.player&&"function"==typeof this.player.AnalyticsFired){var o=i[a].track_id;delete i[a].track_id,this.player.AnalyticsFired(o,i[a])}}if(null!==this.timeline){var s=this.timeline.getElementAtTime(e);if(null===s)return void Debugger.print("No timeline element was found");if(s.getType()===YSTimelineElement.ADVERT){var u=s.getAdverts().getAdvertForPosition(e);if(!u)return void Debugger.print("Could not locate current advert!");var c=u.getMediaID(),l=this.currentAdvert?this.currentAdvert.getMediaID():"";this.currentAdvert===u||(Debugger.print("Different ad found"),this.isInAnAdvert()?(Debugger.print("Shutting down advert: "+l),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(l),this.currentAdvert.setActive(!1),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&this.player.UpdateTimeline(this.timeline),this.currentAdvert=null):this.handleBreakStart(this.getCurrentBreak()),Debugger.print("Advert starting with ID: "+c),Debugger.print("Advert Duration: "+u.duration),this.currentAdvert=u,this.currentAdvert.isSuppressed(this.analyticsSuppressed),this.currentAdvert.setActive(!0),null!==this.player&&"function"==typeof this.player.AdvertStart&&this.player.AdvertStart(c))}else if(this.isInAnAdvert()){l=this.currentAdvert.getMediaID(),Debugger.print("Shutting down advert: "+l),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(l),this.currentAdvert.setActive(!1),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&this.player.UpdateTimeline(this.timeline);var d=this.currentAdvert.adBreak;this.currentAdvert=null,Debugger.print("BREAK ENDS!"),this.handleBreakEnd(d)}else null!==this.breakEndTimer&&this.handleBreakEnd(this._currentBreak)}}else Debugger.print("Ignoring position update while not actively playing")},getContentPositionForPlayhead:function(e){var t=e,n=0;if(this.timeline){for(var r=this.timeline.getAllElements(),i=0;i<r.length&&t>0;){var a=r[i];a.getType()===YSTimelineElement.ADVERT||(t>a.duration?n+=a.duration:n+=t),t-=a.duration,i++}return n}return Debugger.print("Conversion from Playhead to Content failed"),e},getPlayheadPositionForContent:function(e){var t=e,n=0;if(this.timeline){for(var r=this.timeline.getAllElements(),i=0;i<r.length&&t>0;){var a=r[i];a.getType()===YSTimelineElement.ADVERT?n+=a.duration:(t>a.duration?n+=a.duration:n+=t,t-=a.duration),i++}return n}return Debugger.print("Conversion from Content to Playhead failed"),e}}),YSLiveSession=ClassHelper.makeClass(YSSession,{initialize:function(e,t,n){this.callSuper(this.initialize,e,t,n),Debugger.print("Constructing YSLiveSession"),this.adBreakArray={},this._pollCount=0,this._deferred=!1,this._currentBreaks=[],this._currentBreak=null,this._cachedMetadata=[],this._lastMetadata=null},Destroy:function(){if(this.callSuper(this.Destroy),this._currentBreak=null,this._currentBreaks){for(;this._currentBreaks.length>0;)this._currentBreaks.pop().Destroy();this._currentBreaks=null}this.loader&&(this.loader.Destroy(),this.loader=null)},beginSession:function(){this.callSuper(this.beginSession),null!==this.source&&this.source.toString().length>0?(this.masterURL=new YSURL(this.source.toString()),this.loadPlaylist()):Debugger.print("Expecting late initialization")},LateInit:function(e,t){this.masterURL=new YSURL(e);var n=new YSURL(t);this.masterURL._host=n.host();var r=n.path().split(";")[1];this.masterURL._path=this.masterURL._path+";"+r,this.source=this.masterURL.toString(),console.log("=== LATE INIT === "+this.masterURL.toString()),this.loadPlaylist(!0)},processAnalytics:function(e,t){Debugger.print("Processing VAST Analytics Data"),this._pollCount<2&&this._pollCount++,this.callSuper(this.processAnalytics,e);var n=this,r=!1,i=e.responseText.indexOf("<vmap"+YSParseUtils.NS_SEPARATOR+"VMAP"),a=e.responseText.indexOf("<VAST");-1!=i&&i<a&&(Debugger.print(" +=+ USING ENHANCED ANALYTICS +=+ "),r=!0),this.loader=r?new VMAPParser((function(e){if(Debugger.print("New breaks received: "+e.length),e.length>0)for(var r=0;r<e.length;r++){var i=e[r],a=YSParseUtils.timecodeFromString(i.position);offset=a;var o=new YSAdBreak(i);if(o.adBreakIdentifier=i.id,o.adBreakDescription=i.type,o.startPosition=offset,i.vast){for(var s=i.vast.ads,u=0;u<s.length;u++){var c=s[u].getLinear();if(c){var l=YSSession.idRE.exec(s[u].id)[2],d=new YSAdvert(s[u],n.onAdTimeout.bind(n,l),o);d.trackingMonitor=n.onTrackingMonitor.bind(n),o.adverts.push(d),offset+=c.getDuration(),n.adBreakArray.hasOwnProperty(l)||(n.adBreakArray[l]=[]),n.adBreakArray[l].unshift(d)}}n._currentBreaks.push(o)}else Debugger.print(" @@ MISSED BREAK @@ Transiting a missed break opportunity"),i.tracking&&(i.tracking.track("breakStart",[]),i.tracking.track("breakEnd",[]))}e.length>0&&n._deferred&&n.processCachedMetadata(),"function"==typeof t&&t.call(n,!0,e)}),(function(e){Debugger.print("!no breaks"),"function"==typeof t&&t.call(n,!1,e)})):new VASTParser(null,(function(e){if(Debugger.print("New breaks received: "+e.length),e.length>0){for(var r=new YSAdBreak(null),i=0;i<e.length;i++){var a=YSSession.idRE.exec(e[i].id),o=a?a[2]:e[i].id;Debugger.print("Adding to bucket, MIID: "+o),n.adBreakArray.hasOwnProperty(o)||(n.adBreakArray[o]=[]);var s=new YSAdvert(e[i],n.onAdTimeout.bind(n,o),r);r.adverts.push(s),s.trackingMonitor=n.onTrackingMonitor.bind(n),n.adBreakArray[o].unshift(s);var u=0;for(var c in n.adBreakArray)n.adBreakArray.hasOwnProperty(c)&&(u+=n.adBreakArray[c].length);Debugger.print("New bucket size: "+u)}n._currentBreaks.push(r)}e.length>0&&n._deferred&&n.processCachedMetadata(),"function"==typeof t&&t.call(n,!0,e)}),(function(e){Debugger.print("VAST Failure?"),"function"==typeof t&&t.call(n,!1,e)})),this.loader.parse(e.responseXML)},processCachedMetadata:function(){for(this._deferred&&(Debugger.print("Received deferred VAST response"),this._deferred=!1);this._cachedMetadata.length>0;){var e=this._cachedMetadata.shift(),t=e.metadata;if(this.handleMetadata(t),t.hasOwnProperty("YMID")){var n=t.YTYP,r=t.YSEQ.split(":")[0];"S"===n&&"1"===r&&(this.currentAdvert?this.currentAdvert.startPosition=e.timestamp:Debugger.print("Cannot set back-time of current advert (no ad active)"))}}},onAdTimeout:function(e){Debugger.print(" !!! Advert Timeout flagged for item: "+e)},onTrackingMonitor:function(e,t,n){null!==this.player&&"function"==typeof this.player.AnalyticsFired&&this.player.AnalyticsFired(e,{progress:t,asset:n})},handleMetadata:function(e){var t=!1;if(this.isPlaying)if(e){for(var n in Debugger.print("Live metadata is non-null"),e)e.hasOwnProperty(n)&&Debugger.print("Property '"+n+"' = '"+e[n]+"'");if(0==this._currentBreaks.length&&(this._pollCount<2||this._deferred)){if(Debugger.print("Waiting for initial VAST response... deferring"),!this._deferred){this._deferred=!0;var r=this;this.pingAnalytics((function(e,t){Debugger.print("OK, have pinged: "+e),r.processAnalytics(t,null)}))}this._cachedMetadata.push({timestamp:(new Date).getTime(),metadata:e})}else if(this._deferred&&this._cachedMetadata.length>0)this._cachedMetadata.push({timestamp:(new Date).getTime(),metadata:e});else if(e.hasOwnProperty("YMID")){if(this._lastMetadata&&e.YMID&&e.YMID===this._lastMetadata.YMID&&e.YTYP&&e.YTYP===this._lastMetadata.YTYP&&e.YSEQ&&e.YSEQ===this._lastMetadata.YSEQ&&e.YDUR&&e.YDUR===this._lastMetadata.YDUR)return void Debugger.print("Duplicate metadata reported - ignoring");this._lastMetadata=e;var i=e.YMID,a=e.YTYP,o=e.YSEQ.split(":"),s=o[0],u=o[1];Debugger.print("Valid ID3 found. MIID: "+i);var c="S"===a&&"1"===s,l=this.isInAnAdvert()&&c&&!this.currentAdvert.isFiller();if(this.isInAnAdvert()&&this.currentAdvert.getMediaID()===i&&!l){Debugger.print("Advert still running for MIID: "+i+" with type: "+a+" Seq "+s+" of "+u),this.stopBreakEndTimer(),this.startBreakEndTimer(),this.currentAdvert.isSuppressed(this.analyticsSuppressed);var d=this.currentAdvert.pingWatchdog();if(d&&d.length>0)for(var f=0;f<d.length;f++)if(null!==this.player&&"function"==typeof this.player.AnalyticsFired){var p=d[f].track_id;delete d[f].track_id,this.player.AnalyticsFired(p,d[f])}}else{var h=this.isInAnAdvert();h?(Debugger.print("Currently in an advert, but the media ID has changed. Terminating current advert."),this.handleAdvertEnd(this.currentAdvert),this.currentAdvert=null):Debugger.print("Not yet in an advert");var v=this.getAdById(i);null!==v?(h||c?(Debugger.print("Advert starting for MIID: "+i+" with type: "+a+" Seq "+s+" of "+u),Debugger.print("Advert Duration: "+v.duration),this.currentAdvert=v,t=!0):(Debugger.print("Ignoring advert with MIID: "+i+" because tag is not a start tag. Type: "+a+" Seq: "+s+" of "+u),this.adBreakArray[i].push(v)),null!==this.breakEndTimer||this._currentBreak?(this.stopBreakEndTimer(),this.startBreakEndTimer()):(this._currentBreak=this._currentBreaks[0],this._currentBreak?this.handleBreakStart(this.getCurrentBreak()):console.log("Could not find break")),null!==this.currentAdvert&&null!==this.player&&"function"==typeof this.player.AdvertStart&&this.player.AdvertStart(i),this.currentAdvert&&(this.currentAdvert.isSuppressed(this.analyticsSuppressed),t&&this.currentAdvert.setActive(!0))):(Debugger.print("Could not locate ad for miid: "+i),null!==this.breakEndTimer&&(this.stopBreakEndTimer(),this.startBreakEndTimer()))}"E"==a&&null!==this.currentAdvert&&(s==u&&!this.currentAdvert.isFiller()||this.currentAdvert.timeElapsed()>this.currentAdvert.duration)&&(Debugger.print("Advert ending for MIID: "+i+" with type: "+a+" Seq "+s+" of "+u),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(i),this.currentAdvert.setActive(!1),this.currentAdvert=null)}else Debugger.print("Ignoring unrecognized ID3 tag")}else Debugger.print("Live metadata is null");else Debugger.print("Dropping metadata reported before playback has started")},updatePosition:function(e){if(this.callSuper(this.updatePosition,e),!this.paused&&this.isPlaying)if(this.isInAnAdvert()&&this.currentAdvert.advert.getLinear()&&!this.currentAdvert.advert.getLinear().hasInteractiveUnit())if(this.currentAdvert.timeElapsed()>this.currentAdvert.duration){Debugger.print("******************* ADVERT HAS EXCEEDED DURATION!!! *************************");var t=this.currentAdvert.getMediaID();null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(t),this.currentAdvert.setActive(!1),this.currentAdvert=null}else{this.currentAdvert.isSuppressed(this.analyticsSuppressed);var n=this.currentAdvert.pingWatchdog();if(n&&n.length>0)for(var r=0;r<n.length;r++)if(null!==this.player&&"function"==typeof this.player.AnalyticsFired){var i=n[r].track_id;delete n[r].track_id,this.player.AnalyticsFired(i,n[r])}}else null!==this.breakEndTimer&&(this.haveMoreAds()?Debugger.print("--- WAITING FOR NEXT AD!!!"):(Debugger.print("--- COULD STOP BREAK HERE!!!"),this.handleBreakEnd(this._currentBreak)));else Debugger.print("Ignoring position update while not actively playing")},haveMoreAds:function(){var e=0;for(var t in this.adBreakArray)this.adBreakArray.hasOwnProperty(t)&&(e+=this.adBreakArray[t].length);return Debugger.print("Have more ads? "+e),e>0},handleBreakEnd:function(e){if(this.callSuper(this.handleBreakEnd,e),this._currentBreaks.length>0&&this._currentBreaks.shift(),this._currentBreak=null,YSSessionManager.DEFAULTS.STRICT_BREAKS)for(var t in Debugger.print("Checking for unhandled ads at break end"),this.adBreakArray)this.adBreakArray.hasOwnProperty(t)&&this.adBreakArray[t].length>0&&(Debugger.print("Clearing "+this.adBreakArray[t].length+" unhandled ads for MIID: "+t),this.adBreakArray[t]=[])}}),YSLivePauseSession=ClassHelper.makeClass(YSSession,{initialize:function(e,t,n){this.callSuper(this.initialize,e,t,n),Debugger.print("Constructing YSLivePauseSession"),this.streamStart=null,this.streamWindowStart=null,this.streamWindowEnd=null,this.streamWindowSize=0,this.streamDuration=0,this.adBreakArray={},this._pollCount=0,this._deferred=!1,this.masterURL=new YSURL(this.source),this.livePauseURL=null},Destroy:function(){this.callSuper(this.Destroy),this.streamStart=null,this.streamWindowStart=null,this.streamWindowEnd=null,this._deferred=!1,this.isPaused=!1},beginSession:function(){this.callSuper(this.beginSession),this.loadPlaylist()},setPaused:function(e){this.callSuper(this.setPaused,e),this.isPaused=e},rebuildTimeline:function(e){var t=this.loader.extensions.getAllOfType(TAG_YOEXT_STREAM);if(t.length>0){if(!this.masterURL){var n=this.source.scheme()+"://"+t[0].urlDomain+t[0].urlSuffix;this.hostnode=t[0].urlDomain,this.masterURL=new YSURL(n),Debugger.print("URL: "+this.masterPlaylistUrl())}var r=t[0].StartPDT,i=t[0].EndPDT;r&&i&&(this._streamStart||(this._streamStart=new Date(r)),this._streamWindowStart=new Date(r),this._streamWindowEnd=new Date(i),this._streamWindowSize=(this._streamWindowEnd-this._streamWindowStart)/1e3,this._streamDuration=(this._streamWindowEnd-this._streamStart)/1e3,Debugger.print("Stream start: "+this._streamStart.toISOString()),Debugger.print("Stream window start: "+this._streamWindowStart.toISOString()),Debugger.print("Stream window end: "+this._streamWindowEnd.toISOString()),Debugger.print("Stream Window Length: "+this._streamWindowSize),Debugger.print("Stream Duration: "+this._streamDuration))}for(var a=0,o=0;o<e.length;o++){var s=e[o];a=YSParseUtils.timecodeFromString(s.position);var u=new YSAdBreak(s);u.adBreakIdentifier=s.id,u.adBreakDescription=s.type,u.startPosition=a;for(var c=s.vast.ads,l=0;l<c.length;l++){var d=c[l].getLinear();if(d){var f=YSSession.idRE.exec(c[l].id)[1],p=this,h=new YSAdvert(c[l],p.onAdTimeout.bind(p,f),u);h.trackingMonitor=p.onTrackingMonitor.bind(p),u.adverts.push(h),a+=d.getDuration()}}this.replaceOnTimeline(new YSTimelineAdvertElement(u.startPosition,u.getDuration(),u))}this._streamWindowStart&&this._streamStart?this.timeline.UpdateOffset((this._streamWindowStart-this._streamStart)/1e3):this.timeline.startOffset=0;var v=t.length>0&&t[0].isValid&&t[0].duration.length>0?YSParseUtils.timecodeFromString(t[0].duration):a;v>0?this.timeline.adjustContent(v):Debugger.print("No duration info at this time"),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&(Debugger.print("Reporting timeline to player: "+YSParseUtils.timecodeToString(this.timeline.getTotalDuration())),this.player.UpdateTimeline(this.timeline))},replaceOnTimeline:function(e){if(this.timeline){var t=this.timeline.getElementAtTime(e.offset);if(t){if(t.offset!==e.offset||t.duration!==e.duration||t.getType()!==e.getType()){var n=this.timeline.elements.indexOf(t);this.timeline.elements.splice(n,1,e)}}else this.timeline.appendElement(e)}},onTrackingMonitor:function(e,t,n){null!==this.player&&"function"==typeof this.player.AnalyticsFired&&this.player.AnalyticsFired(e,{progress:t,asset:n})},processAnalytics:function(e,t){this.callSuper(this.processAnalytics,e);var n=this;this.loader=new VMAPParser((function(e){Debugger.print("New breaks received: "+e.length),n.rebuildTimeline(e),Debugger.print("Timeline rebuilt. Total len: "+n.timeline.getTotalDuration()+" :: "+YSParseUtils.timecodeToString(n.timeline.getTotalDuration()));for(var r=0;r<n.timeline.getAllElements().length;r++){var i=n.timeline.getAllElements()[r];Debugger.print("$"+r+": "+i.getType()+" start: "+YSParseUtils.timecodeToString(i.offset)+" dur: "+YSParseUtils.timecodeToString(i.duration))}"function"==typeof t&&t.call(n,!0,e)}),(function(e){Debugger.print("!no breaks"),"function"==typeof t&&t.call(n,!1,e)})),this.loader.parse(e.responseXML),this.isPaused&&(this.livePauseUrl.length>0?(Debugger.print("Calling LivePause Handler..."),null!==ProtoAjax.DELEGATE?ProtoAjax.DELEGATE(this.livePauseUrl,{onSuccess:function(){Debugger.print("Pause handler returned")},onFailure:function(){Debugger.print("Pause handler failed")}}):new ProtoAjax.Request(this.livePauseUrl,{method:"get",evalJSON:!1,evalJS:!1,onSuccess:function(){Debugger.print("Pause handler returned")},onFailure:function(){Debugger.print("Pause handler failed")}})):Debugger.print("No live pause URL available"))},onAdTimeout:function(e){Debugger.print(" !!! Advert Timeout flagged for item: "+e)},updatePosition:function(e){if(this.callSuper(this.updatePosition,e),!this.paused&&this.isPlaying){if(this.isInAnAdvert()){this.currentAdvert.paused||(this.stopBreakEndTimer(),this.startBreakEndTimer()),this.currentAdvert.isSuppressed(this.analyticsSuppressed);var t=this.currentAdvert.pingWatchdog();if(t&&t.length>0)for(var n=0;n<t.length;n++)if(null!==this.player&&"function"==typeof this.player.AnalyticsFired){var r=t[n].track_id;delete t[n].track_id,this.player.AnalyticsFired(r,t[n])}}if(null!==this.timeline){var i=this.timeline.getElementAtTime(e);if(null===i)return void Debugger.print("No timeline element was found");if(i.getType()===YSTimelineElement.ADVERT){var a=i.getAdverts().getAdvertForPosition(e);if(!a)return void Debugger.print("Could not locate current advert!");var o=a.getMediaID(),s=this.currentAdvert?this.currentAdvert.getMediaID():"";this.currentAdvert===a||(Debugger.print("Different ad found"),this.isInAnAdvert()&&(Debugger.print("Shutting down advert: "+s),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(s),this.currentAdvert.setActive(!1),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&this.player.UpdateTimeline(this.timeline),this.currentAdvert=null),Debugger.print("Advert starting with ID: "+o),Debugger.print("Advert Duration: "+a.duration),this.currentAdvert=a,this.currentAdvert.isSuppressed(this.analyticsSuppressed),this.currentAdvert.setActive(!0),this.handleBreakStart(this.getCurrentBreak()),null!==this.player&&"function"==typeof this.player.AdvertStart&&this.player.AdvertStart(o))}else if(this.isInAnAdvert()){s=this.currentAdvert.getMediaID(),Debugger.print("Shutting down advert: "+s),null!==this.player&&"function"==typeof this.player.AdvertEnd&&this.player.AdvertEnd(s),this.currentAdvert.setActive(!1),null!==this.player&&"function"==typeof this.player.UpdateTimeline&&this.player.UpdateTimeline(this.timeline);var u=this.currentAdvert.adBreak;this.currentAdvert=null,Debugger.print("BREAK ENDS!"),this.handleBreakEnd(u)}}}else Debugger.print("Ignoring position update while not actively playing")}}),YSPlayerEvents={READY:"ready",START:"start",END:"complete",MUTE:"mute",FULLSCREEN:"fullscreen",POSITION:"position",METADATA:"id3",PAUSE:"pause",RESUME:"resume",SEEK_START:"seek_begin",SEEK_END:"seek_end",CLICK:"click",NONLINEAR:"non_linear",STALL:"buffer",CONTINUE:"continue",LINEAR_EVENT:"linear",NONLINEAR_EVENT:"nonlinear",ERROR:"error"},YSSessionManager=ClassHelper.makeClass({initialize:function(){this.session=null,this.listener=null,this.poller=null,this.player=null,this.properties=YSSessionManager.DEFAULTS},getVersion:function(){return YSSessionManager.VERSION},isYospaceStream:function(){if(!this.session)return!1;if(this.session.analyticsUrl.length>0)return!0;if(this.session instanceof YSVoDSession){var e=this.getTimeline();if(e&&e.getAllElements().length>1)return!0}return!1},notifyDelegate:function(e,t){"function"==typeof this.listener&&this.listener.call(this,e,t)},mergeProperties:function(e,t){var n=Object.keys(t);if(n.length>0)for(var r=0;r<n.length;r++){var i=n[r];e.hasOwnProperty(i)&&(t[i]=e[i])}},createNonLinearSession:function(e,t,n){Debugger.print("Creating for nonLinear: "+e),null!==t&&this.mergeProperties(t,this.properties),this.listener=n,this.session=new YSVoDSession(this,e,this.sessionConstructed.bind(this),!0),this.session.beginSession()},createLivePauseSession:function(e,t,n){Debugger.print("Creating for nonLinear: "+e),null!==t&&this.mergeProperties(t,this.properties),this.listener=n,this.session=new YSLivePauseSession(this,e,this.sessionConstructed.bind(this)),this.session.beginSession()},createVODSession:function(e,t,n){Debugger.print("Creating for VOD: "+e),null!==t&&this.mergeProperties(t,this.properties),this.listener=n,this.session=new YSVoDSession(this,e,this.sessionConstructed.bind(this),!1),this.session.beginSession()},createLiveSession:function(e,t,n){Debugger.print("Creating for Live: "+e),null!==t&&(Debugger.print("Merging properties"),this.mergeProperties(t,this.properties)),this.listener=n,this.session=new YSLiveSession(this,e,this.sessionConstructed.bind(this)),this.session.beginSession()},sessionConstructed:function(e,t,n){Debugger.print("Session Init Result: "+e),Debugger.print("Session Init Status: "+t),Debugger.print("Session Init Code: "+n),this.session?(e===YSSessionResult.INITIALISED&&(this.poller=new YOPoller(this.properties.LOW_FREQ,this.properties.HIGH_FREQ),this._analyticsCB=this.onAnalytics.bind(this),this._pingCB=this.session.pingAnalytics.bind(this.session,this._analyticsCB),this.session instanceof YSLivePauseSession||this.session.pingAnalytics(this._analyticsCB)),this.notifyDelegate(e,0===t?n:t)):Debugger.print("Session was constructed - but has now gone away?")},shutdown:function(){Debugger.print("Shutting down AdManagement session"),this.session&&(this.session.Destroy(),this.session=null),this.poller&&(this.poller.Destroy(),this.poller=null),this.player=null,this.listener=null,this._analyticsCB=null,this._pingCB=null},onAnalytics:function(e,t){this.session?e?(this.session.processAnalytics(t,(function(e,t){e||Debugger.print("Failed to update analytics")})),this.poller.startPolling(!1,this._pingCB)):(Debugger.print("ANALYTICS FAIL"),this.poller.startPolling(!1,this._pingCB)):Debugger.print("Ignoring analytics response as there is no session")},reportPlayerEvent:function(e,t){if(this.session)switch(e!=YSPlayerEvents.POSITION&&Debugger.print("Event reported: "+e),e){case YSPlayerEvents.FULLSCREEN:!0===Boolean(t)?(this.invokeTracking("fullscreen"),this.invokeTracking("expand",!1)):(this.invokeTracking("exitFullscreen"),this.invokeTracking("collapse",!1));break;case YSPlayerEvents.MUTE:!0===Boolean(t)?this.invokeTracking("mute"):this.invokeTracking("unmute");break;case YSPlayerEvents.POSITION:this.session.updatePosition(t);break;case YSPlayerEvents.NONLINEAR:if(this.session.isInAnAdvert()){var n=this.session.currentAdvert.advert.getNonLinears();n&&n.length>t&&(r=n[t].getClickThrough(),Debugger.print(" <<>> Should open"+r),this.session.reportNonLinearEvent(t,"click"))}break;case YSPlayerEvents.CLICK:if(this.session.isInAnAdvert()){var r=this.session.currentAdvert.advert.getLinear().getClickThrough();Debugger.print(" <<>> Should open"+r),this.invokeTracking("click")}break;case YSPlayerEvents.PAUSE:case YSPlayerEvents.STALL:if(e===YSPlayerEvents.PAUSE&&(this.invokeTracking("pause"),this.session instanceof YSLivePauseSession&&this.session.setPaused(!0)),this.session.isInAnAdvert()&&(this.session.currentAdvert.adPaused(),this.session.stopBreakEndTimer()),this.session instanceof YSLivePauseSession)break;case YSPlayerEvents.END:if(e===YSPlayerEvents.END&&this.session.isInAnAdvert()){this.session.reportLinearEvent("closeLinear");var i=this.session.currentAdvert.adBreak;this.session.currentAdvert.paused=!1,this.session.handleBreakEnd(i),i&&(Debugger.print("Advert break ended - notifying consumer"),null!==this.session.player&&"function"==typeof this.session.player.AdBreakEnd&&this.session.player.AdBreakEnd(i))}this.session.isPlaying=!1;break;case YSPlayerEvents.RESUME:case YSPlayerEvents.CONTINUE:if(e===YSPlayerEvents.RESUME&&(this.invokeTracking("resume"),this.session instanceof YSLivePauseSession&&this.session.setPaused(!1)),this.session.isInAnAdvert()&&(this.session.currentAdvert.adResumed(),this.session instanceof YSLiveSession&&this.session.startBreakEndTimer()),this.session instanceof YSLivePauseSession)break;case YSPlayerEvents.START:if(this.session.isPlaying=!0,e===YSPlayerEvents.START){var a=this;setTimeout((function(){a.session&&a.session.pingAnalytics(a._analyticsCB)}),2e3)}break;case YSPlayerEvents.METADATA:this.session.handleMetadata(this.sanitize(t));break;case YSPlayerEvents.LINEAR_EVENT:this.session.reportLinearEvent(t);break;case YSPlayerEvents.NONLINEAR_EVENT:if(!t.hasOwnProperty("which"))return;if(!t.hasOwnProperty("event"))return;this.session.reportNonLinearEvent(t.which,t.event)}},sanitize:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=this.makeClean(n),i=this.makeClean(e[n]);t[r]=i}return t},makeClean:function(e){for(var t="",n=0;n<e.length;n++)e.charCodeAt(n)>=32&&(t+=String.fromCharCode(e.charCodeAt(n)));return t},invokeTracking:function(e,t,n){this.session.isInAnAdvert()&&this.session.currentAdvert.advert&&this.session.currentAdvert.invokeTracking(e,t,n)},registerPlayer:function(e){this.player=e,this.session.setPlayer(this.player)},masterPlaylist:function(){return this.session.masterPlaylistUrl()},getTimeline:function(){return this.session.timeline},RawID3:function(e){var t=YSID3Parser.ParseArray(e);t?this.reportPlayerEvent(YSPlayerEvents.METADATA,t):Debugger.print("ID3 parse returned null")}});YSSessionManager.createForLivePause=function(e,t,n){var r=new YSSessionManager;if(!r)throw new Error("Failed to create new SessionManager instance");return r.createLivePauseSession(e,t,n),r},YSSessionManager.createForLive=function(e,t,n){var r;if(!(r=new YSSessionManager))throw new Error("Failed to create new SessionManager instance");return r.createLiveSession(e,t,n),r},YSSessionManager.createForNonLinear=function(e,t,n){var r=new YSSessionManager;if(!r)throw new Error("Failed to create new SessionManager instance");return r.createNonLinearSession(e,t,n),r},YSSessionManager.createForVoD=function(e,t,n){var r=new YSSessionManager;if(!r)throw new Error("Failed to create new SessionManager instance");return r.createVODSession(e,t,n),r},YSSessionManager.VERSION="1.7.15",YSSessionManager.DEFAULTS={LOW_FREQ:4e3,HIGH_FREQ:500,AD_DEBUG:!1,DEBUGGING:!1,STRICT_BREAKS:!1};var YSID3Parser=ClassHelper.makeClass();YSID3Parser.ID3SYNC=1229206272,YSID3Parser.UNSYNC=128,YSID3Parser.EXTHDR=64,YSID3Parser.GetU32=function(e,t){return YSID3Parser.GetU16(e,t)<<16|YSID3Parser.GetU16(e,t+2)},YSID3Parser.GetU16=function(e,t){return YSID3Parser.GetU8(e,t)<<8|YSID3Parser.GetU8(e,t+1)},YSID3Parser.GetU8=function(e,t){return e[t]},YSID3Parser.ParseArray=function(e){var t=new Uint8Array(e);return YSID3Parser.ParseUint8Array(t)},YSID3Parser.ParseUint8Array=function(e){var t={},n=0,r=YSID3Parser.GetU32(e,n);if(n+=3,(4294967040&r)!=YSID3Parser.ID3SYNC)return Debugger.print("Source data is not an ID3 tag"),null;var i=YSID3Parser.GetU16(e,n);if(n+=2,i>1024)return Debugger.print("ID3 tag version too new - not supported"),null;var a=YSID3Parser.GetU8(e,n++);if(a&YSID3Parser.UNSYNC||a&YSID3Parser.EXTHDR)return null;var o=((127&YSID3Parser.GetU8(e,n+0))<<21)+((127&YSID3Parser.GetU8(e,n+1))<<14)+((127&YSID3Parser.GetU8(e,n+2))<<7)+(127&YSID3Parser.GetU8(e,n+3));for(n+=4;n<o;){var s=String.fromCharCode(YSID3Parser.GetU8(e,n++))+String.fromCharCode(YSID3Parser.GetU8(e,n++))+String.fromCharCode(YSID3Parser.GetU8(e,n++))+String.fromCharCode(YSID3Parser.GetU8(e,n++)),u=((127&YSID3Parser.GetU8(e,n+0))<<21)+((127&YSID3Parser.GetU8(e,n+1))<<14)+((127&YSID3Parser.GetU8(e,n+2))<<7)+(127&YSID3Parser.GetU8(e,n+3));if(n+=4,0==u)break;n+=2;for(var c="",l=0;l<u;l++){var d=YSID3Parser.GetU8(e,n++);d>=32&&d<127&&(c+=String.fromCharCode(d))}t[s]=c}return t};var YSAdBreak=ClassHelper.makeClass({initialize:function(e){this.vmapBreak=e,this.adBreakIdentifier="",this.adBreakDescription="",this.adverts=[],this.startPosition=0},Destroy:function(){for(;this.adverts.length>0;)this.adverts.pop().Destroy();this.adverts=null,this.vmapBreak=null},isActive:function(){if(!this.adverts||0===this.adverts.length)return!1;for(var e=0;e<this.adverts.length;e++)if(this.adverts[e].isActive)return!0;return!1},getDuration:function(){var e=0;if(this.adverts&&0!==this.adverts.length)for(var t=0;t<this.adverts.length;t++)e+=this.adverts[t].duration;return e},getAdvertForPosition:function(e){if(this.adverts&&this.adverts.length>0)for(var t=this.startPosition,n=0;n<this.adverts.length;n++){if(e>=t&&e-t<this.adverts[n].duration)return this.adverts[n];t+=this.adverts[n].duration}else Debugger.print("No adverts!!");return null}}),YSAdvert=ClassHelper.makeClass({initialize:function(e,t,n){this.isActive=!0,this.advert=e,this.duration=e.getLinear().getDuration(),this.watchdogCallback=t,this.watchdog=null,this.trackingMonitor=null,this.startPosition=void 0,this.alreadyElapsed=0,this.paused=!1,this.trackingPoint=0,this.adBreak=n,e.container=this},Destroy:function(){this.adBreak=null},getBreak:function(){return this.adBreak},getAdvertID:function(){var e="";return this.advert&&(e=YSSession.idRE.exec(this.advert.id)[1]),e},getCreativeID:function(){var e="";if(this.advert){var t=this.advert.getLinear();t&&(e=t.CreativeID)}return e},getMediaID:function(){var e="";if(this.advert){var t=YSSession.idRE.exec(this.advert.id);e=t?t[2]:this.advert.id}return e},isFiller:function(){return"filler"===this.advert.AdTitle},hasInteractiveUnit:function(){return null!==this.advert&&null!==this.advert.getLinear()&&this.advert.getLinear().hasInteractiveUnit()},getInteractiveUnit:function(){return this.hasInteractiveUnit()?this.advert.getLinear().interactiveUnit:null},pingWatchdog:function(){var e=[];if(!this.paused){if(null!==this.watchdog&&this.stopWatchdog(),this.startWatchdog(this.duration),this.duration>0){var t=this.timeElapsed(),n=this.duration,r="dummyasset",i=this.adBreak,a="";if(this.advert.getLinear()){var o=this.advert.getLinear().getAllMedias();o&&o.length>0&&(r=o[0].src),a=YSParseUtils.timecodeToString(i.getDuration()),this.advert.getLinear().trackProgress(t,r,a)}t>n/4&&this.trackingPoint<2&&(Debugger.print(" -=-> First Quartile"),e.push({track_id:"firstQuartile",progress:t,asset:r}),this.advert.getLinear().track("firstQuartile",t,r,a),this.trackingPoint=2),t>n/2&&this.trackingPoint<3&&(Debugger.print(" -=-> Midpoint"),e.push({track_id:"midpoint",progress:t,asset:r}),this.advert.getLinear().track("midpoint",t,r,a),this.trackingPoint=3),t>3*n/4&&this.trackingPoint<4&&(Debugger.print(" -=-> Third Quartile"),e.push({track_id:"thirdQuartile",progress:t,asset:r}),this.advert.getLinear().track("thirdQuartile",t,r,a),this.trackingPoint=4)}return e}},startWatchdog:function(e){if(null===this.watchdog){var t=this;this.watchdog=setTimeout((function(){console.log("Ad watchdog timer fired!"),"function"==typeof t.watchdogCallback&&t.watchdogCallback.call(this)}),1e3*e)}},stopWatchdog:function(){null!==this.watchdog&&(clearTimeout(this.watchdog),this.watchdog=null)},isSuppressed:function(e){var t,n,r=[];if(this.advert&&this.advert.getLinear()&&(t=this.advert.getLinear().tracking.suppressAnalytics(e)),this.advert&&this.advert.nonLinearsTracking&&(n=this.advert.nonLinearsTracking.suppressAnalytics(e)),!e){if(t)for(var i=0;i<t.length;i++)r.push(t[i]);if(n)for(i=0;i<n.length;i++)r.push(n[i]);return this.isActive&&this.startWatchdog(this.duration),r}return this.stopWatchdog(),null},setActive:function(e){this.isActive&&(e?(this.isActive=e,this.startPosition=(new Date).getTime(),this.alreadyElapsed=0,this.trackingPoint=0,this.startWatchdog(this.duration),Debugger.print(" -=-> Creative View/Start"),this.hasInteractiveUnit()||(this.invokeTracking("creativeView",!1),this.invokeTracking("start",!1))):(Debugger.print(" -=-> Complete"),this.stopWatchdog(),this.paused||(this.trackingPoint>=4&&this.invokeTracking("complete",!1,this.duration),this.isActive=e)))},invokeTracking:function(e,t,n){var r="",i=void 0===n?0:n,a=this.adBreak,o="",s=this.advert.getLinear();if(s){i=void 0===n?this.timeElapsed():n;var u=s.getAllMedias();u&&u.length>0&&(r=u[0].src),o=YSParseUtils.timecodeToString(a.getDuration()),s.track(e,i,r,o),this.trackingMonitor&&"function"==typeof this.trackingMonitor&&this.trackingMonitor(e,i,r)}if(void 0!==t&&!1===Boolean(t)){Debugger.print("Tracking non-linears");var c=this.advert.nonLinearsTracking;c&&c.track(e,i,r,o)}},reportLinearEvent:function(e){this.invokeTracking(e,!0,this.duration)},reportNonLinearEvent:function(e,t){var n="",r=0,i=this.adBreak,a="",o=this.advert.getLinear();if(o){r=this.timeElapsed();var s=o.getAllMedias();s&&s.length>0&&(n=s[0].src),a=YSParseUtils.timecodeToString(i.getDuration())}var u=this.advert.nonLinearsTracking;u&&u.track(t,r,n,a)},timeElapsed:function(){return this.paused?this.alreadyElapsed:this.alreadyElapsed+((new Date).getTime()-this.startPosition)/1e3},adPaused:function(){this.paused||(Debugger.print(" -=-> Paused"),this.stopWatchdog(),this.alreadyElapsed=this.timeElapsed(),this.paused=!0,this.startPosition=0)},adResumed:function(){this.paused&&(Debugger.print(" -=-> Resumed"),this.startPosition=(new Date).getTime(),this.paused=!1,this.pingWatchdog())}}),YSTimeline=ClassHelper.makeClass({initialize:function(){this.elements=[],this.modified=!1,this.startOffset=0},Destroy:function(){for(;this.elements.length>0;)this.elements.pop().Destroy();this.elements=null},UpdateOffset:function(e){for(this.startOffset=e;this.elements.length>0;){var t=this.elements[0];if(t.offset>=e)break;if(!(t.offset+t.duration<=e)){var n=e-t.offset;if(t.duration-=n,t.offset=e,t instanceof YSTimelineAdvertElement){Debugger.print("Validating advert element");var r=t.getAdverts();if(t.duration<r.getDuration()){Debugger.print("Pruning is required");var i=r.adverts,a=0;if(i&&i.length>0){Debugger.print("Validating "+i.length+" adverts");for(var o=i.length-1;o>=0;)if(a>=t.duration)for(Debugger.print("Winding up. Removing from index: "+o);o>=0;)i.shift(),o--;else if(i[o].duration<=t.duration-a)Debugger.print("Preserving index: "+o),a+=i[o].duration,o--;else{var s=t.duration-a;Debugger.print("Truncating index: "+o+" to duration: "+s),i[o].duration=s,a+=s,o--}}}else Debugger.print("Prune not required")}Debugger.print("New duration: "+t.duration);break}this.elements.splice(0,1)}},appendElement:function(e){this.elements.push(e),this.modified=!0},clear:function(){this.elements=[],this.modified=!0},getElementAtTime:function(e){for(var t=0;t<this.elements.length;t++){var n=this.elements[t];if(e>=n.offset&&e<n.offset+n.duration)return n}return null},getNextElementForTime:function(e){for(var t=0;t<this.elements.length;t++){var n=this.elements[t];if(n.offset>e)return n}return null},getAllElements:function(){return this.elements},isModified:function(){var e=this.modified;return this.modified=!1,e},adjustContent:function(e){var t=this.getAllElements(),n=0,r=0,i=0,a=this.startOffset;for(e+=this.startOffset;i<t.length;){var o=t[i];n+=o.duration,o.getType()!==YSTimelineElement.ADVERT?this.elements.splice(i,1):(o.offset>this.startOffset&&(r+=o.offset-a,r+=o.duration,this.elements.splice(i,0,new YSTimelineVODElement(a,o.offset-a)),i++),a=o.offset+o.duration,i++)}if(e>a&&Math.abs(e-a)>1&&(r+=e-a,this.appendElement(new YSTimelineVODElement(a,e-a))),r!=n){if(this.elements.length>0){var s=this.elements[this.elements.length-1];Debugger.print("Range: "+this.elements[0].offset+" to "+(s.offset+s.duration)+" with length: "+r)}this.modified=!0}},getTotalDuration:function(){for(var e=0,t=0;t<this.elements.length;t++)e+=this.elements[t].duration;return e}}),YSTimelineElement=ClassHelper.makeClass({initialize:function(e,t){this.type="",this.offset=e,this.duration=t},Destroy:function(){},getType:function(){return this.type}});YSTimelineElement.VOD="vod",YSTimelineElement.ADVERT="advert",YSTimelineElement.LIVE="live";var YSTimelineVODElement=ClassHelper.makeClass(YSTimelineElement,{initialize:function(e,t){this.callSuper(this.initialize,e,t),this.type=YSTimelineElement.VOD},Destroy:function(){this.callSuper(this.Destroy)}}),YSTimelineLiveElement=ClassHelper.makeClass(YSTimelineElement,{initialize:function(e,t){this.callSuper(this.initialize,e,t),this.type=YSTimelineElement.LIVE},Destroy:function(){this.callSuper(this.Destroy)}}),YSTimelineAdvertElement=ClassHelper.makeClass(YSTimelineElement,{initialize:function(e,t,n){this.callSuper(this.initialize,e,t),this.type=YSTimelineElement.ADVERT,this.adBreak=n},Destroy:function(){this.callSuper(this.Destroy),this.adBreak=null},getAdverts:function(){return this.adBreak}});void 0!==exports&&(exports.YSSessionManager=YSSessionManager,exports.AdBreak=AdBreak,exports.YoExtension=YoExtension,exports.YoStream=YoStream,exports.YoBreak=YoBreak,exports.Extensions=Extensions,exports.TrackingEvents=TrackingEvents,exports.VASTAd=VASTAd,exports.VASTAds=VASTAds,exports.VASTCreative=VASTCreative,exports.VASTIcon=VASTIcon,exports.VASTInteractive=VASTInteractive,exports.VASTLinear=VASTLinear,exports.VASTNonLinear=VASTNonLinear,exports.YSAdBreak=YSAdBreak,exports.YSAdvert=YSAdvert,exports.YSID3Parser=YSID3Parser,exports.YSLiveSession=YSLiveSession,exports.YSPlayerEvents=YSPlayerEvents,exports.YSSessionStatus=YSSessionStatus,exports.YSSessionResult=YSSessionResult,exports.YSPlayerPolicy=YSPlayerPolicy,exports.YSSession=YSSession,exports.YSTimeline=YSTimeline,exports.YSTimelineElement=YSTimelineElement,exports.YSTimelineVODElement=YSTimelineVODElement,exports.YSTimelineLiveElement=YSTimelineLiveElement,exports.YSTimelineAdvertElement=YSTimelineAdvertElement,exports.YSVoDSession=YSVoDSession,exports.YSParseUtils=YSParseUtils,exports.Debugger=Debugger,exports.ProtoAjax=ProtoAjax,exports.ClassHelper=ClassHelper)}).call(this,__webpack_require__(95)(module))},function(e,t,n){"use strict";n.r(t);var r=n(7),i=r.environmentUtils.isWeb()?window.ClassHelper:{makeClass:()=>({})},a=i.makeClass({initialize:function(e,t,n,r){this._el=e,this._video=t,n=n||{},this._templateConfig={template:n.template||a.DEFAULT_TEMPLATE,extraOptions:n.extraOptions||{}},this._vpaidOptions=r||{timeout:1e4},this._id=String(Math.random()),this._destroyed=!1,this._creative=null,this._adElement=null,this._onLoad=null,this._frameContainer=document.createElement("div"),this._frame=null,this._loadCallback=null,e.appendChild(this._frameContainer)},handshakeVersion:function(e){return console.log("APP --\x3e VPAID: handshakeVersion("+e+")"),this._creative.handshakeVersion(e)},initAd:function(e,t,n,r,i,a){console.log("APP --\x3e VPAID: initAd("+e+","+t+","+n+","+r+")"),this._oldSrc=this._video.currentSrc,this._oldPosition=this._video.currentTime,console.log("Storing original URL: "+this._oldSrc),console.log("Storing original Position: "+this._oldPosition),this._creative.initAd(e,t,n,r,i,a)},startAd:function(){console.log("APP --\x3e VPAID: startAd()"),this._creative.startAd()},stopAd:function(){console.log("APP --\x3e VPAID: stopAd()"),this._creative.stopAd()},skipAd:function(){this._creative.getAdSkippableState()?(console.log("APP --\x3e VPAID: skipAd()"),this._creative.skipAd()):console.log("APP --\x3e VPAID: skipAd() ignored as Ad is not skippable")},resizeAd:function(e,t,n){console.log("APP --\x3e VPAID: resizeAd("+e+", "+t+", "+n+")"),this._creative.resizeAd(e,t,n)},pauseAd:function(){console.log("APP --\x3e VPAID: pauseAd()"),this._creative.pauseAd()},resumeAd:function(){console.log("APP --\x3e VPAID: resumeAd()"),this._creative.resumeAd()},expandAd:function(){console.log("APP --\x3e VPAID: expandAd()"),this._creative.expandAd()},collapseAd:function(){console.log("APP --\x3e VPAID: collapseAd()"),this._creative.collapseAd()},subscribe:function(e,t,n){return this._creative.subscribe(t,e,n||null),this},unsubscribe:function(e,t){return this._creative.unsubscribe(e,t),this},getAdLinear:function(){return this._creative.getAdLinear()},getAdWidth:function(){return this._creative.getAdWidth()},getAdHeight:function(){return this._creative.getAdHeight()},getAdExpanded:function(){return this._creative.getAdExpanded()},getAdSkippableState:function(){return this._creative.getAdSkippableState()},getAdRemainingTime:function(){return this._creative.getAdRemainingTime()},getAdDuration:function(){return this._creative.getAdDuration()},getAdVolume:function(){return this._creative.getAdVolume()},getAdCompanions:function(){return this._creative.getAdCompanions()},getAdIcons:function(){return this._creative.getAdIcons()},setAdVolume:function(e){this._creative.setAdVolume(e)},_handleComplete:function(){console.log("Advert complete in _handleComplete ...")},_getOrigin:function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},loadAdUnit:function(e,t){if(console.log("Request to load VPAID ad: "+e),this._onLoad)console.log("VPAIDUnit: Aborting because load already in progress");else if(this._destroyed)console.log("VPAIDUnit: Aborting because unit was destroyed");else{this.unloadAdUnit(),this._loadCallback=t;var n={iframeURL_JS:e,iframeID:this._id,origin:this._getOrigin()};Object.keys(this._templateConfig.extraOptions).forEach((function(e){n[e]=this._templateConfig.extraOptions[e]})),this._frame=this.createIframeWithContent(this._frameContainer,this._templateConfig.template,n),this._onLoad=this.callbackTimeout(this._vpaidOptions.timeout,this._handleAdLoaded.bind(this),this._handleAdLoadTimeout.bind(this)),window.addEventListener("message",this._onLoad)}},unloadAdUnit:function(){if(console.log("VPAIDUnit: Unloading Ad Unit"),this._frame&&(console.log("VPAIDUnit: Detected dangling frame"),this._frameContainer?(console.log("VPAIDUnit: Removing frame from container"),this._frameContainer.removeChild(this._frame)):(console.log("VPAIDUnit: Removing frame from parent"),this._frame.parentNode.removeChild(this._frame)),this._frame=null),this._el){if(console.log("VPAIDUnit: Cleaning up content element"),this._el.children.length>0)for(console.log("VPAIDUnit: Need to clean up children. Count: "+this._el.children.length);this._el.children.length>0;)this._el.removeChild(this._el.children.item(0));console.log("VPAIDUnit: Recreating frame container"),this._frameContainer=document.createElement("div"),this._el.appendChild(this._frameContainer)}},_handleAdLoaded:function(e){var t,n;if(e.origin!==this._getOrigin()&&console.log("WARNING: origins are not equal:"+e.origin),JSON.parse(e.data).id===this._id)return(n=this._frame.contentWindow?"function"==typeof(t=this._frame.contentWindow.getVPAIDAd)?null:"the ad didn't return a function to create an ad":"The iframe is not in the DOM tree any more?")||(this._adElement=this._frame.contentWindow.document.querySelector(".ad-element"),this._creative=t(),n=a.CheckVPAIDInterface(this._creative)?null:"the ad is not fully compliant with VPAID specification"),this._onLoad&&(window.removeEventListener("message",this._onLoad),delete this._onLoad,this._onLoad=null),this._loadCallback&&this._loadCallback(n,n?null:this),!0},_handleAdLoadTimeout:function(){this._loadCallback&&this._loadCallback("timeout",null),window.removeEventListener("message",this._onLoad),delete this._onLoad,this._onLoad=null},createIframeWithContent:function(e,t,n){var r=document.createElement("iframe");if(r){r.src="about:blank",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.width="100%",r.height="100%",r.style.position="absolute",r.style.left="0",r.style.top="0",r.style.margin="0px",r.style.padding="0px",r.style.border="none",r.style.width="100%",r.style.height="100%",n.zIndex&&(r.style.zIndex=n.zIndex),r.setAttribute("SCROLLING","NO"),e.innerHTML="",e.appendChild(r);var i=r.contentWindow&&r.contentWindow.document;if(!i)return null;Object.keys(n).forEach((function(e){var r="object"==typeof r?JSON.stringify(n[e]):n[e];t=t.replace(new RegExp("{{"+e+"}}","g"),r)})),i.write(t)}return r},callbackTimeout:function(e,t,n){var r;return r=setTimeout((function(){t=this.noop,n()}),e),function(){t.apply(this,arguments)&&clearTimeout(r)}},noop:function(){}});a.METHODS=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],a.VPAID1_METHODS=a.METHODS.filter((function(e){return-1===["skipAd"].indexOf(e)})),a.EVENTS=["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"],a.GETTERS=["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"],a.SETTERS=["setAdVolume"],a.DEFAULT_TEMPLATE='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">console.log("firing message");window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'*\');<\/script></body></html>',a.CheckVPAIDInterface=function(e){return a.VPAID1_METHODS.every((function(t){return e[t]&&"function"==typeof e[t]}))};var o=i.makeClass({initialize:function(e,t,n){this.listeners=[],this.vpaid=new a(e,t,{}),this.sourceUnit=null,this.manager=n},unloadAdUnit:function(){this.vpaid.unloadAdUnit(),this.sourceUnit=null},loadAdUnit:function(e){this.sourceUnit=e,this.vpaid._config={width:this.vpaid._el.clientWidth,height:this.vpaid._el.clientHeight,bitrate:e.bitrate,parms:e.parameters},this.vpaid.loadAdUnit(e.src,this.onLoad.bind(this))},getVPAID:function(){return this.vpaid},addListener:function(e){this.listeners.push(e)},removeListener:function(e){if(this.listeners.includes(e)){var t=this.listeners.filter((function(t){return t!==e}));this.listeners=t}},dispatchToNative:function(e,t){var n=t||[];if(Array.isArray(n)||(n=[n]),this.listeners.length>0)for(var r=0;r<this.listeners.length;r++){var i=this.listeners[r];void 0!==i[e]&&"function"==typeof i[e]&&i[e].apply(i,n)}},invokeTracking:function(e){var t={AdSkipped:"skip",AdStarted:"creativeView",AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"};void 0!==t[e]&&this.sourceUnit.track(t[e],0,"",0)},onLoad:function(e,t){if(e||null===t)this.dispatchToNative("AdError",[e]);else{var n=this;["AdLoaded","AdStarted","AdStopped","AdSkipped","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying"].forEach((function(e){t.subscribe(e,(function(){n.dispatchToNative(e,null),n.invokeTracking(e)}),n)})),["AdLog","AdError","AdInteraction"].forEach((function(e){t.subscribe(e,(function(t){n.dispatchToNative(e,[t])}),n)})),t.subscribe("AdSizeChange",(function(){n.dispatchToNative("AdSizeChange",[t.getAdWidth(),t.getAdHeight()])}),n),t.subscribe("AdLinearChange",(function(){n.dispatchToNative("AdLinearChange",[t.getAdLinear()])}),n),t.subscribe("AdExpandedChange",(function(){n.dispatchToNative("AdExpandedChange",[t.getAdExpanded()])}),n),t.subscribe("AdVolumeChange",(function(){n.dispatchToNative("AdVolumeChange",[t.getAdVolume()])}),n),t.subscribe("AdSkippableStateChange",(function(){n.dispatchToNative("AdSkippableStateChange",[t.getAdSkippableState()])}),n),["AdDurationChange","AdRemainingTimeChange"].forEach((function(e){t.subscribe(e,(function(){n.dispatchToNative("AdDurationChange",[t.getAdDuration(),t.getAdRemainingTime()])}),n)})),t.subscribe("AdClickThru",(function(e,t,r){n.dispatchToNative("AdClickThru",[e,t,r])}),n),t.subscribe("AdLoaded",function(e,n){console.log("APP <-- VPAID: AdLoaded()"),t.startAd()}.bind(n),n),t.subscribe("AdStopped",function(){console.log(" +++ +++ bridge:onStopped");var e=this.manager.session;null!=e&&(this.dispatchToNative("AdStopped",null),e.handleAdvertEnd(e.currentAdvert),t._video.setAttribute("width","100%"),t._video.setAttribute("height","100%"))}.bind(n),n);var r=t.handshakeVersion("2.0");console.log("APP <-- VPAID onHandShake("+r+")"),document.getElementById("main-content-container");var i=t._config.width||640,a=t._config.height||480;t.initAd(i,a,"fullscreen",t._config.bitrate||-1,{AdParameters:t._config.parms||"{}"},{slot:t._el,videoSlot:t._video},(function(e){console.log("error?",e)}))}}});t.default=o},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(777)),a=r(n(778)),o=r(n(779)),s=r(n(780)),u=r(n(781)),c=r(n(782)),l=r(n(783)),d=r(n(784)),f=r(n(785)),p=r(n(786));t.default={"ar-SA":i.default,"de-DE":a.default,"en-US":o.default,"es-419":s.default,"es-ES":u.default,"fr-FR":c.default,"it-IT":l.default,"pt-BR":d.default,"pt-PT":f.default,"ru-RU":p.default}},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":" %{currentAdNumber}  %{totalAds}","ads.countdown1SecondLeft":" ","ads.countdownXSecondsLeft":" %{secondsLeft} ","error.genericMessageLine1":"!   .","error.genericMessageLine2":" .","button.exitFullscreenTooltip":"    ","button.fullscreenTooltip":" ","button.muteTooltip":" ","button.pauseTooltip":" ","button.playTooltip":"","button.premiumUpsellCTA":" ","button.settings":"","button.settingsTooltip":"","button.skipToNext":" ","button.skipToNextTooltip":"","reportProblem.menuItem.ads_are_annoying":" ","reportProblem.menuItem.audio_video_not_synced":"  ","reportProblem.menuItem.buffering_problem":"  ","reportProblem.menuItem.other_playback_issue":"  ","reportProblem.menuItem.subs_video_not_synced":"  ","reportProblem.menuItem.subtitle_problem":" ","reportProblem.menuItem.video_problem":"  ","reportProblem.menuLabel":"  ","reportProblem.reportButtonText":"","reportProblem.textfieldPlaceholderText":"()  ","reportProblem.toastMessageSuccess":"   .","settings.autoplayLabel":" ","settings.autoQualityOption":"","settings.noneOption":" ","settings.onOption":"","settings.offOption":"","settings.qualityLabel":"","settings.subtitlesCCLabel":"","settings.videoQualityLabel":" ","upNext.comingSoon":"","upNext.countdown1SecondLeft":"  ...","upNext.countdownXSecondsLeft":"  %{secondsLeft} ","upNext.goPremiumButton":" ","upNext.premiumOnly":" ","upNext.matureBanner":"","upNext.recommendSeries":"    .","upNext.startWatching":" ","upNext.unavailable":" ","upNext.videoIsMature":" ","upNext.videoIsPremium":" ","upNext.viewSeriesButton":" ","upNext.watchNext":" ","upNextBanner.upNext":"Up Next","upNextBanner.in":"In","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Werbung %{currentAdNumber} von %{totalAds}","ads.countdown1SecondLeft":"Noch 1 Sekunde","ads.countdownXSecondsLeft":"Noch %{secondsLeft} Sekunden","error.genericMessageLine1":"Upps! Da ist was schiefgelaufen.","error.genericMessageLine2":"Versuch es nochmal.","button.exitFullscreenTooltip":"Vollbild verlassen","button.fullscreenTooltip":"Vollbild","button.muteTooltip":"Stummschalten","button.pauseTooltip":"Pause","button.playTooltip":"Play","button.premiumUpsellCTA":"Abo starten!","button.settings":"Einstellungen","button.settingsTooltip":"Einstellungen","button.skipToNext":"Nchste Episode","button.skipToNextTooltip":"Nchste","reportProblem.menuItem.ads_are_annoying":"Strende Werbung","reportProblem.menuItem.audio_video_not_synced":"Ton ist nicht synchron","reportProblem.menuItem.buffering_problem":"Problem mit dem Puffern","reportProblem.menuItem.other_playback_issue":"Andere","reportProblem.menuItem.subs_video_not_synced":"Untertitel sind nicht synchron","reportProblem.menuItem.subtitle_problem":"Problem mit den Untertiteln","reportProblem.menuItem.video_problem":"Das Video luft nicht","reportProblem.menuLabel":"Problem melden","reportProblem.reportButtonText":"Melden","reportProblem.textfieldPlaceholderText":"(Optional) Beschreibe dein Problem","reportProblem.toastMessageSuccess":"Danke fr dein Feedback.","settings.autoplayLabel":"Autoplay","settings.autoQualityOption":"Auto","settings.noneOption":"Keine","settings.onOption":"An","settings.offOption":"Aus","settings.qualityLabel":"Qualitt","settings.subtitlesCCLabel":"Untertitel/CC","settings.videoQualityLabel":"Videoqualitt","upNext.comingSoon":"Bald","upNext.countdown1SecondLeft":"Startet in 1 Sekunde ...","upNext.countdownXSecondsLeft":"Startet in %{secondsLeft} Sekunden ...","upNext.goPremiumButton":"Hol dir Premium","upNext.premiumOnly":"Nur mit Premium","upNext.matureBanner":"nicht jugendfrei","upNext.recommendSeries":"Diese Serie wird dir vorgeschlagen.","upNext.startWatching":"Jetzt anschauen","upNext.unavailable":"Nicht verfgbar","upNext.videoIsMature":"Video ist nicht jugendfrei","upNext.videoIsPremium":"Video erfordert Premium","upNext.viewSeriesButton":"Serie ansehen","upNext.watchNext":"Nchste ansehen","upNextBanner.upNext":"Up Next","upNextBanner.in":"In","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Advertisement %{currentAdNumber} of %{totalAds}","ads.countdown1SecondLeft":"1 Second Left","ads.countdownXSecondsLeft":"%{secondsLeft} Seconds Left","adsV2.adNumberStatus":"Ad %{currentAdNumber} of %{totalAds}","adsV2.visitAdvertiser":"Visit Advertiser","error.protectionNotActive":"Sorry, we are unable to play this video\\ndue to lack of adequate content protection on your device.","error.genericMessageLine1":"Oops! Something went wrong.","error.genericMessageLine2":"Try again.","button.exitFullscreenTooltip":"Exit full screen","button.fullscreenTooltip":"Full screen","button.muteTooltip":"Mute","button.pauseTooltip":"Pause","button.playTooltip":"Play","button.premiumUpsellCTA":"Skip ads, go premium","button.settings":"Settings","button.settingsTooltip":"Settings","button.skipToNext":"Next Episode","button.skipToNextTooltip":"Next","reportProblem.menuItem.ads_are_annoying":"Ads Are Annoying","reportProblem.menuItem.audio_video_not_synced":"Audio Video Not Synced","reportProblem.menuItem.buffering_problem":"Buffering Problem","reportProblem.menuItem.other_playback_issue":"Other","reportProblem.menuItem.subs_video_not_synced":"Subtitles Timing Issue","reportProblem.menuItem.subtitle_problem":"Subtitle Problem","reportProblem.menuItem.video_problem":"Video Didn\'t Work","reportProblem.menuLabel":"Report a Problem","reportProblem.reportButtonText":"Report","reportProblem.textfieldPlaceholderText":"(Optional) Describe your issue","reportProblem.toastMessageSuccess":"Thank you for the feedback.","settings.autoplayLabel":"Autoplay","settings.autoQualityOption":"Auto","settings.noneOption":"None","settings.onOption":"On","settings.offOption":"Off","settings.qualityLabel":"Quality","settings.subtitlesCCLabel":"Subtitles/CC","settings.videoQualityLabel":"Video Quality","settings.statsForNerds":"Stats For Nerds","settings.advancedQualityControls":"Advanced Quality Controls","upNext.comingSoon":"Coming Soon","upNext.countdown1SecondLeft":"Up Next in 1 Second...","upNext.countdownXSecondsLeft":"Up Next in %{secondsLeft} Seconds...","upNext.goPremiumButton":"Go Premium","upNext.premiumOnly":"Premium Only","upNext.matureBanner":"Mature","upNext.recommendSeries":"This series has been recommended to you.","upNext.startWatching":"Start Watching","upNext.unavailable":"Unavailable","upNext.videoIsMature":"Video is Mature","upNext.videoIsPremium":"Video is Premium","upNext.viewSeriesButton":"View Series","upNext.watchNext":"Watch Next","upNextBanner.upNext":"Up Next","upNextBanner.in":"In","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Anuncio %{currentAdNumber} de %{totalAds}","ads.countdown1SecondLeft":"1 Segundo Restante","ads.countdownXSecondsLeft":"%{secondsLeft} Segundos Restantes","error.genericMessageLine1":"Ups! Algo ha salido mal.","error.genericMessageLine2":"Intntalo de nuevo.","button.exitFullscreenTooltip":"Salir de pantalla completa.","button.fullscreenTooltip":"Pantalla completa","button.muteTooltip":"Silenciar","button.pauseTooltip":"Pausa","button.playTooltip":"Reproducir","button.premiumUpsellCTA":"Hazte Premium","button.settings":"Opciones","button.settingsTooltip":"Opciones","button.skipToNext":"Siguiente episodio","button.skipToNextTooltip":"Sigiuiente","reportProblem.menuItem.ads_are_annoying":"Los anuncios son molestos","reportProblem.menuItem.audio_video_not_synced":"El audio y el video no estn sincronizados","reportProblem.menuItem.buffering_problem":"Problema de buffering","reportProblem.menuItem.other_playback_issue":"Otro","reportProblem.menuItem.subs_video_not_synced":"Problema con los tiempos de los subttulos","reportProblem.menuItem.subtitle_problem":"Problema con los subttulos","reportProblem.menuItem.video_problem":"El video no funciona","reportProblem.menuLabel":"Reportar un problema","reportProblem.reportButtonText":"Reportar","reportProblem.textfieldPlaceholderText":"(Opcional) Describe tu problema","reportProblem.toastMessageSuccess":"Gracias por tus observaciones.","settings.autoplayLabel":"Reproduccin automtica","settings.autoQualityOption":"Auto","settings.noneOption":"Ninguno","settings.onOption":"S","settings.offOption":"No","settings.qualityLabel":"Calidad","settings.subtitlesCCLabel":"Subttulos/CC","settings.videoQualityLabel":"Calidad de video","upNext.comingSoon":"Muy pronto","upNext.countdown1SecondLeft":"Siguiente en 1 segundo...","upNext.countdownXSecondsLeft":"Siguiente en %{secondsLeft} segundos...","upNext.goPremiumButton":"Hazte Premium","upNext.premiumOnly":"Solo para Premium","upNext.matureBanner":"Para adultos","upNext.recommendSeries":"Serie recomendada para ti.","upNext.startWatching":"Comenzar a ver","upNext.unavailable":"No disponible","upNext.videoIsMature":"Contenido adulto","upNext.videoIsPremium":"Este vdeo es Premium","upNext.viewSeriesButton":"Ver serie","upNext.watchNext":"Ver siguiente","upNextBanner.upNext":"Siguiente","upNextBanner.in":"En","upNextBanner.season":"T","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Anuncio %{currentAdNumber} de %{totalAds}","ads.countdown1SecondLeft":"1 segundo restante","ads.countdownXSecondsLeft":"%{secondsLeft} segundos restantes","error.genericMessageLine1":"Ups! Algo ha salido mal.","error.genericMessageLine2":"Intntalo de nuevo.","button.exitFullscreenTooltip":"Salir de pantalla completa","button.fullscreenTooltip":"Pantalla completa","button.muteTooltip":"Silenciar","button.pauseTooltip":"Pausa","button.playTooltip":"Reproducir","button.premiumUpsellCTA":"Hazte Premium","button.settings":"Opciones","button.settingsTooltip":"Opciones","button.skipToNext":"Siguiente episodio","button.skipToNextTooltip":"Siguiente","reportProblem.menuItem.ads_are_annoying":"Los anuncios estorban","reportProblem.menuItem.audio_video_not_synced":"El audio y el vdeo no estn sincronizados","reportProblem.menuItem.buffering_problem":"Problema de buffering","reportProblem.menuItem.other_playback_issue":"Otro","reportProblem.menuItem.subs_video_not_synced":"Problema con los tiempos de los subttulos","reportProblem.menuItem.subtitle_problem":"Problema con los subttulos","reportProblem.menuItem.video_problem":"El vdeo no funciona","reportProblem.menuLabel":"Informar de un problema","reportProblem.reportButtonText":"Informar","reportProblem.textfieldPlaceholderText":"(Opcional) Describe tu problema","reportProblem.toastMessageSuccess":"Gracias por tus observaciones.","settings.autoplayLabel":"Reproduccin automtica","settings.autoQualityOption":"Auto","settings.noneOption":"Ninguno","settings.onOption":"S","settings.offOption":"No","settings.qualityLabel":"Calidad","settings.subtitlesCCLabel":"Subttulos/CC","settings.videoQualityLabel":"Calidad de vdeo","upNext.comingSoon":"Muy pronto","upNext.countdown1SecondLeft":"Siguiente en 1 segundo...","upNext.countdownXSecondsLeft":"Siguiente en %{secondsLeft} segundos...","upNext.goPremiumButton":"Hazte Premium","upNext.premiumOnly":"Solo para Premium","upNext.matureBanner":"Para adultos","upNext.recommendSeries":"Serie recomendada para ti.","upNext.startWatching":"Comenzar a ver","upNext.unavailable":"No disponible","upNext.videoIsMature":"Contenido adulto","upNext.videoIsPremium":"Este vdeo es Premium","upNext.viewSeriesButton":"Ver serie","upNext.watchNext":"Ver siguiente","upNextBanner.upNext":"Siguiente","upNextBanner.in":"En","upNextBanner.season":"T","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Pub %{currentAdNumber} sur %{totalAds}","ads.countdown1SecondLeft":"1 seconde restante","ads.countdownXSecondsLeft":"%{secondsLeft} secondes restantes","error.genericMessageLine1":"Mince ! Une erreur s\'est produite.","error.genericMessageLine2":"Ressayer.","button.exitFullscreenTooltip":"Sortir du mode Plein cran","button.fullscreenTooltip":"Plein cran","button.muteTooltip":"Couper le son","button.pauseTooltip":"Pause","button.playTooltip":"Lecture","button.premiumUpsellCTA":"Devenir Premium","button.settings":"Paramtres","button.settingsTooltip":"Paramtres","button.skipToNext":"pisode suivant","button.skipToNextTooltip":"Suivant","reportProblem.menuItem.ads_are_annoying":"Problme de publicits","reportProblem.menuItem.audio_video_not_synced":"Problme de synchronisation audio","reportProblem.menuItem.buffering_problem":"Problme de chargement","reportProblem.menuItem.other_playback_issue":"Autre problme de lecture","reportProblem.menuItem.subs_video_not_synced":"Problme de synchronisation des sous-titres","reportProblem.menuItem.subtitle_problem":"Problme de sous-titres","reportProblem.menuItem.video_problem":"La vido ne fonctionne pas","reportProblem.menuLabel":"Signaler un problme","reportProblem.reportButtonText":"Signaler","reportProblem.textfieldPlaceholderText":"(Facultatif) Dcrivez votre problme","reportProblem.toastMessageSuccess":"Merci pour votre retour.","settings.autoplayLabel":"Lecture auto","settings.autoQualityOption":"Auto","settings.noneOption":"Dsactiv","settings.onOption":"Activ","settings.offOption":"Dsactiv","settings.qualityLabel":"Qualit","settings.subtitlesCCLabel":"Sous-titres/CC","settings.videoQualityLabel":"Qualit vido","upNext.comingSoon":"Bientt","upNext.countdown1SecondLeft":"Lecture dans 1 seconde...","upNext.countdownXSecondsLeft":"Lecture dans %{secondsLeft} secondes...","upNext.goPremiumButton":"Devenir Premium","upNext.premiumOnly":"Premium","upNext.matureBanner":"Public averti","upNext.recommendSeries":"Cette srie est recommande pour vous.","upNext.startWatching":"Lecture","upNext.unavailable":"Indisponible","upNext.videoIsMature":"Vido pour public averti","upNext.videoIsPremium":"Vido Premium","upNext.viewSeriesButton":"Voir la srie","upNext.watchNext":"Reprendre","upNextBanner.upNext":"Up Next","upNextBanner.in":"In","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Pubblicit %{currentAdNumber} di %{totalAds}","ads.countdown1SecondLeft":"1 secondo rimanente","ads.countdownXSecondsLeft":"%{secondsLeft} secondi rimanenti","error.genericMessageLine1":"Ops! Qualcosa  andato storto.","error.genericMessageLine2":"Riprova.","button.exitFullscreenTooltip":"Disattiva schermo intero","button.fullscreenTooltip":"Schermo intero","button.muteTooltip":"Disattiva audio","button.pauseTooltip":"Pausa","button.playTooltip":"Riproduci","button.premiumUpsellCTA":"Salta le pubblicit, passa al Premium","button.settings":"Impostazioni","button.settingsTooltip":"Impostazioni","button.skipToNext":"Episodio successivo","button.skipToNextTooltip":"Successivo","reportProblem.menuItem.ads_are_annoying":"Le pubblicit sono fastidiose","reportProblem.menuItem.audio_video_not_synced":"L\'audio e il video non sono sincronizzati","reportProblem.menuItem.buffering_problem":"Problemi di buffering","reportProblem.menuItem.other_playback_issue":"Altro","reportProblem.menuItem.subs_video_not_synced":"Problemi con la temporizzazione dei sottotitoli","reportProblem.menuItem.subtitle_problem":"Problemi coi sottotitoli","reportProblem.menuItem.video_problem":"Il video non funziona","reportProblem.menuLabel":"Segnala un problema","reportProblem.reportButtonText":"Segnala","reportProblem.textfieldPlaceholderText":"(Facoltativo) Descrivi il problema","reportProblem.toastMessageSuccess":"Grazie per il feedback.","settings.autoplayLabel":"Riproduzione automatica","settings.autoQualityOption":"Automatica","settings.noneOption":"Nessuno","settings.onOption":"Attiva","settings.offOption":"Disattiva","settings.qualityLabel":"Qualit","settings.subtitlesCCLabel":"Sottotitoli/CC","settings.videoQualityLabel":"Qualit video","upNext.comingSoon":"Presto disponibile","upNext.countdown1SecondLeft":"Prossimo tra 1 secondo...","upNext.countdownXSecondsLeft":"Prossimo tra %{secondsLeft} secondi...","upNext.goPremiumButton":"Passa al Premium","upNext.premiumOnly":"Solo per i Premium","upNext.matureBanner":"Vietato ai minori","upNext.recommendSeries":"Ti consigliamo questa serie.","upNext.startWatching":"Inizia a guardare","upNext.unavailable":"Non disponibile","upNext.videoIsMature":"Questo video  vietato ai minori","upNext.videoIsPremium":"Questo video  solo per i Premium","upNext.viewSeriesButton":"Guarda la serie","upNext.watchNext":"Guarda il successivo","upNextBanner.upNext":"Prossimo","upNextBanner.in":"tra","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Propaganda %{currentAdNumber} de %{totalAds}","ads.countdown1SecondLeft":"1 Segundo Restante","ads.countdownXSecondsLeft":"%{secondsLeft} Segundos Restantes","error.genericMessageLine1":"Ops! Algo deu errado.","error.genericMessageLine2":"Tente novamente.","button.exitFullscreenTooltip":"Sair de tela cheia","button.fullscreenTooltip":"Tela cheia","button.muteTooltip":"Silenciar","button.pauseTooltip":"Pausar","button.playTooltip":"Reproduzir","button.premiumUpsellCTA":"Seja Premium","button.settings":"Ajustes","button.settingsTooltip":"Ajustes","button.skipToNext":"Prximo Episdio","button.skipToNextTooltip":"Prximo","reportProblem.menuItem.ads_are_annoying":"Propaganda irritante","reportProblem.menuItem.audio_video_not_synced":"udio dessincronizado","reportProblem.menuItem.buffering_problem":"Vdeo trava enquanto toca","reportProblem.menuItem.other_playback_issue":"Outros problemas de vdeo","reportProblem.menuItem.subs_video_not_synced":"Legenda dessincronizada","reportProblem.menuItem.subtitle_problem":"Problemas na legenda","reportProblem.menuItem.video_problem":"Vdeo no toca","reportProblem.menuLabel":"Reportar Problema","reportProblem.reportButtonText":"Reportar","reportProblem.textfieldPlaceholderText":"(Opcional) Descreva seu problema","reportProblem.toastMessageSuccess":"Obrigado por seu feedback.","settings.autoplayLabel":"Autoplay","settings.autoQualityOption":"Auto","settings.noneOption":"Nenhum","settings.onOption":"Ligado","settings.offOption":"Desligado","settings.qualityLabel":"Qualidade","settings.subtitlesCCLabel":"Legendas/CC","settings.videoQualityLabel":"Qualidade de Vdeo","upNext.comingSoon":"Em Breve","upNext.countdown1SecondLeft":"Prximo Episdio em 1 Segundo...","upNext.countdownXSecondsLeft":"Prximo Episdio em %{secondsLeft} Segundos...","upNext.goPremiumButton":"Virar Premium","upNext.premiumOnly":"Apenas para Premium","upNext.matureBanner":"Contedo Adulto","upNext.recommendSeries":"Esta srie foi recomendada para voc.","upNext.startWatching":"Comear a Assistir","upNext.unavailable":"Indisponvel","upNext.videoIsMature":"Vdeo para Adultos","upNext.videoIsPremium":"Vdeo para Premium","upNext.viewSeriesButton":"Ver Srie","upNext.watchNext":"Assistir Prximo","upNextBanner.upNext":"Up Next","upNextBanner.in":"In","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":"Anncio %{currentAdNumber} de %{totalAds}","ads.countdown1SecondLeft":"Falta 1 segundo","ads.countdownXSecondsLeft":"Faltam %{secondsLeft} segundos","error.genericMessageLine1":"Ups! Algo correu mal.","error.genericMessageLine2":"Tenta novamente.","button.exitFullscreenTooltip":"Sair do ecr completo","button.fullscreenTooltip":"Ecr completo","button.muteTooltip":"Silncio","button.pauseTooltip":"Pausa","button.playTooltip":"Reproduzir","button.premiumUpsellCTA":"Torna-te Premium","button.settings":"Definies","button.settingsTooltip":"Definies","button.skipToNext":"Prximo episdio","button.skipToNextTooltip":"Prximo","settings.autoplayLabel":"Reproduo automtica","settings.autoQualityOption":"Auto","settings.noneOption":"Nenhum","settings.onOption":"Sim","settings.offOption":"No","settings.qualityLabel":"Qualidade","settings.subtitlesCCLabel":"Legendas/CC","settings.videoQualityLabel":"Qualidade do vdeo","upNext.comingSoon":"Em breve","upNext.countdown1SecondLeft":"A seguir daqui a 1 segundo...","upNext.countdownXSecondsLeft":"A seguir daqui a %{secondsLeft} segundos...","upNext.goPremiumButton":"Torna-te Premium","upNext.premiumOnly":"Apenas Premium","upNext.matureBanner":"Adultos","upNext.recommendSeries":"Esta srie foi recomendada para ti.","upNext.startWatching":"Comear a assistir","upNext.unavailable":"Indisponvel","upNext.videoIsMature":"Este vdeo  para adultos","upNext.videoIsPremium":"Este vdeo  Premium","upNext.viewSeriesButton":"Ver srie","upNext.watchNext":"Assistir de seguida"}')},function(e){e.exports=JSON.parse('{"ads.adNumberStatus":" %{currentAdNumber}  %{totalAds}","ads.countdown1SecondLeft":"1  ","ads.countdownXSecondsLeft":"%{secondsLeft} . ","error.genericMessageLine1":"! -   .","error.genericMessageLine2":"  .","button.exitFullscreenTooltip":"   ","button.fullscreenTooltip":" ","button.muteTooltip":" ","button.pauseTooltip":"","button.playTooltip":"","button.premiumUpsellCTA":" ","button.settings":"","button.settingsTooltip":"","button.skipToNext":" ","button.skipToNextTooltip":"","reportProblem.menuItem.ads_are_annoying":" ","reportProblem.menuItem.audio_video_not_synced":"   ","reportProblem.menuItem.buffering_problem":"  ","reportProblem.menuItem.other_playback_issue":"","reportProblem.menuItem.subs_video_not_synced":" ","reportProblem.menuItem.subtitle_problem":"  ","reportProblem.menuItem.video_problem":"  ","reportProblem.menuLabel":"  ","reportProblem.reportButtonText":"","reportProblem.textfieldPlaceholderText":"()  ","reportProblem.toastMessageSuccess":"  .","settings.autoplayLabel":"","settings.autoQualityOption":"","settings.noneOption":"","settings.onOption":".","settings.offOption":".","settings.qualityLabel":"","settings.subtitlesCCLabel":"/","settings.videoQualityLabel":" ","upNext.comingSoon":"","upNext.countdown1SecondLeft":"  1 ","upNext.countdownXSecondsLeft":"  %{secondsLeft} .","upNext.goPremiumButton":" ","upNext.premiumOnly":"  ","upNext.matureBanner":"18+","upNext.recommendSeries":"  ","upNext.startWatching":"","upNext.unavailable":"","upNext.videoIsMature":" 18+","upNext.videoIsPremium":"  ","upNext.viewSeriesButton":" ","upNext.watchNext":" ","upNextBanner.upNext":"","upNextBanner.in":"","upNextBanner.season":"S","upNextBanner.episode":"E"}')},function(e,t,n){"use strict";(function(e){var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.determineLayout=void 0;var l=u(n(1)),d=n(155),f=n(3),p=n(6),h=n(14),v=c(n(12)),m=n(39),g=n(53),y=u(n(328)),b=n(35),_=c(n(789)),A=c(n(794)),S=c(n(855)),E=c(n(871)),w=c(n(879)),T=n(27),P=c(n(231)),C=c(n(117)),O=c(n(22)),k=c(n(31)),I=n(2),x=n(8),D=u(n(157)),R=n(58),M=O.default.isMobileNative(),N=O.default.isIosNativeMobile(),L={layoutName:null,width:null,height:null};t.determineLayout=function(e,t,n,r){var i=O.default.getEnvironment();return Object.keys(D.default).filter((function(e){return!(!Array.isArray(D.default[e].environment)||!D.default[e].environment.includes(i))||D.default[e].environment===i})).map((function(e){return a(a({},D.default[e]),{name:e,maxWidth:k.default.get(D.default[e],"maxWidth",1/0)})})).filter((function(e){var n=Object.values(D.AdsLayouts).includes(e.name),i=Object.values(D.CastLayouts).includes(e.name);return r?i:t||v.default.adsUIDebugMode?n:!n})).filter((function(e){return!M&&!O.default.isMobileWeb()||[R.FormFactor.PHONE,R.FormFactor.TABLET].includes(e.formFactor)})).reduce((function(t,r){return t?O.default.isDesktopWeb()&&n===b.CRLegacyClientID||e>t.maxWidth&&e>r.maxWidth?t.maxWidth>r.maxWidth?t:r:e<t.maxWidth&&e<r.maxWidth?t.maxWidth<r.maxWidth?t:r:t:r}),null)};var j=function(e){function n(n){var r=e.call(this,n)||this;return r.state=L,r.hasLoadedConfig=!1,r.onLayout=function(e,n,i){var a,o=r.props,s=o.configuration,u=o.themeActions,c=e.height,l=e.width;c===r.state.height&&l===r.state.width||u.updateDimensions(e),y.default.emit(y.EmitterEvent.RESIZE);var d=n&&m.isUsingSSAI(s),f=t.determineLayout(l,d,null===(a=s.client)||void 0===a?void 0:a.id,i);f?r.state.layoutName!==f.name?(r.props.themeActions.selectProfile(f.name.replace(new RegExp("^"+D.AdsPrefix),"").replace(new RegExp("^"+D.CastPrefix),"")),r.setState({layoutName:f.name,height:c,width:l})):r.setState({height:c,width:l}):console.warn("Unable to determine a valid layout")},k.default.get(window,"androidController")||k.default.get(window,"iosController")?r.props.coreActions.updateIsRunningInWebview(!0):O.default.isIframe()&&r.props.coreActions.updateIsRunningInIFrame(!0),r}return i(n,e),n.prototype.componentDidMount=function(){var e=this.props,t=e.config,n=e.configStackActions,r=e.coreActions;r.startApp(),r.activatePlayer(T.PlayerType.MAIN),t&&n.setLayerConfig({layer:g.ConfigStackLayer.CLIENT,config:t})},n.prototype.componentWillReceiveProps=function(e){var t=this.props.configuration,n=this.state,r=n.height,i=n.width,a=e.castingState,o=e.isInAdBreak,s=a.isCasting,u=k.default.get(t,"client.id",null);!this.hasLoadedConfig&&u===b.CRLegacyClientID&&this.state.width?(this.hasLoadedConfig=!0,this.onLayout({height:r,width:i})):(this.props.isInAdBreak!==o||this.props.castingState.isCasting!==s)&&this.onLayout({height:r,width:i},o,s)},n.prototype.componentDidUpdate=function(e){var t=this.props,n=t.config,r=t.configStackActions,i=t.theme,a=t.themeActions;i&&i.icons&&i!==e.theme&&a.updateIcons(i.icons),n!==e.config&&r.setLayerConfig({layer:g.ConfigStackLayer.CLIENT,config:n})},n.prototype.componentWillUnmount=function(){this.props.coreActions.exit()},n.prototype.render=function(){var e,t,n=this,r=this.props,i=r.castingState,a=r.containerId,o=r.hasPlayer,s=r.isFullscreen,u=r.isInAdBreak,c=r.isRunningInWebview,d=r.headless,p=r.config,h=r.configuration,v=i.isCasting,m=this.state.layoutName,g=d||O.default.isHeadless(),y=p||(null===(e=h.metadata)||void 0===e?void 0:e.id);if(c||!o||g&&!y)return null;if(O.default.isRoku())return l.default.createElement(w.default,null);if(O.default.isYoui())t=B.containerTV;else if(s&&M)t=B.containerNativeFullscreen;else if(s)t=B.containerWebFullscreen;else if(M){var b=f.Dimensions.get("window"),T=b.width,k=b.height,I=T<=k?T:k;t={width:I,height:I/(16/9),marginTop:N&&C.default.hasNotch()?35:0}}else t=B.containerWebWindowed;var x=O.default.isYoui()?l.default.createElement(P.default,null,l.default.createElement(E.default,null)):l.default.createElement(E.default,null);return l.default.createElement(f.View,{style:t,nativeID:a,onLayout:function(e){return n.onLayout(e.nativeEvent.layout,u,v)}},x,l.default.createElement(A.default,{layoutName:m}),l.default.createElement(_.default,null),l.default.createElement(S.default,null),M&&s&&l.default.createElement(f.StatusBar,{hidden:!0}))},n}(l.Component),B=f.StyleSheet.create({containerWebWindowed:{backgroundColor:"black",width:"100%",height:"calc((9 / 16) * 100vw)",maxHeight:"100vh",overflow:"hidden"},containerWebFullscreen:{backgroundColor:"black",width:"100%",height:"100%",flex:1},containerNativeFullscreen:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:99,elevation:99},containerTV:{backgroundColor:"transparent",direction:"ltr",flex:1}}),U=O.default.isWeb()&&v.default.hotReloading?d.hot(e)(j):j;t.default=p.connect((function(e){return{castingState:e.core.castingState,configuration:e.configuration,containerId:e.core.containerId,hasPlayer:!!x.playerSelectors.all(e),isInAdBreak:e.adsManager.isInAdBreak,isFullscreen:e.core.isFullscreen,isRunningInWebview:e.core.isRunningInWebview,player:x.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{configurationActions:h.bindActionCreators(I.configurationActionCreators,e),configStackActions:h.bindActionCreators(I.configStackActionCreators,e),coreActions:h.bindActionCreators(I.coreActionCreators,e),playerActions:h.bindActionCreators(I.playerActionCreators,e),themeActions:h.bindActionCreators(I.themeActionCreators,e)}}))(U)}).call(this,n(95)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(1))&&"object"==typeof r&&"default"in r?r.default:r;function a(e){return a.warnAboutHMRDisabled&&(a.warnAboutHMRDisabled=!0,console.error("React-Hot-Loader: misconfiguration detected, using production version in non-production environment."),console.error("React-Hot-Loader: Hot Module Replacement is not enabled.")),i.Children.only(e.children)}a.warnAboutHMRDisabled=!1;var o=function e(){return e.shouldWrapWithAppContainer?function(e){return function(t){return i.createElement(a,null,i.createElement(e,t))}}:function(e){return e}};o.shouldWrapWithAppContainer=!1;t.AppContainer=a,t.hot=o,t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(790)),p=n(39),h=u(n(100)),v=n(7),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.configuration,n=e.isInAdBreak&&!p.isUsingSSAI(t)?"auto":"none";return c.default.createElement(l.View,{nativeID:h.default.adsId,pointerEvents:n,style:l.StyleSheet.absoluteFill},c.default.createElement(f.default,{isWeb:v.environmentUtils.isWeb()}))},t}(c.Component);t.default=d.connect((function(e){return{configuration:e.configuration,isInAdBreak:e.adsManager.isInAdBreak}}))(m)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VendriAdsView=void 0;var c=s(n(1)),l=n(3),d=n(6),f=u(n(351)),p=n(40),h=n(7),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.configuration,n=e.hasPreroll,r=e.isInAdBreak,i=e.isWeb,a=r||n?null:m.notPlaying;return i&&p.isUsingVendri(t)?c.default.createElement(l.View,{nativeID:"android_div",style:[m.adCanvas,a]}):h.environmentUtils.isYoui()?c.default.createElement(f.default,null):null},t}(c.Component);t.VendriAdsView=v;var m=l.StyleSheet.create({adCanvas:{height:"100%"},notPlaying:{display:"none"}});t.default=d.connect((function(e){var t=e.adsManager,n=t.hasPreroll,r=t.isInAdBreak;return{configuration:e.configuration,hasPreroll:n,isInAdBreak:r}}))(v)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(33),h=c(n(78)),v=c(n(352)),m=c(n(793)),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.areControlsActive,t=e?y.blackBackground:null;return l.default.createElement(d.View,{style:[y.container,t]},l.default.createElement(d.View,{style:y.adInfoContainer},l.default.createElement(v.default,null),l.default.createElement(m.default,null)),this.renderPlayPauseBtn(e))},t.prototype.renderPlayPauseBtn=function(e){return e?l.default.createElement(d.View,{style:y.playPauseBtn},l.default.createElement(h.default,{size:"large"})):null},t}(l.Component),y=d.StyleSheet.create({adInfoContainer:a(a({},d.StyleSheet.absoluteFillObject),{alignItems:"flex-start",justifyContent:"space-between",flexDirection:"row",marginLeft:p.toRelativeScale(80),marginRight:p.toRelativeScale(80),marginTop:p.toRelativeScale(64)}),blackBackground:{backgroundColor:"rgba(0, 0, 0, 0.6)"},container:{flex:1,flexDirection:"column"},playPauseBtn:a(a({},d.StyleSheet.absoluteFillObject),{alignItems:"center",justifyContent:"center"})});t.default=f.connect((function(e){return{areControlsActive:e.controls.isActive,icons:e.theme.icons}}))(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHoverEnabled=void 0;var r=n(7),i=!1;if(r.environmentUtils.isWeb()){var a=0,o=function(){a=Date.now(),i&&(i=!1)};document.addEventListener("touchstart",o,!0),document.addEventListener("touchmove",o,!0),document.addEventListener("mousemove",(function(){i||Date.now()-a<1e3||(i=!0)}),!0)}t.isHoverEnabled=function(){return i}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(156)),p=u(n(12)),h=n(7),v=u(n(26)),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.ads,n=e.streamTime,r=e.profile,i=e.style,a=h.adsUtils.getCurrentAdPod(t);if(null===a)return null;var o,s=n-a.offset,u=Math.round(a.duration-s),d=Math.max(u,0);return o=[0,1].includes(d)?v.default.t("ads.countdown1SecondLeft"):v.default.t("ads.countdownXSecondsLeft",{secondsLeft:d}),c.default.createElement(l.View,{style:r.adsInfo.backgroundStyle},c.default.createElement(l.Text,{style:[r.adsInfo.secondsLeft,i],testID:p.default.testIDs.adCountdownLabel,accessibilityLabel:p.default.testIDs.adCountdownLabel},o))},t}(c.Component);t.default=d.connect((function(e){return{ads:e.adsManager,layoutType:e.theme.activeProfile,streamTime:e.media.streamTime,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{}}))(f.default(m))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=n(8),u=r(n(157)),c=r(n(844)),l=r(n(100)),d=r(n(845)),f=r(n(847)),p=r(n(848)),h=r(n(849)),v=r(n(850)),m=r(n(852));t.default=o.connect((function(e){return{isAdSlotVPAID:e.adsManager.isAdSlotVPAID,profile:e.theme.profiles[e.theme.activeProfile],player:s.playerSelectors.all(e)}}))((function(e){var t=e.layoutName,n=e.profile,r=e.isAdSlotVPAID,o=e.player;if(!t||!n)return null;var s=u.default[t].layout;return r?i.default.createElement(s,{player:o,layoutName:t}):i.default.createElement(a.View,{nativeID:l.default.controlsId,style:a.StyleSheet.absoluteFill},i.default.createElement(f.default,null),i.default.createElement(c.default,null),i.default.createElement(d.default,{layoutName:t}),i.default.createElement(h.default,null),i.default.createElement(v.default,null),i.default.createElement(p.default,null),i.default.createElement(m.default,null))}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=i(n(353)),u=n(6),c=i(n(354)),l=i(n(797)),d=i(n(218)),f=i(n(12)),p=i(n(123)),h=i(n(78)),v=i(n(219)),m=i(n(808)),g=i(n(352)),y=["transparent","rgba(0,0,0,0.8)"],b=function(){var e=[A.adLabel,A.adLabelPosition],t=[A.bottomControls,{bottom:5}];return a.default.createElement(o.View,{style:A.vpaidContainer},a.default.createElement(o.View,{style:A.bottomBar},a.default.createElement(s.default,{colors:y,style:A.linearGradient},a.default.createElement(o.View,{style:A.bottomSpacer}),a.default.createElement(o.View,{style:t},a.default.createElement(o.Animated.View,{style:[A.bottomLeftControls]},a.default.createElement(d.default,{style:A.deadZone}),a.default.createElement(h.default,{size:"small",hasActiveEffect:!0,hoverable:!0}),a.default.createElement(v.default,null)),a.default.createElement(o.View,{style:e,pointerEvents:"none"},a.default.createElement(g.default,null)),a.default.createElement(o.Animated.View,{style:[A.bottomRightControls]},a.default.createElement(p.default,null),a.default.createElement(d.default,{style:A.deadZone}))))))},_=function(){var e=[A.adLabel,A.adLabelPosition],t=[A.bottomControls,{bottom:-40}],n=[A.scrubBarContainer,{bottom:-21}];return a.default.createElement(o.View,{style:A.container},!f.default.adsUIDebugMode&&a.default.createElement(l.default,null),a.default.createElement(m.default,null),a.default.createElement(o.View,{style:A.bottomBar},a.default.createElement(s.default,{colors:y,style:A.linearGradient},a.default.createElement(o.View,{style:A.bottomSpacer}),a.default.createElement(o.View,{style:t},a.default.createElement(o.Animated.View,{style:[A.bottomLeftControls]},a.default.createElement(d.default,{style:A.deadZone}),a.default.createElement(h.default,{size:"small",hasActiveEffect:!0,hoverable:!0}),a.default.createElement(v.default,null)),a.default.createElement(o.View,{style:e,pointerEvents:"none"},a.default.createElement(g.default,null)),a.default.createElement(o.Animated.View,{style:[A.bottomRightControls]},a.default.createElement(p.default,null),a.default.createElement(d.default,{style:A.deadZone}))),a.default.createElement(o.View,{style:n},a.default.createElement(c.default,null)))))};t.default=u.connect((function(e){return{isAdSlotVPAID:e.adsManager.isAdSlotVPAID}}),null)((function(e){return e.isAdSlotVPAID?a.default.createElement(b,null):a.default.createElement(_,null)}));var A=o.StyleSheet.create({vpaidContainer:{position:"absolute",bottom:0,width:"100%"},adLabelPosition:{bottom:10},adLabel:r(r({},o.StyleSheet.absoluteFillObject),{top:null,alignItems:"center",justifyContent:"flex-end"}),container:{flex:1,flexDirection:"column"},deadZone:{width:10,height:"100%"},topBar:{flex:1},middleBar:r(r({},o.StyleSheet.absoluteFillObject),{justifyContent:"center"}),middleControls:{flexDirection:"row",justifyContent:"center"},bottomBar:{height:130,justifyContent:"flex-end",position:"absolute",bottom:0,left:0,right:0},bottomSpacer:{flex:1},bottomControls:{flexDirection:"row",justifyContent:"space-between"},bottomLeftControls:{alignItems:"center",flexDirection:"row"},volumeControl:{marginLeft:20},bottomRightControls:{flexDirection:"row"},linearGradient:{flex:1},scrubBarContainer:{flex:1,justifyContent:"space-between"},scrubBar:{marginLeft:10,marginRight:10},textStyle:{display:"flex",flex:0,minWidth:100,height:46,alignItems:"center"}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3);t.default=function(e){var t=e.accessibilityLabel,n=e.color,r=e.width,s=void 0===r?0:r,u=e.borderRadius,c=e.animBorderRadius,l=e.testID,d=s?s+"%":"0%";return i.default.createElement(a.Animated.View,{testID:l,accessibilityLabel:t,style:[{backgroundColor:n,width:d,borderRadius:c||u},o.bar]})};var o=a.StyleSheet.create({bar:{height:"100%"}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(798)),m=n(7),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPress=function(e){var n=t.props,r=n.ads,i=n.adsManagerActions,a=n.playerActions;r.isAdSlotPaused?a.requestPlay("ClickableOverlay"):(a.requestPause("ClickableOverlay"),i.clickedAd(e))},t}return i(t,e),t.prototype.render=function(){var e=this.props.ads,t=m.adsUtils.getCurrentAdSlot(e),n=m._.get(t,"clickThroughUrl");return l.default.createElement(v.default,{src:e.isAdSlotPaused?null:n,onPress:this.onPress})},t.defaultProps={},t}(l.Component);d.StyleSheet.create({container:a({},d.StyleSheet.absoluteFillObject)});t.default=f.connect((function(e){return{ads:e.adsManager}}),(function(e){return{playerActions:p.bindActionCreators(h.playerActionCreators,e),adsManagerActions:p.bindActionCreators(h.adsManagerActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(1)),l=n(3),d=n(7),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPress=function(e){var n=t.props,r=n.onPress,i=n.src;if("keyup"!==e.type){if(i)if(d.environmentUtils.isWeb())window.open(i,"_blank").focus();else l.Linking.openURL(i);r&&r(e)}},t}return i(t,e),t.prototype.render=function(){return c.default.createElement(l.TouchableWithoutFeedback,{onPress:this.onPress},c.default.createElement(l.View,{style:p.container}))},t.defaultProps={},t}(c.Component),p=l.StyleSheet.create({container:a({},l.StyleSheet.absoluteFillObject)});t.default=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=c(n(358)),g=c(n(12)),y=n(7),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMove=function(e,n){t.props.volume!==n&&t.props.coreActions.updateVolume(n/100)},t.onPressIn=function(e,n){t.props.coreActions.setUnmuteVolume(n/100),t.props.coreActions.updateVolume(n/100),t.props.onPressIn()},t.onPressOut=function(e,n){n>0&&t.props.coreActions.resetUnmuteVolume(),t.props.onPressOut()},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.profile,n=e.volume,r=e.isMuted,i=e.isActive,a=r?0:100*n,o=t.volumeSlider,s=o.activeBackgroundColor,u=o.backgroundColor,c={backgroundColor:i?s:u};y.environmentUtils.isMobile()&&(c.backgroundColor=s);var f=t.volumeControl;return l.default.createElement(d.View,{style:[_.container,c]},l.default.createElement(m.default,{knobSize:f.knobSize,height:f.height,containerHeight:f.containerHeight,backgroundColor:f.backgroundColor,primaryColor:f.primaryColor,knobColor:f.knobColor,primaryPercentage:a,onMove:this.onMove,onPressIn:this.onPressIn,onPressOut:this.onPressOut,testID:g.default.testIDs.volumeSlider,accessibilityLabel:g.default.testIDs.volumeSlider,rounded:!0}))},t}(l.Component),_=d.StyleSheet.create({container:a({width:90,position:"absolute",left:0,top:0,alignItems:"center",flex:1,flexDirection:"row",paddingLeft:10,paddingRight:20,height:"100%"},y.styleUtils.webStyle({cursor:"default"}))});t.default=f.connect((function(e){return{playerType:v.coreSelectors.activePlayer(e).playerType,profile:e.theme.profiles[e.theme.activeProfile],volume:e.core.volume,isMuted:e.core.isMuted}}),(function(e){return{coreActions:p.bindActionCreators(h.coreActionCreators,e)}}))(b)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=r(n(217)),o=r(n(801)),s=r(n(802)),u=r(n(803));t.default=function(e){var t=e.componentStyle,n=e.flush,r=e.knobPosition,c=e.knobColor,l=e.knobSize,d=n?o.default:a.default,f=l/2;return i.default.createElement(d,{knobSize:l},i.default.createElement(u.default,{width:r,style:{marginLeft:f}},i.default.createElement(s.default,{color:c,size:l,scale:t.scale})))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=r(n(217));t.default=function(e){var t=e.children,n=e.knobSize,r=[s.flushContainer,{marginLeft:n/2,marginRight:n/2}];return i.default.createElement(a.View,{style:r},i.default.createElement(o.default,null,t))};var s=a.StyleSheet.create({flushContainer:{flex:1,height:"100%",flexDirection:"row",alignItems:"center"}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(306);t.default=function(e){var t=e.scale,n=void 0===t?1:t,r=e.color,u=e.size,c=void 0===u?16:u,l=e.opacity,d=void 0===l?1:l;return i.default.createElement(a.Animated.View,{style:[s.knob,{width:c,height:c,backgroundColor:r,borderRadius:c/2,transform:[{scale:n}],opacity:d}],testID:o.testIDs.knob,accessibilityLabel:o.testIDs.knob})};var s=a.StyleSheet.create({knob:{shadowOffset:{width:0,height:0},shadowOpacity:.6,shadowRadius:4}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3);t.default=function(e){var t=e.children,n=e.width,r=e.style,s=[o.knobPositionContainer,{width:n+"%"},r];return i.default.createElement(a.View,{style:s},t)};var o=a.StyleSheet.create({knobPositionContainer:{flexDirection:"row",justifyContent:"flex-end"}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=r(n(12)),s=r(n(805)),u=r(n(357));t.default=function(e){var t=e.activeHeight,n=e.animHeight,r=e.height,a=e.markers,l=e.testID;return i.default.createElement(u.default,{height:r,animHeight:n,testID:l,accessibilityLabel:l},a.map((function(e,n){return i.default.createElement(s.default,{key:n,width:e.width||t,backgroundColor:e.backgroundColor,style:[c.root,e.style],percentage:e.percentage,testID:o.default.testIDs.marker,accessibilityLabel:o.default.testIDs.marker})})))};var c=a.StyleSheet.create({root:{height:"100%",position:"absolute"}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkerElement=void 0;var i=r(n(1)),a=n(3);t.MarkerElement=function(e){var t=e.style,n=e.width,r=e.backgroundColor;return i.default.createElement(a.View,{style:[t,{width:n,backgroundColor:r}]})};var o=a.StyleSheet.create({markerElement:{position:"absolute",right:0}});t.default=function(e){var n=e.percentage,r=e.style,s=e.width,u=e.backgroundColor,c=e.testID;return i.default.createElement(a.View,{style:{width:n+"%"},testID:c,accessibilityLabel:c},i.default.createElement(t.MarkerElement,{style:[r,o.markerElement],width:s,backgroundColor:u}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(1)),l=n(3),d=n(7),f=n(23),p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={width:0,pageX:0},n.panResponder=null,n.onLayout=function(e){n.view.measure((function(e,t,r,i,a,o){n.setState({pageX:a})})),n.setState({width:e.nativeEvent.layout.width})},n.componentDidMount=function(){n.isComponentMounted=!0},n.componentWillUnmount=function(){n.isComponentMounted=!1},n.initPanResponder=function(){return l.PanResponder.create({onStartShouldSetPanResponder:function(e,t){return!0},onMoveShouldSetPanResponder:function(e,t){return!0},onPanResponderGrant:function(e,t){var r=t.x0-n.state.pageX,i=f.calculatePercentage(r,n.state.width);n.props.onPressIn&&n.props.onPressIn(e,i,r,n.state.width)},onPanResponderMove:function(e,t){if(n.isComponentMounted){var r=t.moveX-n.state.pageX,i=f.calculatePercentage(r,n.state.width);n.props.onMove&&n.props.onMove(e,i,r,n.state.width)}},onPanResponderRelease:function(e,t){if(n.isComponentMounted){var r=(t.moveX||t.x0)-n.state.pageX,i=f.calculatePercentage(r,n.state.width);n.props.onPressOut&&n.props.onPressOut(e,i,r,n.state.width)}}})},n.panResponder=n.initPanResponder(),n}return i(t,e),t.prototype.render=function(){var e=this,t=[h.container];return c.default.createElement(l.View,a({style:t,onLayout:function(t){return e.onLayout(t)},ref:function(t){return e.view=t}},this.panResponder.panHandlers),this.props.children)},t}(c.Component),h=l.StyleSheet.create({container:a(a({},d.styleUtils.webStyle({userSelect:"none"})),{height:"100%",flex:1,flexDirection:"row",alignItems:"center"})});t.default=p},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(7);t.default=function(e){var t=e.children,n=e.containerRef,r=e.height,u=e.hoverable,c=e.opacity,l=e.animOpacity,d=e.onBlur,f=e.onFocus,p=e.onMouseMove,h=e.onMouseEnter,v=e.onMouseLeave,m=e.testID,g=(e.accessibilityLabel,[s.topLevelContainer,{maxHeight:r,opacity:l||c},u?o.styleUtils.webStyle({cursor:"pointer"}):null]);return i.default.createElement(a.Animated.View,{style:g,onBlur:d,onFocus:f,onMouseMove:p,onMouseEnter:h,onMouseLeave:v,testID:m,accessibilityLabel:m,ref:n},t)};var s=a.StyleSheet.create({topLevelContainer:{height:"100%",flex:1,flexDirection:"row",alignItems:"center"}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=c(n(121)),g=c(n(61)),y=c(n(26)),b=n(27),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collapseTimeout=null,t.expandTimeout=null,t.state={width:null,textContainerWidth:null},t.onTextContainerLayout=function(e){t.state.textContainerWidth||t.setState({width:new d.Animated.Value(0),textContainerWidth:e.nativeEvent.layout.width+16})},t.onPress=function(e){var n=t.props,r=n.adsPlayerActions,i=n.ellationAnalyticsActions,a=n.playerActions,o=n.playerType,s=n.url;(o===b.PlayerType.ADS?r:a).requestPause("PlayPauseButton");var u={ActionDetail:{pageOrScreen:"Episode",position:"videoPlayer-ad",referrer:document.referrer,textOfButtonOrLink:y.default.t("button.premiumUpsellCTA")},upsellType:"free trial"};i.upsellSelected(u);var c=s.replace("<referrer>",document.referrer);window.open(c,"_blank").focus()},t.onHoverIn=function(){t.expand()},t.onHoverOut=function(){t.collapse()},t.expand=function(){clearTimeout(t.expandTimeout),t.expandTimeout=null,d.Animated.timing(t.state.width,{toValue:t.state.textContainerWidth,duration:1e3*t.props.animationDuration,useNativeDriver:!1}).start()},t.collapse=function(){clearTimeout(t.collapseTimeout),t.collapseTimeout=null,d.Animated.timing(t.state.width,{toValue:0,duration:1e3*t.props.animationDuration,useNativeDriver:!1}).start()},t.startButtonAnimations=function(){var e=t.props,n=e.timeTillCollapse,r=e.timeTillExpand;t.expandTimeout||(t.expandTimeout=setTimeout(t.expand,1e3*r)),t.collapseTimeout||(t.collapseTimeout=setTimeout(t.collapse,1e3*(n+r)))},t}return i(t,e),t.prototype.componentDidUpdate=function(e,t){this.startButtonAnimations()},t.prototype.render=function(){var e=this.props,t=e.isPremiumUpsellCTAVisible,n=e.profile,r=e.theme,i=n.premiumUpsellCTA;if(!t||!i)return null;var o=r.icons.premiumUpsell;return l.default.createElement(m.default,{onHoverIn:this.onHoverIn,onHoverOut:this.onHoverOut},l.default.createElement(g.default,{style:i.container,onPress:this.onPress},l.default.createElement(d.View,{testID:"upsell_icon_view",style:i.iconContainer},l.default.createElement(d.Image,{testID:"upsell_icon",source:o,style:i.icon})),l.default.createElement(d.Animated.View,{onLayout:this.onTextContainerLayout,testID:"upsell_text_view",style:a(a({},i.textContainer),{width:this.state.width,opacity:this.state.textContainerWidth?1:0})},l.default.createElement(d.Text,{testID:"upsell_text",style:i.text},y.default.t("button.premiumUpsellCTA")))))},t}(l.Component);t.default=f.connect((function(e){var t;return{animationDuration:e.configuration.premiumUpsellCTA.animationDuration,playerType:null===(t=v.coreSelectors.activePlayer(e))||void 0===t?void 0:t.playerType,isPremiumUpsellCTAVisible:e.ellation.isPremiumUpsellCTAVisible,profile:e.theme.profiles[e.theme.activeProfile],showOn:e.configuration.premiumUpsellCTA.showOn,theme:e.theme,timeTillCollapse:e.configuration.premiumUpsellCTA.timeTillCollapse,timeTillExpand:e.configuration.premiumUpsellCTA.timeTillExpand,url:e.configuration.premiumUpsellCTA.url}}),(function(e){return{adsPlayerActions:p.bindActionCreators(h.adsPlayerActionCreators,e),ellationAnalyticsActions:p.bindActionCreators(h.ellationAnalyticsActionCreators,e),playerActions:p.bindActionCreators(h.playerActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),u=n(3),c=o(n(218)),l=o(n(810)),d=n(157),f=o(n(221)),p=o(n(87)),h=o(n(123)),v=o(n(78)),m=a(n(124)),g=n(23),y=u.StyleSheet.create({container:{flex:1,justifyContent:"space-between"},topBar:{flexDirection:"row",justifyContent:"space-between"},controlsContainer:{flexDirection:"row"},middleBar:{justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",flex:1,width:g.percentage(280,g.mobileWidth),marginLeft:"auto",marginRight:"auto",marginTop:-12},middleBarTablet:{width:g.percentage(460,g.tabletWidth),marginTop:-4},uselessBottomBar:{width:"100%",height:36}});t.default=function(e){var t=e.layoutName,n=e.player,r=e.isActive,i=e.isFullscreen,a=n.isLoaded,o=n.isSeeking,g=n.isWaiting,b=a&&!o&&!g,_=t===d.AdsLayouts.AdsTablet,A=[y.middleBar,_?y.middleBarTablet:null];return r?s.default.createElement(u.View,{style:y.container},s.default.createElement(u.View,{style:y.topBar},s.default.createElement(u.View,{style:y.controlsContainer},!i&&s.default.createElement(p.default,null)),s.default.createElement(u.View,{style:y.controlsContainer},s.default.createElement(f.default,null),s.default.createElement(m.default,{appears:m.SettingsMenuLocation.UPPER_RIGHT}),s.default.createElement(h.default,null))),s.default.createElement(u.View,{style:A},b&&s.default.createElement(v.default,{size:"large"})),s.default.createElement(c.default,{pointerEvents:"none",style:y.uselessBottomBar}),s.default.createElement(l.default,null)):s.default.createElement(l.default,null)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),u=n(3),c=n(6),l=n(14),d=n(2),f=o(n(354)),p=a(n(40)),h=o(n(26)),v=o(n(359)),m=["rgba(0,0,0,0)","rgba(0,0,0,1)"],g=u.StyleSheet.create({container:{bottom:0,flexDirection:"column-reverse",height:47,position:"absolute",width:"100%"},progressContainer:{height:2,width:"100%"},textContainer:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"center",marginBottom:9},text:{color:"#ffffff",fontFamily:"Lato-Semibold",fontSize:14,lineHeight:16,marginRight:8},icon:{alignItems:"center",display:"flex",height:12,justifyContent:"center",width:12},touchableContainer:{alignSelf:"center",bottom:0,height:40,position:"absolute",width:212}});t.default=c.connect((function(e){return{ads:e.adsManager,icons:e.theme.icons}}),(function(e){return{adsManagerActions:l.bindActionCreators(d.adsManagerActionCreators,e),playerActions:l.bindActionCreators(d.playerActionCreators,e)}}))((function(e){var t=e.ads,n=e.adsManagerActions,r=e.icons,i=e.playerActions,a=t.targetAdSlotIndex+1,o=t.numberOfAdsInBreak,c=p.getCurrentAdSlot(t),l=null==c?void 0:c.clickThroughUrl,d=h.default.t("adsV2.adNumberStatus",{currentAdNumber:a,totalAds:o});l&&(d+=" - "+h.default.t("adsV2.visitAdvertiser"));return s.default.createElement(v.default,{start:{x:0,y:0},end:{x:0,y:1},colors:m,style:g.container},s.default.createElement(u.View,{style:g.progressContainer},s.default.createElement(f.default,null)),s.default.createElement(u.View,{style:g.textContainer},s.default.createElement(u.Text,{style:g.text},d),l&&s.default.createElement(u.Image,{style:g.icon,source:r.externalSite})),l&&s.default.createElement(u.TouchableWithoutFeedback,{onPress:function(e){l&&(i.requestPause("AdsInteractiveBar"),u.Linking.openURL(l)),n.clickedAd(e)}},s.default.createElement(u.View,{style:g.touchableContainer})))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CastButton=void 0,t.default={},t.CastButton=function(){return null}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsMenu=void 0;var d=u(n(1)),f=n(155),p=n(3),h=n(6),v=n(14),m=n(2),g=n(8),y=l(n(61)),b=l(n(12)),_=l(n(32)),A=l(n(222)),S=l(n(26)),E=n(33),w=n(7),T=n(124),P=n(813),C=l(n(158)),O=n(162),k=w.environmentUtils.isRoku(),I=w.environmentUtils.isYoui(),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focusedEntryType:w.environmentUtils.isYoui()?P.entries[0].type:null,selectedEntry:null},t.componentDidUpdate=function(e){if(w.environmentUtils.isYoui()){var n=t.props,r=n.ui,i=n.uiActions;r.isBackRequested&&!e.ui.isBackRequested&&(null===t.state.selectedEntry?(i.hideSettingsMenu(),i.completeBack()):(t.onBackPress(),i.completeBack()))}},t.componentDidMount=function(){w.environmentUtils.isJest()||w.environmentUtils.isWeb()&&(t.containerNode=p.findNodeHandle(t),w.environmentUtils.isMobileWeb()?setTimeout((function(){return window.addEventListener("touchstart",t.handleClick,!1)}),10):setTimeout((function(){return window.addEventListener("click",t.handleClick)}),10),window.addEventListener("keydown",t.handleKeyDown))},t.handleClick=function(e){if(w.environmentUtils.isWeb()){var n=document.getElementById("settingsControl");if(n&&n.contains(e.target))return}t.containerNode.contains(e.target)||(t.props.uiActions.hideSettingsMenu(),_.default.unlock())},t.handleKeyDown=function(e){var n=t.props;27===e.keyCode&&n.ui.isSettingsMenuVisible&&(n.uiActions.hideSettingsMenu(),_.default.unlock())},t.onBackPress=function(){return t.setState({focusedEntryType:t.state.selectedEntry,selectedEntry:null})},t.renderSubmenu=function(e,n){var r=e.find((function(e){return e.type===n})).SubmenuComponent;return d.default.createElement(r,{onBackPress:t.onBackPress})},t.renderSubmenuLinks=function(e){var n=t.props.icons,r=e.map((function(e){var r=e.type,i=e.MenuLinkComponent;return d.default.createElement(i,{key:r,hasInitialFocus:r===t.state.focusedEntryType,icons:n,onPress:function(){return t.setState({selectedEntry:r})}})}));return I?d.default.createElement(d.default.Fragment,null,d.default.createElement(C.default,{text:S.default.t("button.settings")}),r):r},t.filterByExperimental=function(e){var n,r=e.experimental,i=e.type;return!r||!!(null===(n=t.props.configuration[i])||void 0===n?void 0:n.enabled)},t}return i(t,e),t.prototype.componentWillUnmount=function(){w.environmentUtils.isWeb()&&(w.environmentUtils.isMobileWeb()?window.removeEventListener("touchstart",this.handleClick):window.removeEventListener("click",this.handleClick),window.removeEventListener("keydown",this.handleKeyDown))},t.prototype.render=function(){var e,t=this.props,n=t.appears,r=t.dimensions,i=t.isAdvancedQualityControlsEnabled,o=t.player,s=t.profile,u=t.opacity,l=(s.smallIcons||s.largeIcons).containerSize,f=s.settingsControl,h=f.backgroundColor,v=f.maxHeight,m=this.state.selectedEntry,g=!!m;if(!s)return null;var _=a(a({},w.styleUtils.webStyle({cursor:"default"})),{position:"absolute",width:O.SETTINGS_MENU_WIDTH,backgroundColor:h,maxHeight:(null==r?void 0:r.height)<v?r.height-80:v,opacity:u});switch(n){case T.SettingsMenuLocation.BOTTOM_RIGHT:_.bottom=l,_.right=0;break;case T.SettingsMenuLocation.UPPER_LEFT:_.top=l,_.left=0;break;case T.SettingsMenuLocation.UPPER_RIGHT:_.top=l,_.right=0;break;case T.SettingsMenuLocation.BOTTOM_LEFT:_.top=l,_.left=0}var S=s.settingsMenu||{},E=S.container,C=S.rootMenu,I=[!g&&C,_,null===(e=s.settingsMenu)||void 0===e?void 0:e.menu,k&&D.rokuMenu].filter(Boolean),x=Boolean(A.default(null==o?void 0:o.videoTracks).length),R=c(P.entries.filter(this.filterByExperimental),x?[P.qualityEntry].filter(this.filterByExperimental):[],i?P.advancedEntries.filter(this.filterByExperimental):[]);return d.default.createElement(y.default,{style:E},d.default.createElement(p.Animated.View,{style:I,pointer:!0,nativeID:"vilosSettingsMenu",testID:b.default.testIDs.settingsMenu,accessibilityLabel:b.default.testIDs.settingsMenu},g&&this.renderSubmenu(R,m),!g&&this.renderSubmenuLinks(R)))},t}(d.Component);t.SettingsMenu=x;var D=p.StyleSheet.create({rokuMenu:{top:-E.toRelativeScale(140),right:-E.toRelativeScale(45)}});t.default=h.connect((function(e){return{configuration:e.configuration,dimensions:e.theme.dimensions,icons:e.theme.icons,isAdvancedQualityControlsEnabled:e.core.isAdvancedQualityControlsEnabled,player:g.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],ui:e.ui}}),(function(e){return{uiActions:v.bindActionCreators(m.uiActionCreators,e)}}))(f.cold(x))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.designEntry=t.advancedEntries=t.qualityEntry=t.entries=void 0;var i=r(n(814)),a=r(n(816)),o=r(n(817)),s=r(n(818)),u=r(n(819)),c=r(n(821)),l=r(n(823)),d=r(n(825)),f=r(n(826)),p=r(n(827)),h=n(162),v=r(n(829)),m=r(n(831));t.entries=[{type:h.EntryType.AUTOPLAY_TOGGLE,MenuLinkComponent:a.default,SubmenuComponent:i.default},{type:h.EntryType.TEXT_TRACKS,MenuLinkComponent:v.default,SubmenuComponent:m.default},{type:h.EntryType.REPORT_A_PROBLEM,MenuLinkComponent:f.default,SubmenuComponent:p.default,experimental:!0}],t.qualityEntry={type:h.EntryType.QUALITY,MenuLinkComponent:l.default,SubmenuComponent:d.default},t.advancedEntries=[{type:h.EntryType.FILTER,MenuLinkComponent:u.default,SubmenuComponent:c.default}],t.designEntry={type:h.EntryType.DESIGN,MenuLinkComponent:s.default,SubmenuComponent:o.default}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.autoplayOptions=void 0;var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=c(n(12)),v=n(57),m=c(n(26)),g=n(7),y=c(n(158)),b=c(n(223));t.autoplayOptions=[{translationKey:"settings.onOption",value:!0},{translationKey:"settings.offOption",value:!1}];var _=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectItem=function(e){t.props.coreActions.updatePreference({preference:v.Preference.IS_UP_NEXT_AUTOPLAY_ENABLED,value:e})},t}return i(n,e),n.prototype.render=function(){var e=this.props,n=e.icons,r=e.onBackPress,i=e.profile,o=e.isUpNextAutoPlayEnabled,s=t.autoplayOptions.map((function(e){return a(a({},e),{isSelected:e.value===o,text:m.default.t(e.translationKey)})}));return l.default.createElement(l.default.Fragment,null,g.environmentUtils.isYoui()&&l.default.createElement(y.default,{text:m.default.t("settings.autoplayLabel")}),l.default.createElement(b.default,{data:s,icons:n,onBackPress:r,onSelectItem:this.onSelectItem,profile:i,title:m.default.t("settings.autoplayLabel"),testID:h.default.testIDs.settingsAutoplayMenuItem,accessibilityLabel:h.default.testIDs.settingsAutoplayMenuItem}))},n}(l.Component);t.default=d.connect((function(e){return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile],isUpNextAutoPlayEnabled:e.core.preferences.isUpNextAutoplayEnabled}}),(function(e){return{coreActions:f.bindActionCreators(p.coreActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(n(1)),f=n(3),p=n(6),h=n(33),v=function(e){function t(t){var n=e.call(this,t)||this;return n.button=void 0,n.handleRef=function(e){return c(n,void 0,void 0,(function(){var t=this;return l(this,(function(n){return this.button||(this.state.isFocused?this.setState({hasRef:!0}):setTimeout((function(){return t.setState({hasRef:!0})}),150),this.button=e,this.state.isFocused&&setTimeout(this.focusSelf,0)),[2]}))}))},n.focusSelf=function(){return c(n,void 0,void 0,(function(){return l(this,(function(e){return this.button&&this.button.focus(),[2]}))}))},n.handleFocus=function(){return n.setState({isFocused:!0})},n.handleBlur=function(){return n.setState({isFocused:!1})},n.state={hasRef:!1,isFocused:t.hasInitialFocus||t.isSelected},n}return i(t,e),t.prototype.componentDidUpdate=function(e,t){!t.isFocused&&this.state.isFocused&&this.focusSelf()},t.prototype.render=function(){var e=this.props,t=e.title,n=e.disabled,r=e.onPress,i=e.showState,a=e.stateText,o=e.icons,s=e.isSelected,u=e.profile,c=e.testID,l=this.state,p=l.isFocused,h=l.hasRef,v=p&&h,g=v?m.buttonFocused:m.button,y=i?": "+a:"",b=!!o&&s,_=v?"#e56a17":"transparent",A="#a0a0a0",S="inherit";s&&v?(A=u.settingsControl.backgroundColor,S=A=u.settingsControl.backgroundColor):s?(A=u.settingsControl.activeColor,S=u.settingsControl.activeColor):v&&(A=u.settingsControl.backgroundColor);var E=[m.icon,{tintColor:S}],w=[u.settingsMenu.menuItem.title,{color:A}];return d.default.createElement(f.View,{style:{backgroundColor:_}},d.default.createElement(f.TouchableHighlight,{activeOpacity:1,underlayColor:_,style:g,ref:this.handleRef,onFocus:this.handleFocus,onBlur:this.handleBlur,onPress:r,testID:c,accessibilityLabel:c,disabled:n},d.default.createElement(f.View,{style:m.content},b&&d.default.createElement(f.Image,{source:o.checkmark,resizeMode:"contain",style:E}),d.default.createElement(f.Text,{style:w,testID:c+"_text",accessibilityLabel:c+"_text"},t,y))))},t}(d.Component),m=f.StyleSheet.create({content:{flexDirection:"row"},button:{padding:h.toRelativeScale(18)},buttonFocused:{padding:h.toRelativeScale(18)},icon:{width:h.toRelativeScale(40),height:h.toRelativeScale(40),marginRight:5}}),g=p.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}),null)(v);t.default=function(e){return d.default.createElement(g,a({},e))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(6),o=n(14),s=n(2),u=n(224),c=r(n(12)),l=n(57),d=r(n(26));t.default=a.connect((function(e){return{isUpNextAutoPlayEnabled:e.core.preferences.isUpNextAutoplayEnabled,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{coreActions:o.bindActionCreators(s.coreActionCreators,e)}}))((function(e){var t=e.coreActions,n=e.isUpNextAutoPlayEnabled,r=e.profile;return i.default.createElement(u.SettingsMenuToggleSwitch,{passPressToItem:!0,onPress:function(){t.updatePreference({preference:l.Preference.IS_UP_NEXT_AUTOPLAY_ENABLED,value:!n})},profile:r,style:{padding:0},isToggled:n,text:d.default.t("settings.autoplayLabel"),testID:c.default.testIDs.settingsAutoplayToggle,accessibilityLabel:c.default.testIDs.settingsAutoplayToggle})}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=n(41),g=c(n(158)),y=c(n(223)),b=[{text:"Design 1",value:m.LayoutDesign.TV_DESIGN_1},{text:"Design 2",value:m.LayoutDesign.TV_DESIGN_2}],_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.onBackPress,r=e.profile,i=e.uiActions,o=e.selectedDesign,s=e.controlsActions,u=e.isCasting,c=b.map((function(e){return a(a({},e),{isSelected:e.value===o})}));return l.default.createElement(d.View,null,l.default.createElement(g.default,{text:"Design"}),l.default.createElement(y.default,{data:c,icons:t,onBackPress:n,onSelectItem:function(e){return i.selectDesign(e),!u&&s.deactivateControls(!1)},profile:r,title:"Design"}))},t}(l.Component);t.default=f.connect((function(e){return{isCasting:e.core.castingState.isCasting,icons:e.theme.icons,player:v.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],selectedDesign:e.ui.selectedDesign}}),(function(e){return{uiActions:p.bindActionCreators(h.uiActionCreators,e),controlsActions:p.bindActionCreators(h.controlsActionCreators,e)}}))(_)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsFilterMenuLink=void 0;var c=s(n(1)),l=n(6),d=u(n(12)),f=u(n(160)),p=u(n(820)),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.onPress,r=e.profile;e.filterType;return c.default.createElement(f.default,{icons:t,label:"Advanced Controls",onPress:n,profile:r,testID:d.default.testIDs.settingsFiltersSubMenuLink,accessibilityLabel:d.default.testIDs.settingsFiltersSubMenuLink},c.default.createElement(p.default,null))},t}(c.Component);t.SettingsFilterMenuLink=h;t.default=l.connect((function(e){var t;return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile],filterType:null===(t=e.ui.alternativePlayerRenderer)||void 0===t?void 0:t.type}}))(h)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(n(1)),f=n(6),p=l(n(161)),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.mainMenu,n=e.filterType,r=e.profile,i=c(e,["mainMenu","filterType","profile"]),o=Boolean(n);return d.default.createElement(p.default,a({mainMenu:t,profile:r,text:n},i,{isSelected:o}))},t.defaultProps={mainMenu:!1},t}(d.Component);t.default=f.connect((function(e){var t;return{profile:e.theme.profiles[e.theme.activeProfile],filterType:null===(t=e.ui.alternativePlayerRenderer)||void 0===t?void 0:t.type}}))(h)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(224),m=c(n(12)),g=n(43),y=n(41),b=n(23),_=c(n(360)),A=c(n(822)),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleAnime4k=function(){t.props.uiActions.toggleAlternativePlayerRenderer(y.AlternativeRendererType.anime4k)},t.updateAttribute=function(e){return function(n){var r,i,o=t.props.ui;t.props.uiActions.setAlternativePlayerRenderer(a(a({},o.alternativePlayerRenderer),{attributes:a(a({},null===(i=o.alternativePlayerRenderer)||void 0===i?void 0:i.attributes),(r={},r[e]=Number((n/100*8).toFixed(4))||.001,r))}))}},t}return i(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.allowedRestrictions,i=n.icons,a=n.profile,o=n.onBackPress,s=n.ui,u=a.settingsSubmenu,c=(null===(e=s.alternativePlayerRenderer)||void 0===e?void 0:e.attributes)||{},f=c.blur,p=c.bold,h=(null===(t=s.alternativePlayerRenderer)||void 0===t?void 0:t.type)===y.AlternativeRendererType.anime4k,S=b.containsRestriction(r,g.ContentRestriction.PREMIUM);return l.default.createElement(d.View,{style:E.container},l.default.createElement(_.default,{icons:i,onPress:o,profile:a,testID:m.default.testIDs.filterSubmenuBackButton,accessibilityLabel:m.default.testIDs.filterSubmenuBackButton,title:"Advanced Controls"}),S?l.default.createElement(v.SettingsMenuToggleSwitch,{passPressToItem:!0,profile:a,style:E.itemContainer,containerStyles:E.itemContainer,onPress:this.toggleAnime4k,isToggled:h,text:y.AlternativeRendererType.anime4k}):l.default.createElement(d.View,{style:[E.premiumContainer]},l.default.createElement(d.Text,{style:[E.text,{color:u.primaryColor}]},y.AlternativeRendererType.anime4k),l.default.createElement(d.Text,{style:[E.premiumText,{color:u.secondaryColor}]},"Premium Only")),h&&l.default.createElement(l.default.Fragment,null,l.default.createElement(A.default,{text:"Bold",theme:u,onMove:this.updateAttribute("bold"),onPressIn:this.updateAttribute("bold"),onPressOut:this.updateAttribute("bold"),percentage:p/8*100,valueLabel:p.toFixed(1)}),l.default.createElement(A.default,{text:"Blur",theme:u,onMove:this.updateAttribute("blur"),onPressIn:this.updateAttribute("blur"),onPressOut:this.updateAttribute("blur"),percentage:f/8*100,valueLabel:f.toFixed(1)})))},t}(l.Component),E=d.StyleSheet.create({container:{paddingBottom:10},itemContainer:{height:20,width:"100%",paddingTop:20,paddingBottom:20},premiumContainer:{display:"flex",flexDirection:"row",paddingVertical:10,paddingHorizontal:20},text:{flex:1,fontWeight:"500"},premiumText:{fontWeight:"500"}});t.default=f.connect((function(e){return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile],ui:e.ui,allowedRestrictions:e.configuration.user.allowedRestrictions}}),(function(e){return{uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))(S)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=u(n(220)),f=u(n(12)),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.text,n=e.theme,r=e.percentage,i=e.style,a=e.onMove,o=e.onPressIn,s=e.onPressOut,u=e.valueLabel;return c.default.createElement(l.View,{style:[h.container,i]},c.default.createElement(l.Text,{style:[h.text,{color:n.primaryColor}]},t),c.default.createElement(d.default,{knobSize:16,height:10,backgroundColor:n.backgroundColor,primaryColor:n.primaryColor,knobColor:n.secondaryColor,primaryPercentage:r,onMove:function(e,t){return a(t)},onPressIn:function(e,t){return o(t)},onPressOut:function(e,t){return s(t)},testID:f.default.testIDs.filterSubmenuSlider,accessibilityLabel:f.default.testIDs.filterSubmenuSlider,rounded:!0,flush:!0}),c.default.createElement(l.Text,{style:[h.valueLabel,{color:n.primaryColor}]},u))},t}(c.Component);t.default=p;var h=l.StyleSheet.create({container:{height:"54px",width:"100%",alignItems:"center",display:"flex",flex:1,flexDirection:"row",paddingHorizontal:20,paddingVertical:10},slideBarContainer:{paddingHorizontal:36},text:{paddingRight:32},valueLabel:{paddingLeft:32}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(8),f=u(n(12)),p=u(n(26)),h=n(7),v=u(n(160)),m=u(n(824)),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.onPress,r=e.player,i=e.profile;return h.environmentUtils.isWeb()||h.environmentUtils.isMobileNative()&&r.videoTracks.length?c.default.createElement(v.default,{icons:t,label:p.default.t("settings.qualityLabel"),onPress:n,profile:i,testID:f.default.testIDs.settingsQualitySubMenu,accessibilityLabel:f.default.testIDs.settingsQualitySubMenu},c.default.createElement(m.default,null)):null},t}(c.Component);t.default=l.connect((function(e){return{icons:e.theme.icons,player:d.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile]}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=u(n(1)),f=n(6),p=n(8),h=n(28),v=n(7),m=l(n(161)),g=l(n(222)),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.mainMenu,n=e.player,r=e.profile,i=c(e,["mainMenu","player","profile"]),o=n.abrIndex,s=n.activeVideoTrackQuality,u=n.videoTracks,l=g.default(u,s).find((function(e){return e.isSelected}));if(t&&(null==l?void 0:l.value)===h.VIDEO_QUALITY_AUTO&&"number"==typeof o){var f=u.find((function(e,t){return t===o})).height;l.descriptionText=v.videoUtils.formatHeight(f),l.flagText=v.videoUtils.resolutionTag(f)}var p=!t&&l.isSelected;return d.default.createElement(m.default,a({mainMenu:t,profile:r},l,i,{isSelected:p}))},t.defaultProps={mainMenu:!1},t}(d.Component);t.default=f.connect((function(e){return{player:p.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile]}}))(y)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(14),f=n(2),p=n(8),h=n(57),v=u(n(26)),m=u(n(225)),g=u(n(222)),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectItem=function(e){var n=t.props,r=n.onBackPress,i=n.onSelectItem;t.props.playerActions.setVideoTrackQuality(e),t.props.coreActions.updatePreference({preference:h.Preference.SELECTED_QUALITY,value:e}),i?i():r()},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.onBackPress,r=e.player,i=e.profile,a=r.activeVideoTrackQuality,o=r.videoTracks,s=g.default(o,a);return c.default.createElement(m.default,{data:s,icons:t,onBackPress:n,onSelectItem:this.onSelectItem,profile:i,title:v.default.t("settings.qualityLabel")})},t}(c.Component);t.default=l.connect((function(e){return{icons:e.theme.icons,player:p.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{coreActions:d.bindActionCreators(f.coreActionCreators,e),playerActions:d.bindActionCreators(f.playerActionCreators,e)}}))(y)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(6),o=r(n(12)),s=r(n(160)),u=r(n(26));t.default=a.connect((function(e){return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){var t=e.icons,n=e.profile,r=e.onPress;return i.default.createElement(s.default,{icons:t,label:u.default.t("reportProblem.menuLabel"),onPress:r,profile:n,testID:o.default.testIDs.reportProblemSubmenu,accessibilityLabel:o.default.testIDs.reportProblemSubmenu})}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(14),p=n(2),h=u(n(61)),v=u(n(12)),m=u(n(225)),g=u(n(26)),y=u(n(828)),b="#cccccc",_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={baseColor:"#b0aebb"},t.REPORT_TOPICS=[{text:g.default.t("reportProblem.menuItem.video_problem"),value:"video_problem"},{text:g.default.t("reportProblem.menuItem.buffering_problem"),value:"buffering_problem"},{text:g.default.t("reportProblem.menuItem.subtitle_problem"),value:"subtitle_problem"},{text:g.default.t("reportProblem.menuItem.audio_video_not_synced"),value:"audio_video_not_synced"},{text:g.default.t("reportProblem.menuItem.subs_video_not_synced"),value:"subs_video_not_synced"},{text:g.default.t("reportProblem.menuItem.ads_are_annoying"),value:"ads_are_annoying"},{text:g.default.t("reportProblem.menuItem.other_playback_issue"),value:"other_playback_issue"}],t.render=function(){var e=t.state.baseColor,n=t.props,r=n.icons,i=n.profile,a=n.onBackPress,o=n.reportProblem,s=t.REPORT_TOPICS.map((function(e){var t=e.text,n=e.value;return{isSelected:n===o.issueId,text:t,value:n}})),u=[A.ctaButton,o.issueId?A.ctaButtonEnabled:A.ctaButtonDisabled],d=[A.ctaButtonText,o.issueId?A.ctaButtonTextEnabled:A.ctaButtonTextDisabled];return c.default.createElement(c.default.Fragment,null,c.default.createElement(m.default,{data:s,icons:r,onBackPress:a,onSelectItem:t.handleSetReportTopic,profile:i,title:g.default.t("reportProblem.menuLabel"),testID:v.default.testIDs.settingsTextTrackSubMenuItem,accessibilityLabel:v.default.testIDs.settingsTextTrackSubMenuItem}),c.default.createElement(l.View,{style:A.container},c.default.createElement(l.View,{style:A.inputContainer},c.default.createElement(y.default,{baseColor:e,color:b,disabled:!o.issueId,maxLength:480,numberOfLines:5,onBlur:t.onBlur,onChange:t.handleSetReportDescription,onFocus:t.onFocus,placeholder:g.default.t("reportProblem.textfieldPlaceholderText"),placeholderTextColor:"#59595b",value:o.issueText,testID:v.default.testIDs.reportProblemTextField,accessibilityLabel:v.default.testIDs.reportProblemTextField})),c.default.createElement(l.View,{style:A.ctaContainer},c.default.createElement(h.default,{disabled:!o.issueId,onPress:t.handleReportProblem,style:u,testID:v.default.testIDs.reportProblemButton,accessibilityLabel:v.default.testIDs.reportProblemButton},c.default.createElement(l.Text,{style:d},g.default.t("reportProblem.reportButtonText"))))))},t.onFocus=function(){t.setState({baseColor:"#fab818"})},t.onBlur=function(){t.setState({baseColor:"#b0aebb"})},t.handleSetReportTopic=function(e){var n,r=null===(n=t.REPORT_TOPICS.find((function(t){var n=t.value;return e===n})))||void 0===n?void 0:n.text;t.props.coreActions.setReportProblemTopic({issueId:e,issueTitle:r})},t.handleSetReportDescription=function(e){e.preventDefault(),t.props.coreActions.setReportProblemDescription(e.nativeEvent.text)},t.handleReportProblem=function(e){e.preventDefault(),t.props.coreActions.reportProblem(),t.props.uiActions.hideSettingsMenu(),t.props.uiActions.showToastOverlay(g.default.t("reportProblem.toastMessageSuccess")),setTimeout(t.props.uiActions.hideToastOverlay,2e3),t.props.coreActions.resetReportProblem()},t}return i(t,e),t.prototype.componentWillUnmount=function(){var e=this.props,t=e.coreActions,n=e.reportProblem;(n.issueId||n.issueText)&&t.resetReportProblem()},t}(c.PureComponent),A=l.StyleSheet.create({container:{display:"flex",flexDirection:"row",height:70,margin:16,marginTop:0},inputContainer:{flex:1,display:"flex",justifyContent:"flex-end"},ctaContainer:{marginLeft:24,display:"flex",justifyContent:"flex-end"},ctaButton:{width:80,height:38,display:"flex",alignItems:"center",justifyContent:"center"},ctaButtonEnabled:{backgroundColor:"#f47521"},ctaButtonDisabled:{backgroundColor:"transparent",borderWidth:1,borderColor:b},ctaButtonText:{fontSize:14,lineHeight:18,fontFamily:"Lato-Semibold",textAlign:"center",textAlignVertical:"center",textTransform:"uppercase"},ctaButtonTextEnabled:{fontWeight:"bold",color:"#23252b"},ctaButtonTextDisabled:{color:b}});t.default=d.connect((function(e){return{icons:e.theme.icons,profile:e.theme.profiles[e.theme.activeProfile],reportProblem:e.core.reportProblem}}),(function(e){return{coreActions:f.bindActionCreators(p.coreActionCreators,e),uiActions:f.bindActionCreators(p.uiActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={height:"auto"},t.render=function(){var e=t.props,n=e.baseColor,r=e.containerStyles,i=e.disabled,o=(e.inputStyles,e.lineStyles),s=c(e,["baseColor","containerStyles","disabled","inputStyles","lineStyles"]),u=[p.container,r],f=[p.textInput,{height:t.state.height}],h=[p.line,o,{borderColor:n}];return l.default.createElement(d.View,{style:u,pointerEvents:i?"none":"auto"},l.default.createElement(d.TextInput,a({style:f,onKeyPress:t.handleKeyPress,onContentSizeChange:t.handleContentSizeChange},s)),l.default.createElement(d.View,{style:h}))},t.handleContentSizeChange=function(e){var n=e.nativeEvent.contentSize.height;t.setState({height:n+4})},t.handleKeyPress=function(e){e.preventDefault()},t}return i(t,e),t.defaultProps={disabled:!1,containerStyles:{},inputStyles:{},placeholder:null,placeholderTextColor:null,value:"",color:"#cccccc",multiline:!0,blurOnSubmit:!0,maxLength:null,numberOfLines:null,lineStyles:{},baseColor:null},t}(l.PureComponent),p=d.StyleSheet.create({container:{},textInput:{borderRadius:0,fontFamily:"Lato-Medium",fontSize:16,lineHeight:20,marginBottom:0,paddingBottom:0},line:{borderWidth:1,height:1,marginTop:6,paddingTop:0}});t.default=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsTextTrackMenuLink=void 0;var c=s(n(1)),l=n(6),d=n(8),f=u(n(12)),p=u(n(26)),h=n(7),v=u(n(160)),m=u(n(830)),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.icons,n=e.onPress,r=e.orderedVideoTrackList,i=e.profile,a=e.textTracks,o=e.useHardSubTracks;return o&&0===r.length?null:o||0!==a.filter((function(e){return h.textTrackUtils.isSupported(e.type)})).length?c.default.createElement(v.default,{icons:t,label:p.default.t("settings.subtitlesCCLabel"),onPress:n,profile:i,testID:f.default.testIDs.settingsTextTrackSubMenuLink,accessibilityLabel:f.default.testIDs.settingsTextTrackSubMenuLink},c.default.createElement(m.default,null)):null},t}(c.Component);t.SettingsTextTrackMenuLink=g;t.default=l.connect((function(e){return{useHardSubTracks:d.playerSelectors.all(e).useHardSubTracks,icons:e.theme.icons,orderedVideoTrackList:e.media.orderedVideoTrackList,profile:e.theme.profiles[e.theme.activeProfile],textTracks:d.playerSelectors.textTracks(e)}}))(g)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(6),o=n(8),s=n(28),u=r(n(161)),c=n(362);t.default=a.connect((function(e){return{activeTextTrack:o.playerSelectors.activeTextTrack(e),media:e.media,player:o.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],textTracks:o.playerSelectors.textTracks(e)}}))((function(e){var t,n=e.activeTextTrack,r=e.media.orderedVideoTrackList,a=e.player,o=a.useHardSubTracks,l=a.activeHardSubIndex,d=e.profile,f=e.textTracks;if(o)t=c.formatHardSubTracks(r,l);else{var p=n?n.index:s.TEXT_TRACK_NONE;t=c.formatTextTrackEntries(f,p)}var h=t.find((function(e){return e.isSelected}));return i.default.createElement(u.default,{profile:d,mainMenu:!1,text:h.text,descriptionText:h.descriptionText,flagText:h.flagText,isSelected:h.isSelected})}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(14),f=n(2),p=n(8),h=u(n(12)),v=u(n(26)),m=n(28),g=n(7),y=u(n(158)),b=u(n(223)),_=u(n(225)),A=n(362),S=g.environmentUtils.isYoui(),E=S?b.default:_.default,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSelectItem=function(e){var n=t.props,r=n.player,i=n.onSelectItem,a=n.onBackPress,o=r.useExternalTextTracks,s=r.useHardSubTracks;o?t.props.playerActions.setActiveExternalTextTrack(e):s?t.props.playerActions.setActiveHardSubTrack(e):t.props.playerActions.setActiveTextTrack(e),t.props.coreActions.textTrackMenuEntryUpdated(e),i?i():a()},t}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.activeTextTrack,r=t.icons,i=t.textTracks,a=t.media,o=t.player,s=t.profile,u=o.useHardSubTracks,l=o.activeHardSubIndex,d=a.orderedVideoTrackList;e=u?l:n?n.index:m.TEXT_TRACK_NONE;var f=u?A.formatHardSubTracks(d,e):A.formatTextTrackEntries(i,e);return c.default.createElement(c.default.Fragment,null,S&&c.default.createElement(y.default,{text:v.default.t("settings.subtitlesCCLabel")}),c.default.createElement(E,{data:f,icons:r,onBackPress:this.props.onBackPress,onSelectItem:this.onSelectItem,profile:s,title:v.default.t("settings.subtitlesCCLabel"),testID:h.default.testIDs.settingsTextTrackSubMenuItem,accessibilityLabel:h.default.testIDs.settingsTextTrackSubMenuItem}))},t}(c.Component);t.default=l.connect((function(e){return{activeTextTrack:p.playerSelectors.activeTextTrack(e),icons:e.theme.icons,media:e.media,player:p.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],textTracks:p.playerSelectors.textTracks(e)}}),(function(e){return{coreActions:d.bindActionCreators(f.coreActionCreators,e),playerActions:d.bindActionCreators(f.playerActionCreators,e)}}))(w)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),u=n(3),c=o(n(221)),l=o(n(87)),d=o(n(123)),f=o(n(163)),p=a(n(124)),h=u.StyleSheet.create({container:{flex:1,justifyContent:"space-between"},topBar:{flexDirection:"row",justifyContent:"space-between",zIndex:1},controlsContainer:{flexDirection:"row"}});t.default=function(){return s.default.createElement(u.View,{style:h.container},s.default.createElement(u.View,{style:h.topBar},s.default.createElement(u.View,{style:h.controlsContainer},s.default.createElement(l.default,null)),s.default.createElement(u.View,{style:h.controlsContainer},s.default.createElement(f.default,null),s.default.createElement(c.default,null),s.default.createElement(p.default,{appears:p.SettingsMenuLocation.UPPER_RIGHT}),s.default.createElement(d.default,null))))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=c(n(218)),g=c(n(123)),y=c(n(163)),b=c(n(834)),_=c(n(78)),A=c(n(226)),S=u(n(124)),E=c(n(219)),w=c(n(227)),T=c(n(228)),P=c(n(207)),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.player,t=e.isLoaded,n=e.isSeeking,r=e.isWaiting,i=t&&!n&&!r,a=[k.textStyle,{justifyContent:"flex-start",paddingLeft:20}],o=[k.textStyle,{justifyContent:"flex-end",paddingRight:20}];return l.default.createElement(d.View,{style:k.container},i&&l.default.createElement(d.View,{style:k.middleBar},l.default.createElement(d.View,{style:k.middleControls},l.default.createElement(_.default,{size:"large"}))),l.default.createElement(d.View,{style:k.bottomBar},l.default.createElement(d.View,{style:[k.bottomGradient,P.default.webStyle(O)]}),l.default.createElement(d.View,{style:k.bottomSpacer}),l.default.createElement(d.View,{style:k.bottomControls},l.default.createElement(d.View,{style:k.bottomLeftControls},l.default.createElement(m.default,{style:k.deadZone}),l.default.createElement(_.default,{size:"small",hasActiveEffect:!0,hoverable:!0}),l.default.createElement(y.default,null),l.default.createElement(E.default,null)),l.default.createElement(d.View,{style:k.bottomRightControls},l.default.createElement(S.default,{appears:S.SettingsMenuLocation.BOTTOM_RIGHT}),l.default.createElement(b.default,null),l.default.createElement(g.default,null),l.default.createElement(m.default,{style:k.deadZone}))),l.default.createElement(d.View,{style:k.scrubBarContainer},l.default.createElement(w.default,{style:a}),l.default.createElement(A.default,{style:k.scrubBar,scaleKnob:!0}),l.default.createElement(T.default,{style:o}))))},t}(l.Component);t.default=f.connect((function(e){var t;return{playerType:null===(t=v.coreSelectors.activePlayer(e))||void 0===t?void 0:t.playerType}}),(function(e){return{coreActions:p.bindActionCreators(h.coreActionCreators,e)}}))(C);var O={backgroundImage:"linear-gradient(0deg, hsl(0, 0%, 0%) 0%,\n      hsla(0, 0%, 0%, 0.738) 19%,\n      hsla(0, 0%, 0%, 0.541) 34%,\n      hsla(0, 0%, 0%, 0.382) 47%,\n      hsla(0, 0%, 0%, 0.278) 56.5%,\n      hsla(0, 0%, 0%, 0.194) 65%,\n      hsla(0, 0%, 0%, 0.126) 73%,\n      hsla(0, 0%, 0%, 0.075) 80.2%,\n      hsla(0, 0%, 0%, 0.042) 86.1%,\n      hsla(0, 0%, 0%, 0.021) 91%,\n      hsla(0, 0%, 0%, 0.008) 95.2%,\n      hsla(0, 0%, 0%, 0.002) 98.2%,\n      hsla(0, 0%, 0%, 0) 100%\n    )"},k=d.StyleSheet.create({container:{flex:1,flexDirection:"column"},deadZone:{width:10,height:"100%"},topBar:{flex:1},middleBar:a(a({},d.StyleSheet.absoluteFillObject),{justifyContent:"center"}),middleControls:{flexDirection:"row",justifyContent:"center"},bottomBar:{height:130,justifyContent:"flex-end",position:"absolute",bottom:0,left:0,right:0},bottomSpacer:{flex:1},bottomControls:{flexDirection:"row",justifyContent:"space-between"},bottomLeftControls:{alignItems:"center",flexDirection:"row"},volumeControl:{marginLeft:20},bottomRightControls:{flexDirection:"row"},bottomGradient:a(a({},d.StyleSheet.absoluteFillObject),{opacity:.8}),scrubBarContainer:{alignItems:"center",flex:1,flexDirection:"row",justifyContent:"space-between",minHeight:46},scrubBar:{marginLeft:10,marginRight:10},textStyle:{display:"flex",flex:0,minWidth:100,height:46,alignItems:"center"}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=n(8),v=c(n(12)),m=c(n(63)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPress=function(){t.props.player.isPictureInPictureEntered?t.props.playerActions.requestExitPictureInPicture():t.props.playerActions.requestPictureInPicture()},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.core,n=e.player,r=e.profile,i=e.style,o=t.isFullscreen;return t.isPictureInPictureSupported&&!o&&v.default.isPictureInPictureEnabled?l.default.createElement(m.default,a({},r.smallIcons,{hasActiveEffect:!0,hoverable:!0,iconName:"pictureInPicture",style:i,onPress:this.onPress,testID:v.default.testIDs.pipButton,accessibilityLabel:v.default.testIDs.pipButton,testState:n.isPictureInPictureEntered?v.default.testState.pipButton.open:v.default.testState.pipButton.closed})):null},t}(l.Component);t.default=d.connect((function(e){return{core:e.core,player:h.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{playerActions:f.bindActionCreators(p.playerActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(1)),s=n(3),u=n(6),c=a(n(363)),l=a(n(22)),d=a(n(364)),f=s.StyleSheet.create({tooltip:{bottom:0,left:"50%",right:"50%",transform:l.default.isMobileNative()?[]:[{translateX:"-50%"}]}});t.default=u.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){var t=e.children,n=e.padding,a=e.profile,s=(e.relativeY,i(e,["children","padding","profile","relativeY"]));return o.default.createElement(c.default,r({},s,{padding:n,relativeY:a.scrubBar.tooltipY}),o.default.createElement(d.default,{style:f.tooltip},t))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=r(n(363)),u=r(n(364)),c=r(n(365)),l=n(58),d=r(n(22)),f=r(n(208)),p=a.StyleSheet.create({tooltip:{position:"absolute",bottom:0,alignSelf:"center"}});t.default=o.connect((function(e){return{dimensions:e.theme.dimensions,isFullScreen:e.core.isFullscreen,profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){var t=e.absoluteX,n=e.containerLeft,r=e.dimensions,a=e.isFullScreen,o=e.profile,h=e.relativeX,v=e.time,m=f.default.formatDisplayTime(v),g=o.trickscrubImages.imageHeight,y=a?16:8,b=o.trickscrubImages.relativeY;if(d.default.isMobile()){var _=o.name===l.Layout.TABLET;o.name===l.Layout.PHONE?b=r.height/2-g/2:_&&(b+=64)}return i.default.createElement(s.default,{maxX:r.width,maxY:r.height,padding:y,relativeX:h,relativeY:b,absoluteX:t,containerLeft:n},i.default.createElement(c.default,{timestamp:v}),i.default.createElement(u.default,{style:p.tooltip},m))}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(1)),u=n(3),c=o(n(221)),l=o(n(87)),d=o(n(838)),f=o(n(123)),p=o(n(163)),h=o(n(78)),v=o(n(839)),m=o(n(226)),g=a(n(124)),y=o(n(219)),b=o(n(227)),_=o(n(228)),A=n(58),S=o(n(22)),E=n(23),w=S.default.isIosNativeMobile(),T=u.StyleSheet.create({container:{flex:1,justifyContent:"space-between"},topBar:{flexDirection:"row",justifyContent:"space-between",zIndex:1},controlsContainer:{flexDirection:"row"},middleBar:{justifyContent:"space-evenly",alignItems:"center",flexDirection:"row",flex:1,width:E.percentage(280,E.mobileWidth),marginLeft:"auto",marginRight:"auto",marginTop:-12},middleBarTablet:{width:E.percentage(460,E.tabletWidth),marginTop:-4},bottomBar:{height:36,paddingLeft:20,paddingRight:20},bottomBarTablet:{height:w?60:54,paddingLeft:20,paddingRight:20},bottomControls:{flex:1,position:"relative",flexDirection:"row",justifyContent:"space-between"},bottomControlsTablet:{top:4},textLineHeight:{lineHeight:w?14:18}});t.default=function(e){var t=e.player,n=e.layoutName,r=e.isActive,i=t.isLoaded,a=t.isSeeking,o=t.isWaiting,E=i&&!a&&!o,w=n===A.Layout.TABLET,P=[T.bottomBar,w?T.bottomBarTablet:null],C=[T.bottomControls,w?T.bottomControlsTablet:null],O=[T.middleBar,w?T.middleBarTablet:null],k=r?"auto":"none";return s.default.createElement(u.View,{pointerEvents:k,style:T.container},s.default.createElement(u.View,{style:T.topBar},s.default.createElement(u.View,{style:T.controlsContainer},S.default.isMobileNative()&&s.default.createElement(l.default,null),S.default.isWeb()&&s.default.createElement(y.default,null)),s.default.createElement(u.View,{style:T.controlsContainer},s.default.createElement(p.default,null),s.default.createElement(c.default,null),s.default.createElement(g.default,{appears:g.SettingsMenuLocation.UPPER_RIGHT}),s.default.createElement(f.default,null))),E&&s.default.createElement(u.View,{style:O},s.default.createElement(v.default,{seconds:10}),s.default.createElement(h.default,{size:"large"}),s.default.createElement(d.default,{seconds:10})),s.default.createElement(u.View,{style:P},s.default.createElement(u.View,{style:C},s.default.createElement(b.default,{style:T.textLineHeight}),s.default.createElement(_.default,{style:T.textLineHeight})),s.default.createElement(m.default,{layoutName:n})))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=n(8),v=c(n(12)),m=c(n(63)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPress=function(){var e=t.props.seconds;t.props.processInputActions.seekBy(e)},t}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.profile,r=t.seconds,i=t.style;switch(r){case 10:default:e="forward10"}return l.default.createElement(m.default,a({},n.largeIcons,{style:i,iconName:e,testID:v.default.testIDs.forwardButton,accessibilityLabel:v.default.testIDs.forwardButton,onPress:this.onPress}))},t}(l.Component);t.default=d.connect((function(e){return{player:h.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],theme:e.theme}}),(function(e){return{processInputActions:f.bindActionCreators(p.processInputActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(6),f=n(14),p=n(2),h=n(8),v=c(n(12)),m=c(n(63)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPress=function(){var e=t.props.seconds;t.props.processInputActions.seekBy(-1*e)},t}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.profile,r=t.seconds,i=t.style;switch(r){case 10:default:e="rewind10"}return l.default.createElement(m.default,a({},n.largeIcons,{iconName:e,style:i,testID:v.default.testIDs.rewindButton,accessibilityLabel:v.default.testIDs.rewindButton,onPress:this.onPress}))},t}(l.Component);t.default=d.connect((function(e){return{player:h.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],theme:e.theme}}),(function(e){return{processInputActions:f.bindActionCreators(p.processInputActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=c(n(163)),h=c(n(78)),v=c(n(226)),m=c(n(841)),g=c(n(122)),y=n(69),b=n(33),_=c(n(842)),A=c(n(227)),S=c(n(228)),E=c(n(843)),w=n(41),T=n(70),P=c(n(150)),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){P.default.setFocusRoot(this.rootRef,!0),O()},t.prototype.render=function(){var e=this,t=this.props.isVisible?null:{opacity:0};return l.default.createElement(d.View,{ref:function(t){return e.rootRef=t},style:k.container},l.default.createElement(d.View,{style:[k.topContainer,t]},l.default.createElement(d.View,{style:k.topBar},l.default.createElement(d.View,{style:k.topBarLeft},l.default.createElement(_.default,null)),l.default.createElement(d.View,{style:k.topBarRight},l.default.createElement(m.default,null),l.default.createElement(p.default,null)))),l.default.createElement(d.View,{style:[k.middleBar,t]},l.default.createElement(d.View,{style:k.middleControls},l.default.createElement(d.View,{style:k.playPauseTop},l.default.createElement(h.default,{style:k.playPauseButton,size:"large"})))),l.default.createElement(d.View,{style:k.bottomBar},l.default.createElement(d.View,{style:k.trickScrubImage},l.default.createElement(E.default,null)),l.default.createElement(d.View,{style:k.bottomControls},l.default.createElement(d.View,{style:[k.currentTimeContainer]},l.default.createElement(A.default,null)),l.default.createElement(d.View,{style:k.scrubBar},l.default.createElement(v.default,null)),l.default.createElement(d.View,{style:[k.currentTimeContainer]},l.default.createElement(S.default,{style:k.duration})))))},t}(l.Component),O=function(){var e=g.default.get(w.FocusIDs.scrubBar),t=g.default.get(w.FocusIDs.largePlayPauseButton),n=g.default.get(w.FocusIDs.settingsButton),r=g.default.get(w.FocusIDs.nextContentButton);P.default.setNextFocus(t,n,"up"),P.default.setNextFocus(t,e,"down"),P.default.setNextFocus(t,t,"left"),P.default.setNextFocus(t,t,"right"),P.default.setNextFocus(e,t,"up"),P.default.setNextFocus(e,e,"down"),P.default.setNextFocus(e,e,"left"),P.default.setNextFocus(e,e,"right"),r?(P.default.setNextFocus(n,n,"up"),P.default.setNextFocus(n,t,"down"),P.default.setNextFocus(n,n,"left"),P.default.setNextFocus(n,r,"right"),P.default.setNextFocus(r,r,"up"),P.default.setNextFocus(r,t,"down"),P.default.setNextFocus(r,n,"left"),P.default.setNextFocus(r,r,"right")):(P.default.setNextFocus(n,n,"up"),P.default.setNextFocus(n,t,"down"),P.default.setNextFocus(n,n,"left"),P.default.setNextFocus(n,n,"right"))},k=d.StyleSheet.create({container:{flex:1,flexDirection:"column"},layoutTopFocusCapture:{flex:1},layoutBottomFocusCapture:{flex:1},topContainer:{position:"relative",flex:1,flexDirection:"row"},topBar:{flex:1,flexDirection:"row",paddingVertical:b.toRelativeScale(25),paddingHorizontal:b.toRelativeScale(45)},topBarLeft:{justifyContent:"flex-start",flex:1},topBarRight:{flex:1,flexDirection:"row",justifyContent:"flex-end"},middleBar:a(a({},d.StyleSheet.absoluteFillObject),{justifyContent:"center"}),middleControls:{flexDirection:"row",justifyContent:"center",margin:50,marginTop:0},playPauseTop:{height:b.toRelativeScale(150)},playPauseButton:{marginLeft:0},forwardButton:{marginLeft:90},bottomBar:{flex:1,flexDirection:"column",justifyContent:"flex-end",paddingBottom:b.toRelativeScale(192)},trickScrubImage:{flexDirection:"row",justifyContent:"space-between"},bottomControls:{flexDirection:"row",width:"100%",justifyContent:"center",paddingLeft:b.toRelativeScale(112),paddingRight:b.toRelativeScale(112)},duration:{marginRight:0},scrubBar:{flex:1,justifyContent:"center"},playPause:{flexDirection:"row",justifyContent:"flex-start",position:"relative",width:b.toRelativeScale(50),height:b.toRelativeScale(50)},playPauseBottom:{flexDirection:"row",justifyContent:"flex-start",position:"relative",width:b.toRelativeScale(50),height:b.toRelativeScale(50),marginRight:b.toRelativeScale(128)},metadataContainer:{height:b.toRelativeScale(100),marginBottom:b.toRelativeScale(22)},metadata:{marginLeft:b.toRelativeScale(90),marginTop:0,height:0},currentTimeContainer:{width:b.toRelativeScale(168),height:b.toRelativeScale(110),justifyContent:"center",alignItems:"center"}});t.default=f.connect((function(e){var t=e.adsManager,n=e.navigationManager,r=e.ui,i=n.navigationMode===y.NavigationMode.FOCUS,a=t.isInAdBreak,o=r.upNextState===T.UpNextState.VISIBLE;return{isVisible:i&&!a&&!o}}))(C)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(12)),m=c(n(26)),g=n(41),y=c(n(22)),b=c(n(63)),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.profile,n=e.uiActions,r=y.default.isYoui()?t.largeIcons:t.smallIcons;return l.default.createElement(d.View,null,l.default.createElement(b.default,a({},r,{hasActiveEffect:!0,hoverable:!0,backgroundColor:"transparent",iconName:"settings",activeOpacity:1,isHovered:!1,focusedLabel:m.default.t("button.settings"),onPress:n.showSettingsMenu,isActive:!1,style:A.container,focusID:g.FocusIDs.settingsButton,testID:v.default.testIDs.settingsButton,accessibilityLabel:v.default.testIDs.settingsButton})))},t}(l.Component),A=d.StyleSheet.create({container:{backgroundColor:"transparent"}});t.default=f.connect((function(e){return{controls:e.controls,profile:e.theme.profiles[e.theme.activeProfile],ui:e.ui}}),(function(e){return{uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(3),f=u(n(12)),p=n(69),h=n(23),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.metadata,n=e.navigationMode,r=e.profile,i=t.seriesTitle,a=t.title;if(n===p.NavigationMode.SCRUBBING)return null;var o=i?h.getEpisodeNumberAndTitle(t):a;return c.default.createElement(d.View,null,i&&c.default.createElement(d.Text,{style:r.controls.mainTitle,testID:f.default.testIDs.titleSeries,accessibilityLabel:f.default.testIDs.titleSeries},i),c.default.createElement(d.Text,{style:r.controls.subTitle,testID:f.default.testIDs.title,accessibilityLabel:f.default.testIDs.title},o))},t}(c.Component);t.default=l.connect((function(e){return{metadata:e.configuration.metadata,profile:e.theme.profiles[e.theme.activeProfile],navigationMode:e.navigationManager.navigationMode}}),null)(v)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(12)),p=n(229),h=n(33),v=u(n(22)),m=u(n(31)),g=u(n(365)),y=function(e){function t(t){var n=e.call(this,t)||this;return n.state={data:[]},n.shouldUpdate=!0,n.shouldUpdateTimer=null,n.batchingPeriod=50,n.keyExtractor=function(e){return""+e.timestamp},n.getItemLayout=function(e,t){var n=h.toRelativeScale(416);return{length:n,offset:n*t,index:t}},n.renderItem=function(e){var t=e.item,r=(e.index,t.timestamp<0||t.timestamp>n.props.contentDuration);return c.default.createElement(g.default,{isCenter:t.isCenteredImage,isPlaceholder:r,timestamp:t.timestamp})},n.renderSeparator=function(){return c.default.createElement(l.View,{style:{width:n.props.profile.trickscrubImages.separatorWidth}})},n.currentTimestamp=-1,n}return i(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this,n=e.isInputHeld,r=e.isScrubbing,i=e.isTrickScrubbingEnabled;return!(!r||!i)&&(this.shouldUpdate?(clearTimeout(this.shouldUpdateTimer),this.shouldUpdateTimer=setTimeout((function(){return t.shouldUpdate=!0}),this.batchingPeriod),this.shouldUpdate=!1,!0):!n&&(clearTimeout(this.shouldUpdateTimer),this.shouldUpdate=!0,!0))},t.prototype.componentDidUpdate=function(){var e,t=this.props,n=t.contentTime,r=t.profile,i=t.scrubTime,a=r.trickscrubImages.numberOfImages;if(e=m.default.isNil(i)?n:i,-1===this.currentTimestamp||Math.abs(this.currentTimestamp-e)>=p.DEFAULT_SCRUB_INCREMENT){this.currentTimestamp=e;for(var o=[],s=Math.floor(a/2),u=0;u<a;u++){var c=(u-s)*p.DEFAULT_SCRUB_INCREMENT;o[u]={timestamp:e+c,isCenteredImage:s===u}}this.setState({data:o})}},t.prototype.render=function(){var e=this,t=this.props,n=t.isScrubbing,r=t.isTrickScrubArchiveLoaded,i=t.isTrickScrubbingEnabled,a=t.profile.trickscrubImages,o=a.imageWidth,s=a.numberOfImages,u=a.separatorWidth;if(!(i&&n&&r&&v.default.isYoui()))return null;var d={marginLeft:-((s*(o+u)-l.Dimensions.get("screen").width)/2)};return c.default.createElement(l.View,{style:d},c.default.createElement(l.FlatList,{data:this.state.data,ItemSeparatorComponent:function(){return e.renderSeparator()},keyExtractor:this.keyExtractor,nativeID:"trickscrubImageList",renderItem:this.renderItem,horizontal:!0,testID:f.default.testIDs.trickscrubImageList,accessibilityLabel:f.default.testIDs.trickscrubImageList,getItemLayout:this.getItemLayout,updateCellsBatchingPeriod:this.batchingPeriod}))},t}(c.Component);t.default=d.connect((function(e){return{contentDuration:e.media.contentDuration,contentTime:e.media.contentTime,isInputHeld:e.navigationManager.isInputHeld,isScrubbing:e.player0.isScrubbing,isTrickScrubArchiveLoaded:e.media.isTrickScrubArchiveLoaded,isTrickScrubbingEnabled:e.ui.isTrickScrubbingEnabled,profile:e.theme.profiles[e.theme.activeProfile],scrubTime:e.player0.scrubTime,ui:e.ui}}))(y)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=o.StyleSheet.create({container:r(r({},o.StyleSheet.absoluteFillObject),{width:"100%",height:"100%"}),background:{display:"flex",width:"100%",height:"100%",backgroundColor:"black"},backgroundOverlay:r(r({},o.StyleSheet.absoluteFillObject),{backgroundColor:"black",opacity:.4}),castingTextContainer:{flex:1,justifyContent:"center",alignItems:"center"},castingText:{color:"white",fontSize:14,lineHeight:16,letterSpacing:0,fontFamily:"Lato-SemiBold"}});t.default=s.connect((function(e){return{configuration:e.configuration,core:e.core}}),(function(e){return{}}))((function(e){var t,n,r,i=e.core,s=e.configuration,c=null===(r=null===(n=null===(t=null==s?void 0:s.media)||void 0===t?void 0:t.images)||void 0===n?void 0:n[0])||void 0===r?void 0:r.src,l=i.castingState,d=l.isCasting,f=l.deviceName;return d?a.default.createElement(o.View,{style:u.container},a.default.createElement(o.ImageBackground,{source:{uri:c},style:u.background},a.default.createElement(o.View,{style:u.backgroundOverlay}),a.default.createElement(o.View,{style:u.castingTextContainer},a.default.createElement(o.Text,{style:u.castingText},"Casting to ",f)))):null}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=n(8),m=c(n(846)),g=c(n(12)),y=c(n(157)),b=c(n(32)),_=n(69),A=n(70),S=c(n(22)),E=c(n(207)),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={fadeAnimation:new d.Animated.Value(0),isHiding:!1},t.onHidden=function(){var e=t.props,n=e.navigationManager,r=e.processInputActions;n.navigationMode===_.NavigationMode.SCRUBBING&&r.setNavigationMode(_.NavigationMode.FOCUS)},t.onMouseEnter=function(e){S.default.isDesktopWeb()&&!S.default.isFirefox()&&b.default.start(),S.default.isDesktopWeb()&&(window.oncontextmenu=function(e){if(t.props.advancedSettingsMenuLocation)return t.props.uiActions.hideAdvancedSettingsMenu(),!0;var n={x:e.clientX,y:e.clientY};return t.props.uiActions.showAdvancedSettingsMenu(n),!1})},t.onMouseMove=function(e){S.default.isDesktopWeb()&&b.default.start()},t.onMouseLeave=function(e){S.default.isDesktopWeb()&&b.default.stop(!0),S.default.isDesktopWeb()&&(window.oncontextmenu=null)},t.onPress=function(e){var n=t.props,r=n.player,i=n.playerActions,a=n.isCasting,o=n.isSettingsMenuVisible;if(!S.default.isMobile()){if(o)return;r.isPaused?i.requestPlay("Controls"):i.requestPause("Controls")}a||(t.areControlsActive()&&S.default.isMobile()?b.default.stop(!0):b.default.start())},t.areControlsActive=function(){var e=t.props,n=e.isErrorScreenVisible,r=e.isUpNextVisible,i=e.controls,a=!S.default.isMobileNative()&&r;return!n&&!a&&!t.state.isHiding&&i.isActive},t.hide=function(e){if(!g.default.alwaysShowControls){var n=t.props.inputActions,r=t.state.fadeAnimation;n.scrubViaLeftAndRightArrow(),e?(t.setState({isHiding:!0}),d.Animated.timing(r,{toValue:0,duration:t.props.showHideDuration,useNativeDriver:!0}).start((function(){t.setState({isHiding:!1}),t.onHidden()}))):(r.setValue(0),t.onHidden())}},t.show=function(){d.Animated.timing(t.state.fadeAnimation,{toValue:1,duration:t.props.showHideDuration,useNativeDriver:!0}).start()},t.renderControls=function(){var e=t.props,n=e.player,r=e.layoutName,i=e.isCasting,a=e.isFullscreen,o=e.isInAdBreak,s=t.state.fadeAnimation,u=y.default[r].layout,c=t.areControlsActive();if(S.default.isMobile()||c||o){var f=!o&&{opacity:s};return l.default.createElement(d.Animated.View,{style:[T.controls,f]},l.default.createElement(u,{isActive:c,isCasting:i,isFullscreen:a,layoutName:r,player:n}))}return l.default.createElement(d.View,{style:[T.controls,T.deactivated]})},t}return i(t,e),t.prototype.componentWillReceiveProps=function(e){var t=this.state.fadeAnimation._value;e.controls.isActive&&this.props.controls.isActive&&0===t||e.controls.isActive&&!this.props.controls.isActive?this.show():!e.controls.isActive&&this.props.controls.isActive&&this.hide(e.controls.isHideAnimated)},t.prototype.render=function(){var e=this.props,t=e.player,n=e.isLoadingScreenVisible;return!t||n?null:l.default.createElement(m.default,{accessible:!1,nativeID:"vilosControlsContainer",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onPress:this.onPress,testID:g.default.testIDs.controls,accessibilityLabel:g.default.testIDs.controls},this.renderControls())},t}(l.Component),T=d.StyleSheet.create({controls:a({flex:1},E.default.webStyle({cursor:"default "})),deactivated:a({},E.default.webStyle({cursor:"none "}))});t.default=f.connect((function(e){var t;return{advancedSettingsMenuLocation:e.ui.advancedSettingsMenuLocation,configuration:e.configuration,controls:e.controls,isCasting:e.core.castingState.isCasting,isErrorScreenVisible:e.ui.isErrorScreenVisible,isFullscreen:e.core.isFullscreen,isLoadingScreenVisible:e.ui.isLoadingScreenVisible,isInAdBreak:e.adsManager.isInAdBreak,isSettingsMenuVisible:e.ui.isSettingsMenuVisible,isUpNextVisible:e.ui.upNextState===A.UpNextState.VISIBLE,navigationManager:e.navigationManager,player:v.playerSelectors.all(e),profile:e.theme.profiles[e.theme.activeProfile],showHideDuration:null===(t=e.configuration.controls)||void 0===t?void 0:t.showHideDuration}}),(function(e){return{controlsActions:p.bindActionCreators(h.controlsActionCreators,e),inputActions:p.bindActionCreators(h.inputActionCreators,e),playerActions:p.bindActionCreators(h.playerActionCreators,e),processInputActions:p.bindActionCreators(h.processInputActionCreators,e),uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))(w)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3);t.default=function(e){return a.default.createElement(o.TouchableWithoutFeedback,r({},e))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6);var s=a.StyleSheet.create({container:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}});t.default=o.connect((function(e){var t=e.theme,n=e.controls,r=e.ui;return{backgroundColor:t.profiles[t.activeProfile].controls.backgroundColor,isActive:n.isActive||r.isSettingsMenuVisible}}))((function(e){var t=e.backgroundColor;if(!e.isActive)return null;var n=[s.container,{backgroundColor:t}];return i.default.createElement(a.View,{style:n})}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedSettingsMenu=void 0;var c=s(n(1)),l=n(155),d=n(3),f=n(6),p=n(14),h=n(2),v=n(224),m=u(n(12)),g=n(162),y=u(n(26)),b=n(7),_=n(52),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleShowMenu=function(){b.environmentUtils.isJest()||b.environmentUtils.isDesktopWeb()&&(t.containerNode=d.findNodeHandle(t),t.setState({hasContainerNodeRef:!0}),setTimeout((function(){return window.addEventListener("click",t.handleClick)}),10))},t.handleClick=function(e){if(b.environmentUtils.isDesktopWeb()){var n=document.getElementById("vilosAdvancedSettingsMenu");if(n&&n.contains(e.target))return}t.containerNode.contains(e.target)||t.props.uiActions.hideAdvancedSettingsMenu()},t.toggleStatsForNerds=function(){t.props.ui.isStatsForNerdsVisible?t.props.uiActions.hideStatsForNerds():t.props.uiActions.showStatsForNerds()},t}return i(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.ui.advancedSettingsMenuLocation;e.ui.advancedSettingsMenuLocation||!t?!e.ui.advancedSettingsMenuLocation||t||this.handleHideMenu():this.handleShowMenu()},t.prototype.handleHideMenu=function(){b.environmentUtils.isDesktopWeb()&&(window.removeEventListener("click",this.handleClick),this.containerNode=null,this.setState({hasContainerNodeRef:!1}))},t.prototype.render=function(){var e=this.props,t=e.core,n=e.profile,r=e.ui,i=e.coreActions,a=r.advancedSettingsMenuLocation,o=window.innerHeight,s=window.innerWidth,u=this.containerNode||{},l=u.offsetHeight,f=u.offsetWidth,p=null==a?void 0:a.y,h=null==a?void 0:a.x,b={top:p+l>o?o-l:p,left:h+f>s?s-f:h},A=_.getQueryParamValue(g.QueryParamName.ADVANCED_SETTINGS);return a&&c.default.createElement(d.TouchableWithoutFeedback,null,c.default.createElement(d.Animated.View,{style:[S.container,b],pointer:!0,nativeID:"vilosAdvancedSettingsMenu",testID:m.default.testIDs.settingsMenu,accessibilityLabel:m.default.testIDs.settingsMenu},c.default.createElement(v.SettingsMenuToggleSwitch,{passPressToItem:!0,profile:n,style:S.itemContainer,containerStyles:S.itemContainer,onPress:this.toggleStatsForNerds,isToggled:r.isStatsForNerdsVisible,text:y.default.t("settings.statsForNerds")}),A&&c.default.createElement(v.SettingsMenuToggleSwitch,{passPressToItem:!0,profile:n,style:S.itemContainer,containerStyles:S.itemContainer,onPress:i.toggleAdvancedQualityControls,isToggled:t.isAdvancedQualityControlsEnabled,text:y.default.t("settings.advancedQualityControls")})))},t}(c.Component);t.AdvancedSettingsMenu=A;var S=d.StyleSheet.create({container:{position:b.environmentUtils.isJest()||!b.environmentUtils.isWeb()?"absolute":"fixed",backgroundColor:"rgb(20, 21, 25)",width:"17.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem"},itemContainer:{paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.5rem",paddingRight:"0.5rem"}});t.default=f.connect((function(e){return{core:e.core,ui:e.ui,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{uiActions:p.bindActionCreators(h.uiActionCreators,e),coreActions:p.bindActionCreators(h.coreActionCreators,e)}}))(l.cold(A))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(14),p=n(2),h=u(n(121)),v=u(n(61)),m=u(n(32)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isHovered:!1},t.onHoverIn=function(){m.default.start(),t.setState({isHovered:!0})},t.onHoverOut=function(){t.setState({isHovered:!1})},t.onPress=function(){t.props.uiActions.pressSkipButton()},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.currentSkipType,n=e.profile,r=this.state.isHovered;if(!n.skipButton||!t)return null;var i,a,o=n.skipButton,s=(o.backgroundColor,o.borderColor),u=o.borderWidth,d=o.bottom,f=o.height,p=o.hoverBackgroundColor,m=o.hoverBottom,g=o.hoverColor,b=o.hoverFontSize,_=o.hoverHeight,A=o.hoverRight,S=o.hoverWidth,E=o.right,w=o.width;return r?(i={backgroundColor:p,borderColor:s,borderWidth:u,bottom:m,height:_,right:A,width:S},a={color:g,fontSize:b}):i={backgroundColor:"#f47521",borderColor:s,borderWidth:u,bottom:d,height:f,right:E,width:w},c.default.createElement(h.default,{onHoverIn:this.onHoverIn,onHoverOut:this.onHoverOut},c.default.createElement(v.default,{style:[y.button,i],activeOpacity:.8,onPress:this.onPress},c.default.createElement(l.Text,{style:[n.text,a]},"SKIP ",t.toUpperCase())))},t}(c.Component),y=l.StyleSheet.create({button:{position:"absolute",alignItems:"center",justifyContent:"center"}});t.default=d.connect((function(e){return{currentSkipType:e.ui.currentSkipType,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{uiActions:f.bindActionCreators(p.uiActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d,f=s(n(1)),p=n(3),h=n(6),v=n(14),m=n(119),g=n(2),y=n(8),b=l(n(61)),_=l(n(151)),A=n(28),S=n(7),E=l(n(367)),w=n(84),T=l(n(851));!function(e){e.ABOUT="About",e.DRM="DRM",e.STREAM="Stream",e.ADS="Ads"}(d||(d={}));var P={activeTab:d.ABOUT,deviceInfo:null},C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=P,t.loadDeviceInfo=function(){return u(t,void 0,void 0,(function(){var e,t,n,r,i,a,o,s,u,l,d;return c(this,(function(c){switch(c.label){case 0:return e=S.DeviceInfo.getDeviceId,t=S.DeviceInfo.getManufacturer,n=S.DeviceInfo.getModel,r=S.DeviceInfo.getSystemName,i=S.DeviceInfo.getSystemVersion,a=S.DeviceInfo.getUserAgent,o=p.Dimensions.get("screen"),s=p.Dimensions.get("window"),u={deviceId:e(),systemName:r(),systemVersion:i(),screenDimensions:m.sprintf("%dH x %dW",o.height,o.width),windowDimensions:m.sprintf("%dH x %dW",s.height,s.width)},S.environmentUtils.isYoui()?(u.advertisingId=E.default.getAdvertisingId(),[3,4]):[3,1];case 1:return l=u,[4,t()];case 2:return l.manufacturer=c.sent(),u.model=n(),d=u,[4,a()];case 3:d.userAgent=c.sent(),c.label=4;case 4:return this.setState({deviceInfo:u}),[2]}}))}))},t.renderTabs=function(){var e=t.state.activeTab,n=[d.ABOUT,d.STREAM,d.DRM,d.ADS];return f.default.createElement(p.View,{style:O.tabBar},n.map((function(n){var r=e===n?O.selectedTab:null;return f.default.createElement(b.default,{key:n,style:O.tab,onPress:function(){return t.setState({activeTab:n})}},f.default.createElement(p.Text,{style:[O.text,r]},n))})))},t.renderAbout=function(){var e=t.state.deviceInfo,n=e.deviceId,r=e.manufacturer,i=e.model,a=e.screenDimensions,o=e.systemName,s=e.systemVersion,u=e.userAgent,c=e.windowDimensions;return f.default.createElement(p.View,{style:O.contentsContainer},f.default.createElement(p.Text,{style:O.text},"Version: ",T.default.version),f.default.createElement(p.Text,{style:O.text},"Platform.OS: ",p.Platform.OS),f.default.createElement(p.Text,{style:O.text},"Environment OS: ",S.environmentUtils.getOS()),!!i&&f.default.createElement(p.Text,{style:O.text},"Device: ",r," ",i),!!o&&f.default.createElement(p.Text,{style:O.text},"System: ",o," ",s),!!u&&f.default.createElement(p.Text,{style:O.text},"User Agent: ",u),!!n&&f.default.createElement(p.Text,{style:O.text},"Device ID: ",n),!!a&&f.default.createElement(p.Text,{style:O.text},"Screen: ",a),!!c&&f.default.createElement(p.Text,{style:O.text},"Window: ",c))},t.renderDrm=function(){var e=t.props,n=e.configuration,r=e.core,i=e.media,a=e.player,o=r.detectedDrms,s=n.drm,u=a.drm,c=(a.source,i.unprocessedSource),l=u?"false":"true";return f.default.createElement(p.View,{style:O.contentsContainer},f.default.createElement(p.Text,{style:O.text},"DRM: ",u?o[0].toLowerCase():"None"),f.default.createElement(p.Text,{style:O.text},"Policy: ",s.policy),s.policy===w.DRMPolicy.IF_AVAILABLE&&f.default.createElement(p.Text,{style:O.text},"Unencrypted Fallback: ",l),s&&f.default.createElement(p.Text,{style:O.text},"Asset ID: ",_.default.getAssetId(c.source)))},t.renderStreams=function(){var e,n,r=t.props,i=r.media,a=r.player,o=a.abrIndex,s=a.activeExternalTextTrack,u=a.activeVideoTrackQuality,c=a.buffered,l=a.externalTextTracks,d=a.type,h=a.useExternalTextTracks,v=i.streamTime,m=c.filter((function(e){return e.start<=v&&e.end>=v}));return e=m.length?(m[0].end-v).toFixed(1)+"s":"Unknown",n=u===A.VIDEO_QUALITY_AUTO?"Auto ("+t.getVideoTrackInfo(o)+")":t.getVideoTrackInfo(o),h?s===A.TEXT_TRACK_NONE?"Not Active":l[s].src:"N/A",f.default.createElement(p.View,{style:O.contentsContainer},f.default.createElement(p.Text,{style:O.text},"Type: ",d),f.default.createElement(p.Text,{style:O.text},"Buffered: ",e),f.default.createElement(p.Text,{style:O.text},"Quality: ",n))},t.renderAds=function(){var e,n,r,i,a,o,s,u=t.props.ads,c=t.props.configuration.ads.adTech;if(u.isInAdBreak&&c)switch(i=u.targetAdBreakIndex,c){case"Vendri":u.vendriEvent&&(r=u.vendriEvent.adBreakTime,o=u.vendriEvent.adSlotPosition,s=u.vendriEvent.adDuration,n=u.vendriEvent.adType,e=u.vendriEvent.adNetworkName,a=u.vendriEvent.clickThroughUrl);break;case"Yospace":var l=u.targetAdBreakIndex;r=u.adBreaks[l].duration,o=u.targetAdSlotIndex,s=u.adBreaks[l].adSlots[o].duration,n=u.adBreaks[l].adSlots[o].isVPAID?"VPAID":"No Data Available",e=u.adBreaks[l].adSlots[o].adSystem,a=u.adBreaks[l].adSlots[o].clickThroughUrl}else c="No Data Available",i=null,o=null,s=null,r=null,n=null,e=null,a=null;return f.default.createElement(p.View,{style:O.contentsContainer},f.default.createElement(p.Text,{style:O.text},"Tech: ",c),f.default.createElement(p.Text,{style:O.text},"Break Number: ",i),f.default.createElement(p.Text,{style:O.text},"Break Duration: ",r),f.default.createElement(p.Text,{style:O.text},"Slot Number: ",o),f.default.createElement(p.Text,{style:O.text},"Slot Duration: ",s),f.default.createElement(p.Text,{style:O.text},"Type: ",n),f.default.createElement(p.Text,{style:O.text},"Network: ",e),f.default.createElement(p.Text,{style:O.text},"URL: ",a))},t.getVideoTrackInfo=function(e){var n=t.props.player.videoTracks;return"number"!=typeof e?"Unknown":n[e].width+"x"+n[e].height},t}return i(t,e),t.prototype.componentDidMount=function(){var e=this;this.loadDeviceInfo(),"object"!=typeof window||window.toggleStatsForNerds||(window.toggleStatsForNerds=function(){e.props.ui.isStatsForNerdsVisible?e.props.uiActions.hideStatsForNerds():e.props.uiActions.showStatsForNerds()})},t.prototype.render=function(){var e,t=this.props.ui,n=this.state.deviceInfo;if(!t.isStatsForNerdsVisible||!n)return null;switch(this.state.activeTab){case d.ABOUT:e=this.renderAbout();break;case d.STREAM:e=this.renderStreams();break;case d.DRM:e=this.renderDrm();break;case d.ADS:e=this.renderAds()}return f.default.createElement(p.View,{style:O.container},this.renderTabs(),f.default.createElement(p.View,{style:O.contentsContainer},e))},t}(f.Component);t.default=h.connect((function(e){return{configuration:e.configuration,core:e.core,media:e.media,player:y.playerSelectors.all(e),ui:e.ui,ads:e.adsManager}}),(function(e){return{uiActions:v.bindActionCreators(g.uiActionCreators,e)}}))(C);var O=p.StyleSheet.create({container:{position:"absolute",top:10,left:10,width:360,backgroundColor:"black",opacity:.8,padding:6},contentsContainer:{},tabBar:{borderBottomColor:"white",borderBottomWidth:1,flexDirection:"row",marginBottom:4,paddingBottom:2},tab:{alignItems:"center",flex:1},selectedTab:{fontWeight:"bold"},text:{color:"white",fontSize:12}})},function(e){e.exports=JSON.parse('{"name":"vilos","version":"0.4.17","private":true,"main":"bundle.js","scripts":{"analyze-web":"webpack -p --config ./config/webpack.config.analyze.js","build-androidmobile":"./scripts/build-androidmobile.sh","build-androidtv":"cd youi && ./build.rb -b build/androidtv","build-androidtv-apk":"./scripts/build-androidtv-apk.sh","build-ios":"./scripts/build-ios.sh","build-roku":"cd youi && ./build.rb -b build/roku","build-osx":"cd youi && ./build.rb -b build/osx","build-tvos":"cd youi && ./build.rb -b build/tvos","build-uwp":"youi-tv build -p uwp","clean-web":"rm -rf dist","copy-certificates":"ruby ./scripts/copy-certificates.rb","copy-roku-s3":"./scripts/copy-roku-s3.sh","copy-web":"./scripts/copy-web.sh","copy-youi-types":"cp -r dist/types/* lib/youi/ && mv lib/youi/Vilos.d.ts lib/youi/index.d.ts","create-types":"tsc -d --outDir dist/types --emitDeclarationOnly src/Vilos.tsx > /dev/null","dist-web":"yarn clean-web && webpack -p --config ./config/webpack.config.prod.js && yarn copy-web","dist-youi":"yarn && webpack -p --config ./config/webpack.config.youi.js && yarn create-types; yarn copy-youi-types","debug-apk-androidmobile":"./scripts/debug-apk-androidmobile.sh","dist-youi-windows":"@powershell -NoProfile -ExecutionPolicy Unrestricted -Command ./scripts/dist-youi-windows.ps1","deploy-androidmobile":"./scripts/deploy-androidmobile.sh","deploy-ios":"./scripts/deploy-ios.sh","deploy-roku":"./scripts/deploy-roku.sh","generate-androidmobile":"./scripts/generate-androidmobile.sh","generate-androidtv":"cd youi && ./generate.rb -p android -b build/androidtv","generate-osx":"cd youi && ./generate.rb -p osx --remote=localhost","generate-ps4":"cd youi && ruby ./generate.rb -p ps4 -d YI_USE_MSE=ON","generate-ps4-no-mse":"cd youi && ruby ./generate.rb -p ps4","generate-ps5":"@powershell -NoProfile -ExecutionPolicy Unrestricted -Command ./scripts/generate-ps5.ps1","generate-roku":"cd youi && ./generate.rb -p osx -b build/roku -d YI_BUILD_CLOUD_SERVER=ON","generate-tvos":"cd youi && ./generate.rb -p tvos -b build/tvos","generate-uwp":"youi-tv generate -p uwp","setup-youi":"./scripts/setup-youi.sh","install-youi":"./scripts/install-youi.sh","install-androidmobile":"./scripts/install-androidmobile.sh","install-mobile":"./scripts/install-mobile.sh","install-ios":"./scripts/install-ios.sh","androidtv":"./youi/build/androidtv/Debug/vilos","osx":"./youi/build/osx/Debug/vilos","roku":"cd youi/build/roku/Debug && ./vilos","switch":"./scripts/switch.sh","test":"yarn jest --coverage","test:pre-commit":"git diff --staged --name-only | grep -E \'\\\\.tsx?$\' | xargs jest --findRelatedTests --silent","tvos":"./youi/build/tvos/Debug/vilos","web":"yarn && yarn setup-ad-config && webpack-dev-server -d --config config/webpack.config.dev.js --host 0.0.0.0 --inline --hot --colors","web-secure":"yarn && yarn web --https","tslint":"tslint","lint":"tslint -c tslint.json \'{src,themes}/**/*.{ts,tsx}\'","lint-fix":"tslint -c tslint.json \'{src,themes}/**/*.{ts,tsx}\' --fix","lint-changed":"./scripts/lint-changed.sh","lint-fix-changed":"./scripts/lint-fix-changed.sh","precommit-msg":"echo \'Pre-commit checks...\' && exit 0","setup-ad-config":"rm -rf config/cx-vilos-ads && cp -R ./node_modules/etp-config-store/cx-vilos-ads config && echo \\"\\\\033[33mUpdate areAdsEnabled in config.web.ts to enable ads.\\\\033[0m\\n\\"","add-updated":"git diff --staged --name-only --diff-filter=M HEAD | grep -E \'(^.?|\\\\.[^d]|[^.]d|[^.][^d])\\\\.tsx?$\' | xargs git add","purge":"watchman watch-del-all && rm -rf $TMPDIR/react-* && rm -rf $TMPDIR/haste-* rm -rf $TMPDIR/metro-* && yarn cache clean","release":"yarn np patch","rebuild-roku":"rm -rf youi/build/roku && yarn generate-roku && yarn build-roku","scrape-config":"node ./scripts/scrape-config.js","start":"node node_modules/react-native/local-cli/cli.js start","start-roku":"./scripts/roku.sh","start-androidmobile":"./scripts/start-androidmobile.sh","start-androidmobile-client":"./scripts/start-androidmobile-client.sh","start-ios":"./scripts/start-ios.sh","start-iosnative":"./scripts/start-iosnative.sh","start-androidtv":"./scripts/androidtv.sh","youi":"./scripts/youi.sh","youi-update":"./scripts/youi-update.sh","youi-pr-update":"./scripts/youi-pr-update.sh","update-snapshots":"jest --updateSnapshot","get-youi-version":"node -p \\"require(\'./package.json\').dependencies[\'@youi/react-native-youi\']\\"","postinstall":"./scripts/postinstall.sh"},"pre-commit":["precommit-msg","lint-fix-changed","add-updated","test:pre-commit"],"dependencies":{"@hot-loader/react-dom":"^16.11.0","@react-native-community/netinfo":"5.9.9","@truex/ctv-ad-renderer":"^1.0.24","@youi/babel-plugin-react-native-youi":"1.0.4","abab":"^2.0.3","axios":"^0.21.0","base-64":"^1.0.0","base64-arraybuffer":"^0.2.0","browser-cookies":"^1.2.0","browser-detect":"^0.2.28","buffer":"^5.6.0","can-autoplay":"^3.0.0","cx-vilos-ads":"git+ssh://git@github.com/crunchyroll/cx-vilos-ads.git#v3.2.8","eventemitter3":"^3.1.0","guid-typescript":"^1.0.9","hls.js":"^0.11.0","ifdef-loader":"^2.1.1","isomorphic-fetch":"^2.2.1","jdataview":"^2.5.0","jsan":"^3.1.13","leftpad":"^0.0.1","libass-wasm":"git+ssh://git@github.com/crunchyroll/JavascriptSubtitlesOctopus.git#02e371b504292703edab9a949707751c72b70d12","lodash":"^4.17.11","lottie-ios":"3.1.8","lottie-react-native":"^3.5.0","node-libs-react-native":"^1.2.0","patch-package":"^6.2.2","player.js":"^0.1.0","react":"16.8.6","react-art":"16.6.3","react-dom":"16.8.6","react-hot-loader":"^4.8.4","react-native":"0.60.6","react-native-device-info":"8.0.0","react-native-exception-handler":"2.10.9","react-native-fs":"2.16.6","react-native-get-random-values":"1.5.0","react-native-google-cast":"4.0.2","react-native-linear-gradient":"2.5.6","react-native-orientation-locker":"1.2.0","react-native-video":"git+ssh://git@github.com/crunchyroll/react-native-video.git#5.1.2-alpha2","react-native-web":"0.11.2","react-native-web-linear-gradient":"^1.1.1","react-native-web-lottie":"^1.4.4","react-native-webview":"11.2.3","react-redux":"^6.0.1","redux":"^4.0.4","redux-act":"^1.8.0","redux-devtools-extension":"^2.13.8","redux-dynamic-modules":"^5.0.2","redux-dynamic-modules-saga":"^5.0.2","redux-logger":"^3.0.6","redux-saga":"^1.1.1","redux-saga-tester":"^1.0.874","remotedev-utils":"^0.1.6","reselect":"^4.0.0","resize-observer-polyfill":"^1.5.1","safe-json-stringify":"^1.2.0","shaka-player":"3.0.5","sprintf-js":"^1.1.1","srt-webvtt":"^1.0.1","url-parse":"^1.4.7","uuid4":"^1.1.4","videojs-vtt.js":"git+ssh://git@github.com/crunchyroll/vtt.js","xmldom":"^0.5.0"},"devDependencies":{"@babel/core":"^7.8.4","@babel/runtime":"^7.8.4","@brighte/redux-saga-test-plan":"^4.0.1","@types/enzyme":"^3.1.15","@types/enzyme-adapter-react-16":"^1.0.3","@types/jest":"^24.0.24","@types/lodash":"^4.14.118","@types/node":"^10.12.5","@types/react":"16.7.22","@types/react-dom":"16.8.5","@types/react-native":"^0.62.5","@types/react-redux":"^6.0.9","@types/react-test-renderer":"16.9.2","@types/redux-logger":"^3.0.6","@welldone-software/why-did-you-render":"^6.0.3","ajv":"^6.6.2","awesome-typescript-loader":"^5.2.1","babel-jest":"^24.9.0","babel-loader":"^8.0.6","babel-plugin-module-resolver":"^3.2.0","babel-plugin-named-asset-import":"^0.3.2","babel-plugin-react-native-web":"^0.9.9","babel-polyfill":"^6.26.0","babel-preset-pofigizm":"^1.0.0","babel-preset-react-app":"^9.0.0","babel-preset-stage-2":"^6.24.1","css-loader":"^2.1.0","deepmerge":"^3.2.0","enzyme":"^3.8.0","enzyme-adapter-react-16":"^1.7.1","enzyme-to-json":"^3.3.5","etp-config-store":"git+ssh://git@github.com:crunchyroll/etp-config-store.git#master","file-loader":"^2.0.0","jest":"^24.9.0","jest-fetch-mock":"^2.1.0","jsc-android":"^241213.1.0","jsdom":"^13.2.0","metro-react-native-babel-preset":"^0.59.0","np":"^4.0.2","pre-commit":"^1.2.2","react-native-typescript-transformer":"^1.2.13","react-test-renderer":"16.11.0","source-map-loader":"^0.2.4","style-loader":"^0.23.1","svg-inline-loader":"^0.8.0","ts-jest":"^24.2.0","tslint":"^5.12.0","tslint-origin-ordered-imports-rule":"^1.2.2","typescript":"^3.8.3","url-loader":"^1.1.1","webpack":"^4.29.0","webpack-bundle-analyzer":"^3.0.3","webpack-cli":"^3.2.1","webpack-dev-server":"^3.1.14","webpack-merge":"^4.2.1","yarn":"^1.22.10"},"optionalDependencies":{"puppeteer":"^5.4.1","puppeteer-extra":"^3.1.15","puppeteer-extra-plugin-stealth":"^2.6.2"},"jest":{"preset":"react-native","snapshotSerializers":["enzyme-to-json/serializer"],"transformIgnorePatterns":["node_modules/(?!(react-native|@youi/react-native-youi|cx-vilos-ads|srt-webvtt|react-native-base64|react-native-device-info|react-native-orientation-locker|react-native-google-cast|react-native-webview|react-native-exception-handler)/)"],"testPathIgnorePatterns":["/node_modules/","/appium/"],"transform":{"^.+\\\\.js$":"<rootDir>/node_modules/react-native/jest/preprocessor.js","^.+\\\\.tsx?$":"ts-jest"},"globals":{"window":true,"ts-jest":{"tsConfig":"tsconfig.jest.json"}},"testRegex":"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$","moduleFileExtensions":["ts","tsx","js","jsx","json","node","config.schema.json"],"modulePaths":["<rootDir>"],"setupFiles":["./test-setup.js"],"testEnvironment":"jsdom"},"youi":{"entryFile":"index.youi.js","defaultBundleMode":"remote"}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(61)),m=c(n(12)),g=c(n(26)),y=c(n(22)),b=c(n(359)),_=n(23),A=c(n(853)),S=c(n(854)),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={opacity:new d.Animated.Value(0),translateX:new d.Animated.Value(248)},t.onPressSkipToNext=function(){var e=t.props,n=e.contentLifecycleActions;e.uiActions.dismissUpNextBanner(),n.requestSkipToNext(!0)},t}return i(t,e),t.prototype.componentDidMount=function(){this.props.isUpNextBannerDismissed||this.show(250)},t.prototype.componentDidUpdate=function(e){this.props.isUpNextBannerDismissed&&!e.isUpNextBannerDismissed&&this.hide(200)},t.prototype.render=function(){var e=this.state,t=e.opacity,n=e.translateX,r=this.props,i=r.contentDuration,a=r.contentTime,o=r.contentTitle,s=r.icons,u=r.isSkipToNextDisabled,c=r.uiActions,f=r.source,p=r.upNextInText,h=r.threshold,g=[w.container,{opacity:t,transform:[{translateX:n}]}];return l.default.createElement(d.Animated.View,{pointerEvents:"box-none",style:g},l.default.createElement(d.View,{style:w.imageBackgroundContainer},l.default.createElement(d.ImageBackground,{source:{uri:f},style:w.imageBackground}),l.default.createElement(b.default,{start:{x:0,y:0},end:{x:1,y:0},colors:["#00000000","#213944"],style:w.gradientContainer})),l.default.createElement(d.View,{style:w.iconContainer},l.default.createElement(S.default,null)),l.default.createElement(d.View,{style:w.bodyContainer},l.default.createElement(d.View,{style:w.bodyPrimaryContainer},l.default.createElement(d.Text,{style:w.bodyPrimaryText},p),l.default.createElement(d.Image,{style:w.exitIcon,source:s.exit})),l.default.createElement(d.Text,{style:w.bodySecondaryText,ellipsizeMode:"tail",numberOfLines:1},o)),l.default.createElement(d.View,{style:w.touchableContainer},l.default.createElement(v.default,{style:w.skipToNextContainer,disabled:u,onPress:this.onPressSkipToNext,testID:m.default.testIDs.upNextBannerSkipToNext}),l.default.createElement(v.default,{style:w.dismissContainer,onPress:c.dismissUpNextBanner,testID:m.default.testIDs.upNextBannerDismiss})),l.default.createElement(A.default,{start:a,end:i,total:h}))},t.prototype.show=function(e){d.Animated.parallel([d.Animated.timing(this.state.opacity,{duration:e,toValue:1,easing:d.Easing.in(d.Easing.bezier(0,0,.25,1)),useNativeDriver:!0}),d.Animated.timing(this.state.translateX,{duration:e,toValue:0,useNativeDriver:!0})]).start()},t.prototype.hide=function(e){d.Animated.parallel([d.Animated.timing(this.state.opacity,{duration:e,toValue:0,easing:d.Easing.inOut(d.Easing.bezier(.5,0,.25,1)),useNativeDriver:!0}),d.Animated.timing(this.state.translateX,{duration:2*e,toValue:248,useNativeDriver:!0})]).start()},t}(l.PureComponent),w=d.StyleSheet.create({container:{position:"absolute",marginTop:16,top:0,right:0,width:248,height:56,backgroundColor:"#213944"},gradientContainer:{position:"absolute",width:"100%",height:"100%"},imageBackgroundContainer:{position:"absolute",width:100,height:"100%"},imageBackground:{position:"absolute",height:"100%",width:99},bodyContainer:{position:"absolute",right:0,width:180,height:"100%",marginRight:8},bodyPrimaryContainer:{marginTop:8,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:4},bodyPrimaryText:{fontSize:10,fontFamily:"Lato-Semibold",fontWeight:"500",lineHeight:10,color:"#f47521",display:"flex",alignItems:"center",textTransform:"uppercase"},bodySecondaryText:{color:"#ffffff",fontSize:14,fontFamily:"Lato-Medium",lineHeight:16,textTransform:"uppercase"},iconContainer:{position:"absolute",marginBottom:16,marginLeft:24,marginRight:8,marginTop:16},exitIcon:{height:16,width:16},touchableContainer:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"row"},skipToNextContainer:{width:200},dismissContainer:{width:48}});t.default=f.connect((function(e){var t=e.configuration,n=e.controls,r=e.media,i=e.theme,a=e.ui;return{areControlsActive:n.isActive,configuration:t,contentDuration:r.contentDuration,contentTime:r.contentTime,icons:i.icons,isUpNextBannerDismissed:a.isUpNextBannerDismissed}}),(function(e){return{contentLifecycleActions:p.bindActionCreators(h.contentLifecycleActionCreators,e),uiActions:p.bindActionCreators(h.uiActionCreators,e)}}))((function(e){var t,n,r,i,o,s=e.areControlsActive,u=e.configuration,c=e.contentDuration,d=e.contentTime,f=null===(t=u.upNextMetadata)||void 0===t?void 0:t.id;if(!f)return null;var p=((null===(n=u.media)||void 0===n?void 0:n.images)||[]).find((function(e){var t=e.mediaId;return f===t})),h=null==p?void 0:p.src,v=null===(r=u.skipToNext)||void 0===r?void 0:r.checkPermissionsBeforeSkipping,m=null===(i=u.upNext)||void 0===i?void 0:i.enabled,b=(null===(o=u.upNext)||void 0===o?void 0:o.threshold)||10,A=Math.ceil(c-d),S=A&&b>A,w=!y.default.isWeb()&&s;if(!S||!h||!m||w)return null;var T=_.validateContentRestrictions(u.upNextMetadata,u.user),P=u.upNextMetadata,C=P.episodeNumber,O=P.seasonNumber,k=P.title;C&&O&&(k=""+g.default.t("upNextBanner.season")+O+" "+g.default.t("upNextBanner.episode")+C);var I=g.default.t("upNextBanner.upNext");T.isInvalid||(I=I+" "+g.default.t("upNextBanner.in")+" "+A);var x={contentTitle:k,isSkipToNextDisabled:v&&T.isInvalid,source:h,upNextInText:I,threshold:b};return l.default.createElement(E,a({},e,x))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=a.StyleSheet.create({container:{position:"absolute",bottom:0,height:2,backgroundColor:"#f47521"}});t.default=function(e){var t=100-(e.end-e.start)/e.total*100,n=[o.container,{width:t+"%"}];return i.default.createElement(a.View,{style:n})}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=n(23),u=a.StyleSheet.create({icon:{height:24,width:24,display:"flex",alignItems:"center",justifyContent:"center"}});t.default=o.connect((function(e){return{configuration:e.configuration,icons:e.theme.icons}}))((function(e){var t=e.configuration,n=e.icons,r=s.validateContentRestrictions(t.upNextMetadata,t.user),o=r.isNotAvailableYet,c=r.isPremiumInvalid,l=r.isMatureInvalid,d=r.isInvalid,f=n.errorIcon;return d?c?f=n.premiumOutline:l?f=n.errorIcon:o&&(f=n.comingSoon):f=n.playOutline,i.default.createElement(a.Image,{style:u.icon,source:f})}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=r(n(100)),u=r(n(856)),c=r(n(857)),l=r(n(368)),d=r(n(858)),f=r(n(859)),p=r(n(860)),h=r(n(861)),v=r(n(862)),m=r(n(863)),g=r(n(867)),y=r(n(868)),b=r(n(869)),_=r(n(870)),A=r(n(22));t.default=o.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){return e.profile?i.default.createElement(a.View,{nativeID:s.default.overlayId,pointerEvents:"box-none",style:a.StyleSheet.absoluteFill},!A.default.isYoui()&&i.default.createElement(_.default,null),i.default.createElement(y.default,null),i.default.createElement(h.default,null),i.default.createElement(u.default,null),i.default.createElement(c.default,null),i.default.createElement(l.default,null),i.default.createElement(p.default,null),i.default.createElement(d.default,null),i.default.createElement(f.default,null),i.default.createElement(m.default,null),i.default.createElement(v.default,null),i.default.createElement(g.default,null),i.default.createElement(b.default,null)):null}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=n(14),c=n(2),l=i(n(61)),d=i(n(87)),f=o.StyleSheet.create({container:r(r({},o.StyleSheet.absoluteFillObject),{backgroundColor:"black",alignItems:"center",justifyContent:"center"}),backButtonContainer:{position:"absolute",left:15,top:15},titleContainer:{marginTop:44},title:{fontSize:18,lineHeight:24,letterSpacing:0,textAlign:"center",color:"white",fontFamily:"Lato-Semibold"},subTitle:{marginTop:4,fontSize:14,lineHeight:18,letterSpacing:0,textAlign:"center",color:"rgb(204, 204, 204)",fontFamily:"Lato-Medium"},buttonContainer:{marginTop:40,width:150,height:36,display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center"},buttonText:{paddingLeft:8,fontSize:12,lineHeight:16,textAlign:"center",fontFamily:"Lato-Heavy"},flexContainer:{justifyContent:"center"}});t.default=s.connect((function(e){return{isVisible:e.ui.isConfigErrorScreenVisible,profile:e.theme.profiles[e.theme.activeProfile]}}),(function(e){return{coreActions:u.bindActionCreators(c.coreActionCreators,e)}}))((function(e){var t=e.isVisible,n=e.profile,r=e.coreActions;if(!t||!n)return null;var i=[f.buttonText,{color:n.configErrorScreen.primaryColor}];return a.default.createElement(o.View,{style:f.container},a.default.createElement(o.View,{style:f.backButtonContainer},a.default.createElement(d.default,null)),a.default.createElement(o.View,{style:f.titleContainer},a.default.createElement(o.Text,{style:f.title},"Dang!"),a.default.createElement(o.Text,{style:f.subTitle},"We couldn't connect to Crunchyroll.")),a.default.createElement(l.default,{style:f.buttonContainer,onPress:function(){return r.requestRetryConfig()}},a.default.createElement(o.View,{style:f.flexContainer},a.default.createElement(o.Text,{style:i},"TRY AGAIN"))))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=n(33),u=a.StyleSheet.create({overlay:{backgroundColor:"rgba(0,0,0,.9)",padding:6,position:"absolute",left:10,top:10},text:{color:"#fff",fontSize:s.toRelativeScale(24)}});t.default=o.connect((function(e){var t;return{isEnabled:Boolean(null===(t=e.configuration.infoOverlay)||void 0===t?void 0:t.enabled)}}))((function(e){return e.isEnabled?i.default.createElement(a.View,{pointerEvents:"none",style:u.overlay},i.default.createElement(a.Text,{style:u.text})):null}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(12)),p=n(33),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return f.default.isNavModeOverlayEnabled?c.default.createElement(l.View,{pointerEvents:"none",style:{width:p.toRelativeScale(250),height:p.toRelativeScale(500),backgroundColor:"black",top:0,left:0,padding:10}},c.default.createElement(l.Text,{style:v.text},"Nav: ",this.props.navigationMode),c.default.createElement(l.Text,{style:v.text},"Arrow: ",this.props.arrowMode),c.default.createElement(l.Text,{style:v.text},"noop: ",this.props.stateProps.core.noopMessage)):null},t}(c.Component),v=l.StyleSheet.create({text:{fontSize:p.toRelativeScale(20),color:"white"}});t.default=d.connect((function(e){return{arrowMode:e.input.leftRightArrowMode,navigationMode:e.navigationManager.navigationMode,stateProps:e}}))(h)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=i(n(12)),c=n(33),l=n(7),d=o.StyleSheet.create({container:r({backgroundColor:"rgba(0,0,0,.9)",padding:6,position:"absolute"},l.environmentUtils.isYoui()&&{marginLeft:c.toRelativeScale(60),marginTop:c.toRelativeScale(60)}),text:r({color:"#fff"},l.environmentUtils.isYoui()&&{fontSize:c.toRelativeScale(32)})});t.default=s.connect((function(e){return{input:e.input}}))((function(e){var t=e.input;return u.default.keyCodeOverlay&&t.keyCode?a.default.createElement(o.View,{pointerEvents:"none",style:d.container},a.default.createElement(o.Text,{style:d.text},t.keyCode)):null}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(1)),c=n(3),l=n(6),d=s(n(369)),f=s(n(87)),p=s(n(22)),h=s(n(370)),v=c.StyleSheet.create({container:r(r({},c.StyleSheet.absoluteFillObject),{backgroundColor:"black"}),backButtonContainer:{position:"absolute",left:15,top:15,zIndex:1}});t.default=l.connect((function(e){return{isLoadingScreenVisible:e.ui.isLoadingScreenVisible}}))((function(e){var t=e.isLoadingScreenVisible,n=h.default(0,{hideDurationMs:150,showDurationMs:300,hideEasingAnimation:c.Easing.out(c.Easing.bezier(.5,0,.25,1)),showEasingAnimation:c.Easing.in(c.Easing.bezier(.5,0,.25,1))}),r=n.opacity,i=n.onShow,a=n.onHide;return u.useEffect((function(){t?i():a()}),[t]),u.default.createElement(c.Animated.View,{pointerEvents:"box-none",style:[v.container,{opacity:r}]},p.default.isMobileNative()&&u.default.createElement(c.View,{style:v.backButtonContainer},u.default.createElement(f.default,null)),u.default.createElement(d.default,null))}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=n(14),c=n(2),l=i(n(78)),d=o.StyleSheet.create({background:{display:"flex",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)"},buttonContainer:{flex:1,justifyContent:"center",alignItems:"center"},container:r(r({},o.StyleSheet.absoluteFillObject),{width:"100%",height:"100%"})});t.default=s.connect((function(e){return{configuration:e.configuration,isPreviewOverlayEnabled:e.ui.isPreviewOverlayEnabled}}),(function(e){return{coreActions:u.bindActionCreators(c.coreActionCreators,e)}}))((function(e){var t,n,r,i=e.configuration,s=e.coreActions,u=e.isPreviewOverlayEnabled,c=null===(r=null===(n=null===(t=null==i?void 0:i.media)||void 0===t?void 0:t.images)||void 0===n?void 0:n[0])||void 0===r?void 0:r.src;return c&&u?a.default.createElement(o.View,{pointerEvents:"box-none",style:d.container},a.default.createElement(o.ImageBackground,{source:{uri:c},style:d.background},a.default.createElement(o.View,{style:d.buttonContainer},a.default.createElement(l.default,{size:"large",onPress:s.requestCellularAccess})))):null}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(1)),o=n(3),s=n(6),u=n(14),c=n(2),l=i(n(87)),d=i(n(22)),f=n(23),p=i(n(864)),h=i(n(865)),v=i(n(866)),m=o.StyleSheet.create({common:{color:"white"},container:r(r({},o.StyleSheet.absoluteFillObject),{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)"}),header:{fontSize:18,lineHeight:22,paddingBottom:8},icon:{height:40,width:40,marginBottom:8},subHeader:{fontSize:14,lineHeight:16},backButtonContainer:{position:"absolute",left:15,top:15},buttonContainer:{marginTop:16,width:150,height:36,backgroundColor:"#f47521",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center"},buttonIcon:{width:24,height:24},buttonText:{paddingLeft:8,fontSize:14,lineHeight:16,color:"#23252b",fontFamily:"Lato-Semibold"},flexContainer:{display:"flex",alignItems:"center",justifyContent:"center"}});t.default=s.connect((function(e){var t=e.theme,n=e.configuration;return{user:n.user,metadata:n.metadata,icons:t.icons,profile:t.profiles[t.activeProfile]}}),(function(e){return{contentLifecycleActions:u.bindActionCreators(c.contentLifecycleActionCreators,e)}}))((function(e){var t,n=e.contentLifecycleActions,i=e.icons,s=e.metadata,u=e.profile,c=e.user,g={icons:i,profile:u,onPress:function(){return n.requestPermissions(!1)}},y=f.validateContentRestrictions(s,c),b=y.isNotAvailableYet,_=y.isPremiumInvalid,A=y.isMatureInvalid;if(_)t=h.default;else if(A)t=p.default;else{if(!b)return null;t=v.default}return a.default.createElement(o.View,{nativeID:"restrictionsOverlay",pointerEvents:"auto",style:m.container},d.default.isMobileNative()&&a.default.createElement(o.View,{style:m.backButtonContainer},a.default.createElement(l.default,null)),a.default.createElement(t,r({},g,{styles:m})))}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=r(n(61));t.default=function(e){var t=e.profile,n=e.onPress,r=e.styles;return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Text,{style:[r.common,t.text,r.header]},"Mature Content"),i.default.createElement(a.Text,{style:[r.common,t.text,r.subHeader]},"Adjust your maturity settings to watch."),i.default.createElement(o.default,{style:[r.buttonContainer,{backgroundColor:"#f47521"}],onPress:n},i.default.createElement(a.View,{style:r.flexContainer},i.default.createElement(a.Text,{style:[r.common,t.text,r.buttonText]},"YES, I'M 18+"))))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=r(n(61));t.default=function(e){var t=e.icons,n=e.profile,r=e.onPress,s=e.styles;return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Image,{style:s.icon,source:t.premiumLarge}),i.default.createElement(a.Text,{style:[s.common,n.text,s.header]},"Currently Available on Premium Only"),i.default.createElement(o.default,{style:[s.buttonContainer,{backgroundColor:"#fab818"}],testID:null,onPress:r},i.default.createElement(a.View,{style:s.flexContainer},i.default.createElement(a.Image,{style:s.buttonIcon,source:t.premiumSmall})),i.default.createElement(a.View,{style:s.flexContainer},i.default.createElement(a.Text,{style:[s.common,n.text,s.buttonText]},"GO PREMIUM"))))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3);t.default=function(e){var t=e.icons,n=e.profile,r=e.styles;return i.default.createElement(i.default.Fragment,null,i.default.createElement(a.Image,{style:r.icon,source:t.errorIcon}),i.default.createElement(a.Text,{style:[r.common,n.text,r.header]},"Unavailable"),i.default.createElement(a.Text,{style:[r.common,n.text,r.subHeader]},"This video is currently unavailable."))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(1)),u=n(3),c=n(6),l=n(14),d=n(2),f=o(n(361)),p=o(n(61)),h=n(33),v=n(52),m=n(154),g=u.StyleSheet.create({container:{backgroundColor:"#444",height:h.toRelativeScale(200),left:h.toRelativeScale(10),paddingLeft:h.toRelativeScale(6),paddingRight:h.toRelativeScale(6),paddingTop:h.toRelativeScale(5),position:"absolute",top:h.toRelativeScale(10),width:h.toRelativeScale(336)},divider:{height:h.toRelativeScale(5)},row:{flexDirection:"row",marginTop:h.toRelativeScale(5)},title:{fontWeight:"bold"},notLoggedInContainer:{alignItems:"center",justifyContent:"center"},notLoggedInText:{fontWeight:"bold"},currentTime:{marginLeft:h.toRelativeScale(42)},label:{width:h.toRelativeScale(65)},columnHeader:{fontWeight:"bold",width:h.toRelativeScale(59)},time:{width:h.toRelativeScale(59)},text:{color:"#eee"},button:{alignItems:"center",backgroundColor:"#999",borderRadius:3,marginLeft:h.toRelativeScale(6),paddingLeft:h.toRelativeScale(4),paddingRight:h.toRelativeScale(4)},bigButton:{width:h.toRelativeScale(80)}});t.default=c.connect((function(e){return{configuration:e.configuration,contentTime:e.media.contentTime,skipEvents:e.ui.skipEvents,skipSource:e.ui.skipSource}}),(function(e){return{playerActions:l.bindActionCreators(d.playerActionCreators,e),uiActions:l.bindActionCreators(d.uiActionCreators,e)}}))((function(e){var t,n,r,i,a,o,c,l,d=e.configuration,h=e.contentTime,y=e.playerActions,b=e.skipEvents,_=e.skipSource,A=e.uiActions,S=function(e){return b.find((function(t){return t.type===m.SkipType.INTRO&&t.source===e}))},E=S(m.SkipSource.AI),w=S(m.SkipSource.LOCAL),T=S(m.SkipSource.PRODUCTION);s.useEffect((function(){var e=T||E;e&&(C(e.start,e.end),A.setSkipSource(m.SkipSource.LOCAL))}),[E,T]);var P=function(e,t){var n,r=null===(n=S(e))||void 0===n?void 0:n[t];return r===m.END_OF_CONTENT?null:null!=r?r:null},C=function(e,t){w&&A.removeSkipEvent({source:m.SkipSource.LOCAL,type:m.SkipType.INTRO}),A.setSkipEvent({end:t,start:e,source:m.SkipSource.LOCAL,type:m.SkipType.INTRO})},O=function(e){return A.setSkipSource(e)},k=d.metadata||{},I=k.distributionNumber,x=k.seriesTitle;return(null===(t=d.skipEvents)||void 0===t?void 0:t.timingToolEnabled)||v.getQueryParamValue("skipTool")?(null===(n=d.user)||void 0===n?void 0:n.id)?s.default.createElement(u.View,{style:g.container},s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.text,g.title]},x," E",I),s.default.createElement(u.Text,{style:[g.text,g.currentTime]},"Current Time ",h)),s.default.createElement(u.View,{style:g.divider}),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:g.label}),s.default.createElement(u.Text,{style:[g.columnHeader,g.text]},"AI"),s.default.createElement(u.Text,{style:[g.columnHeader,g.text]},"Prod"),s.default.createElement(u.Text,{style:[g.columnHeader,g.text]},"Local")),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.label,g.text]},"Start"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(r=null==E?void 0:E.start)&&void 0!==r?r:"Not Set"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(i=null==T?void 0:T.start)&&void 0!==i?i:"Not Set"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(a=null==w?void 0:w.start)&&void 0!==a?a:"Not Set"),s.default.createElement(p.default,{style:g.button,onPress:function(){return C(h,null==w?void 0:w.end)}},s.default.createElement(u.Text,null,"Set")),s.default.createElement(p.default,{style:g.button,onPress:function(){var e,t;C(null!==(t=null!==(e=null==T?void 0:T.start)&&void 0!==e?e:null==E?void 0:E.start)&&void 0!==t?t:null,null==w?void 0:w.end)}},s.default.createElement(u.Text,null,"Reset"))),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.label,g.text]},"End"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(o=null==E?void 0:E.end)&&void 0!==o?o:"Not Set"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(c=null==T?void 0:T.end)&&void 0!==c?c:"Not Set"),s.default.createElement(u.Text,{style:[g.time,g.text]},null!==(l=null==w?void 0:w.end)&&void 0!==l?l:"Not Set"),s.default.createElement(p.default,{style:g.button,onPress:function(){return C(null==w?void 0:w.start,h)}},s.default.createElement(u.Text,null,"Set")),s.default.createElement(p.default,{style:g.button,onPress:function(){var e,t;C(null==w?void 0:w.start,null!==(t=null!==(e=null==T?void 0:T.end)&&void 0!==e?e:null==E?void 0:E.end)&&void 0!==t?t:null)}},s.default.createElement(u.Text,null,"Reset"))),s.default.createElement(u.View,{style:g.divider}),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.label,g.text]},"Source"),s.default.createElement(u.View,{style:g.time},s.default.createElement(p.default,{onPress:function(){return O(m.SkipSource.AI)}},s.default.createElement(f.default,{isHovered:!1,isSelected:_===m.SkipSource.AI}))),s.default.createElement(u.View,{style:g.time},s.default.createElement(p.default,{onPress:function(){return O(m.SkipSource.PRODUCTION)}},s.default.createElement(f.default,{isHovered:!1,isSelected:_===m.SkipSource.PRODUCTION}))),s.default.createElement(u.View,{style:g.time},s.default.createElement(p.default,{onPress:function(){return O(m.SkipSource.LOCAL)}},s.default.createElement(f.default,{isHovered:!1,isSelected:_===m.SkipSource.LOCAL})))),s.default.createElement(u.View,{style:g.divider}),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.label,g.text]},"Jump to"),s.default.createElement(p.default,{style:g.button,onPress:function(){var e=P(_,"start");null!==e&&(e=e-1<0?0:e-1,y.requestSeekToContentTime(e))}},s.default.createElement(u.Text,null,"Start -1")),s.default.createElement(p.default,{style:g.button,onPress:function(){var e=P(_,"end");null!==e&&(e=e-1<0?0:e-1,y.requestSeekToContentTime(e))}},s.default.createElement(u.Text,null,"End -1"))),s.default.createElement(u.View,{style:g.divider}),s.default.createElement(u.View,{style:g.row},s.default.createElement(u.Text,{style:[g.label,g.text]},"Download"),s.default.createElement(p.default,{style:g.button,onPress:function(){return function(e){var t=P(e,"end"),n=P(e,"start");if(null!==t&&null!==n){var r=d.metadata||{},i=r.id,a=r.distributionNumber,o=r.seriesId,s=r.title,u={intro:{approverId:(d.user||{}).id,distributionNumber:a,end:t,seriesId:o,start:n,title:s,type:m.SkipType.INTRO},lastUpdated:(new Date).toISOString(),mediaId:i},c=JSON.stringify(u),l=document.createElement("a"),f=new Blob([c],{type:"text/plain;charset=utf-8"});l.href=URL.createObjectURL(f).toString(),l.download=i+".json",document.body.appendChild(l),l.click()}else alert("Data points are not set")}(m.SkipSource.LOCAL)}},s.default.createElement(u.Text,null,"Local")))):s.default.createElement(u.View,{style:[g.container,g.notLoggedInContainer]},s.default.createElement(u.Text,{style:[g.text,g.notLoggedInText]},"Log in to use the Skip Timing Tool")):null}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(78)),m=n(7),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onPress=function(e){e.preventDefault(),this.props.coreActions.grantGesturePermission()},t.prototype.render=function(){var e=this,t=this.props,n=t.configuration,r=t.ui.isStartScreenVisible,i=m._.get(n,"metadata.id"),a=m._.get(n,"media.images",[]).find((function(e){return e.mediaId===i&&"landscape"===e.orientation})),o=a?a.src:"./samples/noise.png";return m.environmentUtils.isWeb()&&r?l.default.createElement(d.TouchableWithoutFeedback,{onPress:function(t){return e.onPress(t)}},l.default.createElement(d.View,{pointerEvents:"auto",style:y.container},l.default.createElement(d.Image,{style:y.thumbnail,source:{uri:o}}),l.default.createElement(v.default,{onPress:function(t){return e.onPress(t)},size:"large"}))):null},t}(l.Component),y=d.StyleSheet.create({container:a(a({},d.StyleSheet.absoluteFillObject),{backgroundColor:"black",alignItems:"center",justifyContent:"center"}),thumbnail:a(a({},d.StyleSheet.absoluteFillObject),{opacity:.8}),playButton:{}});t.default=f.connect((function(e){return{configuration:e.configuration,hasPreroll:e.adsManager.hasPreroll,ui:e.ui}}),(function(e){return{coreActions:p.bindActionCreators(h.coreActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=s(n(1)),c=n(3),l=n(6),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={opacity:new c.Animated.Value(0)},t}return i(t,e),t.prototype.componentDidUpdate=function(e){!this.props.isToastOverlayVisible&&e.isToastOverlayVisible?this.hide(1500):this.props.isToastOverlayVisible&&!e.isToastOverlayVisible&&this.show(500)},t.prototype.render=function(){var e=this.state.opacity,t=this.props.toastMessage;return u.default.createElement(c.Animated.View,{pointerEvents:"none",style:[f.container,{opacity:e}]},u.default.createElement(c.Text,{style:f.text},t))},t.prototype.show=function(e){c.Animated.timing(this.state.opacity,{duration:e,toValue:1,useNativeDriver:!0}).start()},t.prototype.hide=function(e){c.Animated.timing(this.state.opacity,{duration:e,toValue:0,useNativeDriver:!0}).start()},t}(u.PureComponent),f=c.StyleSheet.create({container:{position:"absolute",bottom:0,width:"100%",height:30,backgroundColor:"#213944",display:"flex",justifyContent:"center",alignItems:"center"},text:{color:"white",fontSize:16,lineHeight:20,fontFamily:"Lato-Semibold",textAlign:"center"}});t.default=l.connect((function(e){var t=e.ui;return{isToastOverlayVisible:t.isToastOverlayVisible,toastMessage:t.toastMessage}}))(d)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=o(n(1)),c=n(3),l=n(6),d=n(8),f=s(n(369)),p=s(n(87)),h=s(n(22)),v=s(n(370)),m=c.StyleSheet.create({container:r({},c.StyleSheet.absoluteFillObject),backButtonContainer:{position:"absolute",left:15,top:15,zIndex:1}});t.default=l.connect((function(e){return{adsManager:e.adsManager,isCasting:e.core.castingState.isCasting,isConfigErrorScreenVisible:e.ui.isConfigErrorScreenVisible,isErrorScreenVisible:e.ui.isErrorScreenVisible,player:d.playerSelectors.all(e)}}))((function(e){var t=e.adsManager,n=e.isCasting,r=e.isConfigErrorScreenVisible,i=e.isErrorScreenVisible,a=e.player,o=a.isLoaded,s=a.isSeeking,l=a.isWaiting,d=a.isStopped,g=t.isAdSlotLoaded,y=v.default(0,{hideDurationMs:150,showDurationMs:300,hideEasingAnimation:c.Easing.out(c.Easing.bezier(.5,0,.25,1)),showEasingAnimation:c.Easing.in(c.Easing.bezier(.5,0,.25,1))}),b=y.opacity,_=y.onShow,A=y.onHide,S=o&&!s&&!l||i||r||g||d||n;return u.useEffect((function(){S?A():_()}),[S]),u.default.createElement(c.Animated.View,{pointerEvents:"box-none",style:[m.container,{opacity:b}]},h.default.isMobileNative()&&u.default.createElement(c.View,{style:m.backButtonContainer},u.default.createElement(p.default,null)),u.default.createElement(f.default,null))}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=c(n(12)),p=n(40),h=c(n(100)),v=c(n(75)),m=c(n(371)),g=c(n(230)),y=c(n(326)),b=c(n(872)),_=c(n(873)),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=v.default.findInstance(g.default).getComponent(),t=p.isUsingAdsPlayer(f.default),n=t&&v.default.findInstance(m.default),r=t&&n.getComponent();return l.default.createElement(d.View,{nativeID:h.default.playerId,style:S.container},l.default.createElement(e,null),t&&l.default.createElement(r,null),l.default.createElement(y.default,null),l.default.createElement(b.default,null),l.default.createElement(_.default,null))},t}(l.Component);t.default=A;var S=d.StyleSheet.create({container:a(a({},d.StyleSheet.absoluteFillObject),{backgroundColor:"black",alignItems:"center",justifyContent:"center"})})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VttJs=void 0;var u=s(n(1)),c=n(6),l=n(8),d=n(329),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.player.textTrackCSS;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{id:d.VttJsConstants.LAYER_ID,className:d.VttJsConstants.LAYER_CLASS,style:p}),u.default.createElement("style",{dangerouslySetInnerHTML:{__html:e}}))},t}(u.Component);t.VttJs=f;var p={position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2};t.default=c.connect((function(e){return{player:l.playerSelectors.all(e)}}))(f)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=u(n(874)),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return c.default.createElement(l.default,null)},t}(c.Component);t.default=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(6),d=n(14),f=n(2),p=n(372),h=n(41),v=u(n(875)),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e,t,n=this.props.ui.alternativePlayerRenderer;switch(null==n?void 0:n.type){case h.AlternativeRendererType.anime4k:return c.default.createElement(v.default,{videoRef:p.Player.videoRef,bold:null===(e=null==n?void 0:n.attributes)||void 0===e?void 0:e.bold,blur:null===(t=null==n?void 0:n.attributes)||void 0===t?void 0:t.blur});default:return null}},t}(c.Component);t.default=l.connect((function(e){return{ui:e.ui}}),(function(e){return{uiActions:d.bindActionCreators(f.uiActionCreators,e)}}))(m)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=c(n(876)),f={hasContainerRef:!1,hasScaler:!1,hasSetVideoListener:!1},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=f,t.scaler=null,t.containerRef=null,t.requestID=null,t.handleCanvasRef=function(e){var n=t.state.hasScaler;e&&!n&&(t.scaler=new d.default(t.containerRef,e.getContext("webgl")),t.setState({hasScaler:!0}))},t.handleContainerRef=function(e){t.containerRef=e,t.setState({hasContainerRef:!0})},t}return i(t,e),t.prototype.componentDidMount=function(){this.initVideoEle()},t.prototype.componentDidUpdate=function(){this.initVideoEle()},t.prototype.componentWillUnmount=function(){this.requestID&&cancelAnimationFrame(this.requestID)},t.prototype.initVideoEle=function(){var e=this,t=this.props.videoRef,n=this.state,r=n.hasScaler;!n.hasSetVideoListener&&r&&t&&(4===t.readyState?this.startUpscaling():null==t||t.addEventListener("loadedmetadata",(function(){return e.startUpscaling()}),!0),this.setState({hasSetVideoListener:!0}))},t.prototype.startUpscaling=function(){var e,t=this,n=this.props.videoRef;null===(e=this.scaler)||void 0===e||e.inputVideo(n);var r=function(){t.scaler&&(t.scaler.bold=t.props.bold,t.scaler.blur=t.props.blur,t.scaler.render()),t.requestID=requestAnimationFrame(r)};this.requestID=requestAnimationFrame(r)},t.prototype.render=function(){var e=this.props.videoRef,t=this.state.hasContainerRef;return e&&l.default.createElement("div",{ref:this.handleContainerRef,style:a(a({},h.container),this.props.styles)},l.default.createElement("div",{style:h.canvasContainer},t&&l.default.createElement("canvas",{ref:this.handleCanvasRef,style:h.canvas})))},t}(l.Component);t.default=p;var h={canvas:{maxHeight:"100%",maxWidth:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},container:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",zIndex:1},canvasContainer:{position:"relative",height:"100%",width:"100%"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(877),i=n(878),a=function(){function e(e,t){this.inputVideoEle=null,this.inputWidth=0,this.inputHeight=0,this.lastVideoEleWidth=0,this.lastVideoEleHeight=0,this.tempTexture=null,this.tempTexture2=null,this.tempTexture3=null,this.bold=6,this.blur=2,this.inputTex=null,this.parentEle=e,this.gl=t,this.quadBuffer=i.createBuffer(t,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1])),this.framebuffer=t.createFramebuffer(),this.scaleProgram=i.createProgram(t,r.quadVert,r.scaleFrag),this.lumProgram=i.createProgram(t,r.quadVert,r.lumFrag),this.pushProgram=i.createProgram(t,r.quadVert,r.pushFrag),this.gradProgram=i.createProgram(t,r.quadVert,r.gradFrag),this.finalProgram=i.createProgram(t,r.quadVert,r.finalFrag),this.drawProgram=i.createProgram(t,r.quadVert,r.drawFrag)}return e.prototype.inputVideo=function(e){var t=e.videoWidth,n=e.videoHeight;this.inputWidth=t,this.inputHeight=n;var r=new Uint8Array(t*n*4);this.inputTex=i.createTexture(this.gl,this.gl.LINEAR,r,t,n),this.inputVideoEle=e},e.prototype.resize=function(e){var t=Math.round(this.inputWidth*e),n=Math.round(this.inputHeight*e);this.gl.canvas.width=t,this.gl.canvas.height=n;var r=new Uint8Array(t*n*4);this.scaleTexture=i.createTexture(this.gl,this.gl.LINEAR,r,t,n),this.tempTexture=i.createTexture(this.gl,this.gl.LINEAR,r,t,n),this.tempTexture2=i.createTexture(this.gl,this.gl.LINEAR,r,t,n),this.tempTexture3=i.createTexture(this.gl,this.gl.LINEAR,r,t,n)},e.prototype.render=function(){if(this.inputTex){var e=this.gl,t=this.scaleProgram,n=this.lumProgram,r=this.pushProgram,a=this.gradProgram,o=this.finalProgram,s=this.drawProgram;if(this.inputVideoEle&&i.updateTexture(e,this.inputTex,this.inputVideoEle),this.inputVideoEle&&(this.inputHeight!==this.inputVideoEle.videoHeight||this.lastVideoEleHeight!==this.parentEle.offsetHeight)){this.inputHeight=this.inputVideoEle.videoHeight,this.inputWidth=this.inputVideoEle.videoWidth,this.lastVideoEleHeight=this.parentEle.offsetHeight;var u=this.lastVideoEleHeight/this.inputHeight;this.resize(u)}e.disable(e.DEPTH_TEST),e.disable(e.STENCIL_TEST),e.viewport(0,0,e.canvas.width,e.canvas.height),i.bindFramebuffer(e,this.framebuffer,this.scaleTexture),e.useProgram(t.program),i.bindAttribute(e,this.quadBuffer,t.a_pos,2),i.bindTexture(e,this.inputTex,0),e.uniform1i(t.u_texture,0),e.uniform2f(t.u_size,this.inputWidth,this.inputHeight),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,this.framebuffer,this.tempTexture),e.useProgram(n.program),i.bindAttribute(e,this.quadBuffer,n.a_pos,2),i.bindTexture(e,this.scaleTexture,0),e.uniform1i(n.u_texture,0),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,this.framebuffer,this.tempTexture2),e.useProgram(r.program),i.bindAttribute(e,this.quadBuffer,r.a_pos,2),i.bindTexture(e,this.scaleTexture,0),i.bindTexture(e,this.tempTexture,1),e.uniform1i(r.u_texture,0),e.uniform1i(r.u_textureTemp,1),e.uniform1f(r.u_scale,e.canvas.width/this.inputWidth),e.uniform2f(r.u_pt,1/e.canvas.width,1/e.canvas.height),e.uniform1f(r.u_bold,this.bold),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,this.framebuffer,this.tempTexture),e.useProgram(n.program),i.bindAttribute(e,this.quadBuffer,n.a_pos,2),i.bindTexture(e,this.tempTexture2,0),e.uniform1i(n.u_texture,0),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,this.framebuffer,this.tempTexture3),e.useProgram(a.program),i.bindAttribute(e,this.quadBuffer,a.a_pos,2),i.bindTexture(e,this.tempTexture2,0),i.bindTexture(e,this.tempTexture,1),e.uniform1i(a.u_texture,0),e.uniform1i(a.u_textureTemp,1),e.uniform2f(a.u_pt,1/e.canvas.width,1/e.canvas.height),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,this.framebuffer,this.tempTexture),e.useProgram(o.program),i.bindAttribute(e,this.quadBuffer,o.a_pos,2),i.bindTexture(e,this.tempTexture2,0),i.bindTexture(e,this.tempTexture3,1),e.uniform1i(o.u_texture,0),e.uniform1i(o.u_textureTemp,1),e.uniform1f(o.u_scale,e.canvas.width/this.inputWidth),e.uniform2f(o.u_pt,1/e.canvas.width,1/e.canvas.height),e.uniform1f(o.u_blur,this.blur),e.drawArrays(e.TRIANGLES,0,6),i.bindFramebuffer(e,null),e.useProgram(s.program),i.bindAttribute(e,this.quadBuffer,s.a_pos,2),i.bindTexture(e,this.tempTexture,0),i.bindTexture(e,this.inputTex,1),e.uniform1i(s.u_texture,0),e.uniform1i(s.u_textureOrig,1),e.drawArrays(e.TRIANGLES,0,6)}},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawFrag=t.finalFrag=t.gradFrag=t.pushFrag=t.lumFrag=t.scaleFrag=t.quadVert=void 0,t.quadVert="\nprecision mediump float;\n\nattribute vec2 a_pos;\nvarying vec2 v_tex_pos;\n\nvoid main() {\n    v_tex_pos = a_pos;\n    gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n}\n",t.scaleFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nuniform vec2 u_size;\nvarying vec2 v_tex_pos;\n\nvec4 interp(const vec2 uv) {\n    vec2 px = 1.0 / u_size;\n    vec2 vc = (floor(uv * u_size)) * px;\n    vec2 f = fract(uv * u_size);\n    vec4 tl = texture2D(u_texture, vc);\n    vec4 tr = texture2D(u_texture, vc + vec2(px.x, 0));\n    vec4 bl = texture2D(u_texture, vc + vec2(0, px.y));\n    vec4 br = texture2D(u_texture, vc + px);\n    return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);\n}\n\nvoid main() {\n    gl_FragColor = interp(1.0 - v_tex_pos);\n    //gl_FragColor = texture2D(u_texture, 1.0 - v_tex_pos);\n}\n",t.lumFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nvarying vec2 v_tex_pos;\n\nfloat getLum(vec4 rgb) {\n\treturn (rgb.r + rgb.r + rgb.g + rgb.g + rgb.g + rgb.b) / 6.0;\n}\n\nvoid main() {\n\tvec4 rgb = texture2D(u_texture, 1.0 - v_tex_pos);\n\tfloat lum = getLum(rgb);\n    gl_FragColor = vec4(lum);\n}\n",t.pushFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_textureTemp;\nuniform float u_scale;\nuniform float u_bold;\nuniform vec2 u_pt;\nvarying vec2 v_tex_pos;\n\n#define strength (min(u_scale / u_bold, 1.0))\n\nvec4 HOOKED_tex(vec2 pos) {\n    return texture2D(u_texture, pos);\n}\n\nvec4 POSTKERNEL_tex(vec2 pos) {\n    return texture2D(u_textureTemp, pos);\n}\n\nvec4 getLargest(vec4 cc, vec4 lightestColor, vec4 a, vec4 b, vec4 c) {\n\tvec4 newColor = cc * (1.0 - strength) + ((a + b + c) / 3.0) * strength;\n\tif (newColor.a > lightestColor.a) {\n\t\treturn newColor;\n\t}\n\treturn lightestColor;\n}\n\nvec4 getRGBL(vec2 pos) {\n    return vec4(HOOKED_tex(pos).rgb, POSTKERNEL_tex(pos).x);\n}\n\nfloat min3v(vec4 a, vec4 b, vec4 c) {\n\treturn min(min(a.a, b.a), c.a);\n}\nfloat max3v(vec4 a, vec4 b, vec4 c) {\n\treturn max(max(a.a, b.a), c.a);\n}\n\nvoid main() {\n    vec2 HOOKED_pos = v_tex_pos;\n\n\tvec2 d = u_pt;\n\n    vec4 cc = getRGBL(HOOKED_pos);\n\tvec4 t = getRGBL(HOOKED_pos + vec2(0.0, -d.y));\n\tvec4 tl = getRGBL(HOOKED_pos + vec2(-d.x, -d.y));\n\tvec4 tr = getRGBL(HOOKED_pos + vec2(d.x, -d.y));\n\n\tvec4 l = getRGBL(HOOKED_pos + vec2(-d.x, 0.0));\n\tvec4 r = getRGBL(HOOKED_pos + vec2(d.x, 0.0));\n\n\tvec4 b = getRGBL(HOOKED_pos + vec2(0.0, d.y));\n\tvec4 bl = getRGBL(HOOKED_pos + vec2(-d.x, d.y));\n\tvec4 br = getRGBL(HOOKED_pos + vec2(d.x, d.y));\n\n\tvec4 lightestColor = cc;\n\n\t//Kernel 0 and 4\n\tfloat maxDark = max3v(br, b, bl);\n\tfloat minLight = min3v(tl, t, tr);\n\n\tif (minLight > cc.a && minLight > maxDark) {\n\t\tlightestColor = getLargest(cc, lightestColor, tl, t, tr);\n\t} else {\n\t\tmaxDark = max3v(tl, t, tr);\n\t\tminLight = min3v(br, b, bl);\n\t\tif (minLight > cc.a && minLight > maxDark) {\n\t\t\tlightestColor = getLargest(cc, lightestColor, br, b, bl);\n\t\t}\n\t}\n\n\t//Kernel 1 and 5\n\tmaxDark = max3v(cc, l, b);\n\tminLight = min3v(r, t, tr);\n\n\tif (minLight > maxDark) {\n\t\tlightestColor = getLargest(cc, lightestColor, r, t, tr);\n\t} else {\n\t\tmaxDark = max3v(cc, r, t);\n\t\tminLight = min3v(bl, l, b);\n\t\tif (minLight > maxDark) {\n\t\t\tlightestColor = getLargest(cc, lightestColor, bl, l, b);\n\t\t}\n\t}\n\n\t//Kernel 2 and 6\n\tmaxDark = max3v(l, tl, bl);\n\tminLight = min3v(r, br, tr);\n\n\tif (minLight > cc.a && minLight > maxDark) {\n\t\tlightestColor = getLargest(cc, lightestColor, r, br, tr);\n\t} else {\n\t\tmaxDark = max3v(r, br, tr);\n\t\tminLight = min3v(l, tl, bl);\n\t\tif (minLight > cc.a && minLight > maxDark) {\n\t\t\tlightestColor = getLargest(cc, lightestColor, l, tl, bl);\n\t\t}\n\t}\n\n\t//Kernel 3 and 7\n\tmaxDark = max3v(cc, l, t);\n\tminLight = min3v(r, br, b);\n\n\tif (minLight > maxDark) {\n\t\tlightestColor = getLargest(cc, lightestColor, r, br, b);\n\t} else {\n\t\tmaxDark = max3v(cc, r, b);\n\t\tminLight = min3v(t, l, tl);\n\t\tif (minLight > maxDark) {\n\t\t\tlightestColor = getLargest(cc, lightestColor, t, l, tl);\n\t\t}\n    }\n\n    gl_FragColor = lightestColor;\n}\n",t.gradFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_textureTemp;\nuniform vec2 u_pt;\nvarying vec2 v_tex_pos;\n\nvec4 HOOKED_tex(vec2 pos) {\n    return texture2D(u_texture, 1.0 - pos);\n}\n\nvec4 POSTKERNEL_tex(vec2 pos) {\n    return texture2D(u_textureTemp, 1.0 - pos);\n}\n\nvec4 getRGBL(vec2 pos) {\n    return vec4(HOOKED_tex(pos).rgb, POSTKERNEL_tex(pos).x);\n}\n\nvoid main() {\n    vec2 HOOKED_pos = v_tex_pos;\n\n\tvec2 d = u_pt;\n\n\t//[tl  t tr]\n\t//[ l cc  r]\n\t//[bl  b br]\n    vec4 cc = getRGBL(HOOKED_pos);\n\tvec4 t = getRGBL(HOOKED_pos + vec2(0.0, -d.y));\n\tvec4 tl = getRGBL(HOOKED_pos + vec2(-d.x, -d.y));\n\tvec4 tr = getRGBL(HOOKED_pos + vec2(d.x, -d.y));\n\n\tvec4 l = getRGBL(HOOKED_pos + vec2(-d.x, 0.0));\n\tvec4 r = getRGBL(HOOKED_pos + vec2(d.x, 0.0));\n\n\tvec4 b = getRGBL(HOOKED_pos + vec2(0.0, d.y));\n\tvec4 bl = getRGBL(HOOKED_pos + vec2(-d.x, d.y));\n\tvec4 br = getRGBL(HOOKED_pos + vec2(d.x, d.y));\n\n\t//Horizontal Gradient\n\t//[-1  0  1]\n\t//[-2  0  2]\n\t//[-1  0  1]\n\tfloat xgrad = (-tl.a + tr.a - l.a - l.a + r.a + r.a - bl.a + br.a);\n\n\t//Vertical Gradient\n\t//[-1 -2 -1]\n\t//[ 0  0  0]\n\t//[ 1  2  1]\n    float ygrad = (-tl.a - t.a - t.a - tr.a + bl.a + b.a + b.a + br.a);\n\n    gl_FragColor = vec4(1.0 - clamp(sqrt(xgrad * xgrad + ygrad * ygrad), 0.0, 1.0));\n}\n",t.finalFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_textureTemp;\nuniform vec2 u_pt;\nuniform float u_scale;\nuniform float u_blur;\nvarying vec2 v_tex_pos;\n\n#define strength (min(u_scale / u_blur, 1.0))\n\nvec4 HOOKED_tex(vec2 pos) {\n    return texture2D(u_texture, vec2(pos.x, 1.0 - pos.y));\n}\n\nvec4 POSTKERNEL_tex(vec2 pos) {\n    return texture2D(u_textureTemp, vec2(pos.x, 1.0 - pos.y));\n}\n\nvec4 getAverage(vec4 cc, vec4 a, vec4 b, vec4 c) {\n\treturn cc * (1.0 - strength) + ((a + b + c) / 3.0) * strength;\n}\n\nvec4 getRGBL(vec2 pos) {\n    return vec4(HOOKED_tex(pos).rgb, POSTKERNEL_tex(pos).x);\n}\n\nfloat min3v(vec4 a, vec4 b, vec4 c) {\n\treturn min(min(a.a, b.a), c.a);\n}\nfloat max3v(vec4 a, vec4 b, vec4 c) {\n\treturn max(max(a.a, b.a), c.a);\n}\n\nvoid main() {\n    vec2 HOOKED_pos = v_tex_pos;\n\n\tvec2 d = u_pt;\n\n    vec4 cc = getRGBL(HOOKED_pos);\n\tvec4 t = getRGBL(HOOKED_pos + vec2(0.0, -d.y));\n\tvec4 tl = getRGBL(HOOKED_pos + vec2(-d.x, -d.y));\n\tvec4 tr = getRGBL(HOOKED_pos + vec2(d.x, -d.y));\n\n\tvec4 l = getRGBL(HOOKED_pos + vec2(-d.x, 0.0));\n\tvec4 r = getRGBL(HOOKED_pos + vec2(d.x, 0.0));\n\n\tvec4 b = getRGBL(HOOKED_pos + vec2(0.0, d.y));\n\tvec4 bl = getRGBL(HOOKED_pos + vec2(-d.x, d.y));\n\tvec4 br = getRGBL(HOOKED_pos + vec2(d.x, d.y));\n\n\t//Kernel 0 and 4\n\tfloat maxDark = max3v(br, b, bl);\n\tfloat minLight = min3v(tl, t, tr);\n\n\tif (minLight > cc.a && minLight > maxDark) {\n        gl_FragColor = getAverage(cc, tl, t, tr);\n        return;\n\t} else {\n\t\tmaxDark = max3v(tl, t, tr);\n\t\tminLight = min3v(br, b, bl);\n\t\tif (minLight > cc.a && minLight > maxDark) {\n            gl_FragColor = getAverage(cc, br, b, bl);\n            return;\n\t\t}\n\t}\n\n\t//Kernel 1 and 5\n\tmaxDark = max3v(cc, l, b);\n\tminLight = min3v(r, t, tr);\n\n\tif (minLight > maxDark) {\n        gl_FragColor = getAverage(cc, r, t, tr);\n        return;\n\t} else {\n\t\tmaxDark = max3v(cc, r, t);\n\t\tminLight = min3v(bl, l, b);\n\t\tif (minLight > maxDark) {\n            gl_FragColor = getAverage(cc, bl, l, b);\n            return;\n\t\t}\n\t}\n\n\t//Kernel 2 and 6\n\tmaxDark = max3v(l, tl, bl);\n\tminLight = min3v(r, br, tr);\n\n\tif (minLight > cc.a && minLight > maxDark) {\n        gl_FragColor = getAverage(cc, r, br, tr);\n        return;\n\t} else {\n\t\tmaxDark = max3v(r, br, tr);\n\t\tminLight = min3v(l, tl, bl);\n\t\tif (minLight > cc.a && minLight > maxDark) {\n            gl_FragColor = getAverage(cc, l, tl, bl);\n            return;\n\t\t}\n\t}\n\n\t//Kernel 3 and 7\n\tmaxDark = max3v(cc, l, t);\n\tminLight = min3v(r, br, b);\n\n\tif (minLight > maxDark) {\n        gl_FragColor = getAverage(cc, r, br, b);\n        return;\n\t} else {\n\t\tmaxDark = max3v(cc, r, b);\n\t\tminLight = min3v(t, l, tl);\n\t\tif (minLight > maxDark) {\n            gl_FragColor = getAverage(cc, t, l, tl);\n            return;\n\t\t}\n\t}\n\n    gl_FragColor = cc;\n}\n",t.drawFrag="\nprecision mediump float;\n\nuniform sampler2D u_texture;\nuniform sampler2D u_textureOrig;\nvarying vec2 v_tex_pos;\n\nvoid main() {\n    vec4 color = texture2D(u_texture, 1.0 - v_tex_pos);\n    vec4 colorOrig = texture2D(u_textureOrig, vec2(1.0 - v_tex_pos.x, v_tex_pos.y));\n    gl_FragColor = vec4(color.rgb, colorOrig.a);\n}\n"},function(e,t,n){"use strict";function r(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}Object.defineProperty(t,"__esModule",{value:!0}),t.bindFramebuffer=t.bindAttribute=t.createBuffer=t.updateTexture=t.bindTexture=t.createTexture=t.createProgram=t.createShader=void 0,t.createShader=r,t.createProgram=function(e,t,n){var i=e.createProgram(),a=r(e,e.VERTEX_SHADER,t),o=r(e,e.FRAGMENT_SHADER,n);if(e.attachShader(i,a),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(i));for(var s={program:i},u=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),c=0;c<u;c++){var l=e.getActiveAttrib(i,c);s[l.name]=e.getAttribLocation(i,l.name)}for(var d=e.getProgramParameter(i,e.ACTIVE_UNIFORMS),f=0;f<d;f++){var p=e.getActiveUniform(i,f);s[p.name]=e.getUniformLocation(i,p.name)}return s},t.createTexture=function(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),n instanceof Uint8Array?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,i,0,e.RGBA,e.UNSIGNED_BYTE,n):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null),a},t.bindTexture=function(e,t,n){e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t)},t.updateTexture=function(e,t,n){e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)},t.createBuffer=function(e,t){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),n},t.bindAttribute=function(e,t,n,r){e.bindBuffer(e.ARRAY_BUFFER,t),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,r,e.FLOAT,!1,0,0)},t.bindFramebuffer=function(e,t,n){e.bindFramebuffer(e.FRAMEBUFFER,t),n&&e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=u(n(1)),d=n(3),f=c(n(100)),p=c(n(75)),h=c(n(230)),v=c(n(368)),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=p.default.findInstance(h.default).getComponent();return l.default.createElement(d.View,{nativeID:f.default.playerId,style:g.container},l.default.createElement(e,null),l.default.createElement(v.default,null))},t}(l.Component);t.default=m;var g=d.StyleSheet.create({container:a(a({},d.StyleSheet.absoluteFillObject),{backgroundColor:"black",alignItems:"center",justifyContent:"center"})})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c=u(n(1)),l=n(3),d=n(6),f=n(70),p=n(231),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBackgroundImageUri=function(){return p.getImageUri({id:t.props.metadata.id,height:1080,orientation:p.Orientation.landscape},t.props.images)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.isUpNextScreenVisible;if(!e.metadata)return null;if(t)return null;var n={uri:this.getBackgroundImageUri()};return c.default.createElement(l.View,{style:l.StyleSheet.absoluteFillObject},c.default.createElement(l.Image,{style:l.StyleSheet.absoluteFillObject,source:n}),c.default.createElement(l.View,{style:v.backgroundOverlay}))},t}(c.Component),v=l.StyleSheet.create({backgroundOverlay:a(a({},l.StyleSheet.absoluteFillObject),{backgroundColor:"rgba(0,0,0,0.8)"})});t.default=d.connect((function(e){var t;return{metadata:e.configuration.metadata,images:null===(t=e.configuration.media)||void 0===t?void 0:t.images,isUpNextScreenVisible:e.ui.upNextState===f.UpNextState.VISIBLE}}),null)(h)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(14),p=n(2),h=u(n(12)),v=n(33),m=n(70),g=n(41),y=u(n(232)),b=u(n(882)),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.isUpNextScreenVisible,n=e.profile,r=e.children,i=e.uiActions,a=n.upNextScreen.focusedBorderColor,o=t?A.playerContainer:l.StyleSheet.absoluteFill,s=t?[A.playerButtonFocused,{borderColor:a}]:[l.StyleSheet.absoluteFill],u=t?A.playerButton:l.StyleSheet.absoluteFill;return c.default.createElement(l.View,{style:o},c.default.createElement(y.default,{focusID:g.FocusIDs.upNextResumePlayerButton,style:u,focusedStyle:s,onPress:i.dismissUpNextScreen,testID:h.default.testIDs.upNextResumeCurrentVideoButton,accessibilityLabel:h.default.testIDs.upNextResumeCurrentVideoButton},c.default.createElement(c.default.Fragment,null,r)),c.default.createElement(b.default,null))},t}(c.Component),A=l.StyleSheet.create({playerContainer:{flexDirection:"column",position:"relative"},playerButtonFocused:{width:v.toRelativeScale(1200),height:v.toRelativeScale(675),borderWidth:v.toRelativeScale(7),backgroundColor:"black",position:"relative"},playerButton:{width:v.toRelativeScale(1200),height:v.toRelativeScale(675),backgroundColor:"black",position:"relative"}});t.default=d.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile],isUpNextScreenVisible:e.ui.upNextState===m.UpNextState.VISIBLE}}),(function(e){return{uiActions:f.bindActionCreators(p.uiActionCreators,e)}}))(_)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(12)),p=n(33),h=n(70),v=n(23),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.metadata,n=e.isUpNextScreenVisible,r=e.profile;if(!n)return null;var i=t.title,a=t.seriesTitle||i,o=v.getEpisodeNumberAndTitle(t);return c.default.createElement(l.View,{style:g.playerMetadataContainer},c.default.createElement(l.Text,{numberOfLines:1,style:r.upNextScreen.playerMetadataTitleText,testID:f.default.testIDs.upNextCurrentVideoTitle,accessibilityLabel:f.default.testIDs.upNextCurrentVideoTitle},a),o&&c.default.createElement(l.Text,{numberOfLines:2,style:r.upNextScreen.playerMetadataDescriptionText,testID:f.default.testIDs.upNextCurrentVideoDescription,accessibilityLabel:f.default.testIDs.upNextCurrentVideoDescription},o))},t}(c.Component),g=l.StyleSheet.create({playerMetadataContainer:{flexDirection:"column",width:p.toRelativeScale(1200)}});t.default=d.connect((function(e){return{metadata:e.configuration.metadata,isUpNextScreenVisible:e.ui.upNextState===h.UpNextState.VISIBLE,profile:e.theme.profiles[e.theme.activeProfile]}}),null)(m)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpNextCardSection=void 0;var c=s(n(1)),l=n(3),d=n(6),f=n(33),p=n(70),h=n(7),v=u(n(884)),m=u(n(886)),g=u(n(887)),y=u(n(888)),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.isUpNextScreenVisible;return e.upNextMetadata&&t&&!h.environmentUtils.isRoku()?c.default.createElement(l.View,{style:_.upNextContainer},c.default.createElement(l.View,{style:_.upNextCardContainer},c.default.createElement(m.default,null),c.default.createElement(v.default,null),c.default.createElement(y.default,null),c.default.createElement(g.default,null))):null},t}(c.Component);t.UpNextCardSection=b;var _=l.StyleSheet.create({upNextContainer:{flexDirection:"row",flex:1},upNextCardContainer:{padding:f.toRelativeScale(100),paddingTop:0}});t.default=d.connect((function(e){return{upNextMetadata:e.configuration.upNextMetadata,isUpNextScreenVisible:e.ui.upNextState===p.UpNextState.VISIBLE}}),null)(b)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpNextCard=void 0;var l=u(n(1)),d=n(3),f=n(6),p=n(14),h=n(2),v=c(n(12)),m=n(43),g=n(33),y=n(23),b=n(41),_=n(231),A=c(n(232)),S=c(n(885)),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderUpNextIcon=function(){var e,n,r=t.props,i=r.upNextMetadata,o=r.allowedRestrictions,s=i.restrictions,u=y.isFutureDate(i.releaseDate),c=y.containsRestriction(s,m.ContentRestriction.PREMIUM),f=y.containsRestriction(o,m.ContentRestriction.PREMIUM);return c&&!f?(e=t.props.icons.premium,n=w.upNextIcon):u&&(e=t.props.icons.comingSoon,n=w.smallUpNextIcon),e?l.default.createElement(d.View,{style:a(a({},d.StyleSheet.absoluteFillObject),{justifyContent:"center",alignItems:"center"})},l.default.createElement(d.Image,{style:n,source:e})):null},t.handleUpNextPress=function(){t.props.contentLifecycleActions.requestSkipToNext(!0)},t.getUpNextThumbnailUri=function(){return _.getImageUri({id:t.props.upNextMetadata.id,height:338,orientation:_.Orientation.landscape},t.props.images)},t}return i(t,e),t.prototype.render=function(){var e,t=this.props,n=t.profile,r=t.upNextMetadata,i=r.duration,a=r.seriesTitle,o=r.title,s={uri:this.getUpNextThumbnailUri()},u=a||o,c=y.getEpisodeNumberAndTitle(r),f=Math.floor(i/1e3/60),p=isNaN(f)?"":f+"m",h=(null===(e=n.upNextScreen)||void 0===e?void 0:e.upNextTextColor)||"white",m=[n.upNextScreen.upNextCardTitleText,{color:h}],g=[n.upNextScreen.upNextCardDescriptionText,{color:h}],_=n.upNextScreen,E=_.focusedBorderColor,T=_.upNextCardBackgroundColor,P=[w.upNextCardButtonFocused,{backgroundColor:T,borderColor:E}],C=[w.upNextCardButton,{backgroundColor:T}];return l.default.createElement(A.default,{focusID:b.FocusIDs.upNextThumbnailButton,shouldFocusOnMount:!0,style:C,focusedStyle:P,onPress:this.handleUpNextPress,testID:v.default.testIDs.upNextStartNextVideoButton,accessibilityLabel:v.default.testIDs.upNextStartNextVideoButton},l.default.createElement(l.default.Fragment,null,l.default.createElement(d.View,{style:w.upNextCardImageContainer},l.default.createElement(d.Image,{source:s,style:w.thumbnailImage,resizeMode:"cover"}),l.default.createElement(d.View,{style:w.thumbnailOverlay},this.renderUpNextIcon()),l.default.createElement(S.default,null),l.default.createElement(d.View,{style:w.upNextCardDurationContainer},l.default.createElement(d.Text,{style:n.upNextScreen.upNextCardDurationText,testID:v.default.testIDs.upNextNextVideoDuration,accessibilityLabel:v.default.testIDs.upNextNextVideoDuration},p))),l.default.createElement(d.View,{style:w.upNextCardContentContainer},l.default.createElement(d.Text,{numberOfLines:1,style:m,testID:v.default.testIDs.upNextNextVideoTitle,accessibilityLabel:v.default.testIDs.upNextNextVideoTitle},u),c&&l.default.createElement(d.Text,{numberOfLines:2,style:g,testID:v.default.testIDs.upNextNextVideoDescription,accessibilityLabel:v.default.testIDs.upNextNextVideoDescription},c))))},t}(l.Component);t.UpNextCard=E;var w=d.StyleSheet.create({upNextCardButtonFocused:{width:g.toRelativeScale(448),height:g.toRelativeScale(432),borderWidth:g.toRelativeScale(7)},upNextCardButton:{width:g.toRelativeScale(448),height:g.toRelativeScale(432)},upNextCardImageContainer:{width:"100%",height:g.toRelativeScale(252)},upNextCardDurationContainer:{position:"absolute",bottom:g.toRelativeScale(10),right:g.toRelativeScale(16)},upNextCardContentContainer:{padding:g.toRelativeScale(13),height:g.toRelativeScale(188)},thumbnailImage:{flex:1},thumbnailOverlay:a(a({},d.StyleSheet.absoluteFillObject),{backgroundColor:"rgba(0,0,0,0.6)"}),smallUpNextIcon:{width:g.toRelativeScale(42),height:g.toRelativeScale(42)},upNextIcon:{width:g.toRelativeScale(55),height:g.toRelativeScale(55)}});t.default=f.connect((function(e){return{upNextMetadata:e.configuration.upNextMetadata,profile:e.theme.profiles[e.theme.activeProfile],images:e.configuration.media.images,metadata:e.configuration.metadata,icons:e.theme.icons,allowedRestrictions:e.configuration.user.allowedRestrictions}}),(function(e){return{contentLifecycleActions:p.bindActionCreators(h.contentLifecycleActionCreators,e)}}))(E)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),a=n(3),o=n(6),s=r(n(12)),u=n(43),c=r(n(26)),l=n(33),d=n(23);var f=a.StyleSheet.create({cardBadgeContainer:{position:"absolute",top:0,left:0,paddingHorizontal:l.toRelativeScale(16),paddingVertical:l.toRelativeScale(12),justifyContent:"center",alignItems:"center"}});t.default=o.connect((function(e){return{upNextMetadata:e.configuration.upNextMetadata,allowedRestrictions:e.configuration.user.allowedRestrictions,profile:e.theme.profiles[e.theme.activeProfile]}}))((function(e){var t=e.upNextMetadata.restrictions,n=e.allowedRestrictions,r=void 0===n?[]:n,o=e.profile,l=d.containsRestriction(t,u.ContentRestriction.PREMIUM),p=d.containsRestriction(r,u.ContentRestriction.PREMIUM),h=d.containsRestriction(t,u.ContentRestriction.MATURE),v=l&&!p,m="",g=[f.cardBadgeContainer],y=[o.upNextScreen.cardBadgeText];if(v)m=c.default.t("upNext.premiumOnly"),y.push(o.upNextScreen.cardBadgeTextSecondary),g.push(o.upNextScreen.cardBadgeContainerSecondary);else{if(!h)return null;m=c.default.t("upNext.matureBanner"),y.push(o.upNextScreen.cardBadgeTextPrimary),g.push(o.upNextScreen.cardBadgeContainerPrimary)}return i.default.createElement(a.View,{style:g,testID:s.default.testIDs.upNextRestrictions,accessibilityLabel:s.default.testIDs.upNextRestrictions},i.default.createElement(a.Text,{style:y},m.toUpperCase()))}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=u(n(12)),p=n(43),h=u(n(26)),v=u(n(31)),m=n(23),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.contentTime,n=e.duration,r=e.canAutoplay,i=e.metadata,a=e.upNextMetadata,o=e.allowedRestrictions,s=void 0===o?[]:o,u=e.profile,d=a.restrictions,v=m.containsRestriction(d,p.ContentRestriction.MATURE),g=m.containsRestriction(d,p.ContentRestriction.PREMIUM),y=m.containsRestriction(s,p.ContentRestriction.MATURE),b=m.containsRestriction(s,p.ContentRestriction.PREMIUM),_=m.isNextSeriesDifferent(i,a),A=m.isFutureDate(a.releaseDate),S="";return g&&!b?S=h.default.t("upNext.videoIsPremium"):v&&!y?S=h.default.t("upNext.videoIsMature"):A?S=h.default.t("upNext.comingSoon"):r?S=m.getCountdownMessage(t,n):r||(S=_?h.default.t("upNext.startWatching"):h.default.t("upNext.watchNext")),S=S.toUpperCase(),c.default.createElement(l.Text,{style:u.upNextScreen.upNextContainerTypeText,testID:f.default.testIDs.upNextCardTitle,accessibilityLabel:f.default.testIDs.upNextCardTitle},S)},t}(c.Component);t.default=d.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile],contentTime:e.media.contentTime,metadata:e.configuration.metadata,allowedRestrictions:e.configuration.user.allowedRestrictions,duration:e.configuration.metadata.duration,canAutoplay:v.default.get(e,"core.preferences.isUpNextAutoplayEnabled"),upNextMetadata:e.configuration.upNextMetadata}}),null)(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpNextRecommendationText=void 0;var c=s(n(1)),l=n(3),d=n(6),f=u(n(26)),p=n(23),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.metadata,n=e.upNextMetadata,r=e.profile,i=n.seasonNumber;return p.isNextSeriesDifferent(t,n)&&!isNaN(i)?c.default.createElement(l.Text,{style:r.upNextScreen.upNextRecommendationText},f.default.t("upNext.recommendSeries")):null},t}(c.Component);t.UpNextRecommendationText=h;t.default=d.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile],upNextMetadata:e.configuration.upNextMetadata,metadata:e.configuration.metadata}}),null)(h)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UpNextButtonSection=void 0;var c=s(n(1)),l=n(6),d=n(14),f=n(2),p=n(43),h=u(n(26)),v=n(23),m=u(n(889)),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUpNextPress=function(){t.props.contentLifecycleActions.requestSkipToNext(!0)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.allowedRestrictions,n=e.profile,r=e.upNextMetadata,i=r.restrictions,a=v.isFutureDate(r.releaseDate),o=v.containsRestriction(i,p.ContentRestriction.PREMIUM),s=v.containsRestriction(t,p.ContentRestriction.PREMIUM);return o&&!s?c.default.createElement(m.default,{text:h.default.t("upNext.goPremiumButton"),onPress:this.handleUpNextPress,focusColor:n.upNextScreen.premiumColor}):a?c.default.createElement(m.default,{text:h.default.t("upNext.viewSeriesButton"),onPress:this.handleUpNextPress,focusColor:n.upNextScreen.focusedViewSeriesButtonBackground}):null},t}(c.Component);t.UpNextButtonSection=g;t.default=l.connect((function(e){return{upNextMetadata:e.configuration.upNextMetadata,profile:e.theme.profiles[e.theme.activeProfile],allowedRestrictions:e.configuration.user.allowedRestrictions}}),(function(e){return{contentLifecycleActions:d.bindActionCreators(f.contentLifecycleActionCreators,e)}}))(g)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=s(n(1)),l=n(3),d=n(6),f=n(33),p=n(41),h=u(n(232)),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.metadata,n=e.profile,r=e.text,i=e.focusColor,a=e.onPress,o=e.testID;if(!t.seriesId)return null;var s=n.upNextScreen,u=[{color:s.viewSeriesTextColor},n.upNextScreen.viewSeriesButtonText];return c.default.createElement(l.View,{style:m.container,testID:o,accessibilityLabel:o},c.default.createElement(h.default,{focusID:p.FocusIDs.upNextButton,style:m.button,focusedStyle:m.button,backgroundColor:s.viewSeriesButtonBackground,focusedBackgroundColor:i||s.viewSeriesButtonBackground,onPress:a},c.default.createElement(l.View,{style:m.innerContainer},c.default.createElement(l.Text,{style:u},r.toUpperCase()))))},t}(c.Component),m=l.StyleSheet.create({container:{marginTop:f.toRelativeScale(26),width:"100%"},button:{padding:f.toRelativeScale(21)},innerContainer:{width:"100%"}});t.default=d.connect((function(e){return{profile:e.theme.profiles[e.theme.activeProfile],metadata:e.configuration.metadata}}))(v)},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(12)),o=i(n(891)),s=i(n(899)),u=i(n(900)),c=i(n(374)),l=i(n(905)),d=i(n(908)),f=i(n(911)),p=i(n(376)),h=a.default.adsPlayer?[l.default,d.default,u.default]:[];t.default=r(h,[o.default,s.default,f.default,c.default,p.default])},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=o(n(993)),u=n(9),c=n(8),l=n(60),d=n(2),f=n(57),p=o(n(44)),h=o(n(13)),v=n(176),m=o(n(22)),g=function(e){function t(){var t=e.call(this,"ConnectivityPlugin")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.getComponent=function(){return null},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t.handleNetworkIsCellular=t.handleNetworkIsCellular.bind(t),t.handleNetworkIsWifi=t.handleNetworkIsWifi.bind(t),t.handleProgress=t.handleProgress.bind(t),t.handleRequestCellularAccess=t.handleRequestCellularAccess.bind(t),t.handleStartAppNonMobile=t.handleStartAppNonMobile.bind(t),t.handleSubscribe=t.handleSubscribe.bind(t),t.handleUnsubscribe=t.handleUnsubscribe.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return m.default.isMobileNative()?[4,u.all([u.takeEvery(d.coreActionCreators.startApp,this.handleSubscribe),u.takeEvery([d.coreActionCreators.exit,d.coreActionCreators.forceExit],this.handleUnsubscribe),u.takeEvery(d.coreActionCreators.setNetworkTypeToCellular,this.handleNetworkIsCellular),u.takeEvery(d.coreActionCreators.setNetworkTypeToWifi,this.handleNetworkIsWifi),u.takeEvery(d.coreActionCreators.requestCellularAccess,this.handleRequestCellularAccess),u.takeEvery(d.configurationActionCreators.loadConfig,this.handleLoadConfig),u.takeEvery(d.playerActionCreators.progress,this.handleProgress)])]:[3,2];case 1:return e.sent(),[3,4];case 2:return[4,u.all([u.takeEvery(d.coreActionCreators.startApp,this.handleStartAppNonMobile)])];case 3:e.sent(),e.label=4;case 4:return[2]}}))},t.prototype.handleProgress=function(){var e,t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,u.select()];case 1:return e=a.sent(),t=c.playerSelectors.all(e).buffered,n=c.mediaSelectors.all(e).contentTime,r=c.configurationSelectors.allowsCellular(e),i=c.coreSelectors.all(e).networkType,(o=null==t?void 0:t[0])?i===v.NetInfoStateType.cellular&&!r&&n+.25>=o.end?[4,u.put(d.coreActionCreators.requestCellularAccess())]:[3,3]:[2];case 2:a.sent(),a.label=3;case 3:return[2]}}))},t.prototype.handleRequestCellularAccess=function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return[4,u.select()];case 1:return e=r.sent(),t=c.coreSelectors.all(e).networkType,n=c.configurationSelectors.allowsCellular(e),t!==v.NetInfoStateType.cellular||n?[3,6]:[4,u.put(d.playerActionCreators.requestPause("ConnectivityPlugin requestCellular"))];case 2:return r.sent(),[4,u.put(d.uiActionCreators.showPreviewOverlay())];case 3:return r.sent(),[4,u.put(d.coreActionCreators.awaitClientReturn())];case 4:return r.sent(),[4,u.put(d.messageBusActionCreators.sendMessageToClient({type:l.MessageType.CLIENT_NAVIGATE_TO,payload:{type:l.NavigationDestination.ENABLE_CELLULAR_STREAMING,hasVideoEnded:!1}}))];case 5:return r.sent(),[3,7];case 6:d.playerActionCreators.requestPlay("ConnectivityPlugin requestCellular"),r.label=7;case 7:return[2]}}))},t.prototype.handleLoadConfig=function(){var e,t,n,r,i,o,s,l,p,h,m;return a(this,(function(a){switch(a.label){case 0:return[4,u.select()];case 1:return e=a.sent(),t=c.playerSelectors.all(e),n=t.isAutoPlayEnabled,r=t.isBufferingDisabled,i=c.configurationSelectors.allowsCellular(e),o=c.coreSelectors.gateStatus(e,d.contentLifecycleActionCreators.readyToPlay),s=c.coreSelectors.all(e),l=s.awaitingClientReturn,p=s.networkType,h=c.uiSelectors.all(e).isPreviewOverlayEnabled,m=o===f.GateStatus.PASSED,p!==v.NetInfoStateType.cellular?[2]:i?r?[4,u.put(d.playerActionCreators.enableBuffering())]:[3,3]:[3,10];case 2:a.sent(),a.label=3;case 3:return h?[4,u.put(d.uiActionCreators.hidePreviewOverlay())]:[3,5];case 4:a.sent(),a.label=5;case 5:return m?[4,u.put(d.playerActionCreators.requestPlay("ConnectivityPlugin loadConfig"))]:[3,7];case 6:return a.sent(),[3,9];case 7:return n?[3,9]:[4,u.put(d.playerActionCreators.enableAutoPlay())];case 8:a.sent(),a.label=9;case 9:return[2];case 10:return r?[3,12]:[4,u.put(d.playerActionCreators.disableBuffering())];case 11:a.sent(),a.label=12;case 12:return m?[3,16]:n?[4,u.put(d.playerActionCreators.disableAutoPlay())]:[3,14];case 13:a.sent(),a.label=14;case 14:return l?[3,16]:[4,u.put(d.coreActionCreators.requestCellularAccess())];case 15:a.sent(),a.label=16;case 16:return[2]}}))},t.prototype.handleNetworkIsCellular=function(){var e,t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return t=(e=c.configurationSelectors).self,[4,u.select()];case 1:return t.apply(e,[a.sent()]).metadata?[4,u.select()]:[2];case 2:return n=a.sent(),r=c.playerSelectors.all(n).isBufferingDisabled,i=c.coreSelectors.all(n).networkType===v.NetInfoStateType.cellular,o=c.configurationSelectors.allowsCellular(n),!i||o||r?[3,4]:[4,u.put(d.playerActionCreators.disableBuffering())];case 3:a.sent(),a.label=4;case 4:return[2]}}))},t.prototype.handleNetworkIsWifi=function(){var e,t,n,r,i,o,s;return a(this,(function(a){switch(a.label){case 0:return t=(e=c.configurationSelectors).self,[4,u.select()];case 1:return t.apply(e,[a.sent()]).metadata?[4,u.select()]:[2];case 2:return n=a.sent(),r=c.playerSelectors.all(n),i=r.isAutoPlayEnabled,o=r.isBufferingDisabled,s=c.uiSelectors.all(n).isPreviewOverlayEnabled,o?[4,u.put(d.playerActionCreators.enableBuffering())]:[3,7];case 3:return a.sent(),s?[4,u.put(d.uiActionCreators.hidePreviewOverlay())]:[3,5];case 4:a.sent(),a.label=5;case 5:return i?[3,7]:[4,u.put(d.playerActionCreators.enableAutoPlay())];case 6:a.sent(),a.label=7;case 7:return[2]}}))},t.prototype.handleSubscribe=function(){return a(this,(function(e){return m.default.isMobileNative()&&(this.subscription=s.default.addEventListener((function(e){var t=e.isConnected,n=e.type,r=p.default.getState().core||{},i=r.isMobileNetworkAvailable;r.networkType!==n&&("cellular"===n?p.default.dispatch(d.coreActionCreators.setNetworkTypeToCellular()):"wifi"===n&&p.default.dispatch(d.coreActionCreators.setNetworkTypeToWifi())),!i&&t?p.default.dispatch(d.coreActionCreators.gainedNetworkAccess()):i&&!t&&p.default.dispatch(d.coreActionCreators.lostNetworkAccess())}))),[2]}))},t.prototype.handleStartAppNonMobile=function(){return a(this,(function(e){switch(e.label){case 0:return[4,u.put(d.coreActionCreators.gainedNetworkAccess())];case 1:return e.sent(),[2]}}))},t.prototype.handleUnsubscribe=function(){return a(this,(function(e){return this.subscription&&(this.subscription(),this.subscription=null),[2]}))},t}(h.default);t.default=g},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}},function(e,t,n){var r=n(895);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function d(){}function f(){}function p(){}var h={};h[i]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(w([])));m&&m!==t&&n.call(m,i)&&(h=m);var g=p.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function w(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,f.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),s(g,o,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=n(7),f=n(84),p=s(n(373)),h=function(e){function t(){var t=e.call(this,"DetectWebDRMs")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.handleFailedDrmLoad=t.handleFailedDrmLoad.bind(t),t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.register=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.coreActionCreators.startApp,this.handleStartApp),u.takeEvery(c.playerActionCreators.failedDrmLoad,this.handleFailedDrmLoad)])];case 1:return e.sent(),[2]}}))},t.prototype.detectPlatformDrms=function(){var e,n,r;return o(this,(function(i){switch(i.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=i.sent().drm,n=null==e?void 0:e.widevineRobustness,[4,u.call(t.getSupportedDrms,n)];case 2:return r=i.sent(),window.localStorage.setItem("velocityLastUserAgent",null===navigator||void 0===navigator?void 0:navigator.userAgent),window.localStorage.setItem("velocityDetectedDrms",r.join(",")),[2,r]}}))},t.prototype.handleStartApp=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return window.localStorage.getItem("velocityLastUserAgent")!==(null===navigator||void 0===navigator?void 0:navigator.userAgent)?[3,2]:(e=window.localStorage.getItem("velocityDetectedDrms")||"")?(t=e.split(","),[4,u.put(c.coreActionCreators.detectedDrms(t))]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))},t.prototype.handleFailedDrmLoad=function(){return o(this,(function(e){return window.localStorage.setItem("velocityLastUserAgent",""),window.localStorage.setItem("velocityDetectedDrms",""),[2]}))},t.checkEME=function(e,t){return a(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:n=[{initDataTypes:["cenc"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:t}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.42E01E"',robustness:t}]}],r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.requestMediaKeySystemAccess(e,n)];case 2:return[2,!!r.sent()];case 3:return r.sent(),[2,!1];case 4:return[2]}}))}))},t.getSupportedDrms=function(e){return a(void 0,void 0,void 0,(function(){var n,r,i;return o(this,(function(a){switch(a.label){case 0:return n=[f.DRM.FAIRPLAY,f.DRM.WIDEVINE,f.DRM.PLAYREADY,f.DRM.CLEARKEY],r=n.map((function(n){return t.checkEME(f.KeySystems[n],e)})),[4,Promise.all(r)];case 1:return i=a.sent(),[2,n.filter((function(e,t){return!(e===f.DRM.FAIRPLAY&&i[t]&&!d.environmentUtils.hasWebAssembly())&&(e!==f.DRM.CLEARKEY&&i[t])}))]}}))}))},t}(p.default);t.default=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),s=function(e){function t(){return e.call(this,"adsPlayer",o.adsPlayerActionCreators)||this}return i(t,e),t}(a(n(374)).default);t.default=s},function(e,t,n){"use strict";(function(t){var r=n(902),i=n(903),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(e){return(e||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new p(unescape(e.pathname),{});else if("string"===o)for(n in i=new p(e,{}),l)delete i[n];else if("object"===o){for(n in e)n in l||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function f(e){e=u(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=u(e),!(this instanceof p))return new p(e,t,n);var a,o,s,l,h,v,m=c.slice(),g=typeof t,y=this,b=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=d(t),a=!(o=f(e||"")).protocol&&!o.slashes,y.slashes=o.slashes||a&&t.slashes,y.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(m[3]=[/(.*)/,"pathname"]);b<m.length;b++)"function"!=typeof(l=m[b])?(s=l[0],v=l[1],s!=s?y[v]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof l[2]?(y[v]=e.slice(0,h),e=e.slice(h+l[2])):(y[v]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(y[v]=h[1],e=e.slice(0,h.index)),y[v]=y[v]||a&&l[3]&&t[v]||"",l[4]&&(y[v]=y[v].toLowerCase())):e=l(e);n&&(y.query=n(y.query)),a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(l=y.auth.split(":"),y.username=l[0]||"",y.password=l[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";a[e]=t.charAt(0)!==o?o+t:t}else a[e]=t;break;default:a[e]=t}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(a[u[1]]=a[u[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},p.extractProtocol=f,p.location=d,p.trimLeft=u,p.qs=i,e.exports=p}).call(this,n(45))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=a(i),n=a(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=i(t[1]),o=i(t[2]);null===a||null===o||a in r||(r[a]=o)}return r}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.CDNMetrics=void 0;var i=function(){function e(){this.state={affinityHost:null,avgAudioBitrate:null,avgAudioTransferRate:null,avgVideoBitrate:null,avgVideoTransferRate:null,hosts:{},initialVideoBitrate:null,manifestHost:null}}return e.prototype.setManifestHost=function(e){this.state.manifestHost=e},e.prototype.setAffinityHost=function(e){this.state.affinityHost=e},e.prototype.setAvgAudioBitrate=function(e){this.state.avgAudioBitrate=e},e.prototype.setAvgVideoBitrate=function(e){this.state.avgVideoBitrate=e},e.prototype.setInitialVideoBitrate=function(e){this.state.initialVideoBitrate=e},e.prototype.addSegment=function(e,t){var n=this,i=t.bitrate,a=t.contentType,o=t.responseTime,s=i/o;this.state.hosts[e]||(this.state.hosts[e]={audio:{avgBitRate:0,avgTransferRate:0,segments:[],totalBitrate:0,totalTransferRate:0},video:{avgBitRate:0,avgTransferRate:0,segments:[],totalBitrate:0,totalTransferRate:0}});var u=this.state.hosts[e][a];this.state.hosts[e][a]={avgBitRate:(u.totalBitrate+i)/(u.segments.length+1),avgTransferRate:(u.totalTransferRate+s)/(u.segments.length+1),segments:r(u.segments,[[i,o]]),totalBitrate:u.totalBitrate+i,totalTransferRate:u.totalTransferRate+s};var c=0,l=0,d=0,f=0,p=0,h=0;Object.entries(this.state.hosts).forEach((function(e){var t=e[0],r=e[1];n.state.affinityHost||(n.state.affinityHost=t),l+=r.audio.totalBitrate,c+=r.audio.segments.length,d+=r.audio.totalTransferRate,n.state.hosts[n.state.affinityHost].video.totalBitrate>r.video.totalBitrate&&(n.state.affinityHost=t),p+=r.video.totalBitrate,f+=r.video.segments.length,h+=r.video.totalTransferRate})),this.state.avgAudioBitrate=l/c,this.state.avgAudioTransferRate=d/c,this.state.avgVideoBitrate=p/f,this.state.avgVideoTransferRate=h/f},e}();t.CDNMetrics=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(371)),s=a(n(906)),u=a(n(907)),c=function(e){function t(){var t=e.call(this,"AdsHTMLPlayerPlugin")||this;return t.getComponent=function(){return s.default},t.getOptions=function(){return{sagas:[u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AdsPlayer=void 0;var c=u(n(1)),l=n(6),d=n(14),f=n(2),p=n(7),h=n(27),v=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleRef=function(e){t.videoRef=e},n.handleBrowserRefresh=function(){n.props.adsPlayerActions.stopped()},n.onDurationChange=function(e){var r,i=null===(r=t.videoRef)||void 0===r?void 0:r.duration;i&&n.props.adsPlayerActions.setDuration(i)},n.onEnded=function(e){n.props.adsPlayerActions.ended()},n.onError=function(e){var t,r;n.props.adsPlayerActions.error({code:null===(t=null==e?void 0:e.nativeEvent)||void 0===t?void 0:t.code,message:null===(r=null==e?void 0:e.nativeEvent)||void 0===r?void 0:r.message})},n.onLoadedData=function(e){n.props.adsPlayerActions.loadedData()},n.onLoadedMetadata=function(e){n.props.adsPlayerActions.loadedMetadata()},n.onLoadStart=function(e){n.props.adsPlayer.attachedTech!==h.PlayerTechType.SHAKA&&n.props.adsPlayerActions.loadStart()},n.onPause=function(e){n.props.adsPlayerActions.pause()},n.onPlay=function(e){n.props.adsPlayerActions.play()},n.onPlaying=function(e){},n.onProgress=function(e){for(var r,i=[],a=(null===(r=t.videoRef)||void 0===r?void 0:r.buffered)||new TimeRanges,o=0;o<(null==a?void 0:a.length);++o){var s=(null==a?void 0:a.start(o))<.1?0:null==a?void 0:a.start(o);i.push({start:s,end:null==a?void 0:a.end(o)})}n.props.adsPlayerActions.progress(i)},n.onRateChange=function(e){},n.onSeeked=function(e){n.props.adsPlayerActions.endSeek()},n.onTimeUpdate=function(e){},n.onVolumeChange=function(e){var r=n.props.coreActions,i=n.props.isMuted,a=t.videoRef;i!==a.muted&&(a.muted?r.mute():r.unmute())},n.onWaiting=function(e){n.props.adsPlayerActions.waiting()},n.clearedSource=function(e){var t=n.props.adsPlayer,r=t.attachedTech,i=t.source;if(!r||e===r)return i},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props.adsPlayer.name;this.props.adsPlayerActions.createdPlayer(e)},t.prototype.componentWillUnmount=function(){t.videoRef=null},t.prototype.render=function(){var e=this.props,t=e.isVisible,n=e.adsPlayer,r=n.areControlsVisible,i=n.name,o=t?m.visible:m.hidden;return c.default.createElement(c.default.Fragment,null,c.default.createElement("video",{autoPlay:p.environmentUtils.isSafari(),controls:r,id:i,onDurationChange:this.onDurationChange,onEnded:this.onEnded,onError:this.onError,onLoadStart:this.onLoadStart,onLoadedData:this.onLoadedData,onLoadedMetadata:this.onLoadedMetadata,onPause:this.onPause,onPlay:this.onPlay,onPlaying:this.onPlaying,onProgress:this.onProgress,onRateChange:this.onRateChange,onSeeked:this.onSeeked,onTimeUpdate:this.onTimeUpdate,onWaiting:this.onWaiting,onVolumeChange:this.onVolumeChange,playsInline:!0,ref:this.handleRef,style:a(a({},m.video),o)}),c.default.createElement("div",{id:"adsPlayer-overlay",style:a(a({},m.overlay),o)}))},t}(c.Component);t.AdsPlayer=v;var m={video:{display:"flex",width:"100%",height:"100%",position:"absolute",background:"#000"},overlay:{display:"flex",width:"100%",height:"100%",position:"absolute",zIndex:10},visible:{},hidden:{visibility:"hidden"}};t.default=l.connect((function(e){return{volume:e.core.volume,isMuted:e.core.isMuted,core:e.core,configuration:e.configuration,isWaiting:e.adsPlayer.isWaiting,isInAdBreak:e.adsManager.isInAdBreak,isVisible:e.adsPlayer.isActive,adsPlayer:e.adsPlayer}}),(function(e){return{adsPlayerActions:d.bindActionCreators(f.adsPlayerActionCreators,e),coreActions:d.bindActionCreators(f.coreActionCreators,e),mediaActions:d.bindActionCreators(f.mediaActionCreators,e)}}))(v)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=n(59),c=n(39),l=n(27),d=n(7);function f(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(t=document.getElementById(e),!(n=t.play()))return[2,l.PlayResult.SUCCEEDED];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n];case 2:return r.sent(),[2,l.PlayResult.SUCCEEDED];case 3:return"NotSupportedError"==typeof r.sent()?[2,l.PlayResult.NOT_SUPPORTED]:[2,l.PlayResult.NOT_ALLOWED];case 4:return[2]}}))}))}function p(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return n=(t=s.adsPlayerSelectors).all,[4,a.select()];case 1:return e=n.apply(t,[i.sent()]),(r=document.getElementById(e.name))&&(r.muted=!0),[2]}}))}function h(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return n=(t=s.adsPlayerSelectors).all,[4,a.select()];case 1:return e=n.apply(t,[i.sent()]),(r=document.getElementById(e.name))&&r.pause(),[2]}}))}function v(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return n.sent()?[2]:[4,a.select(s.adsPlayerSelectors.all)];case 2:return e=n.sent(),[4,a.call(f,e.name)];case 3:switch(t=n.sent(),t){case l.PlayResult.SUCCEEDED:return[3,4];case l.PlayResult.NOT_ALLOWED:return[3,6];case l.PlayResult.NOT_SUPPORTED:return[3,8]}return[3,10];case 4:return[4,a.put(o.adsPlayerActionCreators.resolvePlay())];case 5:return[2,n.sent()];case 6:return[4,a.put(o.adsPlayerActionCreators.rejectPlay(t))];case 7:return[2,n.sent()];case 8:return[4,a.put(o.adsPlayerActionCreators.rejectPlay(t))];case 9:return[2,n.sent()];case 10:return[2]}}))}function m(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return n=(t=s.adsPlayerSelectors).all,[4,a.select()];case 1:return!(e=n.apply(t,[r.sent()])).startTime||d.environmentUtils.isSafari()?[3,3]:[4,a.put(o.adsPlayerActionCreators.requestSeekToContentTime(e.startTime))];case 2:r.sent(),r.label=3;case 3:return[2]}}))}function g(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return n=(t=s.adsPlayerSelectors).all,[4,a.select()];case 1:return(e=n.apply(t,[r.sent()])).startTime&&d.environmentUtils.isSafari()?[4,a.put(o.adsPlayerActionCreators.requestSeekToContentTime(e.startTime))]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}function y(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,a.select()];case 1:return e=r.sent(),t=s.adsPlayerSelectors.all(e),n=s.coreSelectors.all(e),document.getElementById(t.name).volume=n.volume,[2]}}))}function b(){var e,t,n,r,u;return i(this,(function(i){switch(i.label){case 0:return[4,a.select(s.adsPlayerSelectors.all)];case 1:return e=i.sent(),t=e.name,n=e.seekTime,[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 2:return i.sent()?[3,5]:((r=document.getElementById(t)).currentTime=n,[4,a.select(s.configurationSelectors.self)]);case 3:return u=i.sent(),c.isUsingSSAI(u)?[4,a.race({failed:a.delay(1e3),seeked:a.take(o.adsPlayerActionCreators.endSeek),cancelled:a.take(o.coreActionCreators.rejectSeek)})]:[3,5];case 4:i.sent().failed&&(r.currentTime=n+1),i.label=5;case 5:return[2]}}))}function _(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return r.sent()?[2]:(n=(t=s.adsPlayerSelectors).all,[4,a.select()]);case 2:return e=n.apply(t,[r.sent()]),document.getElementById(e.name).muted=!1,[2]}}))}function A(e){var t,n,r,o=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return e.sent()?[2]:(r=(n=s.adsPlayerSelectors).all,[4,a.select()]);case 2:return t=r.apply(n,[e.sent()]),document.getElementById(t.name).volume=o,[2]}}))}function S(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.adsManagerSelectors.property,"adBreaks")];case 1:return e=n.sent(),[4,a.select(s.adsManagerSelectors.property,"targetAdBreakIndex")];case 2:return t=n.sent(),[4,a.put(o.adsPlayerActionCreators.requestPause("Ad Break Start"))];case 3:return n.sent(),[4,a.take(o.adsPlayerActionCreators.pause)];case 4:return n.sent(),e[t].type!==u.AdBreakType.MIDROLL?[3,6]:[4,a.put(o.adsManagerActionCreators.grantAdBreakStart())];case 5:n.sent(),n.label=6;case 6:return[2]}}))}function E(){return i(this,(function(e){switch(e.label){case 0:return[4,a.put(o.adsPlayerActionCreators.requestPlay("AdBreakEnd"))];case 1:return e.sent(),[2]}}))}function w(){var e,t;return i(this,(function(n){switch(n.label){case 0:return t=(e=s.adsPlayerSelectors).all,[4,a.select()];case 1:return t.apply(e,[n.sent()]).isActive?[4,a.put(o.adsPlayerActionCreators.requestPlay("GrantGesturePermission"))]:[3,3];case 2:return n.sent(),[3,6];case 3:return[4,a.put(o.adsPlayerActionCreators.load())];case 4:return n.sent(),[4,a.put(o.adsPlayerActionCreators.requestPause("GrantGesturePermission"))];case 5:n.sent(),n.label=6;case 6:return[2]}}))}function T(){return i(this,(function(e){switch(e.label){case 0:return d.environmentUtils.isSafari()?[4,a.put(o.adsPlayerActionCreators.load())]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function P(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return i.sent()?[2]:(n=(t=s.adsPlayerSelectors).all,[4,a.select()]);case 2:return e=n.apply(t,[i.sent()]),(r=document.getElementById(e.name))?r.load():setTimeout(P,0),[2]}}))}function C(){var e,t;return i(this,(function(n){switch(n.label){case 0:return t=(e=s.coreSelectors).all,[4,a.select()];case 1:return t.apply(e,[n.sent()]).isSeekingDisabled?[4,a.put(o.coreActionCreators.rejectSeek())]:[3,3];case 2:return[2,n.sent()];case 3:return[4,a.put(o.adsPlayerActionCreators.startSeek())];case 4:return n.sent(),[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.adsManagerActionCreators.requestAdBreakStart,S),a.takeEvery(o.adsManagerActionCreators.endedAdBreak,E),a.takeEvery(o.coreActionCreators.grantGesturePermission,w),a.takeEvery(o.adsPlayerActionCreators.setSource,T),a.takeEvery(o.adsPlayerActionCreators.load,P),a.takeEvery(o.adsPlayerActionCreators.loadStart,m),a.takeEvery(o.adsPlayerActionCreators.loadedData,g),a.takeEvery(o.coreActionCreators.mute,p),a.takeEvery(o.adsPlayerActionCreators.requestPause,h),a.takeEvery(o.adsPlayerActionCreators.requestPlay,v),a.takeEvery(o.adsPlayerActionCreators.requestSeekToStreamTime,C),a.takeEvery(o.adsPlayerActionCreators.startSeek,b),a.takeEvery(o.coreActionCreators.unmute,_),a.takeEvery(o.coreActionCreators.updateVolume,A),a.takeEvery(o.adsPlayerActionCreators.loadedMetadata,y)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(909)),u=a(n(910)),c=function(e){function t(){var t=e.call(this,"AdsPlayerPlugin")||this;return t.getOptions=function(){return{reducerMap:{adsPlayer:s.default},sagas:[u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(375)),o=i(n(233)),s=n(27),u=i(n(297)),c=r(r({},a.default),{name:"adsPlayer",playerType:s.PlayerType.ADS});t.default=o.default(u.default,c)},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(2),o=n(8),s=n(85),u=n(39);function c(){return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.adsPlayerSelectors.all)];case 1:return e.sent().isInitialPlayGranted?[3,3]:[4,i.put(a.adsPlayerActionCreators.grantInitialPlay())];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function l(e){var t,n=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.configurationSelectors.self)];case 1:return t=e.sent(),u.isUsingSSAI(t)?u.isUsingYospace(t)?[4,u.yospaceSsaiSeek(n)]:[3,3]:[3,6];case 2:return e.sent(),[3,5];case 3:return[4,s.ssaiSeek(n)];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return[4,i.put(a.adsPlayerActionCreators.requestSeekToStreamTime(n))];case 7:e.sent(),e.label=8;case 8:return[2]}}))}function d(){return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.adsPlayerSelectors.all)];case 1:return e.sent().isPaused?[3,3]:[4,i.put(a.adsPlayerActionCreators.requestPause("Unload Content"))];case 2:e.sent(),e.label=3;case 3:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeEvery(a.contentLifecycleActionCreators.unloadContent,d),i.takeEvery(a.adsPlayerActionCreators.resolvePlay,c),i.takeEvery(a.adsPlayerActionCreators.requestSeekToContentTime,l)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(230)),s=a(n(372)),u=a(n(912)),c=a(n(913)),l=a(n(914)),d=a(n(915)),f=function(e){function t(){var t=e.call(this,"HTMLVideoPlayerPlugin")||this;return t.getComponent=function(){return s.default},t.getOptions=function(){return{sagas:[u.default,c.default,l.default,d.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=f},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=n(59),c=n(39),l=n(27),d=n(28),f=n(7);function p(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(t=document.getElementById(e),!(n=null==t?void 0:t.play()))return[2,l.PlayResult.SUCCEEDED];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n];case 2:return r.sent(),[2,l.PlayResult.SUCCEEDED];case 3:return"NotSupportedError"==typeof r.sent()?[2,l.PlayResult.NOT_SUPPORTED]:[2,l.PlayResult.NOT_ALLOWED];case 4:return[2]}}))}))}function h(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=n.sent(),(t=document.getElementById(e.name))&&(t.muted=!0),[2]}}))}function v(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=n.sent(),-1===(t=e.textTracks.findIndex((function(e){return"showing"===e.mode})))?[2]:e.useExternalTextTracks||e.useHardSubTracks?[4,a.put(o.playerActionCreators.setActiveTextTrack(d.TEXT_TRACK_NONE))]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,a.put(o.playerActionCreators.setActiveTextTrack(t))];case 4:n.sent(),n.label=5;case 5:return[2]}}))}function m(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=n.sent(),(t=document.getElementById(e.name))&&t.pause(),[2]}}))}function g(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return n.sent()?[2]:[4,a.select(s.playerSelectors.all)];case 2:return e=n.sent(),[4,a.call(p,e.name)];case 3:switch(t=n.sent(),t){case l.PlayResult.SUCCEEDED:return[3,4];case l.PlayResult.NOT_ALLOWED:return[3,6];case l.PlayResult.NOT_SUPPORTED:return[3,8]}return[3,10];case 4:return[4,a.put(o.playerActionCreators.resolvePlay())];case 5:return[2,n.sent()];case 6:return[4,a.put(o.playerActionCreators.rejectPlay(t))];case 7:return[2,n.sent()];case 8:return[4,a.put(o.playerActionCreators.rejectPlay(t))];case 9:return[2,n.sent()];case 10:return[2]}}))}function y(e){var t,n,r,o=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return(t=e.sent()).useExternalTextTracks&&o!==d.TEXT_TRACK_NONE||(n=document.getElementById(t.name),-1!==(r=f._.findIndex(n.textTracks,{mode:"showing"}))&&(n.textTracks[r].mode="disabled"),o!==d.TEXT_TRACK_NONE&&(o>=n.textTracks.length?console.warn("Invalid text track index",o):n.textTracks[o].mode="showing")),[2]}}))}function b(){return i(this,(function(e){switch(e.label){case 0:return f.environmentUtils.isSafari()?[4,a.put(o.playerActionCreators.requestManifest())]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function _(){return i(this,(function(e){switch(e.label){case 0:return f.environmentUtils.isSafari()?[4,a.put(o.playerActionCreators.fetchedManifest())]:[3,3];case 1:return e.sent(),[4,a.put(o.playerActionCreators.requestInitSegment())];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function A(){var e,t,n,r,u;return i(this,(function(i){switch(i.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=i.sent(),t=e.name,n=e.seekTime,[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 2:return i.sent()?[3,5]:((r=document.getElementById(t)).currentTime=n,[4,a.select(s.configurationSelectors.self)]);case 3:return u=i.sent(),c.isUsingSSAI(u)?[4,a.race({failed:a.delay(1e3),seeked:a.take(o.playerActionCreators.endSeek),cancelled:a.take(o.coreActionCreators.rejectSeek)})]:[3,5];case 4:i.sent().failed&&(r.currentTime=n+1),i.label=5;case 5:return[2]}}))}function S(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return n.sent()?[2]:[4,a.select(s.playerSelectors.all)];case 2:return e=n.sent(),(t=document.getElementById(e.name))&&(t.muted=!1),[2]}}))}function E(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return(e=i.sent()).activeVideoTrackQuality!==d.VIDEO_QUALITY_AUTO?[2]:(t=document.getElementById(e.name),(n=null==t?void 0:t.videoHeight)?-1===(r=e.videoTracks.findIndex((function(e){return e.height===n})))||r===e.abrIndex?[3,3]:[4,a.put(o.playerActionCreators.abrAdapted(r))]:[2]);case 2:i.sent(),i.label=3;case 3:return[2]}}))}function w(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return e.sent()?[2]:[4,a.select(s.playerSelectors.all)];case 2:return t=e.sent(),(n=document.getElementById(t.name))&&(n.volume=r),[2]}}))}function T(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.adsManagerSelectors.property,"adBreaks")];case 1:return e=n.sent(),[4,a.select(s.adsManagerSelectors.property,"targetAdBreakIndex")];case 2:return t=n.sent(),[4,a.put(o.playerActionCreators.requestPause("Ad Break Start"))];case 3:return n.sent(),[4,a.take(o.playerActionCreators.pause)];case 4:return n.sent(),e[t].type!==u.AdBreakType.MIDROLL?[3,6]:[4,a.put(o.adsManagerActionCreators.grantAdBreakStart())];case 5:n.sent(),n.label=6;case 6:return[2]}}))}function P(){return i(this,(function(e){switch(e.label){case 0:return[4,a.put(o.playerActionCreators.requestPlay("AdBreakEnd"))];case 1:return e.sent(),[2]}}))}function C(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:return[4,a.select(s.adsManagerSelectors.property,"hasPreroll")];case 1:return e=r.sent(),[4,a.select(s.adsManagerSelectors.property,"isInAdBreak")];case 2:return t=r.sent(),[4,a.select(s.adsManagerSelectors.property,"targetAdBreakIndex")];case 3:return n=r.sent(),e&&t&&0===n?[4,a.put(o.playerActionCreators.load())]:[3,6];case 4:return r.sent(),[4,a.put(o.playerActionCreators.requestPause("GrantGesturePermission"))];case 5:return r.sent(),[3,8];case 6:return[4,a.put(o.playerActionCreators.requestPlay("GrantGesturePermission"))];case 7:r.sent(),r.label=8;case 8:return[2]}}))}function O(){return i(this,(function(e){switch(e.label){case 0:return f.environmentUtils.isSafari()?[4,a.put(o.playerActionCreators.load())]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function k(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,a.select(s.coreSelectors.property,"isRunningInWebview")];case 1:return n.sent()?[2]:[4,a.select(s.playerSelectors.all)];case 2:return e=n.sent(),(t=document.getElementById(e.name))?t.load():setTimeout(k,0),[2]}}))}function I(){return i(this,(function(e){switch(e.label){case 0:return[4,a.select(s.coreSelectors.all)];case 1:return e.sent().isSeekingDisabled?[4,a.put(o.coreActionCreators.rejectSeek())]:[3,3];case 2:return[2,e.sent()];case 3:return[4,a.put(o.playerActionCreators.startSeek())];case 4:return e.sent(),[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.adsManagerActionCreators.requestAdBreakStart,T),a.takeEvery(o.adsManagerActionCreators.endedAdBreak,P),a.takeEvery(o.coreActionCreators.grantGesturePermission,C),a.takeEvery(o.playerActionCreators.addTextTrack,v),a.takeEvery(o.playerActionCreators.setSource,O),a.takeEvery(o.playerActionCreators.load,k),a.takeEvery(o.playerActionCreators.loadStart,b),a.takeEvery(o.playerActionCreators.loadedMetadata,_),a.takeEvery(o.coreActionCreators.mute,h),a.takeEvery(o.playerActionCreators.requestPause,m),a.takeEvery(o.playerActionCreators.requestPlay,g),a.takeEvery(o.playerActionCreators.setActiveTextTrack,y),a.takeEvery(o.playerActionCreators.requestSeekToStreamTime,I),a.takeEvery(o.playerActionCreators.startSeek,A),a.takeEvery(o.coreActionCreators.unmute,S),a.takeEvery(o.playerActionCreators.updateTextTrack,v),a.takeEvery(o.mediaActionCreators.updateTime,E),a.takeEvery(o.coreActionCreators.updateVolume,w)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(50),s=n(9),u=n(2),c=i(n(32)),l=n(7),d=n(28);function f(){return document.pictureInPictureEnabled}function p(){return o.eventChannel((function(e){var t=function(){return e(d.PIPEvent.enterpictureinpicture)},n=function(){return e(d.PIPEvent.leavepictureinpicture)};return a.addEventListener("enterpictureinpicture",t),a.addEventListener("leavepictureinpicture",n),function(){a.removeEventListener("enterpictureinpicture",t),a.removeEventListener("leavepictureinpicture",n)}}))}function h(){return r(this,(function(e){return c.default.lock(),[2]}))}function v(){return r(this,(function(e){return c.default.unlock(),[2]}))}function m(){return r(this,(function(e){return a?(l.webUtils.hasSetPresentationMode(a)?a.webkitSetPresentationMode("picture-in-picture"):f()&&a.requestPictureInPicture(),[2]):[2]}))}function g(){return r(this,(function(e){return a?(l.webUtils.hasSetPresentationMode(a)?a.webkitSetPresentationMode("inline"):f()&&document.exitPictureInPicture(),[2]):[2]}))}function y(){return r(this,(function(e){switch(e.label){case 0:return f()?[4,s.put(u.coreActionCreators.updatePictureInPictureSupported(!0))]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function b(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return a=document.getElementById(t),[4,s.fork(_)];case 1:return e.sent(),[2]}}))}function _(){var e,t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,10,12]),[4,s.call(p)];case 1:e=n.sent(),n.label=2;case 2:return[4,s.take(e)];case 3:switch(t=n.sent(),t){case d.PIPEvent.enterpictureinpicture:return[3,4];case d.PIPEvent.leavepictureinpicture:return[3,6]}return[3,8];case 4:return[4,s.put(u.playerActionCreators.enterPictureInPicture())];case 5:return n.sent(),[3,8];case 6:return[4,s.put(u.playerActionCreators.leavePictureInPicture())];case 7:return n.sent(),[3,8];case 8:return[3,2];case 9:return[3,12];case 10:return[4,s.cancelled()];case 11:return n.sent()&&e.close(),[7];case 12:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,y),s.takeEvery(u.playerActionCreators.createdPlayer,b),s.takeEvery(u.playerActionCreators.requestPictureInPicture,m),s.takeEvery(u.playerActionCreators.requestExitPictureInPicture,g),s.takeEvery(u.playerActionCreators.enterPictureInPicture,h),s.takeEvery(u.playerActionCreators.leavePictureInPicture,v)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i,a,o=n(50),s=n(9),u=n(2),c=n(7),l=n(28);function d(){var e=a.webkitPresentationMode;return o.eventChannel((function(t){var n=function(){var n=a.webkitPresentationMode;n===l.PresentationMode.PICTURE_IN_PICTURE?t(i.ENTER_PIP):e===l.PresentationMode.PICTURE_IN_PICTURE&&t(i.LEAVE_PIP),n===l.PresentationMode.FULLSCREEN?t(i.ENTER_FULLSCREEN):e===l.PresentationMode.FULLSCREEN&&t(i.EXIT_FULLSCREEN),e=n};return a.addEventListener("webkitpresentationmodechanged",n),function(){a.removeEventListener("webkitpresentationmodechanged",n)}}))}function f(){var e,t;return r(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,14,16]),[4,s.call(d)];case 1:e=n.sent(),n.label=2;case 2:return[4,s.take(e)];case 3:switch(t=n.sent(),t){case i.ENTER_PIP:return[3,4];case i.LEAVE_PIP:return[3,6];case i.ENTER_FULLSCREEN:return[3,8];case i.EXIT_FULLSCREEN:return[3,10]}return[3,12];case 4:return[4,s.put(u.playerActionCreators.enterPictureInPicture())];case 5:return n.sent(),[3,12];case 6:return[4,s.put(u.playerActionCreators.leavePictureInPicture())];case 7:return n.sent(),[3,12];case 8:return[4,s.put(u.coreActionCreators.enterFullscreen())];case 9:return n.sent(),[3,12];case 10:return[4,s.put(u.coreActionCreators.exitFullscreen())];case 11:return n.sent(),[3,12];case 12:return[3,2];case 13:return[3,16];case 14:return[4,s.cancelled()];case 15:return n.sent()&&e.close(),[7];case 16:return[2]}}))}function p(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return a=document.getElementById(t),c.webUtils.hasSetPresentationMode(a)?c.environmentUtils.isIphoneWeb()?[3,2]:[4,s.put(u.coreActionCreators.updatePictureInPictureSupported(!0))]:[3,4];case 1:e.sent(),e.label=2;case 2:return[4,s.fork(f)];case 3:e.sent(),e.label=4;case 4:return[2]}}))}!function(e){e.ENTER_FULLSCREEN="ENTER_FULLSCREEN",e.EXIT_FULLSCREEN="EXIT_FULLSCREEN",e.LEAVE_PIP="LEAVE_PIP",e.ENTER_PIP="ENTER_PIP"}(i||(i={})),t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.playerActionCreators.createdPlayer,p)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleUnloadContent=t.handleFireInterval=void 0;var i,a=n(9),o=n(2),s=n(8),u=n(7),c="Synthetic Playhead Interval";function l(){var e,t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=r.sent(),t=document.getElementById(e.name),n=parseFloat(t.currentTime.toFixed(2)),.1,!e.isSeeking&&e.isWaiting&&i&&n-i>=.1?[4,a.put(o.playerActionCreators.playing())]:[3,3];case 2:r.sent(),r.label=3;case 3:return i=n,[4,a.select(s.adsManagerSelectors.all)];case 4:return r.sent().isInAdBreak?[4,a.put(o.mediaActionCreators.updateStreamTime(n))]:[3,6];case 5:return r.sent(),[3,8];case 6:return[4,a.put(o.mediaActionCreators.updateTime(n))];case 7:r.sent(),r.label=8;case 8:return[2]}}))}function d(){return r(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[4,a.select(s.coreSelectors.isTaskActive,c)];case 2:return e.sent()?[3,4]:[4,a.put(o.coreActionCreators.startIntervalTask({name:c,interval:.1}))];case 3:e.sent(),e.label=4;case 4:return[2]}}))}function f(){return r(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[2]}}))}function p(e){var t;return r(this,(function(n){switch(n.label){case 0:return[4,l()];case 1:return n.sent(),[4,a.select(s.coreSelectors.isTaskActive,c)];case 2:return n.sent()?[4,a.put(o.coreActionCreators.stopIntervalTask(c))]:[3,4];case 3:return n.sent(),[3,5];case 4:t=u._.get(e,"action"),console.warn("Playhead stop when already stopped",t),n.label=5;case 5:return[2]}}))}function h(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return t!==c?[3,2]:[4,l()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function v(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.coreSelectors.isTaskActive,c)];case 1:return e.sent()?[4,a.put(o.coreActionCreators.stopIntervalTask(c))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,p(null)];case 4:return e.sent(),[4,u.gateUtils.completeTask(o.contentLifecycleActionCreators.completeUnloadContent,"Synthetic Playhead Unload")];case 5:return e.sent(),[2]}}))}t.handleFireInterval=h,t.handleUnloadContent=v,t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery([o.playerActionCreators.play,o.playerActionCreators.playing],d),a.takeEvery(o.contentLifecycleActionCreators.unloadContent,v),a.takeEvery(o.coreActionCreators.fireInterval,h),a.takeEvery([o.playerActionCreators.endSeek,o.playerActionCreators.startSeek],f),a.takeEvery([o.playerActionCreators.pause,o.playerActionCreators.stopped],p)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(917)),a=r(n(919)),o=r(n(333)),s=r(n(920)),u=r(n(923)),c=r(n(85)),l=r(n(925)),d=r(n(935)),f=r(n(937)),p=r(n(938)),h=r(n(940)),v=r(n(32)),m=r(n(943)),g=r(n(949)),y=r(n(26)),b=r(n(951)),_=r(n(952)),A=r(n(350)),S=r(n(954)),E=r(n(957)),w=r(n(959)),T=r(n(961)),P=r(n(967)),C=r(n(972)),O=r(n(974)),k=r(n(977)),I=r(n(979)),x=r(n(980)),D=r(n(376)),R=r(n(983));t.default=[i.default,a.default,o.default,s.default,x.default,d.default,f.default,P.default,h.default,m.default,_.default,u.default,g.default,v.default,k.default,w.default,A.default,y.default,C.default,S.default,p.default,O.default,T.default,E.default,D.default,c.default,b.default,I.default,R.default,l.default]},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(8),l=o(n(918)),d=n(40),f=n(77),p=n(39),h=n(43),v=o(n(13)),m=n(7),g=o(n(367)),y=o(n(117)),b=n(23),_=n(52),A=function(e){function t(){var t=e.call(this,"A9")||this;return t.getOptions=function(){return{reducerMap:{a9:l.default},sagas:[t.register]}},t.isSingleton=function(){return!1},t.register=t.register.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t.handlePrepareParams=t.handlePrepareParams.bind(t),t.getParams=t.getParams.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery([u.a9ActionCreators.prepareA9Params,u.contentLifecycleActionCreators.updateConfig,u.mediaActionCreators.setUnprocessedSource],this.handlePrepareParams),s.takeEvery(u.configurationActionCreators.loadConfig,this.handleLoadConfig)])];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadConfig=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=n.sent(),b.containsRestriction(null===(t=e.user)||void 0===t?void 0:t.allowedRestrictions,h.ContentRestriction.PREMIUM)?[3,3]:[4,s.put(u.adsManagerActionCreators.registerAdBidPlugin("A9"))];case 2:n.sent(),n.label=3;case 3:return[2]}}))},t.prototype.handlePrepareParams=function(){var e,t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=a.sent(),t=b.containsRestriction(null===(o=e.user)||void 0===o?void 0:o.allowedRestrictions,h.ContentRestriction.PREMIUM),n=function(e){var t;return m.environmentUtils.isFireTV()||m.environmentUtils.isRoku()||_.getQueryParamValue(f.QueryParamName.A9)||(null===(t=e.a9)||void 0===t?void 0:t.enabled)},[4,s.call(this.getParams)];case 2:return r=a.sent(),i={pluginName:"A9",adCallParams:n?r:{},isResetOnNewContent:!0},t?[3,4]:[4,s.put(u.adsManagerActionCreators.setAdBidPluginOptions(i))];case 3:a.sent(),a.label=4;case 4:return n?[4,s.put(u.a9ActionCreators.setA9Params(r))]:[3,6];case 5:a.sent(),a.label=6;case 6:return[2]}}))},t.prototype.getParams=function(){var e,t,n,r,i,o,u,l,f,h,v,b,_,A,S,E,w,T,P,C,O,k,I,x,D;return a(this,(function(a){switch(a.label){case 0:return n=(t=c.configurationSelectors).self,[4,s.select()];case 1:e=n.apply(t,[a.sent()]),r=e.media,i=e.metadata,o=(null==i?void 0:i.restrictions)||[],u=!(!o.includes("mature")&&!(null==i?void 0:i.is_mature)),l=null===(D=r.reportingParent)||void 0===D?void 0:D.id,f=d.getDoNotTrackValue(e),h=d.getCCPADoNotSellMacro(e),v=((null==i?void 0:i.duration)||0)/1e3,b=p.getContentRating(u,i.type),_=m.environmentUtils.getScreenDimensions(),A=y.default.getBrand,S=y.default.getDeviceLocale,E=y.default.getModel,w=y.default.getSystemName,T=y.default.getSystemVersion,P="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.call(g.default.getAdvertisingId)];case 3:return P=a.sent(),[3,5];case 4:return C=a.sent(),console.warn("Unable to get advertisingId",C),[3,5];case 5:return m.environmentUtils.isRoku()?(O="com.crunchyroll.roku",k="937bfdb314b5459fb91442e6f8694c68",I="CrunchyRollRoku"):(O="com.crunchyroll.androidtv",k="b62a204a328445f29164b1ef031befbe",I="CrunchyRollAndroidTV"),x="ec234acf-6a9b-4850-b826-30e8dd276e1a",v/60>30&&(x="2c8c1031-74fb-4731-ae87-29fbdd51345d"),[2,{app:{bundle:O,domain:"crunchyroll.com",id:k,name:I,content:{id:l,contentrating:b,genre:i.genres||"Animation",channel:"CrunchyRoll",len:Math.round(v).toString()}},device:{dnt:f,h:Math.round(_.height),w:Math.round(_.width),ifa:P,connectiontype:2,language:S().slice(0,2),make:A(),model:E(),os:m._.capitalize(w()),osv:T()},imp:[{id:"158603",video:{h:Math.round(_.height),w:Math.round(_.width),ext:{slotId:x}}}],regs:{ext:{us_privacy:h}}}]}}))},t}(v.default);t.default=A},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=n(281),o=i.createReducer({},{a9params:null});o.on(a.setA9Params,(function(e,t){return r(r({},e),{a9params:t})})),t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(8),l=n(43),d=o(n(13)),f=n(7),p=n(23),h=function(e){function t(){var t=e.call(this,"AdBidManager")||this;return t.isGateActive=!1,t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!1},t.handleStartApp=t.handleStartApp.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t.handleRegisterAdBidPlugin=t.handleRegisterAdBidPlugin.bind(t),t.handleSetActiveHardSubTrack=t.handleSetActiveHardSubTrack.bind(t),t.handleSetAdBidPluginOptions=t.handleSetAdBidPluginOptions.bind(t),t.handleUnloadContent=t.handleUnloadContent.bind(t),t.register=t.register.bind(t),t.resetPluginGate=t.resetPluginGate.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp),s.takeEvery(u.configurationActionCreators.loadConfig,this.handleLoadConfig),s.takeEvery(u.adsManagerActionCreators.registerAdBidPlugin,this.handleRegisterAdBidPlugin),s.takeEvery(u.adsManagerActionCreators.setAdBidPluginOptions,this.handleSetAdBidPluginOptions),s.takeEvery(u.contentLifecycleActionCreators.unloadContent,this.handleUnloadContent),s.takeEvery(u.playerActionCreators.setActiveHardSubTrack,this.handleSetActiveHardSubTrack)])];case 1:return e.sent(),[2]}}))},t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,f.gateUtils.create(u.adsManagerActionCreators.receivedAllAdBidInfo)];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadConfig=function(){return a(this,(function(e){switch(e.label){case 0:return this.isGateActive?[3,2]:[4,this.activateReceivedAllAdBidInfoGate()];case 1:e.sent(),e.label=2;case 2:return[2]}}))},t.prototype.handleRegisterAdBidPlugin=function(e){var t=e.payload;return a(this,(function(e){switch(e.label){case 0:return[4,f.gateUtils.hasTask(u.adsManagerActionCreators.receivedAllAdBidInfo,t)];case 1:return e.sent()?[3,3]:[4,f.gateUtils.addTask(u.adsManagerActionCreators.receivedAllAdBidInfo,t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleSetAdBidPluginOptions=function(e){var t=e.payload;return a(this,(function(e){switch(e.label){case 0:return[4,f.gateUtils.isComplete(u.adsManagerActionCreators.receivedAllAdBidInfo,t.pluginName)];case 1:return e.sent()?[3,3]:[4,f.gateUtils.completeTask(u.adsManagerActionCreators.receivedAllAdBidInfo,t.pluginName)];case 2:e.sent(),e.label=3;case 3:return[2]}}))},t.prototype.handleUnloadContent=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.resetPluginGate()];case 1:return e.sent(),[2]}}))},t.prototype.handleSetActiveHardSubTrack=function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.resetPluginGate()];case 1:return e.sent(),[2]}}))},t.prototype.resetPluginGate=function(){var e,t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return n=(t=c.adsManagerSelectors).all,[4,s.select()];case 1:e=n.apply(t,[a.sent()]).adBidPlugins,r=0,i=Object.keys(e),a.label=2;case 2:return r<i.length?(o=i[r],e[o].isResetOnNewContent?[4,f.gateUtils.resetTask(u.adsManagerActionCreators.receivedAllAdBidInfo,o)]:[3,4]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[4,this.activateReceivedAllAdBidInfoGate()];case 6:return a.sent(),[2]}}))},t.prototype.activateReceivedAllAdBidInfoGate=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=n.sent(),p.containsRestriction(null===(t=e.user)||void 0===t?void 0:t.allowedRestrictions,l.ContentRestriction.PREMIUM)?[3,3]:(this.isGateActive=!0,[4,f.gateUtils.activate(u.adsManagerActionCreators.receivedAllAdBidInfo)]);case 2:n.sent(),n.label=3;case 3:return[2]}}))},t}(d.default);t.default=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(921)),u=function(e){function t(){var t=e.call(this,"AdsManagerBeacons")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.getComponent=function(){return null},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleBeaconEvent=t.eventMap=void 0;var o=n(9),s=n(2),u=n(8),c=n(40),l=a(n(922));function d(e){return i(this,(function(t){switch(t.label){case 0:return[4,o.call(l.default,e)];case 1:return t.sent()?[4,o.put(s.adsManagerActionCreators.beaconSuccess({url:e}))]:[3,3];case 2:return t.sent(),[3,5];case 3:return[4,o.put(s.adsManagerActionCreators.beaconError({url:e}))];case 4:t.sent(),t.label=5;case 5:return[2]}}))}function f(e){var n,a,s,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.adsManagerSelectors.property,"isInAdBreak")];case 1:return i.sent()?(n=Object.keys(t.eventMap).find((function(n){var r;return(null===(r=t.eventMap[n])||void 0===r?void 0:r.toString())===e.type})),[4,o.select(u.adsManagerSelectors.all)]):[2];case 2:return a=i.sent(),s=c.getCurrentAdSlot(a),(null==(l=null===(f=null==s?void 0:s.beaconEvents)||void 0===f?void 0:f.filter((function(e){return e.event===n})).map((function(e){return"error"===e.event?r(r({},e),{url:e.url.replace("[ERRORCODE]","900")}):e})))?void 0:l.length)?[4,o.all(l.map((function(e){return o.call(d,e.url)})))]:[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}t.eventMap={start:s.adsManagerActionCreators.startedAdSlot,creativeView:null,complete:s.adsManagerActionCreators.endedAdSlot,error:s.adsManagerActionCreators.caughtAdSlotError,firstQuartile:s.adsManagerActionCreators.finishedQuartile25,midpoint:s.adsManagerActionCreators.finishedQuartile50,thirdQuartile:s.adsManagerActionCreators.finishedQuartile75,mute:s.coreActionCreators.mute,unmute:s.coreActionCreators.unmute,collapse:s.coreActionCreators.exitFullscreen,expand:s.coreActionCreators.enterFullscreen,pause:s.adsManagerActionCreators.pausedAdSlot,resume:s.adsManagerActionCreators.resumedAdSlot,impression:s.adsManagerActionCreators.sawAdImpression,rewind:null,acceptInvitation:s.adsManagerActionCreators.vpaidAdUserAcceptInvitation,close:s.adsManagerActionCreators.vpaidAdUserClose,clickTrack:s.adsManagerActionCreators.clickedAd},t.handleBeaconEvent=f,t.default=function(){var e;return i(this,(function(n){switch(n.label){case 0:return e=Object.values(t.eventMap).filter((function(e){return e})),[4,o.all(e.map((function(e){return o.takeEvery(e,f)})))];case 1:return n.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),s=a(n(216));t.default=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(o.environmentUtils.isJest())return[2,!0];t.label=1;case 1:return t.trys.push([1,9,,10]),o.environmentUtils.isWeb()?[3,3]:[4,s.default("GET",e)];case 2:return t.sent(),[2,!0];case 3:return o.environmentUtils.isSendBeaconAvailable()?[2,navigator.sendBeacon(e)]:[3,4];case 4:return o.environmentUtils.isFetchAvailable()?[4,fetch(e)]:[3,6];case 5:return[2,t.sent().ok];case 6:return[4,s.default("GET",e)];case 7:return t.sent(),[2,!0];case 8:return[3,10];case 9:return t.sent(),[2,!1];case 10:return[2]}}))}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(8),l=n(40),d=o(n(924)),f=n(43),p=o(n(13)),h=o(n(151)),v=n(58),m=n(7),g=n(23),y=function(e){function t(){var t=e.call(this,"Freewheel")||this;return t.getOptions=function(){return{reducerMap:{freewheel:d.default},sagas:[t.register]}},t.isSingleton=function(){return!1},t.getUniversalAdId=function(){var e=m.environmentUtils.isWeb()?null:m.DeviceInfo.getUniqueId(),t=m.environmentUtils.getOS();if(m.environmentUtils.isFireTV())return"amazon_advertising_id:"+e;switch(t){case v.OS.ANDROID:return"google_advertising_id:"+e;case v.OS.OSX:case v.OS.IOS:return"idfa:"+e;case v.OS.ROKU:return"rida:<roku-device-id>";case v.OS.WINDOWS:case v.OS.XBOX:return"windows_advertising_id:"+e;default:return""}},t.register=t.register.bind(t),t.getDeviceId=t.getDeviceId.bind(t),t.getLimitAdTracking=t.getLimitAdTracking.bind(t),t.handleLoadConfig=t.handleLoadConfig.bind(t),t.handlePrepareParams=t.handlePrepareParams.bind(t),t.getParams=t.getParams.bind(t),t}return i(t,e),t.prototype.getDeviceId=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return e=this.getUniversalAdId(),m.environmentUtils.isRoku()?[2,e]:[4,s.select(c.configurationSelectors.self)];case 1:return t=n.sent(),[2,t.ads.limitAdTracking?"":e]}}))},t.prototype.getLimitAdTracking=function(){var e;return a(this,(function(t){switch(t.label){case 0:return m.environmentUtils.isRoku()?[2,"<roku-is-lat>"]:[4,s.select(c.configurationSelectors.self)];case 1:return e=t.sent(),[2,e.ads.limitAdTracking?"1":"0"]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery([u.freewheelActionCreators.prepareFreewheelParams,u.contentLifecycleActionCreators.updateConfig,u.mediaActionCreators.setUnprocessedSource],this.handlePrepareParams),s.takeEvery(u.configurationActionCreators.loadConfig,this.handleLoadConfig)])];case 1:return e.sent(),[2]}}))},t.prototype.handleLoadConfig=function(){var e,t;return a(this,(function(n){switch(n.label){case 0:return[4,s.select(c.configurationSelectors.self)];case 1:return e=n.sent(),g.containsRestriction(null===(t=e.user)||void 0===t?void 0:t.allowedRestrictions,f.ContentRestriction.PREMIUM)?[3,3]:[4,s.put(u.adsManagerActionCreators.registerAdBidPlugin("Freewheel"))];case 2:n.sent(),n.label=3;case 3:return[2]}}))},t.prototype.handlePrepareParams=function(){var e,t,n,r;return a(this,(function(i){switch(i.label){case 0:return[4,s.call(this.getParams)];case 1:return e=i.sent(),[4,s.put(u.freewheelActionCreators.setFreewheelParams(e))];case 2:return i.sent(),[4,s.select(c.configurationSelectors.self)];case 3:return t=i.sent(),g.containsRestriction(null===(r=t.user)||void 0===r?void 0:r.allowedRestrictions,f.ContentRestriction.PREMIUM)?[3,5]:(n={pluginName:"Freewheel",adCallParams:e,isResetOnNewContent:!0},[4,s.put(u.adsManagerActionCreators.setAdBidPluginOptions(n))]);case 4:i.sent(),i.label=5;case 5:return[2]}}))},t.prototype.getParams=function(){var e,t,n,r,i,o,u,d,f,p,v,g,y,b,_,A,S,E,w,T,P,C,O,k,I,x,D,R,M,N,L;return a(this,(function(a){switch(a.label){case 0:return[4,s.select(c.mediaSelectors.property,"unprocessedSource")];case 1:return e=a.sent(),t=e.source,n=e.drm,[4,s.select(c.configurationSelectors.self)];case 2:return r=a.sent(),i=r.eec,o=r.krux,u=r.user,d=r.media,f=r.metadata,p=r.organization,v=(null==f?void 0:f.id)||(null==d?void 0:d.id),g=n?h.default.getAssetId(t):v,y=(null==f?void 0:f.restrictions)||[],b=!(!y.includes("mature")&&!(null==f?void 0:f.is_mature)),_=((null===(L=null==d?void 0:d.reportingParent)||void 0===L?void 0:L.title)||"").split("|"),A=_&&_.length&&_[0],S=l.getCCPADoNotSellMacro(r),E=null==f?void 0:f.channelId,[4,this.getDeviceId()];case 3:return w=a.sent(),T=null==p?void 0:p.apiDomain,P=((null==f?void 0:f.duration)||0)/1e3,C=l.getGDPRValue(r),O=m.environmentUtils.isRoku(),k=(null==o?void 0:o.guid)||"",I=(null==o?void 0:o.kruxUser)||"",x=(null==o?void 0:o.transactionId)||"",[4,this.getLimitAdTracking()];case 4:return D=a.sent(),R=null==f?void 0:f.title,M=m.environmentUtils.isWeb()?null===document||void 0===document?void 0:document.referrer:void 0,N=(null==u?void 0:u.id)||(null==i?void 0:i.anonymousId),[2,{_fw_vcid2:O?"<roku-device-id>":N,_fw_did:w,_fw_gdpr:C,_fw_us_privacy:S,_is_lat:D,caid:v,channel_id:E,content_id:g,dimension_1:A,dimension_3:R,dimension_4:v,domainId:T,duration:P,guid:k,kruxUser:I,mat:b?"1":"0",pageUrl:M,pvrn:(new Date).getTime(),stream_id:g,transactionId:x}]}}))},t}(p.default);t.default=y},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=n(284),o=i.createReducer({},{freewheelParams:null});o.on(a.setFreewheelParams,(function(e,t){return r(r({},e),{freewheelParams:t})})),t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(22)),u=a(n(926)),c=a(n(927));n(934);var l=function(e){function t(){var t=e.call(this,"Yospace")||this;return t.getOptions=function(){return{sagas:s.default.isRoku()?[u.default]:[c.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleStartedAdSlot=void 0;var u=n(9),c=n(2),l=n(8),d=o(n(149)),f=n(27),p=n(77),h=n(39),v=null;function m(e){return s(this,(function(t){switch(t.label){case 0:return[4,g(e.payload)];case 1:return t.sent(),[2]}}))}function g(e){var t,n,i,a;return s(this,(function(o){switch(o.label){case 0:return e?(t=0,e.elements.forEach((function(e){e.type===p.YospaceTimelineElementType.VOD&&(t+=e.duration)})),n=h.convertYospaceTimelineToAdBreaks(e),[4,u.select(l.adsManagerSelectors.all)]):[3,4];case 1:return i=o.sent(),a=n.map((function(e){var t=i.adBreaks.find((function(t){return e.offset<=t.offset+15&&e.offset>=t.offset-15}));return t?r(r({},e),{isPlayed:t.isPlayed}):r({isPlayed:!1},e)})),[4,u.put(c.adsManagerActionCreators.updateAdBreaks(a))];case 2:return o.sent(),[4,u.put(c.mediaActionCreators.setContentDuration(t))];case 3:o.sent(),o.label=4;case 4:return[2]}}))}function y(e){var t;return s(this,(function(n){switch(n.label){case 0:return[4,h.convertSourceToYospaceSource(e)];case 1:return t=n.sent(),[4,u.put(c.yoSpaceActionCreators.initialized(t))];case 2:return n.sent(),[2]}}))}function b(){var e,t,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,u.select(l.mediaSelectors.all)];case 1:return e=i.sent().streamTime,[4,u.select(l.adsManagerSelectors.all)];case 2:return t=i.sent().adBreaks,n=h.determineContentOffSet(t,e),r=h.determineTextTrackOffset(t,e),[4,u.call(_,n,r)];case 3:return i.sent(),[4,d.completeTask(c.adsManagerActionCreators.completeEndedAdBreak,p.END_AD_BREAK_SSAI_TASK)];case 4:return i.sent(),[2]}}))}function _(e,t){return s(this,(function(n){switch(n.label){case 0:return[4,u.select(l.mediaSelectors.all)];case 1:return n.sent().processedSource.type!==f.StreamType.DASH?[3,3]:[4,u.put(c.mediaActionCreators.updateTextTrackOffset(t))];case 2:n.sent(),n.label=3;case 3:return[4,u.put(c.mediaActionCreators.updateContentOffset(e))];case 4:return n.sent(),[2]}}))}function A(e){var t=e.payload;return s(this,(function(e){switch(e.label){case 0:return t.source,[4,y(t)];case 1:return e.sent(),[2]}}))}function S(e){return s(this,(function(t){switch(t.label){case 0:return[4,u.put(c.adsManagerActionCreators.sawAdImpression(e.adEvtObj))];case 1:return[2,t.sent()]}}))}function E(e){var t=e.payload;return s(this,(function(e){switch(e.label){case 0:return[4,u.put(c.mediaActionCreators.setProcessedSource(t))];case 1:return e.sent(),[4,d.completeTask(c.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_YOSPACE_TASK)];case 2:return[2,e.sent()]}}))}function w(){return s(this,(function(e){switch(e.label){case 0:return[4,u.select(l.adsManagerSelectors.property,"isInAdBreak")];case 1:return e.sent()?[4,u.put(c.adsManagerActionCreators.pausedAdSlot(null))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function T(){return s(this,(function(e){switch(e.label){case 0:return[4,u.select(l.adsManagerSelectors.property,"isInAdBreak")];case 1:return e.sent()?[4,u.put(c.adsManagerActionCreators.resumedAdSlot(null))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function P(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,u.select(l.configurationSelectors.self)];case 1:return e=t.sent(),h.isUsingSSAI(e)?[4,d.addTask(c.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_YOSPACE_TASK)]:[3,4];case 2:return t.sent(),[4,u.fork(O)];case 3:v=t.sent(),t.label=4;case 4:return[2]}}))}function C(){return s(this,(function(e){switch(e.label){case 0:return v?[4,u.cancel(v)]:[3,2];case 1:e.sent(),v=null,e.label=2;case 2:return[4,d.removeTask(c.mediaActionCreators.finishProcessingSource,p.PROCESS_SOURCE_YOSPACE_TASK)];case 3:return e.sent(),[2]}}))}function O(){return s(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.playerActionCreators.pause,w),u.takeLatest([c.playerActionCreators.play,c.playerActionCreators.playing],T),u.takeEvery(c.yoSpaceActionCreators.initialized,E),u.takeEvery(c.mediaActionCreators.setUnprocessedSource,A),u.takeEvery(c.adsManagerActionCreators.endedAdBreak,b),u.takeEvery(c.adsManagerActionCreators.startedAdSlot,S)])];case 1:return e.sent(),[2]}}))}t.handleStartedAdSlot=S,t.default=function(){return s(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(c.contentLifecycleActionCreators.loadContent,P),u.takeEvery(c.contentLifecycleActionCreators.unloadContent,C),u.takeEvery(c.yoSpaceActionCreators.updatedTimeline,m)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleEndedAdSlot=t.handleStartedAdSlot=t.handleLifecycleEvent=void 0;var o,s,u,c,l,d,f,p,h,v=n(50),m=n(9),g=n(2),y=n(8),b=a(n(12)),_=n(59),A=n(40),S=a(n(928)),E=a(n(44)),w=n(35),T=n(27),P=n(152),C=n(58),O=n(7),k=n(52),I=n(77),x=n(39),D=n(930),R=null,M=null,N=null,L=!1;function j(e){var t;return i(this,(function(n){switch(n.label){case 0:switch(t=e&&e.type,t){case I.YospaceAnalyticsType.COMPLETED_QUARTILE_25:return[3,1];case I.YospaceAnalyticsType.COMPLETED_QUARTILE_50:return[3,3];case I.YospaceAnalyticsType.COMPLETED_QUARTILE_75:return[3,5]}return[3,7];case 1:return[4,m.put(g.adsManagerActionCreators.finishedQuartile25())];case 2:return[2,n.sent()];case 3:return[4,m.put(g.adsManagerActionCreators.finishedQuartile50())];case 4:return[2,n.sent()];case 5:return[4,m.put(g.adsManagerActionCreators.finishedQuartile75())];case 6:return[2,n.sent()];case 7:return[2]}}))}function B(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return O.environmentUtils.isRoku()?[2]:(t=e.type,n=e.payload,[4,m.select(y.adsManagerSelectors.all)]);case 1:switch(r=i.sent().isInAdBreak,t){case I.YospaceEvent.ADBREAK_START:return[3,2];case I.YospaceEvent.ADBREAK_STOP:return[3,4];case I.YospaceEvent.AD_START:return[3,7];case I.YospaceEvent.AD_STOP:return[3,9];case I.YospaceEvent.ANALYTICS:return[3,12];case I.YospaceEvent.TRUEX_AD_COMPLETED:return[3,14];case I.YospaceEvent.TRUEX_AD_FREE_POD:return[3,16];case I.YospaceEvent.TRUEX_NO_ADS_AVAILABLE:return[3,18];case I.YospaceEvent.TRUEX_OPT_IN:return[3,20];case I.YospaceEvent.TRUEX_OPT_OUT:return[3,22];case I.YospaceEvent.TRUEX_USER_CANCEL:return[3,24];case I.YospaceEvent.TRUEX_USER_CANCEL_STREAM:return[3,26];case I.YospaceEvent.VPAID_AD_CLICK_THROUGH:return[3,28];case I.YospaceEvent.VPAID_AD_ERROR:return[3,30];case I.YospaceEvent.VPAID_AD_EXPANDED_CHANGE:return[3,32];case I.YospaceEvent.VPAID_AD_INTERACTION:return[3,34];case I.YospaceEvent.VPAID_AD_SKIPPED:return[3,36];case I.YospaceEvent.VPAID_AD_START:return[3,38];case I.YospaceEvent.VPAID_AD_STOP:return[3,40];case I.YospaceEvent.VPAID_AD_USER_ACCEPT_INVITATION:return[3,42];case I.YospaceEvent.VPAID_AD_USER_CLOSE:return[3,44];case I.YospaceEvent.VPAID_AD_USER_MINIMIZE:return[3,46];case I.YospaceEvent.VPAID_GET_INTERACTIVE_UNIT:return[3,48];case I.YospaceEvent.VPAID_UNLOAD_AD_UNIT:return[3,50]}return[3,52];case 2:return[4,m.put(g.adsManagerActionCreators.startedAdBreak(n))];case 3:return[2,i.sent()];case 4:return r?[4,m.put(g.adsManagerActionCreators.endedAdBreak(n))]:[3,6];case 5:i.sent(),i.label=6;case 6:return[2];case 7:return[4,m.put(g.adsManagerActionCreators.startedAdSlot(n))];case 8:return[2,i.sent()];case 9:return r?[4,m.put(g.adsManagerActionCreators.endedAdSlot(null))]:[3,11];case 10:return[2,i.sent()];case 11:return[3,52];case 12:return[4,j(n)];case 13:return[2,i.sent()];case 14:return[4,m.put(g.adsManagerActionCreators.truexAdCompleted())];case 15:return[2,i.sent()];case 16:return[4,m.put(g.adsManagerActionCreators.truexAdFreePod())];case 17:return[2,i.sent()];case 18:return[4,m.put(g.adsManagerActionCreators.truexNoAdsAvailable())];case 19:return[2,i.sent()];case 20:return[4,m.put(g.adsManagerActionCreators.truexOptIn())];case 21:return[2,i.sent()];case 22:return[4,m.put(g.adsManagerActionCreators.truexOptOut())];case 23:return[2,i.sent()];case 24:return[4,m.put(g.adsManagerActionCreators.truexUserCancel())];case 25:return[2,i.sent()];case 26:return[4,m.put(g.adsManagerActionCreators.truexUserCancelStream())];case 27:return[2,i.sent()];case 28:return[4,m.put(g.adsManagerActionCreators.vpaidAdClickThrough())];case 29:return[2,i.sent()];case 30:return[4,m.put(g.adsManagerActionCreators.vpaidAdError(n))];case 31:return[2,i.sent()];case 32:return[4,m.put(g.adsManagerActionCreators.vpaidAdExpandedChange())];case 33:return[2,i.sent()];case 34:return[4,m.put(g.adsManagerActionCreators.vpaidAdInteraction())];case 35:return[2,i.sent()];case 36:return[4,m.put(g.adsManagerActionCreators.vpaidAdSkipped())];case 37:return[2,i.sent()];case 38:return[4,m.put(g.adsManagerActionCreators.vpaidStartedAdSlot())];case 39:return[2,i.sent()];case 40:return[4,m.put(g.adsManagerActionCreators.vpaidEndedAdSlot())];case 41:return[2,i.sent()];case 42:return[4,m.put(g.adsManagerActionCreators.vpaidAdUserAcceptInvitation())];case 43:return[2,i.sent()];case 44:return[4,m.put(g.adsManagerActionCreators.vpaidAdUserClose())];case 45:return[2,i.sent()];case 46:return[4,m.put(g.adsManagerActionCreators.vpaidAdUserMinimize())];case 47:return[2,i.sent()];case 48:return[4,m.put(g.adsManagerActionCreators.vpaidGetInteractiveUnit())];case 49:return[2,i.sent()];case 50:return[4,m.put(g.adsManagerActionCreators.vpaidUnloadAdUnit())];case 51:return[2,i.sent()];case 52:return[2]}}))}function U(){var e,t;return i(this,(function(n){switch(n.label){case 0:e=v.eventChannel((function(e){var t=0,n=!1,i=!1,a={AdBreakEnd:function(r){n&&(e({type:I.YospaceEvent.ADBREAK_STOP,payload:x.removeAdBreakReferences(r)}),n=!1,t=0)},AdBreakStart:function(t){var i,a=t.adverts,o=t.startPosition,s=t.getDuration(),u=x.removeAdBreakReferences(t),c=null===(i=t.adverts[0])||void 0===i?void 0:i.hasInteractiveUnit();c||(e({type:I.YospaceEvent.ADBREAK_START,payload:r(r({},u),{numberOfAdsInBreak:a.length,adBreakDuration:s,adBreakEndPosition:o+s,offset:o,isVPAID:c})}),n=!0)},AdvertEnd:function(r){var a=d.session.getCurrentBreak(),o=d.session.getCurrentBreak().adverts,s=d.session.currentAdvert.advert.sequence,u=d.session.currentAdvert.hasInteractiveUnit();k.debugSSAI((u?"VPAID":"VAST")+": AdvertEnd",d,{adBreakInProgress:n,currentAdSequence:t}),u?(i&&e({type:I.YospaceEvent.AD_STOP,payload:r}),null==N||N.unloadAdUnit(),e({type:I.YospaceEvent.VPAID_UNLOAD_AD_UNIT}),o[s]||(e({type:I.YospaceEvent.ADBREAK_STOP,payload:x.removeAdBreakReferences(a)}),n=!1,t=0),i=!1):e({type:I.YospaceEvent.AD_STOP,payload:r})},AdvertStart:function(a){var o,s=d.session.currentAdvert.hasInteractiveUnit(),u=d.session.getCurrentBreak(),l=u.adverts,f=u.startPosition,p=d.session.currentAdvert.advert,m=p.sequence,y=p.getLinear(),b=y.getClickThrough(),A=y.getDuration(),w=x.removeAdBreakReferences(p),T=x.removeAdBreakReferences(u),P=u.getDuration();if(t=s?t:t+1,k.debugSSAI("AdvertStart"),s){if(p.AdSystem!==_.AdSystem.TRUEX)return e({type:I.YospaceEvent.VPAID_GET_INTERACTIVE_UNIT}),void(null==N||N.loadAdUnit(d.session.currentAdvert.getInteractiveUnit()));e({type:I.YospaceEvent.TRUEX_GET_INTERACTIVE_UNIT}),L=!1;var C=r(r({},T),{adBreakDuration:P,adBreakEndPosition:f+P,offset:f,isVPAID:!0});if(E.default.dispatch(g.adsManagerActionCreators.startedAdBreak(C)),n=!0,E.default.getState().core.isFullscreen){try{var O=d.session.currentAdvert.getInteractiveUnit(),D="https://"+JSON.parse(O.parameters).vast_config_url;(h=new S.default(D,{supportsUserCancelStream:!1})).subscribe(c),E.default.dispatch(g.playerActionCreators.requestPause("VPAID")),h.init().then((function(e){return h.start(e)})).then((function(e){var t=document.getElementById("vilosRoot");t.insertBefore(e,t.firstChild),e.style.zIndex=100,e})).catch(v)}catch(e){v(e)}return}return e({type:I.YospaceEvent.TRUEX_AD_COMPLETED}),e({type:I.YospaceEvent.VPAID_AD_STOP}),k.debugSSAI("TRUEX: Advert Skipped",d,{adBreakInProgress:n,currentAdSequence:t}),e({type:I.YospaceEvent.AD_STOP,payload:a}),l[m]?L=!0:(e({type:I.YospaceEvent.ADBREAK_STOP,payload:x.removeAdBreakReferences(u)}),n=!1,t=0),i=!1,void E.default.dispatch(g.playerActionCreators.requestPlay("VPAID"))}t++,k.debugSSAI("VAST: AdvertStart",d,{adBreakInProgress:n,currentAdSequence:t}),p.AdSystem!==_.AdSystem.TRUEX&&L?o=m-1:m>0&&l.length>1&&(o=m-t),m>1&&!n&&(e({type:I.YospaceEvent.ADBREAK_START,payload:r(r({},T),{adBreakDuration:P,adBreakEndPosition:f+P,offset:f,isVPAID:!0})}),n=!0),e({type:I.YospaceEvent.AD_START,payload:r(r(r({},w),{isVPAID:s,adMediaId:a,duration:A,clickThroughUrl:b}),o>0&&{numberOfAdsInBreak:l.length-o})})},AnalyticsFired:function(t,r){n&&e({type:I.YospaceEvent.ANALYTICS,payload:{type:t,data:r}})},UpdateTimeline:function(t){e({type:I.YospaceEvent.UPDATE_TIMELINE,payload:t})}},s={AdClickThru:function(){e({type:I.YospaceEvent.VPAID_AD_CLICK_THROUGH})},AdError:function(t){e({type:I.YospaceEvent.VPAID_AD_ERROR,payload:{msg:t}})},AdExpandedChange:function(){e({type:I.YospaceEvent.VPAID_AD_EXPANDED_CHANGE})},AdInteraction:function(){e({type:I.YospaceEvent.VPAID_AD_INTERACTION})},AdLoaded:function(){e({type:I.YospaceEvent.VPAID_AD_LOADED})},AdSkipped:function(){e({type:I.YospaceEvent.VPAID_AD_SKIPPED})},AdStarted:function(e){k.debugSSAI("VPAID: AdStarted",d,{adBreakInProgress:n,currentAdSequence:t}),u(e)},AdStopped:function(r){k.debugSSAI("VPAID: AdStopped",d,{adBreakInProgress:n,currentAdSequence:t}),e({type:I.YospaceEvent.VPAID_AD_STOP})},AdUserClose:function(){e({type:I.YospaceEvent.VPAID_AD_USER_CLOSE})},AdUserMinimize:function(){e({type:I.YospaceEvent.VPAID_AD_USER_MINIMIZE})},AdUserAcceptInvitation:function(){e({type:I.YospaceEvent.VPAID_AD_USER_ACCEPT_INVITATION})}};function u(a){void 0===a&&(a=null);var o=d.session.currentAdvert.advert,s=o.getLinear(),u=s.getClickThrough(),c=s.getDuration(),l=x.removeAdBreakReferences(o),f=d.session.getCurrentBreak(),p=f.startPosition,h=f.getDuration(),v=x.removeAdBreakReferences(f);t++,i=!0,n||(n=!0,e({type:I.YospaceEvent.ADBREAK_START,payload:r(r({},v),{adBreakDuration:h,adBreakEndPosition:p+h,offset:p,isVPAID:!0})})),e({type:I.YospaceEvent.VPAID_AD_START}),e({type:I.YospaceEvent.AD_START,payload:r(r({},l),{isVPAID:!0,adMediaId:a,duration:c,clickThroughUrl:u})})}function c(r){var a=h.adEvents,o=d.session.getCurrentBreak();switch(r.type){case a.adError:v(r.errorMessage);break;case a.adStarted:k.debugSSAI("TRUEX: AdStarted",d,{adBreakInProgress:n,currentAdSequence:t}),u();break;case a.optIn:e({type:I.YospaceEvent.TRUEX_OPT_IN});break;case a.optOut:e({type:I.YospaceEvent.TRUEX_OPT_OUT});break;case a.adFreePod:e({type:I.YospaceEvent.TRUEX_AD_FREE_POD});break;case a.userCancel:e({type:I.YospaceEvent.TRUEX_USER_CANCEL});break;case a.userCancelStream:e({type:I.YospaceEvent.TRUEX_USER_CANCEL_STREAM});break;case a.noAdsAvailable:e({type:I.YospaceEvent.TRUEX_NO_ADS_AVAILABLE});break;case a.adCompleted:if(e({type:I.YospaceEvent.TRUEX_AD_COMPLETED}),e({type:I.YospaceEvent.VPAID_AD_STOP}),E.default.getState().adsManager.isTruexAdFreePod){var s=d.session.getCurrentBreak();e({type:I.YospaceEvent.ADBREAK_STOP,payload:x.removeAdBreakReferences(s)}),n=!1,t=0}else{var c=d.session.getCurrentBreak().adverts,l=d.session.currentAdvert.advert.sequence;k.debugSSAI("TRUEX: AdvertEnd",d,{adBreakInProgress:n,currentAdSequence:t}),e({type:I.YospaceEvent.AD_STOP,payload:null}),c[l]||(e({type:I.YospaceEvent.ADBREAK_STOP,payload:x.removeAdBreakReferences(o)}),n=!1,t=0),i=!1}}}function v(t){null==h||h.stop(),e({type:I.YospaceEvent.VPAID_AD_ERROR,payload:{errorMsg:t}})}if(A.isUsingAdsPlayer(b.default))try{f=document.getElementById("adsPlayer-overlay"),p=document.getElementById("adsPlayer"),(N=new o(f,p,d)).addListener(s),h=new S.default({}),console.log("TrueX Ad Renderer version: "+h.version)}catch(e){console.error(e)}return d.registerPlayer(a),d.session instanceof l||a.UpdateTimeline(d.session.timeline),function(){try{null==d||d.shutdown()}catch(e){}d=null}})),n.label=1;case 1:n.trys.push([1,,6,7]),n.label=2;case 2:return[4,m.take(e)];case 3:return t=n.sent(),[4,m.fork(B,t)];case 4:return n.sent(),[3,2];case 5:return[3,7];case 6:return e.close(),[7];case 7:return[2]}}))}function V(e){return i(this,(function(t){switch(t.label){case 0:return[4,F(e.payload)];case 1:return t.sent(),[2]}}))}function F(e){var t,n,a,o;return i(this,(function(i){switch(i.label){case 0:return e?(t=0,e.elements.forEach((function(e){e.type===I.YospaceTimelineElementType.VOD&&(t+=e.duration)})),n=x.convertYospaceTimelineToAdBreaks(e),[4,m.select(y.adsManagerSelectors.all)]):[3,4];case 1:return a=i.sent(),o=n.map((function(e){var t=a.adBreaks.find((function(t){return e.offset<=t.offset+15&&e.offset>=t.offset-15}));return t?r(r({},e),{isPlayed:t.isPlayed}):r({isPlayed:!1},e)})),[4,m.put(g.mediaActionCreators.setContentDuration(t))];case 2:return i.sent(),[4,m.put(g.adsManagerActionCreators.updateAdBreaks(o))];case 3:i.sent(),i.label=4;case 4:return[2]}}))}function H(e,t){var n=t.source,r=t.type,i=t.drm;return v.eventChannel((function(t){var a;switch(e){case I.YospaceCreateType.VOD:a=c.createForVoD;break;case I.YospaceCreateType.NON_LINEAR:case I.YospaceCreateType.NON_LINEAR_START_OVER:a=c.createForNonLinear;break;case I.YospaceCreateType.LIVE:a=c.createForLive;break;case I.YospaceCreateType.LIVE_PAUSE:c.DEFAULTS.LOW_FREQ=5e3,a=c.createForLivePause}if(a)try{d=a(n,null,(function(e,a){t({state:e,result:a,source:n,type:r,drm:i})}))}catch(e){console.warn("Error creating session",e)}return function(){}}))}function G(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:try{null==d||d.shutdown()}catch(e){}return d=null,[4,m.put(g.mediaActionCreators.error({code:"YO-1",message:t}))];case 1:return e.sent(),[2]}}))}function W(e,t,n){var r,a,o,c,l,f,p=e.state;e.result;return i(this,(function(e){switch(e.label){case 0:switch(p){case s.INITIALISED:return[3,1];case s.NO_ANALYTICS:return[3,11]}return[3,14];case 1:return[4,m.put(g.ssaiActionCreators.receivedVmap(null))];case 2:return e.sent(),[4,m.fork(U)];case 3:return e.sent(),r=d.masterPlaylist(),a=t.drm,o=t.type,c=t.startTime,l=t.switchType,f=O.environmentUtils.getOS(),d.isYospaceStream()?[3,5]:[4,m.put(g.adsManagerActionCreators.caughtAdSlotError(null))];case 4:e.sent(),e.label=5;case 5:try{d.reportPlayerEvent(u.START)}catch(e){}return f!==C.OS.ROKU||w.rokuJSUI?[3,7]:[4,m.put(g.yoSpaceActionCreators.initialized(n))];case 6:return e.sent(),[3,10];case 7:return[4,F(d.session.timeline)];case 8:return e.sent(),[4,m.put(g.yoSpaceActionCreators.initialized({drm:a,source:r,startTime:c,switchType:l,type:o}))];case 9:e.sent(),e.label=10;case 10:return[3,16];case 11:return[4,m.put(g.yoSpaceActionCreators.noAnalytics())];case 12:return e.sent(),[4,m.put(g.yoSpaceActionCreators.failed("session has no analytics"))];case 13:e.sent(),e.label=14;case 14:return[4,m.put(g.yoSpaceActionCreators.failed("session could not initialize: "+p.toString()))];case 15:return e.sent(),[3,16];case 16:return[2]}}))}function z(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,x.convertSourceToYospaceSource(e)];case 1:return t=i.sent(),[4,m.put(g.ssaiActionCreators.requestVmap(t))];case 2:return i.sent(),[4,m.call(H,I.YospaceCreateType.VOD,t)];case 3:n=i.sent(),i.label=4;case 4:return i.trys.push([4,7,9,10]),[4,m.take(n)];case 5:return[4,W(i.sent(),e,t)];case 6:return i.sent(),[3,10];case 7:return r=i.sent(),console.warn("Unable to create session",r),[4,G({payload:r})];case 8:return i.sent(),[3,10];case 9:return n.close(),[7];case 10:return[2]}}))}function K(){var e,t,n,r,a,o,s,u;return i(this,(function(i){switch(i.label){case 0:return[4,m.select(y.mediaSelectors.all)];case 1:return e=i.sent().streamTime,[4,m.select(y.adsManagerSelectors.all)];case 2:return t=i.sent().adBreaks,n=x.determineContentOffSet(t,e),r=x.determineTextTrackOffset(t,e),a=null===(u=null===(s=null==d?void 0:d.session)||void 0===s?void 0:s.currentAdvert)||void 0===u?void 0:u.hasInteractiveUnit(),[4,m.call(Y,n,r)];case 3:return i.sent(),[4,O.gateUtils.completeTask(g.adsManagerActionCreators.completeEndedAdBreak,I.END_AD_BREAK_SSAI_TASK)];case 4:return i.sent(),a?[4,m.select(y.mediaSelectors.all)]:[3,7];case 5:return o=i.sent().contentTime,[4,m.put(g.playerActionCreators.requestSeekToContentTime(o))];case 6:i.sent(),i.label=7;case 7:return[2]}}))}function Y(e,t){return i(this,(function(n){switch(n.label){case 0:return[4,m.select(y.mediaSelectors.all)];case 1:return n.sent().processedSource.type!==T.StreamType.DASH?[3,3]:[4,m.put(g.mediaActionCreators.updateTextTrackOffset(t))];case 2:n.sent(),n.label=3;case 3:return[4,m.put(g.mediaActionCreators.updateContentOffset(e))];case 4:return n.sent(),[2]}}))}function q(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:return t.source?[3,2]:(console.error("SSAI: No input streams"),[4,G({payload:t})]);case 1:return e.sent(),[2];case 2:return O.environmentUtils.isOSX()?[4,te({payload:t})]:[3,4];case 3:return[2,e.sent()];case 4:return[4,z(t)];case 5:return e.sent(),[2]}}))}function X(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,m.select(y.configurationSelectors.self)];case 1:return t=e.sent().yospace,n=k.getQueryParamValue(I.QueryParamName.DEBUG_YOSDK),c=r.YSSessionManager,u=r.YSPlayerEvents,s=r.YSSessionResult,l=r.YSLiveSession,o=r.VPAIDAdapter,c.DEFAULTS.DEBUGGING=n||(null==t?void 0:t.debug)||!1,D.ajaxDelegate&&(r.ProtoAjax.DELEGATE=D.ajaxDelegate),[2]}}))}function Z(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,m.select(y.mediaSelectors.all)];case 1:return e=t.sent().streamTime,[4,m.call(Q,e)];case 2:t.sent();try{null==d||d.reportPlayerEvent(u.POSITION,e)}catch(e){}return[2]}}))}function Q(e){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,m.select(y.adsManagerSelectors.all)];case 1:return t=r.sent().adBreaks,1,(n=t.find((function(t){return t.offset<e+1&&t.offset>e})))&&n.isPlayed&&!R?[4,m.fork(J,n)]:[3,3];case 2:R=r.sent(),r.label=3;case 3:return[2]}}))}function J(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,m.select(y.playerSelectors.all)];case 1:return t=i.sent(),n=P.getCurrentVideoTrack(t),r=(null==n?void 0:n.frameRate)||23.97,[4,m.put(g.playerActionCreators.requestSeekToContentTime(e.contentTimeOffset+1/r))];case 2:return i.sent(),R=null,[2]}}))}function $(e){var t,n=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,m.select(y.playerSelectors.all)];case 1:return t=e.sent().isPaused,(null==n?void 0:n.isVPAID)?(d.session.suppressAnalytics(!0),[4,m.put(g.playerActionCreators.requestPause("VPAID"))]):[3,6];case 2:return e.sent(),[4,m.put(g.coreActionCreators.activatePlayer(T.PlayerType.ADS))];case 3:return e.sent(),t?[4,m.delay(0)]:[3,6];case 4:return e.sent(),[4,m.put(g.adsPlayerActionCreators.requestPause("VPAID"))];case 5:e.sent(),e.label=6;case 6:return[4,m.put(g.adsManagerActionCreators.sawAdImpression(null))];case 7:return[2,e.sent()]}}))}function ee(){var e,t,n,r,a,o,s;return i(this,(function(i){switch(i.label){case 0:return(null===(s=null===(o=null==d?void 0:d.session)||void 0===o?void 0:o.currentAdvert)||void 0===s?void 0:s.hasInteractiveUnit())?[4,m.select(y.adsManagerSelectors.all)]:[3,6];case 1:return e=i.sent(),[4,m.select(y.adsManagerSelectors.all)];case 2:return t=i.sent(),n=t.adBreaks,r=t.targetAdBreakIndex,a=n[r],[4,m.put(g.coreActionCreators.activatePlayer(T.PlayerType.MAIN))];case 3:return i.sent(),[4,m.put(g.playerActionCreators.requestPlay("VPAID"))];case 4:return i.sent(),d.session.suppressAnalytics(!1),"preroll"!==e.adBreakType&&e.targetAdSlotIndex+1>=e.numberOfAdsInBreak?[4,m.put(g.adsManagerActionCreators.endedAdBreak(a))]:[3,6];case 5:i.sent(),i.label=6;case 6:return[2]}}))}function te(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,m.put(g.mediaActionCreators.setProcessedSource(t))];case 1:return e.sent(),[4,O.gateUtils.completeTask(g.mediaActionCreators.finishProcessingSource,I.PROCESS_SOURCE_YOSPACE_TASK)];case 2:return[2,e.sent()]}}))}function ne(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,m.select(y.adsManagerSelectors.property,"isInAdBreak")];case 1:return e=t.sent(),null==d||d.reportPlayerEvent(u.RESUME),e?[4,m.put(g.adsManagerActionCreators.resumedAdSlot(null))]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}function re(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,m.select(y.adsManagerSelectors.property,"isInAdBreak")];case 1:return e=t.sent(),null==d||d.reportPlayerEvent(u.PAUSE),e?[4,m.put(g.adsManagerActionCreators.pausedAdSlot(null))]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}function ie(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,m.select(y.adsManagerSelectors.property,"isInAdBreak")];case 1:return e=i.sent(),null==d||d.reportPlayerEvent(u.PAUSE),t=null===(r=null===(n=null==d?void 0:d.session)||void 0===n?void 0:n.currentAdvert)||void 0===r?void 0:r.hasInteractiveUnit(),!e||t?[3,3]:[4,m.put(g.adsManagerActionCreators.pausedAdSlot(null))];case 2:i.sent(),i.label=3;case 3:return[2]}}))}function ae(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,m.select(y.adsManagerSelectors.property,"isInAdBreak")];case 1:return e=i.sent(),null==d||d.reportPlayerEvent(u.RESUME),t=null===(r=null===(n=null==d?void 0:d.session)||void 0===n?void 0:n.currentAdvert)||void 0===r?void 0:r.hasInteractiveUnit(),!e||t?[3,3]:[4,m.put(g.adsManagerActionCreators.resumedAdSlot(null))];case 2:i.sent(),i.label=3;case 3:return[2]}}))}function oe(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,m.select(y.configurationSelectors.self)];case 1:return e=t.sent(),!x.isUsingYospace(e)||A.isUserPremium(e)?[3,4]:[4,O.gateUtils.addTask(g.mediaActionCreators.finishProcessingSource,I.PROCESS_SOURCE_YOSPACE_TASK)];case 2:return t.sent(),[4,m.fork(de)];case 3:M=t.sent(),t.label=4;case 4:return[2]}}))}function se(){return i(this,(function(e){switch(e.label){case 0:return[4,m.call(ue)];case 1:return e.sent(),M?[4,m.cancel(M)]:[3,3];case 2:e.sent(),M=null,e.label=3;case 3:return[4,O.gateUtils.removeTask(g.mediaActionCreators.finishProcessingSource,I.PROCESS_SOURCE_YOSPACE_TASK)];case 4:return e.sent(),[2]}}))}function ue(){return i(this,(function(e){switch(e.label){case 0:return R?[4,m.cancel(R)]:[3,2];case 1:e.sent(),R=null,e.label=2;case 2:return[2]}}))}function ce(e){var t,n,r=e.payload;return i(this,(function(e){if((null===(n=null===(t=null==d?void 0:d.session)||void 0===t?void 0:t.currentAdvert)||void 0===n?void 0:n.hasInteractiveUnit())&&(null==N?void 0:N.vpaid))try{N.vpaid.resizeAd(r.width,r.height),[f.style.width,f.style.height].some((function(e){return"100%"!==e}))&&(f.style.width="100%",f.style.height="100%")}catch(e){}return[2]}))}function le(){return i(this,(function(e){switch(e.label){case 0:return[4,g.adsPlayerActionCreators.requestPause("VPAID")];case 1:return e.sent(),[2]}}))}function de(){return i(this,(function(e){switch(e.label){case 0:return[4,m.all([m.takeLatest([g.mediaActionCreators.updateTime,g.mediaActionCreators.updateStreamTime],Z),m.takeEvery(g.playerActionCreators.pause,ie),m.takeEvery(g.adsPlayerActionCreators.pause,re),m.takeEvery([g.adsPlayerActionCreators.play,g.adsPlayerActionCreators.playing],ne),m.takeLatest([g.playerActionCreators.play,g.playerActionCreators.playing],ae),m.takeEvery(g.yoSpaceActionCreators.initialized,te),m.takeEvery(g.playerActionCreators.requestSeekToContentTime,ue),m.takeEvery(g.mediaActionCreators.setUnprocessedSource,q),m.takeEvery(g.adsManagerActionCreators.endedAdBreak,K),m.takeEvery(g.adsManagerActionCreators.startedAdSlot,$),m.takeEvery(g.adsManagerActionCreators.endedAdSlot,ee),m.takeEvery(g.adsManagerActionCreators.truexAdCompleted,ee),m.takeEvery(g.adsManagerActionCreators.truexOptIn,le)])];case 1:return e.sent(),[2]}}))}t.handleLifecycleEvent=B,t.handleStartedAdSlot=$,t.handleEndedAdSlot=ee,t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,m.all([m.takeEvery(g.contentLifecycleActionCreators.loadContent,oe),m.takeEvery(g.contentLifecycleActionCreators.unloadContent,se),m.takeEvery(g.yoSpaceActionCreators.failed,G),m.takeEvery(g.yoSpaceActionCreators.passSDK,X),m.takeEvery(g.yoSpaceActionCreators.updatedTimeline,V),m.takeEvery(g.themeActionCreators.updateDimensions,ce)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(929);t.default=r.TruexAdRenderer},function(module,exports,__webpack_require__){var e;window,e=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=118)}([function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(69))},function(e,t,n){var r=n(0),i=n(30).f,a=n(9),o=n(10),s=n(46),u=n(73),c=n(51);e.exports=function(e,t){var n,l,d,f,p,h=e.target,v=e.global,m=e.stat;if(n=v?r:m?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(v?l:h+(m?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&a(f,"sham",!0),o(n,l,f,e)}}},function(e,t,n){var r=n(0),i=n(48),a=n(7),o=n(49),s=n(52),u=n(79),c=i("wks"),l=r.Symbol,d=u?l:l&&l.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(l,e)?c[e]=l[e]:c[e]=d("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(3);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(6),i=n(71),a=n(4),o=n(31),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(6),i=n(8),a=n(25);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(0),i=n(9),a=n(7),o=n(46),s=n(47),u=n(19),c=u.get,l=u.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),l(n).source=d.join("string"==typeof t?t:"")),e!==r?(u?!f&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,n){var r=n(44),i=n(13);e.exports=function(e){return r(i(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r={name:"@truex/ctv-ad-renderer",version:"1.0.24",buildDate:"2020-11-27 23:15:27",buildEnv:"prod",buildHash:"3a08858eab301f7fb97c66fce2eaf633620326fd",isProduction:!0,truexServer:"serve.truex.com",mediaServer:"media.truex.com"},i="http:"===window.location.protocol?"http:":"https:";r.protocol=i,r.truexServerUrl=i+"//"+r.truexServer,r.mediaServerUrl=i+"//"+r.mediaServer;var a=r},function(e,t,n){var r=n(74),i=n(0),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){"use strict";var r=n(1),i=n(40);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";t.a={adStarted:"adStarted",adCompleted:"adCompleted",adError:"adError",noAdsAvailable:"noAdsAvailable",adFreePod:"adFreePod",userCancelStream:"userCancelStream",optIn:"optIn",optOut:"optOut",skipCardShown:"skipCardShown",userCancel:"userCancel",videoEvent:"videoEvent"}},function(e,t,n){var r,i,a,o=n(119),s=n(0),u=n(5),c=n(9),l=n(7),d=n(32),f=n(33),p=s.WeakMap;if(o){var h=new p,v=h.get,m=h.has,g=h.set;r=function(e,t){return g.call(h,e,t),t},i=function(e){return v.call(h,e)||{}},a=function(e){return m.call(h,e)}}else{var y=d("state");f[y]=!0,r=function(e,t){return c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},a=function(e){return l(e,y)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(13);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(10),i=Date.prototype,a=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",(function(){var e=o.call(this);return e==e?a.call(this):"Invalid Date"}))},function(e,t,n){var r=n(61),i=n(10),a=n(130);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(e,t,n){"use strict";var r=n(10),i=n(4),a=n(3),o=n(64),s=RegExp.prototype,u=s.toString,c=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",(function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?o.call(e):n)}),{unsafe:!0})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(12);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r,i=n(4),a=n(121),o=n(50),s=n(33),u=n(81),c=n(45),l=n(32)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=p(),void 0===t?n:a(n,t)}},function(e,t){e.exports={}},function(e,t,n){var r=n(6),i=n(70),a=n(25),o=n(11),s=n(31),u=n(7),c=n(71),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=o(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(5);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(48),i=n(49),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(75),i=n(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(8).f,i=n(7),a=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(6),i=n(3),a=n(7),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:u,d=a(t,1)?t[1]:void 0;return s[e]=!!n&&!i((function(){if(c&&!r)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,d)}))}},function(e,t,n){"use strict";var r=n(11),i=n(125),a=n(29),o=n(19),s=n(91),u=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";var r,i,a=n(64),o=n(104),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,f=void 0!==/()??/.exec("")[1];(l||f||d)&&(c=function(e){var t,n,r,i,o=this,c=d&&o.sticky,p=a.call(o),h=o.source,v=0,m=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),m=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,v++),n=new RegExp("^(?:"+h+")",p)),f&&(n=new RegExp("^"+h+"$(?!\\s)",p)),l&&(t=o.lastIndex),r=s.call(c?n:o,m),c?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:l&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),f&&r&&r.length>1&&u.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},function(e,t,n){"use strict";n(17);var r=n(10),i=n(3),a=n(2),o=n(40),s=n(9),u=a("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),d=a("replace"),f=!!/./[d]&&""===/./[d]("a","$0"),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var h=a(e),v=!i((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=v&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t}));if(!v||!m||"replace"===e&&(!c||!l||f)||"split"===e&&!p){var g=/./[h],y=n(h,""[e],(function(e,t,n,r,i){return t.exec===o?v&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],_=y[1];r(String.prototype,e,b),r(RegExp.prototype,h,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},function(e,t,n){var r=n(12),i=n(40);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";var r=n(41),i=n(103),a=n(4),o=n(13),s=n(98),u=n(66),c=n(14),l=n(42),d=n(40),f=n(3),p=[].push,h=Math.min,v=!f((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(o(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,a);for(var s,u,c,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=new RegExp(e.source,f+"g");(s=d.call(v,r))&&!((u=v.lastIndex)>h&&(l.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&p.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=a));)v.lastIndex===s.index&&v.lastIndex++;return h===r.length?!c&&v.test("")||l.push(""):l.push(r.slice(h)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=o(this),a=null==t?void 0:t[e];return void 0!==a?a.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var d=a(e),f=String(this),p=s(d,RegExp),m=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),y=new p(v?d:"^(?:"+d.source+")",g),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===f.length)return null===l(y,f)?[f]:[];for(var _=0,A=0,S=[];A<f.length;){y.lastIndex=v?A:0;var E,w=l(y,v?f:f.slice(A));if(null===w||(E=h(c(y.lastIndex+(v?0:A)),f.length))===_)A=u(f,A,m);else{if(S.push(f.slice(_,A)),S.length===b)return S;for(var T=1;T<=w.length-1;T++)if(S.push(w[T]),S.length===b)return S;A=_=E}}return S.push(f.slice(_)),S}]}),!v)},function(e,t,n){var r=n(3),i=n(12),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(0),i=n(5),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},function(e,t,n){var r=n(0),i=n(9);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(72),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(26),i=n(72);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(3),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(3);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){var r=n(54),i=n(44),a=n(20),o=n(14),s=n(84),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d;return function(p,h,v,m){for(var g,y,b=a(p),_=i(b),A=r(h,v,3),S=o(_.length),E=0,w=m||s,T=t?w(p,S):n?w(p,0):void 0;S>E;E++)if((f||E in _)&&(y=A(g=_[E],E,b),e))if(t)T[E]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return E;case 2:u.call(T,g)}else if(l)return!1;return d?-1:c||l?l:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(3),i=n(2),a=n(56),o=i("species");e.exports=function(e){return a>=51||!r((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){var r,i,a=n(0),o=n(88),s=a.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){"use strict";var r=n(1),i=n(76).indexOf,a=n(57),o=n(37),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),l=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(7),i=n(20),a=n(32),o=n(93),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r=n(4),i=n(127);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},function(e,t,n){var r={};r[n(2)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(13),i="["+n(39)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(o,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t,n){"use strict";var r,i,a,o,s=n(1),u=n(26),c=n(0),l=n(16),d=n(132),f=n(10),p=n(133),h=n(36),v=n(97),m=n(5),g=n(21),y=n(134),b=n(12),_=n(47),A=n(135),S=n(139),E=n(98),w=n(99).set,T=n(140),P=n(141),C=n(142),O=n(101),k=n(143),I=n(19),x=n(51),D=n(2),R=n(56),M=D("species"),N="Promise",L=I.get,j=I.set,B=I.getterFor(N),U=d,V=c.TypeError,F=c.document,H=c.process,G=l("fetch"),W=O.f,z=W,K="process"==b(H),Y=!!(F&&F.createEvent&&c.dispatchEvent),q=x(N,(function(){if(_(U)===String(U)){if(66===R)return!0;if(!K&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!U.prototype.finally)return!0;if(R>=51&&/native code/.test(U))return!1;var e=U.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[M]=t,!(e.then((function(){}))instanceof t)})),X=q||!S((function(e){U.all(e).catch((function(){}))})),Z=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;T((function(){for(var i=t.value,a=1==t.state,o=0;r.length>o;){var s,u,c,l=r[o++],d=a?l.ok:l.fail,f=l.resolve,p=l.reject,h=l.domain;try{d?(a||(2===t.rejection&&te(e,t),t.rejection=1),!0===d?s=i:(h&&h.enter(),s=d(i),h&&(h.exit(),c=!0)),s===l.promise?p(V("Promise-chain cycle")):(u=Z(s))?u.call(s,f,p):f(s)):p(i)}catch(e){h&&!c&&h.exit(),p(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&$(e,t)}))}},J=function(e,t,n){var r,i;Y?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&C("Unhandled promise rejection",n)},$=function(e,t){w.call(c,(function(){var n,r=t.value;if(ee(t)&&(n=k((function(){K?H.emit("unhandledRejection",r,e):J("unhandledrejection",e,r)})),t.rejection=K||ee(t)?2:1,n.error))throw n.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){w.call(c,(function(){K?H.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)}))},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Q(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw V("Promise can't be resolved itself");var i=Z(n);i?T((function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}})):(t.value=n,t.state=1,Q(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};q&&(U=function(e){y(this,U,N),g(e),r.call(this);var t=L(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){j(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(U.prototype,{then:function(e,t){var n=B(this),r=W(E(this,U));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=K?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=L(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},O.f=W=function(e){return e===U||e===a?new i(e):z(e)},u||"function"!=typeof d||(o=d.prototype.then,f(d.prototype,"then",(function(e,t){var n=this;return new U((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return P(U,G.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:U}),h(U,N,!1,!0),v(N),a=l(N),s({target:N,stat:!0,forced:q},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:u||q},{resolve:function(e){return P(u&&this===a?U:this,e)}}),s({target:N,stat:!0,forced:X},{all:function(e){var t=this,n=W(t),r=n.resolve,i=n.reject,a=k((function(){var n=g(t.resolve),a=[],o=0,s=1;A(e,(function(e){var u=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[u]=e,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=W(t),r=n.reject,i=k((function(){var i=g(t.resolve);A(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){"use strict";var r=n(4);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(105).charAt,i=n(19),a=n(91),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(e){o(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(105).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(0),i=n(109),a=n(38),o=n(9),s=n(2),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var d in i){var f=r[d],p=f&&f.prototype;if(p){if(p[u]!==l)try{o(p,u,l)}catch(e){p[u]=l}if(p[c]||o(p,c,d),i[d])for(var h in a)if(p[h]!==a[h])try{o(p,h,a[h])}catch(e){p[h]=a[h]}}}},function(e,t,n){"use strict";var r=n(1),i=n(0),a=n(16),o=n(26),s=n(6),u=n(52),c=n(79),l=n(3),d=n(7),f=n(27),p=n(5),h=n(4),v=n(20),m=n(11),g=n(31),y=n(25),b=n(28),_=n(80),A=n(34),S=n(122),E=n(78),w=n(30),T=n(8),P=n(70),C=n(9),O=n(10),k=n(48),I=n(32),x=n(33),D=n(49),R=n(2),M=n(82),N=n(83),L=n(36),j=n(19),B=n(53).forEach,U=I("hidden"),V=R("toPrimitive"),F=j.set,H=j.getterFor("Symbol"),G=Object.prototype,W=i.Symbol,z=a("JSON","stringify"),K=w.f,Y=T.f,q=S.f,X=P.f,Z=k("symbols"),Q=k("op-symbols"),J=k("string-to-symbol-registry"),$=k("symbol-to-string-registry"),ee=k("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=K(G,t);r&&delete G[t],Y(e,t,n),r&&e!==G&&Y(G,t,r)}:Y,ie=function(e,t){var n=Z[e]=b(W.prototype);return F(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},oe=function(e,t,n){e===G&&oe(Q,t,n),h(e);var r=g(t,!0);return h(n),d(Z,r)?(n.enumerable?(d(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:y(0,!1)})):(d(e,U)||Y(e,U,y(1,{})),e[U][r]=!0),re(e,r,n)):Y(e,r,n)},se=function(e,t){h(e);var n=m(t),r=_(n).concat(de(n));return B(r,(function(t){s&&!ue.call(n,t)||oe(e,t,n[t])})),e},ue=function(e){var t=g(e,!0),n=X.call(this,t);return!(this===G&&d(Z,t)&&!d(Q,t))&&(!(n||!d(this,t)||!d(Z,t)||d(this,U)&&this[U][t])||n)},ce=function(e,t){var n=m(e),r=g(t,!0);if(n!==G||!d(Z,r)||d(Q,r)){var i=K(n,r);return!i||!d(Z,r)||d(n,U)&&n[U][r]||(i.enumerable=!0),i}},le=function(e){var t=q(m(e)),n=[];return B(t,(function(e){d(Z,e)||d(x,e)||n.push(e)})),n},de=function(e){var t=e===G,n=q(t?Q:m(e)),r=[];return B(n,(function(e){!d(Z,e)||t&&!d(G,e)||r.push(Z[e])})),r};u||(O((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===G&&n.call(Q,e),d(this,U)&&d(this[U],t)&&(this[U][t]=!1),re(this,t,y(1,e))};return s&&ne&&re(G,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",(function(){return H(this).tag})),O(W,"withoutSetter",(function(e){return ie(D(e),e)})),P.f=ue,T.f=oe,w.f=ce,A.f=S.f=le,E.f=de,M.f=function(e){return ie(R(e),e)},s&&(Y(W.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),o||O(G,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),B(_(ee),(function(e){N(e)})),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(J,t))return J[t];var n=W(t);return J[t]=n,$[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(d($,e))return $[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?b(e):se(b(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:de}),r({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(v(e))}}),z&&r({target:"JSON",stat:!0,forced:!u||l((function(){var e=W();return"[null]"!=z([e])||"{}"!=z({a:e})||"{}"!=z(Object(e))}))},{stringify:function(e,t,n){for(var r,i=[e],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=t,(p(t)||void 0!==e)&&!ae(e))return f(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,z.apply(null,i)}}),W.prototype[V]||C(W.prototype,V,W.prototype.valueOf),L(W,"Symbol"),x[U]=!0},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(6),i=n(3),a=n(45);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(0),i=n(46),a=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=a},function(e,t,n){var r=n(7),i=n(120),a=n(30),o=n(8);e.exports=function(e,t){for(var n=i(t),s=o.f,u=a.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(0);e.exports=r},function(e,t,n){var r=n(7),i=n(11),a=n(76).indexOf,o=n(33);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){var r=n(11),i=n(14),a=n(77),o=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),l=a(o,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},function(e,t,n){var r=n(35),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(52);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(75),i=n(50);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(16);e.exports=r("document","documentElement")},function(e,t,n){var r=n(2);t.f=r},function(e,t,n){var r=n(74),i=n(7),a=n(82),o=n(8).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(5),i=n(27),a=n(2)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var r=n(1),i=n(6),a=n(0),o=n(7),s=n(5),u=n(8).f,c=n(73),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};c(f,l);var p=f.prototype=l.prototype;p.constructor=f;var h=p.toString,v="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(o(d,e))return"";var n=v?t.slice(7,-1):t.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},function(e,t,n){n(83)("iterator")},function(e,t,n){"use strict";var r=n(31),i=n(8),a=n(25);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(16);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(1),i=n(90);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t,n){"use strict";var r=n(53).forEach,i=n(57),a=n(37),o=i("forEach"),s=a("forEach");e.exports=o&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(1),i=n(126),a=n(59),o=n(60),s=n(36),u=n(9),c=n(10),l=n(2),d=n(26),f=n(29),p=n(92),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g=function(){return this};e.exports=function(e,t,n,l,p,y,b){i(n,t,l);var _,A,S,E=function(e){if(e===p&&O)return O;if(!v&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},w=t+" Iterator",T=!1,P=e.prototype,C=P[m]||P["@@iterator"]||p&&P[p],O=!v&&C||E(p),k="Array"==t&&P.entries||C;if(k&&(_=a(k.call(new e)),h!==Object.prototype&&_.next&&(d||a(_)===h||(o?o(_,h):"function"!=typeof _[m]&&u(_,m,g)),s(_,w,!0,!0),d&&(f[w]=g))),"values"==p&&C&&"values"!==C.name&&(T=!0,O=function(){return C.call(this)}),d&&!b||P[m]===O||u(P,m,O),f[t]=O,p)if(A={values:E("values"),keys:y?O:E("keys"),entries:E("entries")},b)for(S in A)(v||T||!(S in P))&&c(P,S,A[S]);else r({target:t,proto:!0,forced:v||T},A);return A}},function(e,t,n){"use strict";var r,i,a,o=n(59),s=n(9),u=n(7),c=n(2),l=n(26),d=c("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),l||u(r,d)||s(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(e,t,n){var r=n(3);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(6),i=n(8).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in a)&&i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(61),i=n(12),a=n(2)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(1),i=n(131);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(e,t,n){"use strict";var r=n(16),i=n(8),a=n(2),o=n(6),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(4),i=n(21),a=n(2)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){var r,i,a,o=n(0),s=n(3),u=n(12),c=n(54),l=n(81),d=n(45),f=n(100),p=o.location,h=o.setImmediate,v=o.clearImmediate,m=o.process,g=o.MessageChannel,y=o.Dispatch,b=0,_={},A=function(e){if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},S=function(e){return function(){A(e)}},E=function(e){A(e.data)},w=function(e){o.postMessage(e+"",p.protocol+"//"+p.host)};h&&v||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete _[e]},"process"==u(m)?r=function(e){m.nextTick(S(e))}:y&&y.now?r=function(e){y.now(S(e))}:g&&!f?(a=(i=new g).port2,i.port1.onmessage=E,r=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(w)||"file:"===p.protocol?r="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),A(e)}}:function(e){setTimeout(S(e),0)}:(r=w,o.addEventListener("message",E,!1))),e.exports={set:h,clear:v}},function(e,t,n){var r=n(88);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(21),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(6),i=n(0),a=n(51),o=n(144),s=n(8).f,u=n(34).f,c=n(103),l=n(64),d=n(104),f=n(10),p=n(3),h=n(19).set,v=n(97),m=n(2)("match"),g=i.RegExp,y=g.prototype,b=/a/g,_=/a/g,A=new g(b)!==b,S=d.UNSUPPORTED_Y;if(r&&a("RegExp",!A||S||p((function(){return _[m]=!1,g(b)!=b||g(_)==_||"/a/i"!=g(b,"i")})))){for(var E=function(e,t){var n,r=this instanceof E,i=c(e),a=void 0===t;if(!r&&i&&e.constructor===E&&a)return e;A?i&&!a&&(e=e.source):e instanceof E&&(a&&(t=l.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=o(A?new g(e,t):g(e,t),r?this:y,E);return S&&n&&h(s,{sticky:n}),s},w=function(e){e in E||s(E,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})},T=u(g),P=0;T.length>P;)w(T[P++]);y.constructor=E,E.prototype=y,f(i,"RegExp",E)}v("RegExp")},function(e,t,n){var r=n(5),i=n(12),a=n(2)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){"use strict";var r=n(3);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,n){var r=n(35),i=n(13),a=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};e.exports={codeAt:a(!1),charAt:a(!0)}},function(e,t,n){"use strict";var r=n(41),i=n(4),a=n(14),o=n(13),s=n(66),u=n(42);r("match",1,(function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),c=String(this);if(!o.global)return u(o,c);var l=o.unicode;o.lastIndex=0;for(var d,f=[],p=0;null!==(d=u(o,c));){var h=String(d[0]);f[p]=h,""===h&&(o.lastIndex=s(c,a(o.lastIndex),l)),p++}return 0===p?null:f}]}))},function(e,t,n){"use strict";var r=n(41),i=n(4),a=n(20),o=n(14),s=n(35),u=n(13),c=n(66),l=n(42),d=Math.max,f=Math.min,p=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var m=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=r.REPLACE_KEEPS_$0,y=m?"$":"$0";return[function(n,r){var i=u(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!m&&g||"string"==typeof r&&-1===r.indexOf(y)){var a=n(t,e,this,r);if(a.done)return a.value}var u=i(e),p=String(this),h="function"==typeof r;h||(r=String(r));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}for(var A=[];;){var S=l(u,p);if(null===S)break;if(A.push(S),!v)break;""===String(S[0])&&(u.lastIndex=c(p,o(u.lastIndex),_))}for(var E,w="",T=0,P=0;P<A.length;P++){S=A[P];for(var C=String(S[0]),O=d(f(s(S.index),p.length),0),k=[],I=1;I<S.length;I++)k.push(void 0===(E=S[I])?E:String(E));var x=S.groups;if(h){var D=[C].concat(k,O,p);void 0!==x&&D.push(x);var R=String(r.apply(void 0,D))}else R=b(C,p,O,k,x,r);O>=T&&(w+=p.slice(T,O)+R,T=O+C.length)}return w+p.slice(T)}];function b(e,n,r,i,o,s){var u=r+e.length,c=i.length,l=v;return void 0!==o&&(o=a(o),l=h),t.call(s,l,(function(t,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var d=p(l/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}s=i[l-1]}return void 0===s?"":s}))}}))},function(e,t,n){var r=n(0),i=n(109),a=n(90),o=n(9);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(e){c.forEach=a}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(1),i=n(6);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(8).f})},function(e,t,n){"use strict";var r=n(21),i=n(5),a=[].slice,o={},s=function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(o.prototype=t.prototype),o}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=o||s||Function("return this")(),c=t&&!t.nodeType&&t,l=c&&"object"==typeof n&&n&&!n.nodeType&&n,d=l&&l.exports===c,f=d&&o.process,p=function(){try{return l&&l.require&&l.require("util").types||f&&f.binding&&f.binding("util")}catch(e){}}(),h=p&&p.isTypedArray;function v(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var m,g,y,b=Array.prototype,_=Function.prototype,A=Object.prototype,S=u["__core-js_shared__"],E=_.toString,w=A.hasOwnProperty,T=(m=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",P=A.toString,C=E.call(Object),O=RegExp("^"+E.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=d?u.Buffer:void 0,I=u.Symbol,x=u.Uint8Array,D=(k&&k.allocUnsafe,g=Object.getPrototypeOf,y=Object,function(e){return g(y(e))}),R=Object.create,M=A.propertyIsEnumerable,N=b.splice,L=I?I.toStringTag:void 0,j=function(){try{var e=ne(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),B=k?k.isBuffer:void 0,U=Math.max,V=Date.now,F=ne(u,"Map"),H=ne(Object,"create"),G=function(){function e(){}return function(t){if(!he(t))return{};if(R)return R(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new z(e);this.size=t.size}function q(e,t,n){(void 0!==n&&!se(e[t],n)||void 0===n&&!(t in e))&&Q(e,t,n)}function X(e,t,n){var r=e[t];w.call(e,t)&&se(r,n)&&(void 0!==n||t in e)||Q(e,t,n)}function Z(e,t){for(var n=e.length;n--;)if(se(e[n][0],t))return n;return-1}function Q(e,t,n){"__proto__"==t&&j?j(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function J(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=w.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var i=P.call(e);return r&&(t?e[L]=n:delete e[L]),i}(e):function(e){return P.call(e)}(e)}function $(e){return ve(e)&&"[object Arguments]"==J(e)}function ee(e,t,n,r,i){e!==t&&function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[++r];if(!1===t(i[s],s,i))break}}(t,(function(a,o){if(i||(i=new Y),he(a))!function(e,t,n,r,i,a,o){var s=ae(e,n),u=ae(t,n),c=o.get(u);if(c)q(e,n,c);else{var l,d,f,p,h,v=a?a(s,u,n+"",e,t,o):void 0,m=void 0===v;if(m){var g=ce(u),y=!g&&de(u),b=!g&&!y&&me(u);v=u,g||y||b?ce(s)?v=s:ve(h=s)&&le(h)?v=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):y?(m=!1,v=function(e,t){return e.slice()}(u)):b?(m=!1,p=new(f=(l=u).buffer).constructor(f.byteLength),new x(p).set(new x(f)),d=p,v=new l.constructor(d,l.byteOffset,l.length)):v=[]:function(e){if(!ve(e)||"[object Object]"!=J(e))return!1;var t=D(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==C}(u)||ue(u)?(v=s,ue(s)?v=function(e){return function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=void 0;void 0===u&&(u=e[s]),i?Q(n,s,u):X(n,s,u)}return n}(e,ge(e))}(s):he(s)&&!fe(s)||(v=function(e){return"function"!=typeof e.constructor||ie(e)?{}:G(D(e))}(u))):m=!1}m&&(o.set(u,v),i(v,u,r,a,o),o.delete(u)),q(e,n,v)}}(e,t,o,n,ee,r,i);else{var s=r?r(ae(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),q(e,o,s)}}),ge)}function te(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!he(e)||function(e){return!!T&&T in e}(e))&&(fe(e)?O:r).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function re(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}function ie(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}function ae(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}W.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:w.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},z.prototype.clear=function(){this.__data__=[],this.size=0},z.prototype.delete=function(e){var t=this.__data__,n=Z(t,e);return!(n<0||(n==t.length-1?t.pop():N.call(t,n,1),--this.size,0))},z.prototype.get=function(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]},z.prototype.has=function(e){return Z(this.__data__,e)>-1},z.prototype.set=function(e,t){var n=this.__data__,r=Z(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(F||z),string:new W}},K.prototype.delete=function(e){var t=te(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return te(this,e).get(e)},K.prototype.has=function(e){return te(this,e).has(e)},K.prototype.set=function(e,t){var n=te(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new z,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof z){var r=n.__data__;if(!F||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};var oe=function(e){var t=0,n=0;return function(){var r=V(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(j?function(e,t){return j(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:_e);function se(e,t){return e===t||e!=e&&t!=t}var ue=$(function(){return arguments}())?$:function(e){return ve(e)&&w.call(e,"callee")&&!M.call(e,"callee")},ce=Array.isArray;function le(e){return null!=e&&pe(e.length)&&!fe(e)}var de=B||function(){return!1};function fe(e){if(!he(e))return!1;var t=J(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function pe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function he(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ve(e){return null!=e&&"object"==typeof e}var me=h?function(e){return function(t){return e(t)}}(h):function(e){return ve(e)&&pe(e.length)&&!!a[J(e)]};function ge(e){return le(e)?function(e,t){var n=ce(e),r=!n&&ue(e),i=!n&&!r&&de(e),a=!n&&!r&&!i&&me(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!w.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||re(c,u))||s.push(c);return s}(e,!0):function(e){if(!he(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ie(e),n=[];for(var r in e)("constructor"!=r||!t&&w.call(e,r))&&n.push(r);return n}(e)}var ye,be=(ye=function(e,t,n){ee(e,t,n)},function(e,t){return oe(function(e,t,n){return t=U(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=U(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),v(e,this,s)}}(e,t,_e),e+"")}((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=ye.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!he(n))return!1;var r=typeof t;return!!("number"==r?le(n)&&re(t,n.length):"string"==r&&t in n)&&se(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&ye(e,o,n)}return e})));function _e(e){return e}n.exports=be}).call(this,n(69),n(146)(e))},function(e,t,n){var r=n(161),i=n(162),a=i;a.v1=r,a.v4=i,e.exports=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n(22),n(23),n(102),n(17),n(24);var r=function(e){var t=["credited","resume","pos","product","s","p","sk","sec","bg","bgv","ib","ix","iy","wb","wx","wy","bd","n","f","aa","vo","rdp","survey_config_url"];if("string"!=typeof e.s||!new RegExp("^https?%3A%2F%2f","i").test(e.s))return e;for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=decodeURIComponent(e[i]))}return n};r.toString=function(){return"TXFixQueryParams"};var i=n(114),a=(n.n(i),n(43),function(e){var t={};if("string"==typeof e)for(var n=("?"===e.charAt(0)?e.substring(1):e).split("&"),r=0;r<n.length;r++){var i=n[r].split("="),a=i[0],o=i[1];o&&(t[a]=decodeURIComponent(o))}return t});a.toString=function(){return"TXParseQueryString"},n(147);var o=n(15),s=function(e,t,n,r){var i={"tracking_event[placement_hash]":r&&r.placement&&r.placement.identifier_hash,"tracking_event[network_user_id]":r&&r.user&&r.user.id,"tracking_event[session_id]":r&&r.vast_session_id,"tracking_event[category]":e,"tracking_event[name]":t,"tracking_event[value]":n},a=[];for(var s in i)a.push(s+"="+encodeURIComponent(i[s]));a=a.join("&");var u=new XMLHttpRequest;return u.open("POST",o.a.truexServerUrl+"/tracking_events",!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),u.send(a),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n(89),n(58),n(148),n(38),n(22),n(94),n(110),n(23),n(96),n(149),n(63),n(17),n(24),n(65),n(106),n(151),n(43),n(153),n(108),n(67),n(155);var r,i="moveUp",a="moveDown",o="moveLeft",s="moveRight",u="select",c="back",l="menu",d="exit",f="search",p="0",h="1",v="2",m="3",g="4",y="5",b="6",_="7",A="8",S="9",E="playPause",w="fastForward",T="rewind",P="stop",C="nextTrack",O="prevTack",k="red",I="green",x="yellow",D="blue",R="extra",M="buttonX",N="buttonSquare",L="buttonTriangle",j="buttonY",B="leftShoulder1",U="leftShoulder2",V="rightShoulder1",F="rightShoulder2",H="leftStick",G="rightStick",W="skipForward",z="skipBackward",K=(n(68),n(85),n(86),n(156),n(157),n(158),n(159),n(160),n(107),r=/^(?:https?:|file:)/,function(e){return r.test(e)?e.replace(r,""):0!==e.indexOf("//")?"//".concat(e):e});function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function X(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}var te="https:"===window.location.protocol?"https:":"http:",ne=function(e){q(n,e);var t=function(e){return function(){var t,n=Q(e);if(Z()){var r=Q(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return X(this,t)}}(n);function n(e){var r;return J(this,n),(r=t.call(this,e))._scriptEl=document.createElement("script"),r}return ee(n,[{key:"load",value:function(){var e=this._scriptEl,t=document.querySelector("head"),n=te+K(this._url);t.appendChild(e),e.onload=this.__resolve,e.onerror=this.__reject,e.src=n}},{key:"element",get:function(){return this._scriptEl}}]),n}(function(){function e(t){var n=this;if(J(this,e),!t)throw"url not provided";this._url=t,this.__resolve=this.__resolve.bind(this),this.__reject=this.__reject.bind(this),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t}))}return ee(e,[{key:"__resolve",value:function(){this._onLoadCB&&this._onLoadCB.apply(this,arguments),this._resolve.apply(this,arguments),console.warn("resolved",this._url)}},{key:"__reject",value:function(){this._onErrorCB&&this._onErrorCB.apply(this,arguments),this._reject.apply(this,arguments)}},{key:"promise",get:function(){return this._promise}},{key:"onload",get:function(){return this._onLoadCB},set:function(e){this._onLoadCB=e}},{key:"onerror",get:function(){return this._onErrorCB},set:function(e){this._onErrorCB=e}}]),e}());function re(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){re(a,r,i,o,s,"next",e)}function s(e){re(a,r,i,o,s,"throw",e)}o(void 0)}))}}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oe={space:32,tab:9,enter:13,esc:27,del:127,backspace:8,zero:48,one:49,two:50,three:51,four:52,five:53,six:54,seven:55,eight:56,nine:57,A:65,S:83,D:68,F:70,L:76,M:77,O:79,P:80,Q:81,W:87,Z:90,leftArrow:37,rightArrow:39,upArrow:38,downArrow:40},se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="Unknown",this.model="Unknown",this.version="Unknown",this.isUnknown=!1,this.isIOS=!1,this.isTVOS=!1,this.isIPad=!1,this.isIPhone=!1,this.isVizio=!1,this.isLG=!1,this.isTizen=!1,this.isPS4=!1,this.isFireTV=!1,this.isAndroidTV=!1,this.isXboxOne=!1,this.isNintendoSwitch=!1,this.useScrollTop=!1,this.useWindowScroll=!0,this.supportsGyro=!1,this.supportsInitialVideoSeek=!0,this.supportsHttpImagesWithHttps=!0,this.useHistoryBackActions=!1,this._inputKeyMap={};var n=t||window.navigator.userAgent;this.userAgent=n,this.supportsUserAdvertisingId=!1,this._configure(n)}var t,n,r,K;return t=e,(n=[{key:"getInputAction",value:function(e){return this._inputKeyMap[e]}},{key:"describeError",value:function(e,t){return"string"!=typeof e&&"number"!=typeof e&&e?(e instanceof Error||e.stack?n=e.toString():e.message?n=e.message:e.type&&e.target||(n=Object.prototype.toString!==e.toString?e.toString():JSON.stringify(e)),!n&&e.code&&(n="errCode: "+e.code),e.stack&&t&&(e.message&&e.stack.indexOf(e.message)>=0?n=e.stack:n+="\n"+e.stack),n||(n="unknown error"),n):e;var n}},{key:"describeErrorWithStack",value:function(e){return this.describeError(e,!0)}},{key:"_configure",value:function(e){var t=this,n={};window.PalmSystem?function(){t.isLG=!0,t.name="LG";var e=window.webOS;e&&e.deviceInfo((function(e){t.model=e.modelNameAscii,t.version=e.version})),t.useWindowScroll=!1,t.useScrollTop=!0,q(),n[c]=461,n[E]=[415,19],n[w]=417,n[T]=412,n[P]=413,n[k]=403,n[I]=404,n[x]=405,n[D]=406}():/Tizen/i.test(e)?function(){t.isTizen=!0,t.name="Tizen";var r=e.match(/Tizen ([^\s)]+)\)/);r&&(t.version=r[1]);var i=parseFloat(t.version);if(i>=3){var a=Math.floor(2014+i);t.model="".concat(a)}else i>=2.4?t.model="2016":i<2.4&&(t.model="2015");q(),n[u]=[oe.enter,65376],n[c].push(10009),n[c].push(65385);var o=window.tizen&&(tizen.tvinputdevice||tizen.inputdevice);o&&["0","1","2","3","4","5","6","7","8","9","Exit","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","Search","Extra","Caption"].forEach((function(e){o.registerKey(e)})),n[d]=10182,n[E]=[415,19],n[w]=417,n[T]=412,n[P]=413,n[C]=418,n[f]=10225,n[R]=10253,n[k]=403,n[I]=404,n[x]=405,n[D]=406}():/Vizio/i.test(e)||/Smartcast/i.test(e)||/Conjure/i.test(e)||/CrKey/.test(e)?function(){t.isVizio=!0,t.name="Vizio";var r=e.match(/Model\/([^\s)]+)/);t.model=r&&r[1]||"Unknown";var i=e.match(/FW\/([^\s)]+)/);t.version=i&&i[1]||"?.?.?",t.useWindowScroll=!1,q(),n[c]=[oe.backspace,oe.del],n[d]=[oe.esc],n[E]=[415,19],n[w]=417,n[T]=412,n[P]=413,n[C]=[418]}():/PlayStation 4/.test(e)?function(){t.isPS4=!0,t.name="PS4",t.model=t.name;var r=e.match(/(WebMAF\/v([0-9]+\.)+[0-9]+)/);r||(r=e.match(/PlayStation 4 ([^\s)]+)\)/)),r&&(t.version=r[1]),t.useWindowScroll=!1,t.supportsInitialVideoSeek=!1,q(),n[N]=32,n[L]=112,n[B]=116,n[V]=117,n[U]=118,n[F]=119,n[H]=120,n[G]=121,n[c]=[oe.esc,oe.backspace],n[l]=36,n[I]=133,n[O]=122,n[C]=123,n[W]=124,n[z]=125,n[w]=126,n[T]=127,n[E]=[128,130],n[P]=129}():/Xbox/.test(e)?function(){if(t.isXboxOne=!0,t.name="XboxOne",t.model="Windows.Xbox",t.version="Unknown",window.Windows){var e=Windows.System;if(e){var r=e.Profile;if(r){var d=r.AnalyticsInfo;if(d){var f=d.versionInfo;f&&(t.model=f.deviceFamily,t.version=f.deviceFamilyVersion)}}}}window.navigator.gamepadInputEmulation="keyboard",q(),X(),n[l]=207,n[j]=198,n[M]=197,n[B]=200,n[V]=199,n[U]=201,n[F]=202,n[H]=209,n[G]=210,n[o]=[oe.leftArrow,214,205],n[s]=[oe.rightArrow,213,206],n[i]=[oe.upArrow,211,203],n[a]=[oe.downArrow,212,204],n[u]=[oe.enter,oe.space,195],n[c]=[oe.esc,oe.del,196]}():/Android/.test(e)?/AFT/.test(e)?function(){Y(),t.isFireTV=!0,t.name="FireTV";var r=e.match(/\bAFT[A-Z0-9]+\b/),i=r&&r[0];t.model={AFTA:"Fire TV Cube (Gen 1)",AFTB:"Fire TV (Gen 1)",AFTBAMR311:"Fire TV Edition - Toshiba HD (2018-2020)",AFTDCT31:"Fire TV Edition - 4K UHD (2020)",AFTEAMR311:"Fire TV Edition - Insignia HD (2018-2020)",AFTEU011:"Fire TV Edition - Grundig Vision 6 HD (2019)",AFTEU014:"Fire TV Edition - Grundig Vision 7 4K (2019)",AFTEUFF014:"Fire TV Edition - Grundig OLED 4K (2019)",AFTJMST12:"Fire TV Edition - Insignia 4K (2018)",AFTKMST12:"Fire TV Edition - Toshiba 4K (2018/2019)",AFTLE:"Fire TV Edition - Onida HD (2019)",AFTM:"Fire TV Stick (Gen 1)",AFTMM:"Fire TV Stick 4K",AFTN:"Fire TV (Gen 3)",AFTR:"Fire TV Cube (Gen 2)",AFTRS:"Fire TV Edition - Element 4K (2017)",AFTS:"Fire TV (Gen 2)",AFTSO001:"Fire TV Edition - JVC 4K (2019)",AFTT:"Fire TV Stick (Gen 2)"}[i]||"Fire TV",t.modelId=i,n[l]=18;var a=e.match(/AmazonWebAppPlatform\/([0-9]+)/);if(a){var o=parseInt(a[1])||0;t.supportsUserAdvertisingId=o>=3}}():(Y(),t.isAndroidTV=!0,t.name="AndroidTV",t.model=t.name,n[c]=4,n[l]=82):(t.isUnknown=!0,q(),X()),t._inputKeyMap={};var r=function(e){var r=n[e];Array.isArray(r)?r.forEach((function(n){t._inputKeyMap[n]=e})):t._inputKeyMap[r]=e};for(var K in n)r(K);function Y(){t.useWindowScroll=!1,t.supportsHttpImagesWithHttps=!1,t.useHistoryBackActions=!0;var r=window.androidApp||window.fireTVApp;if(r){var i=r.getAndroidDetails().split(",");t.model=i[1],t.version=i[2]}else{var a=e.indexOf("(");if(a>=0){var o=e.indexOf(")",a);o<0&&(o=e.length);var s=e.substring(a+1,o).split(";");t.model=s[1].trim();var u=s[1].split(" ");t.version=u[u.length-1]}}q(),n[E]=179,n[w]=228,n[T]=227,n[R]=82}function q(){n[o]=oe.leftArrow,n[s]=oe.rightArrow,n[i]=oe.upArrow,n[a]=oe.downArrow,n[u]=[oe.enter,oe.space],n[c]=[oe.esc,oe.backspace,oe.del],n[p]=oe.zero,n[h]=oe.one,n[v]=oe.two,n[m]=oe.three,n[g]=oe.four,n[y]=oe.five,n[b]=oe.six,n[_]=oe.seven,n[A]=oe.eight,n[S]=oe.nine}function X(){n[E]=oe.D,n[w]=oe.F,n[T]=oe.S,n[C]=oe.N,n[O]=oe.R,n[B]=oe.Q,n[U]=oe.A,n[V]=oe.P,n[F]=oe.L,n[l]=oe.M,n[O]=oe.W,n[C]=oe.O}}},{key:"getUserAdvertisingId",value:(K=ie(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.supportsUserAdvertisingId){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!this.isFireTV){e.next=4;break}return e.abrupt("return",this.getFireTVAdvertisingId());case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return K.apply(this,arguments)})},{key:"getFireTVAdvertisingId",value:(r=ie(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.AmazonAdvertising){e.next=11;break}return(n=new ne("https://resources.amazonwebapps.com/v1/latest/Amazon-Web-App-API.min.js")).load(),e.next=6,n.promise;case 6:return e.next=8,new Promise((function(e){document.addEventListener("amazonPlatformReady",(function t(){document.removeEventListener("amazonPlatformReady",t),e(window.AmazonAdvertising)}))}));case 8:if(t=e.sent){e.next=11;break}throw new Error("AmazonAdvertising API not available");case 11:return r=new Promise((function(e,n){t.getAdvertisingId(e,(function(t){console.error("getAdvertisingId: ".concat(t)),e(void 0)}))})),i=new Promise((function(e,n){t.getLimitAdTrackingPreference(e,(function(t){console.error("getLimitAdTrackingPreference: ".concat(t)),e(!1)}))})),e.abrupt("return",Promise.all([r,i]).then((function(e){var t=e[0],n=e[1];return t&&!n?t:void 0})));case 14:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"isAndroidOrFireTV",get:function(){return this.isAndroidTV||this.isFireTV}},{key:"isHandheld",get:function(){return this.isIPhone||this.isAndroid&&/Mobile/.test(this.userAgent)}},{key:"isTablet",get:function(){return this.isIPad||this.isAndroid&&!this.isHandheld}},{key:"isCTV",get:function(){return this.isLG||this.isVizio||this.isTizen||this.isAndroidTV||this.isFireTV}},{key:"isConsole",get:function(){return this.isXboxOne||this.isPS4||this.isNintendoSwitch}},{key:"useContentScroll",get:function(){return!this.useWindowScroll&&!this.useScrollTop||this.isTizen}},{key:"screenSize",get:function(){var e=document.documentElement;return{width:e.clientWidth,height:e.clientHeight}}},{key:"keyCodes",get:function(){return oe}}])&&ae(t.prototype,n),e}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TruexAdRenderer",(function(){return TruexAdRenderer}));var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(68),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(85),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(86),core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(123),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(124),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(58),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(38),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(128),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_date_now__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(129),core_js_modules_es_date_now__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_date_now__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(22),core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_date_to_string__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(94),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(23),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(96),core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(63),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(102),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(17),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(24),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(65),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(106),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(107),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(43),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(108),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(67),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_23__),whatwg_fetch__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(145),_utils__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(116),_config__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(15),truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(18),truex_shared_focus_manager_txm_platform__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(117),uuid__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(115),uuid__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_29__);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var TIMEOUT_OPT_OUT_COUNT="txm_timeout_opt_out_count",USER_OPT_OUT_COUNT="txm_user_initiated_opt_out_count",LAST_STREAM_ID="txm_last_stream_id",LAST_STREAM_STARTED_AT="txm_last_stream_started_at",FALLBACK_ADVERTISING_ID="txm_fallback_advertising_id",TruexAdRenderer=function TruexAdRenderer(parameters,options){var _this=this;_classCallCheck(this,TruexAdRenderer),options||(options={});var self=this;if(this.version=_config__WEBPACK_IMPORTED_MODULE_26__.a.version,this.adEvents=truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a,this.platform=new truex_shared_focus_manager_txm_platform__WEBPACK_IMPORTED_MODULE_28__.a,this.credited=!1,this.userOptOutCount=0,this.timeoutOptOutCount=0,this.trackingCategory="fep_ctv_"+this.platform.name.toLowerCase(),"string"==typeof parameters)this.vastConfigUrl=parameters;else{if("object"!==_typeof(parameters))throw new TypeError("missing vast config url or vast config value");parameters.vast_config_url?this.vastConfigUrl=parameters.vast_config_url:this.vastConfig=parameters}var adListenersByType=[],generalAdListeners=[];function callbacksWithout(e,t){return t?t.filter((function(t){return t!==e})):[]}function signalAdEvent(e){if(e.type){switch(e.type){case truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a.optOut:if(!self.optOutTrackingEnabled)break;e.userInitiated?(self.userOptOutCount++,localStorage.setItem(USER_OPT_OUT_COUNT,self.userOptOutCount)):(self.timeoutOptOutCount++,localStorage.setItem(TIMEOUT_OPT_OUT_COUNT,self.timeoutOptOutCount))}var t=adListenersByType[e.type];t&&t.forEach((function(t){t(e)})),generalAdListeners.forEach((function(t){t(e)}))}else console.warn("unknown ad event ignored: "+JSON.stringify(e))}function signalAdError(e){var t=getErrorMessage(e);return signalAdEvent({type:truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a.adError,errorMessage:t}),t}function getErrorMessage(e){return e&&e.constructor==Error?e.message:""+e}function getErrorVastConfig(){var e=self.vastConfigUrl;if(e){var t=e.indexOf("//"),n=t<0?0:t+2,r=e.indexOf("/",n);if(!(r<0)){var i,a=e.substring(r+1).match(/([a-zA-Z0-9]+)\//);a&&(i=a[1]);var o={},s=e.indexOf("?",r);return s>=0&&e.substring(s+1).split("&").forEach((function(e){var t,n=e.split("="),r=decodeURIComponent(n[0]);try{t=n[1]&&decodeURIComponent(n[1])}catch(e){t=n[1]}o[r]=t})),{user:{id:o.network_user_id},placement:{identifier_hash:i},vast_session_id:o.session_id}}}}function trackEvent(e,t,n){var r=self.vastConfig;r||(r=getErrorVastConfig()),Object(_utils__WEBPACK_IMPORTED_MODULE_25__.a)(e,t,n,r),options.trackingObserver&&options.trackingObserver(e,t,n)}function trackError(e,t){var n=getErrorMessage(t);return trackEvent("error",e,n),e+": "+n}function trackErrorAndThrow(e,t,n){var r=trackError(e,t,n);throw new Error(r)}function signalAndThrowAdError(e){var t=signalAdError(e);throw new Error(t)}function fetchVastConfig(){if(self.vastConfig)return Promise.resolve(self.vastConfig);var e=self.vastConfigUrl;return e||signalAndThrowAdError("missing vast config url"),/env\[\]=html/.test(e)||(e+="&env[]=html"),self.platform.isPS4&&!/user_agent=/.test(e)&&(e+="&user_agent=ctv-ps4"),fetch(e).catch((function(t){trackErrorAndThrow("vast_config_fetch_failed",getErrorMessage(t)+" for url: "+e)})).then((function(t){if(t.ok)return t.json();var n=t.statusText||"request failed";trackErrorAndThrow("vast_config_fetch_failed","status: ".concat(n,", url: ").concat(e))})).then((function(e){return self.vastConfig=e,e}))}function getUserAdvertisingId(){return(self.userAdvertisingId?Promise.resolve(self.userAdvertisingId):self.platform.getUserAdvertisingId()).then((function(e){return e?console.log("using user advertising id: "+e):(e=self.fallbackAdvertisingId,console.log("using fallback advertising id: "+e)),self.userAdvertisingId=e,e})).catch((function(e){trackErrorAndThrow("user_advertising_id_error",e)}))}function replaceNetworkUserIdInVastConfigUrl(){if(self.vastConfigUrl){var e=self.userAdvertisingId;self.vastConfigUrl=self.vastConfigUrl.replace(/\&?network_user_id=[^&]*/,"")+"&network_user_id="+encodeURIComponent(e)}}function replaceNetworkUserIdInVastConfig(){var e=self.userAdvertisingId,t=self.vastConfig;t.user={id:e};var n=t.ads[0];if(n){var r=n.window_url;r&&(n.window_url=r.replace(/(%26)?network_user_id%3D[^%]*/,"")+"%26network_user_id%3D"+encodeURIComponent(e));var i=n.service_params;i&&(n.service_params=i.replace(/\&?network_user_id=[^&]*/,"")+"&network_user_id="+encodeURIComponent(e))}}function isNewStream(){return!(self.lastStreamId&&self.lastStreamId==self.currentStreamId&&self.lastStreamStartedAt&&self.lastStreamStartedAt+108e5>Date.now())}function getStreamId(){if(!self.vastConfig)return null;if(self.vastConfig.ads&&self.vastConfig.ads.length>0){var e=self.vastConfig.ads[0];if(e.window_url&&"string"==typeof e.window_url){var t=e.window_url.match(/(%26)?stream_id%3D([^%]+)/i);if(t)return decodeURIComponent(t[2])}}return null}function isUserOptOutCappingEnabled(){var e=self.vastConfig?self.vastConfig.card_creative_args:null;return!(e&&e.user_opt_out_capping_disabled)}function deviceCanRunTAR(){var e=self.platform.isFireTV&&"7"==self.platform.version[0],t=window.screen.width*window.devicePixelRatio>=3840,n=self.vastConfig?self.vastConfig.card_creative_args:{};if(n.disable_override_for_network_user_id){var r=n.disable_override_for_network_user_id[self.userAdvertisingId];if(void 0!==r)return r}if(n.disable_fireos6){if(e)return!1}else if(n.disable_fireos6_non4k&&e&&!t)return!1;if(n.disable_user_agent_regex_match&&n.disable_user_agent_regex_match.length>0)for(var i=0;i<n.disable_user_agent_regex_match.length;i++)if(new RegExp(n.disable_user_agent_regex_match[i]).test(window.navigator.userAgent))return!1;return!0}function loadOptOutStatus(){self.lastStreamId=localStorage.getItem(LAST_STREAM_ID),self.lastStreamStartedAt=parseFloat(localStorage.getItem(LAST_STREAM_STARTED_AT)),self.userOptOutCount=parseFloat(localStorage.getItem(USER_OPT_OUT_COUNT)),self.timeoutOptOutCount=parseFloat(localStorage.getItem(TIMEOUT_OPT_OUT_COUNT)),isNewStream()&&resetOptOutStatus()}function resetOptOutStatus(){localStorage.removeItem(USER_OPT_OUT_COUNT),localStorage.removeItem(TIMEOUT_OPT_OUT_COUNT),self.userOptOutCount=0,self.timeoutOptOutCount=0,self.currentStreamId?(localStorage.setItem(LAST_STREAM_ID,self.currentStreamId),localStorage.setItem(LAST_STREAM_STARTED_AT,Date.now())):(localStorage.removeItem(LAST_STREAM_ID),localStorage.removeItem(LAST_STREAM_STARTED_AT))}function getChoiceCardUrl(e){var t;return(t=e||(self.vastConfig&&self.vastConfig.card_creative_args&&self.vastConfig.card_creative_args.choicecard_js_url?self.vastConfig.card_creative_args.choicecard_js_url:self.vastConfig&&self.vastConfig.card_creative_url?self.vastConfig.card_creative_url:_config__WEBPACK_IMPORTED_MODULE_26__.a.mediaServerUrl+"/integration/ctv/choicecard-ctv.min.js")).indexOf("?")>-1?t+="&":t+="?",t+"t="+Date.now()}function loadChoiceCard(choiceCardUrl,vastConfig,parentElement){return console.log("loading choice card: ".concat(choiceCardUrl)),fetch(choiceCardUrl).catch((function(e){trackErrorAndThrow("choice_card_fetch_error",getErrorMessage(e)+" for url: ".concat(choiceCardUrl))})).then((function(e){if(e.ok)return e.text();var t=e.status,n=e.statusText||"request failed";throw new Error("fetch failed: ".concat(t,": ").concat(n,"\nfor choice card: ").concat(choiceCardUrl))})).then((function(jsCode){if(!jsCode)throw new Error("no code response found for choice card: ".concat(choiceCardUrl));var _ref="",split=_ref.split,require=null,loadedScript=eval(jsCode);if(!loadedScript)throw new Error("no loaded script found for: ".concat(choiceCardUrl));String.prototype.split=split;var module=window.TruexChoiceCardModule;if(window.TruexChoiceCardModule=void 0,!module)throw new Error("no code module found for choice card: ".concat(choiceCardUrl));var ChoiceCard=module.ChoiceCard,SkipCard=module.SkipCard,card;card=vastConfig.tag_type&&"skip"===vastConfig.tag_type?new SkipCard(vastConfig,options):new ChoiceCard(vastConfig,options),self.stop=function(){card.closeAd()},self.pause=function(){card.pauseAd()},self.resume=function(){card.resumeAd()},card.adListener=signalAdEvent,options.trackingObserver&&(card.trackingObserver=options.trackingObserver,window.document.addEventListener("containerToWhakapapa",(function(e){var t=e.detail.value,n=t.category,r=t.name,i=t.value;options.trackingObserver(n,r,i)}),!1)),card.startAd(parentElement);var _options2=options,whakapapa=_options2.whakapapa;return whakapapa&&(self.inject=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return card.inject(t)},self.wait=function(e){return card.wait(e)},self.getCurrentFocusPath=function(){return card.getCurrentFocusPath()}),card.adOverlay})).catch((function(e){signalAndThrowAdError(e)}))}this.fallbackAdvertisingId=options.fallbackAdvertisingId,this.fallbackAdvertisingId||(this.fallbackAdvertisingId=localStorage.getItem(FALLBACK_ADVERTISING_ID),this.fallbackAdvertisingId||(this.fallbackAdvertisingId=Object(uuid__WEBPACK_IMPORTED_MODULE_29__.v4)(),localStorage.setItem(FALLBACK_ADVERTISING_ID,this.fallbackAdvertisingId))),this.userAdvertisingId=options.userAdvertisingId||null,this.subscribe=function(e,t){if("function"==typeof e&&(t=e,e=null),"function"!=typeof t)throw new TypeError("subscribe: callback function not specified");if(e){var n=callbacksWithout(t,adListenersByType[e]||[]);n.push(t),adListenersByType[e]=n}else(generalAdListeners=callbacksWithout(t,generalAdListeners)).push(t)},this.unsubscribe=function(e,t){if("function"==typeof e&&(t=e,e=null),"function"!=typeof t)throw new TypeError("unsubscribe: callback function not specified");if(e)adListenersByType[e]=callbacksWithout(t,adListenersByType[e]);else{generalAdListeners=callbacksWithout(t,generalAdListeners);var n={};for(var r in adListenersByType)Object.prototype.hasOwnProperty.call(adListenersByType,r)&&(n[r]=callbacksWithout(t,adListenersByType[r]));adListenersByType=n}},"test"===_config__WEBPACK_IMPORTED_MODULE_26__.a.buildEnv&&(this._signalAdEvent=signalAdEvent,this._signalAdError=signalAdError,this._trackEvent=trackEvent,this._trackError=trackError,this._getErrorVastConfig=getErrorVastConfig,this._deviceCanRunTAR=deviceCanRunTAR),this.init=function(){var e=_config__WEBPACK_IMPORTED_MODULE_26__.a;return console.log("TruexAdRenderer init: using v".concat(e.version," ").concat(e.buildEnv," build from ").concat(e.buildDate)),getUserAdvertisingId().then(replaceNetworkUserIdInVastConfigUrl).then(fetchVastConfig).then((function(){return replaceNetworkUserIdInVastConfig(),self.vastConfig})).catch((function(e){signalAndThrowAdError(e)}))},this.start=function(e,t){if(e||(e=_this.vastConfig),e||signalAndThrowAdError("missing vastConfig arg"),_this.vastConfig=e,_this.currentStreamId=getStreamId(),_this.optOutTrackingEnabled=options.optOutTrackingEnabled||isUserOptOutCappingEnabled(),_this.optOutTrackingEnabled&&loadOptOutStatus(),_this.userOptOutCount>=1||_this.timeoutOptOutCount>=2)return trackEvent(_this.trackingCategory+"_opt_out","player_no_load"),void signalAdEvent({type:truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a.noAdsAvailable});if(!options.deviceCanRunTAR&&!deviceCanRunTAR())return trackEvent(_this.trackingCategory+"_unsupported","player_no_load"),void signalAdEvent({type:truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a.noAdsAvailable});t||(t=document.documentElement);var n=options,r=n.choiceCardUrlOverride,i=n.containerUrlOverride;if(i){var a=decodeURIComponent(_this.vastConfig.ads[0].window_url),o=a.slice(a.indexOf("#")+1),s="".concat(i,"#").concat(encodeURIComponent(o));_this.vastConfig.ads[0].window_url=s}return loadChoiceCard(getChoiceCardUrl(r),e,t)},this.stop=function(){},this.pause=function(){},this.resume=function(){};var _options3=options,whakapapa=_options3.whakapapa;whakapapa&&(self.config=_config__WEBPACK_IMPORTED_MODULE_26__.a,self.getChoiceCardUrl=getChoiceCardUrl)};TruexAdRenderer.adEvents=truex_shared_events_txm_ad_events__WEBPACK_IMPORTED_MODULE_27__.a,__webpack_exports__.default=TruexAdRenderer},function(e,t,n){var r=n(0),i=n(47),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},function(e,t,n){var r=n(16),i=n(34),a=n(78),o=n(4);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(6),i=n(8),a=n(4),o=n(80);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(11),i=n(34).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(1),i=n(3),a=n(27),o=n(5),s=n(20),u=n(14),c=n(87),l=n(84),d=n(55),f=n(2),p=n(56),h=f("isConcatSpreadable"),v=p>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),m=d("concat"),g=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!v||!m},{concat:function(e){var t,n,r,i,a,o=s(this),d=l(o,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(g(a=-1===t?o:arguments[t])){if(f+(i=u(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,f++)n in a&&c(d,f,a[n])}else{if(f>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,f++,a)}return d.length=f,d}})},function(e,t,n){"use strict";var r=n(1),i=n(53).filter,a=n(55),o=n(37),s=a("filter"),u=o("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(2),i=n(28),a=n(8),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),e.exports=function(e){s[o][e]=!0}},function(e,t,n){"use strict";var r=n(92).IteratorPrototype,i=n(28),a=n(25),o=n(36),s=n(29),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=u,e}},function(e,t,n){var r=n(5);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){"use strict";var r=n(1),i=n(5),a=n(27),o=n(77),s=n(14),u=n(11),c=n(87),l=n(2),d=n(55),f=n(37),p=d("slice"),h=f("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),m=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p||!h},{slice:function(e,t){var n,r,l,d=u(this),f=s(d.length),p=o(e,f),h=o(void 0===t?f:t,f);if(a(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return m.call(d,p,h);for(r=new(void 0===n?Array:n)(g(h-p,0)),l=0;p<h;p++,l++)p in d&&c(r,l,d[p]);return r.length=l,r}})},function(e,t,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(61),i=n(95);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(0),i=n(62).trim,a=n(39),o=r.parseFloat,s=1/o(a+"-0")!=-1/0;e.exports=s?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o},function(e,t,n){var r=n(0);e.exports=r.Promise},function(e,t,n){var r=n(10);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(4),i=n(136),a=n(14),o=n(54),s=n(137),u=n(138),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,d){var f,p,h,v,m,g,y,b=o(t,n,l?2:1);if(d)f=e;else{if("function"!=typeof(p=s(e)))throw TypeError("Target is not iterable");if(i(p)){for(h=0,v=a(e.length);v>h;h++)if((m=l?b(r(y=e[h])[0],y[1]):b(e[h]))&&m instanceof c)return m;return new c(!1)}f=p.call(e)}for(g=f.next;!(y=g.call(f)).done;)if("object"==typeof(m=u(f,b,y.value,l))&&m&&m instanceof c)return m;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r=n(2),i=n(29),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},function(e,t,n){var r=n(95),i=n(29),a=n(2)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(4);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r,i,a,o,s,u,c,l,d=n(0),f=n(30).f,p=n(12),h=n(99).set,v=n(100),m=d.MutationObserver||d.WebKitMutationObserver,g=d.process,y=d.Promise,b="process"==p(g),_=f(d,"queueMicrotask"),A=_&&_.value;A||(r=function(){var e,t;for(b&&(e=g.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},b?o=function(){g.nextTick(r)}:m&&!v?(s=!0,u=document.createTextNode(""),new m(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,o=function(){l.call(c,r)}):o=function(){h.call(d,r)}),e.exports=A||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(4),i=n(5),a=n(101);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(5),i=n(60);e.exports=function(e,t,n){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(e,o),e}},function(e,t,n){"use strict";var r="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,a="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&a&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=h(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=v(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=d(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var n,r,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function A(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},y.call(_.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];S.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var w=self.DOMException;try{new w}catch(e){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function T(e,t){return new Promise((function(n,r){var i=new _(e,t);if(i.signal&&i.signal.aborted)return r(new w("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new S(i,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new w("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&a&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}T.polyfill=!0,self.fetch||(self.fetch=T,self.Headers=p,self.Request=_,self.Response=S)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(1),i=n(44),a=n(11),o=n(57),s=[].join,u=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},function(e,t,n){n(1)({target:"Array",stat:!0},{isArray:n(27)})},function(e,t,n){var r=n(1),i=n(150);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(0),i=n(62).trim,a=n(39),o=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==o(a+"08")||22!==o(a+"0x16");e.exports=u?function(e,t){var n=i(String(e));return o(n,t>>>0||(s.test(n)?16:10))}:o},function(e,t,n){"use strict";var r=n(41),i=n(4),a=n(13),o=n(152),s=n(42);r("search",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(1),i=n(62).trim;r({target:"String",proto:!0,forced:n(154)("trim")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(3),i=n(39);e.exports=function(e){return r((function(){return!!i[e]()||""!=""[e]()||i[e].name!==e}))}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function l(){}function d(){}function f(){}var p={};p[i]=function(){return this};var h=Object.getPrototypeOf,v=h&&h(h(E([])));v&&v!==t&&n.call(v,i)&&(p=v);var m=f.prototype=l.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(c.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return d.prototype=m.constructor=f,f.constructor=d,f[o]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),m[o]="Generator",m[i]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){n(1)({target:"Function",proto:!0},{bind:n(111)})},function(e,t,n){n(1)({target:"Object",stat:!0,sham:!n(6)},{create:n(28)})},function(e,t,n){var r=n(1),i=n(3),a=n(20),o=n(59),s=n(93);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(60)})},function(e,t,n){var r=n(1),i=n(16),a=n(21),o=n(4),s=n(5),u=n(28),c=n(111),l=n(3),d=i("Reflect","construct"),f=l((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),p=!l((function(){d((function(){}))})),h=f||p;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(p&&!f)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,l=u(s(i)?i:Object.prototype),h=Function.apply.call(e,l,t);return s(h)?h:l}})},function(e,t,n){var r,i,a=n(112),o=n(113),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){var p=a();null==d&&(d=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=i=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=v,i=f;var g=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=h/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var b=0;b<6;++b)l[c+b]=d[b];return t||o(l)}},function(e,t,n){var r=n(112),i=n(113);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}}])},module.exports=e()},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ajaxDelegate=void 0;var i=n(931),a=n(39),o=r(n(44));t.ajaxDelegate=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0);var r=o.default.getState();a.isNoYoEnabled(r)&&(n.withCredentials=!0),n.onload=function(){var r=(new i.DOMParser).parseFromString(n.responseText,"application/xml"),a={responseText:n.responseText,responseXML:r,transport:{responseUrl:e,status:n.status}};try{t.onSuccess(a)}catch(e){console.warn("Error parsing Yospace response",e)}},n.onerror=function(){t.onFailure({status:n.status})},n.send()}},function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function a(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function u(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new d,a=n.domBuilder||new i,s=n.errorHandler,u=n.locator,l=n.xmlns||{},f=/\/x?html?$/.test(t),p=f?c.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&a.setDocumentLocator(u),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},a=e instanceof Function;function s(t){var i=e[t];!i&&a&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+o(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,a,u),r.domBuilder=n.domBuilder||a,f&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?r.parse(e,l,p):r.errorHandler.error("invalid doc source"),a.doc},i.prototype={startDocument:function(){this.doc=(new p).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;u(this,o),this.currentElement=o,this.locator&&a(this.locator,o);for(var c=0;c<s;c++){e=r.getURI(c);var l=r.getValue(c),d=(n=r.getQName(c),i.createAttributeNS(e,n));this.locator&&a(r.getLocator(c),d),d.value=d.nodeValue=l,o.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&a(this.locator,n),u(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&a(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&a(this.locator,r),u(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&a(this.locator,i),u(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw new f(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var c=n(932),l=n(933),d=l.XMLReader,f=l.ParseError,p=t.DOMImplementation=n(377).DOMImplementation;t.XMLSerializer=n(377).XMLSerializer,t.DOMParser=r,t.__DOMHandler=i},function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}},function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function o(){}function s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,r,i,a){function o(e,t,r){e in n.attributeNames&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var s,u=++t,c=0;;){var l=e.charAt(u);switch(l){case"=":if(1===c)s=e.slice(t,u),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(a.warning('attribute value must after "="'),s=e.slice(t,u)),t=u+1,!((u=e.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");o(s,d=e.slice(t,u).replace(/&#?\w+;/g,i),t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');o(s,d=e.slice(t,u).replace(/&#?\w+;/g,i),t),a.warning('attribute "'+s+'" missed start quot('+l+")!!"),t=u+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case 0:n.setTagName(e.slice(t,u));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,u)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===c&&(d=s),4==c?(a.warning('attribute "'+d+'" missed quot(")!'),o(s,d.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),o(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return u;case"":l=" ";default:if(l<=" ")switch(c){case 0:n.setTagName(e.slice(t,u)),c=6;break;case 1:s=e.slice(t,u),c=2;break;case 4:var d=e.slice(t,u).replace(/&#?\w+;/g,i);a.warning('attribute "'+d+'" missed quot(")!!'),o(s,d,t);case 5:c=6}else switch(c){case 2:n.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&s.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),o(s,s,t),t=u,c=1;break;case 5:a.warning('attribute space is required"'+s+'"!!');case 6:c=1,t=u;break;case 3:c=4,t=u;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function c(e,t,n){for(var r=e.tagName,i=null,a=e.length;a--;){var o=e[a],s=o.qName,u=o.value;if((p=s.indexOf(":"))>0)var c=o.prefix=s.slice(0,p),l=s.slice(p+1),d="xmlns"===c&&l;else l=s,c=null,d="xmlns"===s&&"";o.localName=l,!1!==d&&(null==i&&(i={},f(n,n={})),n[d]=i[d]=u,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,u))}for(a=e.length;a--;){(c=(o=e[a]).prefix)&&("xml"===c&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==c&&(o.uri=n[c||""]))}var p;(p=r.indexOf(":"))>0?(c=e.prefix=r.slice(0,p),l=e.localName=r.slice(p+1)):(c=null,l=e.localName=r);var h=e.uri=n[c||""];if(t.startElement(h,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(h,l,r),i)for(c in i)t.endPrefixMapping(c)}function l(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function d(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function f(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var l=a[o-1];return n.startDTD(s,u,c),n.endDTD(),l.index+l[0].length}}return-1}function h(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function v(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),f(t,t={}),function(e,t,n,r,i){function o(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function f(t){if(t>E){var n=e.substring(E,t).replace(/&#?\w+;/g,o);_&&m(E),r.characters(n,0,t-E),E=t}}function m(t,n){for(;t>=y&&(n=b.exec(e));)g=n.index,y=g+n[0].length,_.lineNumber++;_.columnNumber=t-g+1}var g=0,y=0,b=/.*(?:\r\n?|\n)|.*$/g,_=r.locator,A=[{currentNSMap:t}],S={},E=0;for(;;){try{var w=e.indexOf("<",E);if(w<0){if(!e.substr(E).match(/^\s*$/)){var T=r.doc,P=T.createTextNode(e.substr(E));T.appendChild(P),r.currentElement=P}return}switch(w>E&&f(w),e.charAt(w+1)){case"/":var C=e.indexOf(">",w+3),O=e.substring(w+2,C),k=A.pop();C<0?(O=e.substring(w+2).replace(/[\s<].*/,""),i.error("end tag name: "+O+" is not complete:"+k.tagName),C=w+1+O.length):O.match(/\s</)&&(O=O.replace(/[\s<].*/,""),i.error("end tag name: "+O+" maybe not complete"),C=w+1+O.length);var I=k.localNSMap,x=k.tagName==O;if(x||k.tagName&&k.tagName.toLowerCase()==O.toLowerCase()){if(r.endElement(k.uri,k.localName,O),I)for(var D in I)r.endPrefixMapping(D);x||i.fatalError("end tag name: "+O+" is not match the current start tagName:"+k.tagName)}else A.push(k);C++;break;case"?":_&&m(w),C=h(e,w,r);break;case"!":_&&m(w),C=p(e,w,r,i);break;default:_&&m(w);var R=new v,M=A[A.length-1].currentNSMap,N=(C=u(e,w,R,M,o,i),R.length);if(!R.closed&&d(e,C,R.tagName,S)&&(R.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),_&&N){for(var L=s(_,{}),j=0;j<N;j++){var B=R[j];m(B.offset),B.locator=s(_,{})}r.locator=L,c(R,r,M)&&A.push(R),r.locator=_}else c(R,r,M)&&A.push(R);"http://www.w3.org/1999/xhtml"!==R.uri||R.closed?C++:C=l(e,C,R.tagName,o,r)}}catch(e){if(e instanceof a)throw e;i.error("element parse error: "+e),C=-1}C>E?E=C:f(Math.max(w,E)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},v.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=o,t.ParseError=a},function(e,t,n){"use strict";n.r(t),t.default=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=c(n(313)),d=n(9),f=n(2),p=n(8),h=c(n(325)),v=n(57),m=s(n(149)),g=c(n(13)),y=c(n(936)),b=c(n(288)),_=s(n(247)),A=n(53),S=function(e){function t(){var t=e.call(this,"ConfigStack")||this;return t.ajv=new l.default({useDefaults:!0}),t.validate=t.ajv.compile(h.default),t.isSingleton=function(){return!1},t.getOptions=function(){return{reducerMap:{configStack:b.default},sagas:[t.register]}},t.createDefaultConfigFromSchema=function(e){var n={};return e&&"object"==typeof e&&e.properties?(Object.keys(e.properties).forEach((function(r){var i=e.properties[r].type,a=e.properties[r].default;if(Array.isArray(i)&&(0===i.length?console.warn("ERROR: Schema has empty array for type. Key: ",r):i.includes("null")?(i="null",n[r]=null):i=i[0]),void 0!==a)n[r]=a;else switch(i){case"object":n[r]=t.createDefaultConfigFromSchema(e.properties[r]);break;case"array":n[r]=[];break;case"null":n[r]=null}})),n):n},t.register=t.register.bind(t),t.checkIfMediaIdChanged=t.checkIfMediaIdChanged.bind(t),t.handleCombineConfigLayers=t.handleCombineConfigLayers.bind(t),t.handleReceivedClientConfig=t.handleReceivedClientConfig.bind(t),t.handleSetLayerConfig=t.handleSetLayerConfig.bind(t),t.handleSetLayerOptions=t.handleSetLayerOptions.bind(t),t.handleStartApp=t.handleStartApp.bind(t),t.parseSchema=t.parseSchema.bind(t),t}return i(t,e),t.prototype.register=function(){return u(this,(function(e){switch(e.label){case 0:return[4,d.all([d.takeEvery(f.coreActionCreators.startApp,this.handleStartApp),d.takeEvery(f.configStackActionCreators.combineConfigLayers,this.handleCombineConfigLayers),d.takeEvery(f.configStackActionCreators.receivedClientConfig,this.handleReceivedClientConfig),d.takeEvery(f.configStackActionCreators.setLayerConfig,this.handleSetLayerConfig),d.takeEvery(f.configStackActionCreators.setLayerOptions,this.handleSetLayerOptions)])];case 1:return e.sent(),[2]}}))},t.prototype.handleSetLayerOptions=function(e){var t=e.payload.layer;return u(this,(function(e){switch(e.label){case 0:return[4,m.addTask(f.configStackActionCreators.combineConfigLayers,t)];case 1:return e.sent(),[2]}}))},t.prototype.handleStartApp=function(){return u(this,(function(e){switch(e.label){case 0:return[4,m.create(f.configStackActionCreators.combineConfigLayers)];case 1:return e.sent(),[4,d.put(f.configStackActionCreators.setLayerOptions({layer:A.ConfigStackLayer.DEFAULT,isResetOnNewContent:!1,priority:0}))];case 2:return e.sent(),[4,d.put(f.configStackActionCreators.setLayerOptions({layer:A.ConfigStackLayer.CLIENT,isResetOnNewContent:!1,priority:50}))];case 3:return e.sent(),[4,this.parseSchema()];case 4:return e.sent(),[2]}}))},t.prototype.handleCombineConfigLayers=function(){var e,t,n,r,i,a;return u(this,(function(o){switch(o.label){case 0:return i=(r=_).all,[4,d.select()];case 1:return e=i.apply(r,[o.sent()]),t=e.layers,n=e.priorities,a={},Object.keys(n).sort((function(e,t){return parseInt(e)-parseInt(t)})).forEach((function(e){var r=n[e];a=y.default(a,t[r].config)})),this.validate(a)||console.warn("WARNING: Merged configs results in a config that doesn't pass schema test. "+JSON.stringify(this.validate.errors)),[4,d.put(f.configurationActionCreators.loadConfig(a))];case 2:return o.sent(),[2]}}))},t.prototype.handleSetLayerConfig=function(e){var t=e.payload,n=t.layer,r=t.config;return u(this,(function(e){switch(e.label){case 0:return n!==A.ConfigStackLayer.CLIENT?[3,3]:[4,this.checkIfMediaIdChanged(r)];case 1:return e.sent(),[4,d.put(f.configStackActionCreators.receivedClientConfig())];case 2:e.sent(),e.label=3;case 3:return[4,m.isComplete(f.configStackActionCreators.combineConfigLayers,n)];case 4:return e.sent()?[3,6]:[4,m.completeTask(f.configStackActionCreators.combineConfigLayers,n)];case 5:e.sent(),e.label=6;case 6:return[2]}}))},t.prototype.checkIfMediaIdChanged=function(e){var t,n,r,i,a,o,s,c,l;return u(this,(function(u){switch(u.label){case 0:return[4,d.select(p.configurationSelectors.self)];case 1:return t=u.sent().metadata,n=null==t?void 0:t.id,(null===(l=e.metadata)||void 0===l?void 0:l.id)===n?[3,8]:(a=(i=_).all,[4,d.select()]);case 2:r=a.apply(i,[u.sent()]).layers,o=0,s=Object.keys(r),u.label=3;case 3:return o<s.length?(c=s[o],r[c].isResetOnNewContent?[4,f.configStackActionCreators.resetLayerConfig(c)]:[3,6]):[3,7];case 4:return u.sent(),[4,m.resetTask(f.configStackActionCreators.combineConfigLayers,c)];case 5:u.sent(),u.label=6;case 6:return o++,[3,3];case 7:return[3,11];case 8:return[4,f.configStackActionCreators.resetLayerConfig(A.ConfigStackLayer.CLIENT)];case 9:return u.sent(),[4,m.resetTask(f.configStackActionCreators.combineConfigLayers,A.ConfigStackLayer.CLIENT)];case 10:u.sent(),u.label=11;case 11:return[4,d.put(f.coreActionCreators.updateGateStatus({actionType:f.configStackActionCreators.combineConfigLayers.toString(),status:v.GateStatus.WAITING}))];case 12:return u.sent(),[2]}}))},t.prototype.handleReceivedClientConfig=function(){var e,t;return u(this,(function(n){switch(n.label){case 0:return t=(e=p.coreSelectors).gateStatus,[4,d.select()];case 1:return t.apply(e,[n.sent(),f.configStackActionCreators.combineConfigLayers])!==v.GateStatus.INITIALIZING?[3,3]:[4,m.activate(f.configStackActionCreators.combineConfigLayers)];case 2:n.sent(),n.label=3;case 3:return[2]}}))},t.prototype.parseSchema=function(){var e;return u(this,(function(t){switch(t.label){case 0:return this.ajv.validateSchema(h.default)?[3,2]:(console.warn("Invalid schema: ",this.ajv.errors),[4,d.put(f.configStackActionCreators.failedSchemaValidation())]);case 1:t.sent(),t.label=2;case 2:return[4,d.put(f.configStackActionCreators.setSchema(h.default))];case 3:return t.sent(),e=this.createDefaultConfigFromSchema(h.default),[4,d.put(f.configStackActionCreators.setLayerConfig({layer:A.ConfigStackLayer.DEFAULT,config:e}))];case 4:return t.sent(),[4,m.completeTask(f.configStackActionCreators.combineConfigLayers,A.ConfigStackLayer.DEFAULT)];case 5:return t.sent(),[2]}}))},t}(g.default);t.default=S},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(31)),o=function(e,t,n,i){if(void 0===n&&(n=2),void 0===i&&(i=1),!a.default.isPlainObject(e))return console.warn("WARNING: Trying to merge configs and base config is not an object, returning {}"),{};if(!a.default.isPlainObject(t))return console.warn("WARNING: Trying to merge configs and override config is not an object, returning base config"),e;var s=r({},e);return Object.keys(t).forEach((function(e){void 0!==s[e]&&a.default.isPlainObject(t[e])&&i<n?s[e]=o(s[e],t[e],n,i+1):s[e]=t[e]})),s};t.default=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(289)),u=function(e){function t(){var t=e.call(this,"Configuration")||this;return t.getOptions=function(){return{reducerMap:{configuration:s.default},sagas:[]}},t.isSingleton=function(){return!0},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(53),l=o(n(13)),d=o(n(939)),f=function(e){function t(){var t=e.call(this,"PlatformConfig")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.configStackActionCreators.setLayerOptions({isResetOnNewContent:!1,layer:c.ConfigStackLayer.PLATFORM,priority:20}))];case 1:return e.sent(),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:c.ConfigStackLayer.PLATFORM,config:d.default}))];case 2:return e.sent(),[2]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp)])];case 1:return e.sent(),[2]}}))},t}(l.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(290)),u=a(n(941)),c=a(n(942)),l=function(e){function t(){var t=e.call(this,"ControlsPlugin")||this;return t.getOptions=function(){return{reducerMap:{controls:s.default},sagas:[c.default,u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=i(n(32)),u=n(7);function c(){return r(this,(function(e){return u.environmentUtils.isDesktopWeb()&&s.default.start(),[2]}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.playerActionCreators.grantInitialPlay,c)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(122)),c=n(41),l=i(n(150));function d(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.inputActionCreators.navigateViaLeftAndRightArrow())];case 1:return e.sent(),[2]}}))}function f(){var e,t;return r(this,(function(n){switch(n.label){case 0:return t=(e=s.playerSelectors).all,[4,a.select()];case 1:return t.apply(e,[n.sent()]).isPreviewing?[4,a.put(o.playerActionCreators.endPreview())]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}function p(){var e;return r(this,(function(t){return(e=u.default.get(c.FocusIDs.largePlayPauseButton))&&l.default.focus(e),[2]}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.controlsActionCreators.activateControls,d),a.takeEvery(o.controlsActionCreators.deactivateControls,f),a.takeEvery(o.controlsActionCreators.refreshFocus,p)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(200)),u=a(n(944)),c=function(e){function t(){var t=e.call(this,"Core")||this;return t.getOptions=function(){return{reducerMap:{core:s.default},sagas:[u.default]}},t.isSingleton=function(){return!0},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),s=a(n(945)),u=n(2),c=n(8),l=a(n(32)),d=n(57),f=a(n(75)),p=n(35),h=a(n(212)),v=a(n(120)),m=n(60),g=n(28),y=n(153),b=n(101),_=a(n(68)),A=a(n(31)),S=a(n(946)),E=a(n(947)),w=a(n(948));function T(){var e,t;return i(this,(function(n){switch(n.label){case 0:return t=(e=c.coreSelectors).all,[4,o.select()];case 1:return t.apply(e,[n.sent()]).isSeekingDisabled?[4,o.put(u.coreActionCreators.enableSeeking())]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}function P(){var e,t,n,r,a,s,l,f;return i(this,(function(i){switch(i.label){case 0:return[4,o.call(y.getItemFromAsyncStorage,d.Preference.SELECTED_QUALITY,null)];case 1:return e=i.sent(),[4,o.put(u.coreActionCreators.loadPreference({preference:d.Preference.SELECTED_QUALITY,value:e}))];case 2:return i.sent(),[4,o.call(y.getItemFromAsyncStorage,d.Preference.IS_UP_NEXT_AUTOPLAY_ENABLED,null)];case 3:return t=i.sent(),[4,o.select(c.configurationSelectors.self)];case 4:return n=i.sent().player,r=null==n?void 0:n.upnext_autoplay,a=null===(f=null!=r?r:t)||void 0===f||f,A.default.isNil(r)||r===t?[3,6]:[4,D({payload:{preference:d.Preference.IS_UP_NEXT_AUTOPLAY_ENABLED,value:r}})];case 5:i.sent(),i.label=6;case 6:return[4,o.put(u.coreActionCreators.loadPreference({preference:d.Preference.IS_UP_NEXT_AUTOPLAY_ENABLED,value:a}))];case 7:return i.sent(),[4,o.call(y.getItemFromAsyncStorage,d.Preference.VOLUME,1)];case 8:return s=i.sent(),[4,o.put(u.coreActionCreators.loadPreference({preference:d.Preference.VOLUME,value:s}))];case 9:return i.sent(),[4,o.call(y.getItemFromAsyncStorage,d.Preference.IS_MUTED,!1)];case 10:return l=i.sent(),[4,o.put(u.coreActionCreators.loadPreference({preference:d.Preference.IS_MUTED,value:l}))];case 11:return i.sent(),[2]}}))}function C(){return i(this,(function(e){switch(e.label){case 0:return[4,o.put(u.coreActionCreators.updatePreference({preference:d.Preference.IS_MUTED,value:!0}))];case 1:return e.sent(),[2]}}))}function O(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,o.put(u.coreActionCreators.updatePreference({preference:d.Preference.IS_MUTED,value:!1}))];case 1:return n.sent(),t=(e=c.coreSelectors).all,[4,o.select()];case 2:return 0!==t.apply(e,[n.sent()]).preferences.volume?[3,4]:[4,o.put(u.coreActionCreators.updateVolume(.1))];case 3:n.sent(),n.label=4;case 4:return[2]}}))}function k(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return a=(r=c.coreSelectors).all,[4,o.select()];case 1:return e=a.apply(r,[i.sent()]),t=e.volume,n=e.isMuted,[4,o.put(u.coreActionCreators.updatePreference({preference:d.Preference.VOLUME,value:t}))];case 2:return i.sent(),0!==t?[3,4]:[4,o.put(u.coreActionCreators.mute())];case 3:return i.sent(),[3,7];case 4:return t>0&&n?[4,o.put(u.coreActionCreators.resetUnmuteVolume())]:[3,7];case 5:return i.sent(),[4,o.put(u.coreActionCreators.unmute())];case 6:i.sent(),i.label=7;case 7:return[2]}}))}function I(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,o.select(c.playerSelectors.activeTextTrack)];case 1:return e=n.sent(),[4,x(t=(null==e?void 0:e.language)?_.default(e.language).code:g.TEXT_TRACK_LANGUAGE_OFF)];case 2:return n.sent(),[4,o.put(u.messageBusActionCreators.sendMessageToClient({type:m.MessageType.UPDATE_TEXT_TRACK_LANGUAGE,payload:{language:t}}))];case 3:return n.sent(),[2]}}))}function x(e){var t,n,a,s,u,l,d,v;return i(this,(function(i){switch(i.label){case 0:return t=f.default.findInstance(h.default),[4,o.call(t.getToken)];case 1:return n=i.sent(),a=n.token,(s=n.error)?[2,s]:[4,o.select(c.configurationSelectors.self)];case 2:return u=i.sent().organization,l=u.apiDomain,d=r(r({},b.basePatchOptions),{headers:r(r({},b.basePatchOptions.headers),{Authorization:"Bearer "+a}),body:JSON.stringify({preferred_content_subtitle_language:e})}),v="https://"+l+p.EllationAPIEndpoints.ACCOUNT_ME_PROFILE,[4,o.call(b.fetchUrl,v,d)];case 3:return[2,i.sent()]}}))}function D(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return t=r.preference,n=r.value,[4,o.call(y.setItemInAsyncStorage,t,n)];case 1:return e.sent(),[2]}}))}function R(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,o.select(c.configurationSelectors.self)];case 1:return e=n.sent().previous,t=A.default.get(e,"metadata.id"),[4,o.put(u.contentLifecycleActionCreators.unloadContent(t))];case 2:return n.sent(),[4,o.take(u.contentLifecycleActionCreators.completeUnloadContent)];case 3:return n.sent(),[4,o.put(u.messageBusActionCreators.sendMessageToClient({type:m.MessageType.CLIENT_PLAYER_EXIT}))];case 4:return n.sent(),[2]}}))}function M(){return i(this,(function(e){return l.default.destroy(),v.default.destroy(),[2]}))}function N(e){var t,n,r=e.payload;return i(this,(function(e){switch(e.label){case 0:return n=(t=c.coreSelectors).all,[4,o.select()];case 1:return n.apply(t,[e.sent()]).error?[3,4]:[4,o.put(u.coreActionCreators.prepareLogDump(s.default()))];case 2:return e.sent(),[4,o.put(u.coreActionCreators.error(r))];case 3:e.sent(),e.label=4;case 4:return[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.all([o.fork(S.default),o.fork(E.default),o.takeEvery(u.contentLifecycleActionCreators.loadContent,P),o.takeEvery(u.coreActionCreators.updatePreference,D),o.fork(w.default),o.takeEvery(u.contentLifecycleActionCreators.unloadContent,T),o.takeEvery(u.coreActionCreators.requestExit,R),o.takeEvery(u.coreActionCreators.exit,M),o.takeEvery(u.coreActionCreators.mute,C),o.takeEvery(u.coreActionCreators.unmute,O),o.takeEvery(u.coreActionCreators.updateVolume,k),o.takeEvery(u.coreActionCreators.textTrackMenuEntryUpdated,I),o.takeEvery([u.mediaActionCreators.error,u.playerActionCreators.error],N)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){var r;!function(){function n(e){return(e=e.toString(16)).length<2&&(e="0"+e),e}function i(){var e=function(){try{return Array.from((window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16)))}catch(t){for(var e=[];e.length<16;)e.push(256*Math.random()&255);return e}}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,(e=e.map(n).join("").match(/(.{8})(.{4})(.{4})(.{4})(.{12})/)).shift(),e.join("-")}var a=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;i.valid=function(e){return a.test(e)},window&&(window.uuid4=i),e.exports&&(e.exports=i),void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(2),o={};function s(e,t){return r(this,(function(n){switch(n.label){case 0:n.trys.push([0,,5,6]),n.label=1;case 1:return[4,i.delay(1e3*t)];case 2:return n.sent(),[4,i.put(a.coreActionCreators.fireInterval(e))];case 3:return n.sent(),[3,1];case 4:return[3,6];case 5:return[7];case 6:return[2]}}))}function u(e){var t,n,a=e.payload,u=a.name,c=a.interval;return r(this,(function(e){switch(e.label){case 0:return o[u]?[2,console.warn(u+" interval task already started")]:c?(t=o,n=u,[4,i.fork(s,u,c)]):[2,console.warn(u+" interval not set")];case 1:return t[n]=e.sent(),[2]}}))}function c(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return o[t]?[4,i.cancel(o[t])]:(console.warn(t+" interval task already stopped"),[2]);case 1:return e.sent(),o[t]=void 0,[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeEvery(a.coreActionCreators.startIntervalTask,u),i.takeEvery(a.coreActionCreators.stopIntervalTask,c)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(50),u=n(9),c=n(7),l=a(n(200)),d=a(n(309));function f(){return s.eventChannel((function(e){return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}))}function p(){return s.eventChannel((function(e){return window.addEventListener("beforeunload",e),function(){document.removeEventListener("beforeunload",e)}}))}function h(){var e,t;return o(this,(function(n){switch(n.label){case 0:return c.environmentUtils.isIosWeb()?(e="player0",[3,3]):[3,1];case 1:return[4,u.select(d.property,"containerId")];case 2:e=n.sent(),n.label=3;case 3:return(t=document.getElementById(e)).requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitSetPresentationMode&&"function"==typeof t.webkitSetPresentationMode&&t.webkitSetPresentationMode("fullscreen"),[2]}}))}function v(){return o(this,(function(e){return document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),[2]}))}function m(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,9,11]),[4,u.call(f)];case 1:e=t.sent(),t.label=2;case 2:return[4,u.take(e)];case 3:return t.sent(),!!document.fullscreenElement?[4,u.put(l.enterFullscreen())]:[3,5];case 4:return t.sent(),[3,7];case 5:return[4,u.put(l.exitFullscreen())];case 6:t.sent(),t.label=7;case 7:return[3,2];case 8:return[3,11];case 9:return[4,u.cancelled()];case 10:return t.sent()&&e.close(),[7];case 11:return[2]}}))}function g(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,6,8]),[4,u.call(p)];case 1:e=t.sent(),t.label=2;case 2:return[4,u.take(e)];case 3:return t.sent(),[4,u.put(l.forceExit())];case 4:return t.sent(),[3,2];case 5:return[3,8];case 6:return[4,u.cancelled()];case 7:return t.sent()&&e.close(),[7];case 8:return[2]}}))}function y(){return o(this,(function(e){switch(e.label){case 0:return[4,u.fork(m)];case 1:return e.sent(),[4,u.fork(g)];case 2:return e.sent(),[2]}}))}function b(){return o(this,(function(e){return[2]}))}function _(){return o(this,(function(e){return[2]}))}function A(){var e,t;return o(this,(function(n){switch(n.label){case 0:return t=(e=d).all,[4,u.select()];case 1:return t.apply(e,[n.sent()]).isFullscreen?[4,u.put(l.requestExitFullscreen())]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,u.put(l.requestEnterFullscreen())];case 4:n.sent(),n.label=5;case 5:return[2]}}))}t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(l.startApp,y),u.takeEvery(l.requestEnterFullscreen,h),u.takeEvery(l.requestExitFullscreen,v),u.takeEvery(l.enterFullscreen,b),u.takeEvery(l.exitFullscreen,_),u.takeEvery(l.toggleFullScreen,A)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptLoadStatus=void 0;var i,a=n(50),o=n(9),s=n(2);function u(e){var t,n,u,c,l=e.payload;return r(this,(function(e){switch(e.label){case 0:return t=l.name,n=l.url,u=function(e){return a.eventChannel((function(t){var n=function(){return t({type:i.LOAD})},r=function(e){return t({type:i.ERROR,error:e})},a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.addEventListener("load",n),a.addEventListener("error",r);var o=document.getElementsByTagName("script")[0];return o?(o.parentNode.insertBefore(a,o),function(){a.removeEventListener("load",n),a.removeEventListener("error",r)}):(setTimeout((function(){return r({message:"Can't insert script"})}),5),function(){})}))}(n),[4,o.take(u)];case 1:return c=e.sent(),u.close(),c.type!==i.LOAD?[3,3]:[4,o.put(s.coreActionCreators.loadedScript(t))];case 2:return e.sent(),[3,5];case 3:return[4,o.put(s.coreActionCreators.failedScript(t))];case 4:e.sent(),e.label=5;case 5:return[2]}}))}!function(e){e.ERROR="error",e.LOAD="load"}(i=t.ScriptLoadStatus||(t.ScriptLoadStatus={})),t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,o.all([o.takeEvery(s.coreActionCreators.loadScript,u)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(950)),u=function(e){function t(){var t=e.call(this,"Gate")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleUpdatedGateTask=t.handleActivateGate=void 0;var i=n(9),a=n(2),o=n(8),s=n(57);function u(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,c({payload:{actionType:t,name:"dummy"}})];case 1:return e.sent(),[2]}}))}function c(e){var t,n,u,c,l=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.coreSelectors.all)];case 1:return t=e.sent(),n=t.gateStatus,u=t.gateTasks,n[l.actionType]!==s.GateStatus.WAITING?[2]:(c=u[l.actionType]||[],c.every((function(e){return e.status===s.GateTaskStatus.COMPLETE}))?[4,i.put(a.coreActionCreators.passGate(l.actionType))]:[3,4]);case 2:return e.sent(),[4,i.put({type:l.actionType,payload:void 0,error:!1})];case 3:e.sent(),e.label=4;case 4:return[2]}}))}t.handleActivateGate=u,t.handleUpdatedGateTask=c,t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeEvery(a.coreActionCreators.activateGate,u),i.takeEvery([a.coreActionCreators.completeGateTask,a.coreActionCreators.removeGateTask],c)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=o(n(13)),l=n(27),d=n(58),f=o(n(22)),p=f.default.isWeb,h=f.default.isSafari,v=f.default.isYoui,m=f.default.getOS,g=function(e){function t(){var t=e.call(this,"StreamTypeDetection")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.getStreamType=function(){var e=m();if(p())return h()?[l.StreamType.HLS]:[l.StreamType.DASH];if(v())switch(e){case d.OS.ANDROID:case d.OS.PS4:case d.OS.PS5:case d.OS.ROKU:case d.OS.XBOX:return[l.StreamType.DASH];case d.OS.OSX:case d.OS.WINDOWS:return[l.StreamType.HLS]}else{if(e===d.OS.ANDROID)return[l.StreamType.DASH,l.StreamType.HLS];if(e===d.OS.IOS)return[l.StreamType.HLS]}return[l.StreamType.MP4]},t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.all([s.takeEvery(u.coreActionCreators.startApp,this.handleStartApp)])];case 1:return e.sent(),[2]}}))},t.prototype.handleStartApp=function(){var e;return a(this,(function(t){switch(t.label){case 0:return e=this.getStreamType(),[4,s.put(u.coreActionCreators.detectStreamType(e))];case 1:return t.sent(),[2]}}))},t}(c.default);t.default=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=n(2),c=n(53),l=o(n(13)),d=o(n(953)),f=function(e){function t(){var t=e.call(this,"DeveloperConfig")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.handleStartApp=t.handleStartApp.bind(t),t.register=t.register.bind(t),t}return i(t,e),t.prototype.handleStartApp=function(){return a(this,(function(e){switch(e.label){case 0:return[4,s.put(u.configStackActionCreators.setLayerOptions({isResetOnNewContent:!1,layer:c.ConfigStackLayer.DEVELOPER,priority:100}))];case 1:return e.sent(),[4,s.put(u.configStackActionCreators.setLayerConfig({layer:c.ConfigStackLayer.DEVELOPER,config:d.default}))];case 2:return e.sent(),[2]}}))},t.prototype.register=function(){return a(this,(function(e){switch(e.label){case 0:return[2];case 1:return e.sent(),[2]}}))},t}(l.default);t.default=f},function(e){e.exports=JSON.parse('{"infoOverlay":{"enabled":false},"reportProblem":{"enabled":false},"upNext":{"enabled":false}}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(955)),u=a(n(956)),c=function(e){function t(){var t=e.call(this,"MessageBusPlugin")||this;return t.getOptions=function(){return{sagas:[u.default,s.default]}},t.isSingleton=function(){return!0},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=n(2),l=n(8),d=n(53),f=s(n(120)),p=a(n(116)),h=n(60);function v(e){var t,n,r,i=e.payload;return o(this,(function(e){switch(e.label){case 0:switch(t=i.type,n=i.payload,t){case h.MessageType.ACTION_SEEK:return[3,1];case h.MessageType.ACTION_ENTER_FULLSCREEN:return[3,3];case h.MessageType.ACTION_EXIT_FULLSCREEN:return[3,5];case h.MessageType.ACTION_MUTE:return[3,7];case h.MessageType.ACTION_UNMUTE:return[3,9];case h.MessageType.ACTION_SET_VOLUME:return[3,11];case h.MessageType.ACTION_ACTIVATE_CONTROLS:return[3,13];case h.MessageType.ACTION_NAVIGATE_RETURN:return[3,15];case h.MessageType.ACTION_LOAD_CONFIG:return[3,18]}return[3,20];case 1:return[4,u.put(c.playerActionCreators.requestSeekToContentTime(n))];case 2:return[2,e.sent()];case 3:return[4,u.put(c.coreActionCreators.requestEnterFullscreen())];case 4:return[2,e.sent()];case 5:return[4,u.put(c.coreActionCreators.requestExitFullscreen())];case 6:return[2,e.sent()];case 7:return[4,u.put(c.coreActionCreators.mute())];case 8:return[2,e.sent()];case 9:return[4,u.put(c.coreActionCreators.unmute())];case 10:return[2,e.sent()];case 11:return[4,u.put(c.coreActionCreators.updateVolume(n))];case 12:return[2,e.sent()];case 13:return[4,u.put(c.controlsActionCreators.activateControls())];case 14:return[2,e.sent()];case 15:return[4,u.put(c.coreActionCreators.clientReturn())];case 16:return e.sent(),[4,u.put(c.controlsActionCreators.refreshFocus())];case 17:return[2,e.sent()];case 18:if(r=n,"string"==typeof n)try{r=JSON.parse(n)}catch(e){}return[4,u.put(c.configStackActionCreators.setLayerConfig({layer:d.ConfigStackLayer.CLIENT,config:r}))];case 19:return[2,e.sent()];case 20:return[2]}}))}function m(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:return n=(t=l.coreSelectors).all,[4,u.select()];case 1:return e=n.apply(t,[r.sent()]).volume,[4,u.call(y(h.MessageType.UPDATE_VOLUME,{volume:e}))];case 2:return r.sent(),[2]}}))}function g(e){var t;return o(this,(function(n){switch(n.label){case 0:return t=e.payload,[4,u.call(y(h.MessageType.UPDATE_TIME,{time:t}))];case 1:return n.sent(),[2]}}))}var y=function(e,t){return function(){return o(this,(function(n){return f.default.sendMessageToClient({type:e,payload:t}),[2]}))}};t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(p.receiveEvent,v),u.takeEvery(c.contentLifecycleActionCreators.readyToPlay,y(h.MessageType.READY_TO_PLAY)),u.takeEvery(c.contentLifecycleActionCreators.startedPlaying,y(h.MessageType.STARTED_PLAYING)),u.takeEvery(c.contentLifecycleActionCreators.stoppedPlaying,y(h.MessageType.STOPPED_PLAYING)),u.takeEvery(c.playerActionCreators.endSeek,y(h.MessageType.SEEKED)),u.takeEvery(c.coreActionCreators.updateVolume,m),u.takeEvery(c.coreActionCreators.enterFullscreen,y(h.MessageType.ENTER_FULLSCREEN)),u.takeEvery(c.coreActionCreators.exitFullscreen,y(h.MessageType.EXIT_FULLSCREEN)),u.takeEvery(c.coreActionCreators.startApp,y(h.MessageType.PLAYER_START)),u.takeEvery(c.coreActionCreators.mute,y(h.MessageType.MUTE)),u.takeEvery(c.coreActionCreators.unmute,y(h.MessageType.UNMUTE)),u.takeEvery(c.mediaActionCreators.updateTime,g)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=n(9),c=s(n(120)),l=a(n(116));function d(e){var t;return o(this,(function(n){return t=e.payload,c.default.sendMessageToClient(t),[2]}))}t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,u.all([u.takeEvery(l.sendMessageToClient,d)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t},u=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=n(3),d=n(9),f=n(2),p=c(n(44)),h=c(n(13)),v=n(7),m=s(n(958)),g=function(e){function t(){var t=e.call(this,"RokuEventsModulePlugin")||this;return t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!0},t.handleStartApp=function(){t.emitter=new l.NativeEventEmitter(l.NativeModules.RokuEventsModule),l.NativeModules.RokuEventsModule.startListening(),t.emitter.addListener("ROKU_EVENT",t.handleEvent)},t.handleRequestExit=function(){l.NativeModules.RokuEventsModule.stopListening(),t.emitter.removeAllListeners("ROKU_EVENT")},t.dispatchEvent=function(e){var t=null;switch(e.type){case"A/CAUGHT_AD_SLOT_ERROR":t=f.adsManagerActionCreators.caughtAdSlotError(e.payload);break;case"V/yospace/UPDATED_TIMELINE":t=f.yoSpaceActionCreators.updatedTimeline(e.payload);break;case"V/player/START_SEEK":t=f.playerActionCreators.startSeek();break;case"V/player/REQUEST_SEEK_TO_STREAM_TIME":t=f.playerActionCreators.requestSeekToStreamTime(e.payload);break;case"V/media/UPDATE_CONTENT_OFFSET":t=f.mediaActionCreators.updateContentOffset(e.payload);break;case"A/STARTED_AD_BREAK":t=f.adsManagerActionCreators.startedAdBreak(e.payload);break;case"A/STARTED_AD_SLOT":t=f.adsManagerActionCreators.startedAdSlot(e.payload);break;case"A/ENDED_AD_SLOT":t=f.adsManagerActionCreators.endedAdSlot(e.payload);break;case"A/ENDED_AD_BREAK":t=f.adsManagerActionCreators.endedAdBreak(e.payload);break;case"A/FINISHED_QUARTILE_25":t=f.adsManagerActionCreators.finishedQuartile25();break;case"A/FINISHED_QUARTILE_50":t=f.adsManagerActionCreators.finishedQuartile50();break;case"A/FINISHED_QUARTILE_75":t=f.adsManagerActionCreators.finishedQuartile75();break;case"ssai/REQUEST_VMAP":t=f.ssaiActionCreators.requestVmap(e.payload);break;case"ssai/RECEIVED_VMAP":t=f.ssaiActionCreators.receivedVmap(e.payload)}p.default.dispatch(t)},t.handleEvent=function(e){var n,r={payload:JSON.parse(e).data.payload};if(p.default.dispatch(m.receivedEvent(r)),null===(n=null==r?void 0:r.payload)||void 0===n?void 0:n.type){var i=JSON.parse(JSON.stringify(r.payload),(function(e,t){return"string"==typeof t&&t.includes("[FN]")?function(){return t.replace("[FN]","")}:t}));t.dispatchEvent(i)}},t.register=t.register.bind(t),t}return i(t,e),t.prototype.register=function(){return u(this,(function(e){switch(e.label){case 0:return v.environmentUtils.isRoku()?[4,d.all([d.takeEvery(f.coreActionCreators.startApp,this.handleStartApp),d.takeEvery(f.coreActionCreators.requestExit,this.handleRequestExit)])]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},t}(h.default);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.receivedEvent=void 0;var r=n(21);t.receivedEvent=r.createAction("V/ROKU_EVENTS_MODULE/RECEIVED_EVENT")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(293)),u=a(n(960)),c=function(e){function t(){var t=e.call(this,"InputChannel")||this;return t.getOptions=function(){return{reducerMap:{input:s.default},sagas:[u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handleClick=t.processKeyboardInput=void 0;var u,c,l=n(50),d=n(9),f=n(2),p=n(8),h=s(n(31)),v=a(n(378));function m(){return o(this,(function(e){return[2,l.eventChannel((function(e){return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}))]}))}function g(){var e,t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,6,8]),[4,d.call(m)];case 1:e=n.sent(),n.label=2;case 2:return[4,d.take(e)];case 3:return t=n.sent(),[4,d.call(y,t)];case 4:return n.sent(),[3,2];case 5:return[3,8];case 6:return[4,d.cancelled()];case 7:return n.sent()&&e.close(),[7];case 8:return[2]}}))}function y(e){var t,n,r,i;return o(this,(function(a){switch(a.label){case 0:return t=e.key,n=(e.ctrlKey?v.InputPrefix.ctrlKey:"")+(e.metaKey?v.InputPrefix.metaKey:"")+(e.shiftKey?v.InputPrefix.shiftKey:""),(r=h.default.get(v.default,n+t.toLowerCase()))?(e.preventDefault(),[4,d.put(f.inputActionCreators.inputNormalized(r))]):[3,2];case 1:return a.sent(),[3,4];case 2:return i=n&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey,[4,d.put(f.inputActionCreators.inputNotSupported((i?n:"")+t.toUpperCase()))];case 3:a.sent(),a.label=4;case 4:return[2]}}))}function b(){return l.eventChannel((function(e){return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}))}function _(){var e;return o(this,(function(t){switch(t.label){case 0:return t.trys.push([0,,6,8]),[4,d.call(b)];case 1:e=t.sent(),t.label=2;case 2:return[4,d.take(e)];case 3:return t.sent(),[4,A()];case 4:return t.sent(),[3,2];case 5:return[3,8];case 6:return[4,d.cancelled()];case 7:return t.sent()&&e.close(),[7];case 8:return[2]}}))}function A(){return o(this,(function(e){switch(e.label){case 0:return[4,d.select(p.controlsSelectors.all)];case 1:return e.sent().isAccessible?[4,d.put(f.controlsActionCreators.deactivateAccessibility())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function S(){return o(this,(function(e){switch(e.label){case 0:return[4,d.fork(_)];case 1:return u=e.sent(),[4,d.fork(g)];case 2:return c=e.sent(),[2]}}))}function E(){return o(this,(function(e){switch(e.label){case 0:return u?[4,d.cancel(u)]:[3,2];case 1:e.sent(),u=null,e.label=2;case 2:return c?[4,d.cancel(c)]:[3,4];case 3:e.sent(),c=null,e.label=4;case 4:return[2]}}))}t.processKeyboardInput=y,t.handleClick=A,t.default=function(){return o(this,(function(e){switch(e.label){case 0:return[4,d.all([d.takeEvery(f.coreActionCreators.startApp,S),d.takeEvery(f.coreActionCreators.requestExit,E)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(962)),u=a(n(963)),c=a(n(964)),l=a(n(379)),d=a(n(965)),f=a(n(966)),p=function(e){function t(){var t=e.call(this,"ProcessInput")||this;return t.getOptions=function(){return{sagas:[s.default,d.default,u.default,c.default,l.default],reducerMap:{navigationManager:f.default}}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=p},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(32)),c=i(n(76)),l=n(152),d=n(70),f=i(n(22)),p=i(n(31)),h=n(23),v=n(379),m=n(164);function g(e){var t,n,i,l,p,m,g,_,A,S,E,w,T,P,C,O,k,I,x,D,R,M=e.payload;return r(this,(function(e){switch(e.label){case 0:return n=(t=s.coreSelectors).all,[4,a.select()];case 1:return n.apply(t,[e.sent()]).dumpId?[3,3]:[4,h.checkDebugSequence(M)];case 2:e.sent(),e.label=3;case 3:switch(M){case c.default.HARDWARE_BACK:case c.default.BACK:return[3,4];case c.default.CHAR_SHIFT_S:case c.default.STOP:return[3,23];case c.default.CHAR_0:case c.default.HOME:return[3,25];case c.default.CHAR_1:return[3,27];case c.default.CHAR_2:return[3,29];case c.default.CHAR_3:return[3,31];case c.default.CHAR_4:return[3,33];case c.default.CHAR_5:return[3,35];case c.default.CHAR_6:return[3,37];case c.default.CHAR_7:return[3,39];case c.default.CHAR_8:return[3,41];case c.default.CHAR_9:return[3,43];case c.default.CHAR_C:return[3,45];case c.default.CHAR_J:return[3,49];case c.default.CHAR_K:return[3,51];case c.default.CHAR_L:return[3,53];case c.default.CHAR_M:return[3,55];case c.default.CHAR_U:return[3,57];case c.default.CHAR_SHIFT_N:return[3,60];case c.default.CHAR_SHIFT_T:return[3,62];case c.default.COMMA:return[3,68];case c.default.PERIOD:return[3,70]}return[3,72];case 4:return p=(l=s.playerSelectors).all,[4,a.select()];case 5:return i=p.apply(l,[e.sent()]).isScrubbing,[4,a.select(s.uiSelectors.all)];case 6:return m=e.sent(),g=m.isErrorScreenVisible,_=m.isConfigErrorScreenVisible,A=m.isSettingsMenuVisible,S=m.upNextState,[4,a.select(s.controlsSelectors.all)];case 7:return E=e.sent().isActive,P=(T=s.coreSelectors).all,[4,a.select()];case 8:return w=P.apply(T,[e.sent()]).castingState,C=w.isCasting,g||_||C?[4,a.put(o.coreActionCreators.requestExit())]:[3,10];case 9:return e.sent(),[3,22];case 10:return A?[4,a.put(o.uiActionCreators.requestBack())]:[3,12];case 11:return e.sent(),[3,22];case 12:return S!==d.UpNextState.VISIBLE?[3,15]:[4,a.put(o.uiActionCreators.dismissUpNextScreen())];case 13:return e.sent(),[4,a.put(o.playerActionCreators.endScrub())];case 14:return e.sent(),[3,22];case 15:return i?[4,v.stopScrubbing(!1)]:[3,17];case 16:return e.sent(),[3,22];case 17:return E&&f.default.isMobileNative()&&M===c.default.HARDWARE_BACK?[4,a.put(o.controlsActionCreators.deactivateControls(!0))]:[3,19];case 18:return e.sent(),[3,22];case 19:return!E||f.default.isMobileNative()||f.default.isRoku()?[3,20]:(u.default.stop(!0),[3,22]);case 20:return[4,a.put(o.coreActionCreators.requestExit())];case 21:e.sent(),e.label=22;case 22:return[3,73];case 23:return[4,a.put(o.coreActionCreators.requestExit())];case 24:return[2,e.sent()];case 25:return[4,b(0)];case 26:return[2,e.sent()];case 27:return[4,b(.1)];case 28:return[2,e.sent()];case 29:return[4,b(.2)];case 30:return[2,e.sent()];case 31:return[4,b(.3)];case 32:return[2,e.sent()];case 33:return[4,b(.4)];case 34:return[2,e.sent()];case 35:return[4,b(.5)];case 36:return[2,e.sent()];case 37:return[4,b(.6)];case 38:return[2,e.sent()];case 39:return[4,b(.7)];case 40:return[2,e.sent()];case 41:return[4,b(.8)];case 42:return[2,e.sent()];case 43:return[4,b(.9)];case 44:return[2,e.sent()];case 45:return[4,a.select(s.adsManagerSelectors.all)];case 46:return e.sent().isInAdBreak?[3,48]:[4,a.put(o.playerActionCreators.toggleTextTracks())];case 47:e.sent(),e.label=48;case 48:return[3,73];case 49:return[4,a.put(o.processInputActionCreators.seekBy(-10))];case 50:return[2,e.sent()];case 51:return[4,a.put(o.processInputActionCreators.togglePlayPause())];case 52:return[2,e.sent()];case 53:return[4,a.put(o.processInputActionCreators.seekBy(10))];case 54:return[2,e.sent()];case 55:return[4,a.put(o.processInputActionCreators.toggleMute())];case 56:return[2,e.sent()];case 57:return[4,a.select(s.mediaSelectors.all)];case 58:return O=e.sent(),k=O.contentTime,I=O.contentDuration,x=I-k-11,[4,a.put(o.processInputActionCreators.seekBy(x))];case 59:return[2,e.sent()];case 60:return[4,a.put(o.contentLifecycleActionCreators.requestSkipToNext(!1))];case 61:return[2,e.sent()];case 62:return R=(D=s.uiSelectors).all,[4,a.select()];case 63:return R.apply(D,[e.sent()]).isStatsForNerdsVisible,[3,67];case 64:return[2,e.sent()];case 65:return[4,a.put(o.uiActionCreators.showStatsForNerds())];case 66:return[2,e.sent()];case 67:return[3,73];case 68:return[4,y(-1,!0)];case 69:return[2,e.sent()];case 70:return[4,y(1,!0)];case 71:return[2,e.sent()];case 72:return[3,73];case 73:return[2]}}))}function y(e,t){var n,i,u,c,d,f;return r(this,(function(r){switch(r.label){case 0:return u=(i=s.playerSelectors).all,[4,a.select()];case 1:return n=u.apply(i,[r.sent()]),t&&!n.isPaused?[2]:(c=l.getCurrentVideoTrack(n),d=(null==c?void 0:c.frameRate)||23.97,f=e*(1/d),[4,a.put(o.processInputActionCreators.seekBy(f))]);case 2:return r.sent(),[2]}}))}function b(e){var t,n,i;return r(this,(function(r){switch(r.label){case 0:return i=(n=s.mediaSelectors).all,[4,a.select()];case 1:return t=i.apply(n,[r.sent()]).contentDuration,[4,a.put(o.playerActionCreators.requestSeekToContentTime(e*t))];case 2:return r.sent(),[2]}}))}function _(e){e.type;var t,n,i,u,c,l,d,f,h,v,m,g,y,b,_=e.payload;return r(this,(function(e){switch(e.label){case 0:return n=(t=s.coreSelectors).all,[4,a.select()];case 1:return n.apply(t,[e.sent()]).isSeekingDisabled?[4,a.put(o.coreActionCreators.rejectSeek())]:[3,3];case 2:return[2,e.sent()];case 3:return c=(u=s.playerSelectors).all,[4,a.select()];case 4:return i=c.apply(u,[e.sent()]),v=(h=s.mediaSelectors).all,[4,a.select()];case 5:return l=v.apply(h,[e.sent()]),d=l.contentTime,f=l.contentDuration,!i||p.default.isNil(d)?[2]:(m=i.isSeeking,g=i.contentSeekTime,y=m?g:d,(b=p.default.clamp(y+_,0,f))===d?[3,7]:[4,a.put(o.playerActionCreators.requestSeekToContentTime(b))]);case 6:e.sent(),e.label=7;case 7:return[2]}}))}function A(e){var t,n,i,u,c,l,d=e.payload;return r(this,(function(e){switch(e.label){case 0:return c=(u=s.coreSelectors).all,[4,a.select()];case 1:return t=c.apply(u,[e.sent()]),n=t.isMuted,i=t.volume,l=p.default.clamp(i+d,0,1),n&&d>0?[4,a.put(o.coreActionCreators.unmute())]:[3,3];case 2:e.sent(),e.label=3;case 3:return l===i?[3,5]:[4,a.put(o.coreActionCreators.updateVolume(l))];case 4:e.sent(),e.label=5;case 5:return[2]}}))}function S(){var e,t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select()];case 1:return e=r.sent(),t=s.playerSelectors.all(e),n=s.coreSelectors.all(e).isMuted,t?n?[4,a.put(o.coreActionCreators.unmute())]:[3,3]:[2];case 2:return r.sent(),[3,5];case 3:return[4,a.put(o.coreActionCreators.mute())];case 4:r.sent(),r.label=5;case 5:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.inputActionCreators.inputNormalized,g),a.takeEvery(o.processInputActionCreators.seekBy,_),a.takeEvery(o.processInputActionCreators.adjustVolumeBy,A),a.takeEvery(o.processInputActionCreators.toggleMute,S),a.takeEvery(o.processInputActionCreators.togglePlayPause,m.handleTogglePlayPause)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(32)),c=n(294),l=i(n(76)),d=n(234),f=n(69),p=n(164);function h(e){var t,n,i,h,g,y=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,a.select(d.getNavigationMode)];case 1:return e.sent()!==f.NavigationMode.FOCUS?[2]:[4,a.select(s.uiSelectors.all)];case 2:return t=e.sent(),n=t.isErrorScreenVisible,i=t.isSettingsMenuVisible,n||i?[2]:[4,m(y)];case 3:return e.sent(),[4,a.select(s.controlsSelectors.all)];case 4:return h=e.sent().isAccessible,[4,a.select(s.inputChannelSelectors.all)];case 5:switch(g=e.sent().leftRightArrowMode,y){case l.default.ARROW_LEFT:case l.default.ARROW_RIGHT:return[3,6];case l.default.CAPTIONS:return[3,9];case l.default.CHAR_Q:case l.default.CHAR_W:case l.default.FAST_FORWARD:case l.default.GAMEPAD_LEFT_BUMPER:case l.default.GAMEPAD_RIGHT_BUMPER:case l.default.REWIND:return[3,13];case l.default.CHAR_X:return[3,15];case l.default.SPACE:return[3,16];case l.default.CHAR_P:case l.default.NEXT_TRACK:return[3,19];case l.default.PAUSE:case l.default.PLAY:case l.default.PLAY_PAUSE:return[3,21];case l.default.CHAR_O:case l.default.PREVIOUS_TRACK:return[3,23];case l.default.GAMEPAD_0:case l.default.SELECT:return[3,25];case l.default.TAB:return[3,30]}return[3,33];case 6:return g!==c.LeftRightArrowMode.ENTER_SCRUB?[3,8]:[4,a.call(p.startScrubbing)];case 7:e.sent(),e.label=8;case 8:return[3,33];case 9:return[4,a.select(s.adsManagerSelectors.all)];case 10:return e.sent().isInAdBreak?[3,12]:[4,a.put(o.playerActionCreators.toggleTextTracks())];case 11:e.sent(),e.label=12;case 12:return[3,33];case 13:return[4,a.call(p.startScrubbing)];case 14:return[2,e.sent()];case 15:return[3,33];case 16:return h?[3,18]:[4,a.put(o.processInputActionCreators.togglePlayPause())];case 17:e.sent(),e.label=18;case 18:return[3,33];case 19:return[4,a.fork(v,10)];case 20:return[2,e.sent()];case 21:return[4,a.put(o.processInputActionCreators.togglePlayPause())];case 22:return[2,e.sent()];case 23:return[4,a.fork(v,-10)];case 24:return[2,e.sent()];case 25:return[4,a.select(s.controlsSelectors.all)];case 26:return e.sent().isActive?[3,28]:[4,a.put(o.processInputActionCreators.togglePlayPause())];case 27:e.sent(),e.label=28;case 28:return[4,a.call(u.default.start)];case 29:return[2,e.sent()];case 30:return h?[3,32]:[4,a.put(o.controlsActionCreators.activateAccessibility())];case 31:e.sent(),e.label=32;case 32:return[3,33];case 33:return[2]}}))}function v(e){var t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return t=r.sent().isPaused,[4,a.put(o.processInputActionCreators.seekBy(e))];case 2:return r.sent(),t?[4,a.take(o.playerActionCreators.endSeek)]:[3,6];case 3:return r.sent(),[4,a.race({delayed:a.delay(100),paused:o.playerActionCreators.pause})];case 4:return n=r.sent(),n.delayed,n.paused?[4,a.put(o.playerActionCreators.requestPlay("Next/Prev Track seek"))]:[3,6];case 5:r.sent(),r.label=6;case 6:return[2]}}))}function m(e){return r(this,(function(t){switch(t.label){case 0:return[l.default.ARROW_DOWN,l.default.ARROW_LEFT,l.default.ARROW_RIGHT,l.default.ARROW_UP,l.default.CHAR_Q,l.default.CHAR_W,l.default.FAST_FORWARD,l.default.GAMEPAD_LEFT_BUMPER,l.default.GAMEPAD_LEFT_TRIGGER,l.default.GAMEPAD_RIGHT_BUMPER,l.default.GAMEPAD_RIGHT_TRIGGER,l.default.PAUSE,l.default.PLAY,l.default.PLAY_PAUSE,l.default.SPACE,l.default.REWIND].includes(e)?[4,a.call(u.default.start)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.inputActionCreators.inputNormalized,h)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(32)),c=i(n(76)),l=n(229),d=n(234),f=n(69);function p(e){var t,n=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,a.select(d.getNavigationMode)];case 1:return e.sent()!==f.NavigationMode.KEYBOARD?[2]:[4,a.select(s.uiSelectors.all)];case 2:return e.sent().isErrorScreenVisible?[2]:[4,a.select(s.controlsSelectors.all)];case 3:return t=e.sent().isAccessible,[4,a.call(u.default.start)];case 4:switch(e.sent(),n){case c.default.ARROW_DOWN:return[3,5];case c.default.ARROW_UP:return[3,7];case c.default.ARROW_LEFT:return[3,9];case c.default.ARROW_RIGHT:return[3,11];case c.default.SPACE:return[3,13];case c.default.TAB:return[3,16]}return[3,19];case 5:return[4,a.put(o.processInputActionCreators.adjustVolumeBy(-l.DEFAULT_VOLUME_ADJUSTMENT))];case 6:return[2,e.sent()];case 7:return[4,a.put(o.processInputActionCreators.adjustVolumeBy(l.DEFAULT_VOLUME_ADJUSTMENT))];case 8:return[2,e.sent()];case 9:return[4,a.put(o.processInputActionCreators.seekBy(-l.DEFAULT_SCRUB_INCREMENT))];case 10:return e.sent(),[3,20];case 11:return[4,a.put(o.processInputActionCreators.seekBy(l.DEFAULT_SCRUB_INCREMENT))];case 12:return e.sent(),[3,20];case 13:return t?[3,15]:[4,a.put(o.processInputActionCreators.togglePlayPause())];case 14:e.sent(),e.label=15;case 15:return[3,20];case 16:return t?[3,18]:[4,a.put(o.controlsActionCreators.activateAccessibility())];case 17:e.sent(),e.label=18;case 18:case 19:return[3,20];case 20:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.inputActionCreators.inputNormalized,p)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=i(n(76));function u(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:switch(t){case s.default.CHAR_F:case s.default.CHAR_SHIFT_F:return[3,1]}return[3,3];case 1:return[4,a.put(o.coreActionCreators.toggleFullScreen())];case 2:return[2,e.sent()];case 3:return[3,4];case 4:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.inputActionCreators.inputNormalized,u)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),a=n(7),o=n(295),s=n(69),u={isInputHeld:!1,navigationMode:a.environmentUtils.isYoui()?s.NavigationMode.FOCUS:s.NavigationMode.KEYBOARD},c=i.createReducer({},u);c.on(o.setNavigationMode,(function(e,t){return r(r({},e),{navigationMode:t})})),c.on(o.startHeldEvent,(function(e){return r(r({},e),{isInputHeld:!0})})),c.on(o.endHeldEvent,(function(e){return r(r({},e),{isInputHeld:!1})})),t.default=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(968)),u=function(e){function t(){var t=e.call(this,"ContentLifecycle")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=n(60),c=n(23),l=i(n(969)),d=i(n(970));function f(){var e,t,n,i,u,c,l;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.coreSelectors.all)];case 1:return e=r.sent().isContentPlaying,[4,a.select(s.mediaSelectors.property,"contentTime")];case 2:return t=r.sent(),[4,a.select(s.mediaSelectors.property,"contentDuration")];case 3:return n=r.sent(),.1,Math.abs(t-n)<=.1&&!e?[4,a.put(o.mediaActionCreators.updateContentOffset(0))]:[3,5];case 4:r.sent(),r.label=5;case 5:return[4,a.select(s.adsManagerSelectors.property,"isInAdBreak")];case 6:return i=r.sent(),e||i?[3,8]:[4,a.put(o.contentLifecycleActionCreators.startedPlaying(t))];case 7:r.sent(),r.label=8;case 8:return[4,a.select(s.playerSelectors.all)];case 9:return u=r.sent(),c=u.hasStartedInitialPlay,l=u.startTime,c?[3,13]:[4,a.put(o.playerActionCreators.initialPlayStarted())];case 10:return r.sent(),[4,a.put(o.contentLifecycleActionCreators.initiatedPlayback())];case 11:return r.sent(),l<=1&&t<=1?[4,a.put(o.contentLifecycleActionCreators.initiatedPlaybackFromBeginning())]:[3,13];case 12:r.sent(),r.label=13;case 13:return[2]}}))}function p(){var e,t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.coreSelectors.all)];case 1:return e=r.sent().isContentPlaying,[4,a.select(s.mediaSelectors.property,"contentTime")];case 2:return t=r.sent(),[4,a.select(s.adsManagerSelectors.property,"isInAdBreak")];case 3:return n=r.sent(),!e||n?[3,5]:[4,a.put(o.contentLifecycleActionCreators.stoppedPlaying(t))];case 4:r.sent(),r.label=5;case 5:return[2]}}))}function h(e,t){var n,i,l,d,f,p,h;return r(this,(function(r){switch(r.label){case 0:return l=(i=s.configurationSelectors).self,[4,a.select()];case 1:return n=l.apply(i,[r.sent()]).user,d=c.validateContentRestrictions(e,n),f=d.isPremiumInvalid,p=d.isMatureInvalid,h=d.isNotAvailableYet,f?[4,a.put(o.coreActionCreators.awaitClientReturn())]:[3,4];case 2:return r.sent(),[4,a.put(o.messageBusActionCreators.sendMessageToClient({type:u.MessageType.CLIENT_NAVIGATE_TO,payload:{type:u.NavigationDestination.PREMIUM_UPSELL,hasVideoEnded:t}}))];case 3:return r.sent(),[3,9];case 4:return h?[4,a.put(o.messageBusActionCreators.sendMessageToClient({type:u.MessageType.CLIENT_NAVIGATE_TO,payload:{path:"/series/"+e.seriesId}}))]:[3,6];case 5:return r.sent(),[3,9];case 6:return p?[4,a.put(o.coreActionCreators.awaitClientReturn())]:[3,9];case 7:return r.sent(),[4,a.put(o.messageBusActionCreators.sendMessageToClient({type:u.MessageType.CLIENT_NAVIGATE_TO,payload:{type:u.NavigationDestination.ENABLE_MATURE_CONTENT,hasVideoEnded:t}}))];case 8:r.sent(),r.label=9;case 9:return[2]}}))}function v(e){var t,n,i=e.payload;return r(this,(function(e){switch(e.label){case 0:return n=(t=s.configurationSelectors).self,[4,a.select()];case 1:return[4,h(n.apply(t,[e.sent()]).metadata,i)];case 2:return e.sent(),[2]}}))}function m(e){var t,n,i,l,d,f,p,v,m,g,y,b=e.payload;return r(this,(function(e){switch(e.label){case 0:return i=(n=s.playerSelectors).all,[4,a.select()];case 1:return t=i.apply(n,[e.sent()]).isPaused,[4,a.select(s.configurationSelectors.self)];case 2:return l=e.sent(),d=l.user,(null==(f=l.upNextMetadata)?void 0:f.id)?t?[3,4]:[4,a.put(o.playerActionCreators.requestPause("Load next episode"))]:[2];case 3:e.sent(),e.label=4;case 4:return p=c.validateContentRestrictions(f,d).isInvalid,[4,a.select(s.configurationSelectors.self)];case 5:return v=e.sent().skipToNext,m=v.checkPermissionsBeforeSkipping,p&&m?[4,h(f,b)]:[3,7];case 6:return e.sent(),[3,12];case 7:return y=(g=s.uiSelectors).all,[4,a.select()];case 8:return y.apply(g,[e.sent()]).isLoadingScreenVisible?[3,10]:[4,a.put(o.uiActionCreators.showLoadingScreen())];case 9:e.sent(),e.label=10;case 10:return[4,a.put(o.messageBusActionCreators.sendMessageToClient({type:u.MessageType.CLIENT_SKIP_TO_NEXT}))];case 11:e.sent(),e.label=12;case 12:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.fork(l.default),a.fork(d.default),a.takeEvery(o.contentLifecycleActionCreators.requestPermissions,v),a.takeEvery(o.contentLifecycleActionCreators.requestSkipToNext,m),a.takeLatest([o.playerActionCreators.play,o.playerActionCreators.playing],f),a.takeLatest([o.playerActionCreators.ended,o.playerActionCreators.error,o.playerActionCreators.pause,o.playerActionCreators.stopped,o.playerActionCreators.waiting],p)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(31));function c(e){var t,n,i,c,d,f,p,h,v,m,g,y,b,_,A=e.type;return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.coreSelectors.all)];case 1:return t=e.sent().isUnloadingContent,f=(d=s.configurationSelectors).self,[4,a.select()];case 2:return n=f.apply(d,[e.sent()]),i=n.metadata,c=n.previous,p=u.default.get(i,"id"),h=u.default.get(c,"metadata.id"),v=!0,t?(v=!1,[3,6]):[3,3];case 3:return p!==h?[3,4]:(v=!1,[3,6]);case 4:return h?[4,l(h)]:[3,6];case 5:e.sent(),e.label=6;case 6:return A!==o.configurationActionCreators.loadConfig(null).type?[3,8]:[4,a.put(o.contentLifecycleActionCreators.loadConfig())];case 7:return e.sent(),[3,10];case 8:return[4,a.put(o.contentLifecycleActionCreators.updateConfig())];case 9:e.sent(),e.label=10;case 10:return v?(y=(g=s.configurationSelectors).self,[4,a.select()]):[3,13];case 11:return m=y.apply(g,[e.sent()]),(b=null===(_=m.metadata)||void 0===_?void 0:_.id)?[4,a.put(o.contentLifecycleActionCreators.loadContent(b))]:[3,13];case 12:e.sent(),e.label=13;case 13:return[2]}}))}function l(e){var t,n;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.coreSelectors.all)];case 1:return t=r.sent().isContentPlaying,[4,a.select(s.mediaSelectors.all)];case 2:return n=r.sent().contentTime,t?[4,a.put(o.contentLifecycleActionCreators.stoppedPlaying(n))]:[3,4];case 3:r.sent(),r.label=4;case 4:return[4,a.put(o.contentLifecycleActionCreators.unloadContent(e))];case 5:return r.sent(),[4,a.take(o.contentLifecycleActionCreators.completeUnloadContent)];case 6:return r.sent(),[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery([o.configurationActionCreators.loadConfig,o.configurationActionCreators.extendConfig],c)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(2),o=n(8),s=n(59),u=n(77),c=n(27),l=n(7),d=n(971);function f(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.create(a.adsManagerActionCreators.completeEndedAdBreak)];case 1:return e.sent(),[4,l.gateUtils.create(a.mediaActionCreators.finishProcessingSource)];case 2:return e.sent(),[4,l.gateUtils.create(a.contentLifecycleActionCreators.readyToPlayPrerolls)];case 3:return e.sent(),[4,l.gateUtils.create(a.contentLifecycleActionCreators.readyToPlay)];case 4:return e.sent(),[4,l.gateUtils.create(a.contentLifecycleActionCreators.completeUnloadContent)];case 5:return e.sent(),[4,l.gateUtils.create(a.contentLifecycleActionCreators.completedEnded)];case 6:return e.sent(),[4,l.gateUtils.create(a.mediaActionCreators.finishProcessingSource)];case 7:return e.sent(),[4,l.gateUtils.addTask(a.contentLifecycleActionCreators.readyToPlay,d.PREROLL_COMPLETE_TASK)];case 8:return e.sent(),[4,l.gateUtils.addTask(a.adsManagerActionCreators.completeEndedAdBreak,u.END_AD_BREAK_SSAI_TASK)];case 9:return e.sent(),[2]}}))}function p(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.activate(a.adsManagerActionCreators.completeEndedAdBreak)];case 1:return e.sent(),[4,l.gateUtils.activate(a.contentLifecycleActionCreators.readyToPlayPrerolls)];case 2:return e.sent(),[4,l.gateUtils.activate(a.contentLifecycleActionCreators.readyToPlay)];case 3:return e.sent(),[4,l.gateUtils.activate(a.contentLifecycleActionCreators.completedEnded)];case 4:return e.sent(),[4,l.gateUtils.activate(a.mediaActionCreators.finishProcessingSource)];case 5:return e.sent(),[2]}}))}function h(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.activate(a.contentLifecycleActionCreators.completeUnloadContent)];case 1:return e.sent(),[4,l.gateUtils.reset(a.adsManagerActionCreators.completeEndedAdBreak)];case 2:return e.sent(),[4,l.gateUtils.reset(a.mediaActionCreators.finishProcessingSource)];case 3:return e.sent(),[4,l.gateUtils.reset(a.contentLifecycleActionCreators.readyToPlayPrerolls)];case 4:return e.sent(),[4,l.gateUtils.reset(a.contentLifecycleActionCreators.readyToPlay)];case 5:return e.sent(),[4,l.gateUtils.reset(a.contentLifecycleActionCreators.completedEnded)];case 6:return e.sent(),[2]}}))}function v(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.reset(a.mediaActionCreators.finishProcessingSource)];case 1:return e.sent(),[4,l.gateUtils.activate(a.mediaActionCreators.finishProcessingSource)];case 2:return e.sent(),[2]}}))}function m(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.reset(a.contentLifecycleActionCreators.completedEnded)];case 1:return e.sent(),[2]}}))}function g(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.reset(a.contentLifecycleActionCreators.completeUnloadContent)];case 1:return e.sent(),[2]}}))}function y(){return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.adsManagerSelectors.all)];case 1:return e.sent().hasPreroll?[3,3]:[4,i.put(a.contentLifecycleActionCreators.completedPrerolls())];case 2:return[2,e.sent()];case 3:return[4,i.put(a.adsManagerActionCreators.requestAdBreakStart())];case 4:return e.sent(),[2]}}))}function b(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.completeTask(a.contentLifecycleActionCreators.readyToPlay,d.PREROLL_COMPLETE_TASK)];case 1:return e.sent(),[2]}}))}function _(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.reset(a.adsManagerActionCreators.completeEndedAdBreak)];case 1:return e.sent(),[4,l.gateUtils.activate(a.adsManagerActionCreators.completeEndedAdBreak)];case 2:return e.sent(),[2]}}))}function A(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.select(o.adsManagerSelectors.all)];case 1:return(e=t.sent().adBreaks).length&&e[0].type===s.AdBreakType.PREROLL?[4,i.put(a.adsManagerActionCreators.grantAdBreakStart())]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}function S(){return r(this,(function(e){switch(e.label){case 0:return[4,l.gateUtils.reset(a.contentLifecycleActionCreators.completedEnded)];case 1:return e.sent(),[4,l.gateUtils.activate(a.contentLifecycleActionCreators.completedEnded)];case 2:return e.sent(),[2]}}))}function E(){var e,t,n,s;return r(this,(function(r){switch(r.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return e=r.sent(),t=e.isAutoPlayEnabled,n=!1,t?[3,3]:(n=!0,[4,i.put(a.playerActionCreators.rejectPlay(c.PlayResult.NOT_ALLOWED))]);case 2:return r.sent(),[3,6];case 3:return[4,i.put(a.playerActionCreators.requestPlay("Ready to Play"))];case 4:return r.sent(),[4,i.race({resolvedPlay:i.take(a.playerActionCreators.resolvePlay),rejectedPlay:i.take(a.playerActionCreators.rejectPlay)})];case 5:s=r.sent(),s.resolvedPlay,s.rejectedPlay&&(n=!0),r.label=6;case 6:return n?[4,i.put(a.uiActionCreators.hideLoadingScreen())]:[3,10];case 7:return r.sent(),[4,i.put(a.uiActionCreators.showPlayer())];case 8:return r.sent(),[4,i.put(a.uiActionCreators.showStartScreen())];case 9:r.sent(),r.label=10;case 10:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeEvery(a.coreActionCreators.startApp,f),i.takeEvery(a.contentLifecycleActionCreators.loadContent,p),i.takeEvery(a.contentLifecycleActionCreators.unloadContent,h),i.takeEvery(a.contentLifecycleActionCreators.completedEnded,m),i.takeEvery(a.contentLifecycleActionCreators.completeUnloadContent,g),i.takeEvery(a.contentLifecycleActionCreators.startedPlaying,S),i.takeEvery(a.adsManagerActionCreators.requestAdBreakStart,A),i.takeEvery(a.contentLifecycleActionCreators.readyToPlayPrerolls,y),i.takeEvery(a.contentLifecycleActionCreators.completedPrerolls,b),i.takeEvery(a.adsManagerActionCreators.completeEndedAdBreak,_),i.takeEvery(a.contentLifecycleActionCreators.readyToPlay,E),i.takeEvery(a.playerActionCreators.setSource,v)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREROLL_COMPLETE_TASK=void 0,t.PREROLL_COMPLETE_TASK="Prerolls complete"},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(296)),u=a(n(973)),c=function(e){function t(){var t=e.call(this,"Media")||this;return t.getOptions=function(){return{reducerMap:{media:s.default},sagas:[u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleOffHardSubTracks=t.toggleOnHardSubTracks=t.setTextTracks=t.setVideo=t.setupHardSubTracks=t.determineStreams=t.getPreferredStreams=t.getDrmStreams=t.filterByTextMode=t.filterByUnencrypted=t.filterBySsai=t.filterByDrm=t.processPreferredStreams=t.checkDrmSupport=t.handleFailedDrmLoad=void 0;var o=n(9),s=n(2),u=n(8),c=n(39),l=a(n(75)),d=a(n(373)),f=n(334),p=n(28),h=n(41),v=n(7),m=n(84),g=n(22),y=a(n(31)),b=n(35),_=n(27),A=a(n(68)),S=n(23);function E(){var e,n,r,a,c,l;return i(this,(function(i){switch(i.label){case 0:return c=(a=u.configurationSelectors).self,[4,o.select()];case 1:return e=c.apply(a,[i.sent()]),n=e.metadata,r=e.user,S.validateContentRestrictions(n,r).isInvalid?[3,5]:[4,T()];case 2:return i.sent(),[4,o.select(u.mediaSelectors.getTextMode)];case 3:return l=i.sent(),[4,t.determineStreams(l)];case 4:return i.sent(),[3,8];case 5:return[4,o.put(s.uiActionCreators.hideLoadingScreen())];case 6:return i.sent(),[4,o.put(s.playerActionCreators.stopped())];case 7:i.sent(),i.label=8;case 8:return[2]}}))}function w(){var e;return i(this,(function(n){switch(n.label){case 0:return[4,o.select(u.mediaSelectors.getTextMode)];case 1:return e=n.sent(),[4,t.determineStreams(e)];case 2:return n.sent(),[2]}}))}function T(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return e=n.sent().drm,[4,o.select(u.coreSelectors.all)];case 2:return t=n.sent().detectedDrms,y.default.get(e,"policy")===m.DRMPolicy.NEVER||t.length?[2]:[4,l.default.findInstance(d.default).detectDrms()];case 3:return n.sent(),[2]}}))}function P(e,n){var a,s,c,l;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.coreSelectors.all)];case 1:return a=i.sent(),s=a.detectedDrms,c=a.detectedStreamTypes,n!==m.DRMPolicy.NEVER&&s.length?(l=function(e){void 0===e&&(e=[]);return e.reduce((function(e,t){return e[C(t)]=t,e}),{})}(t.filterByUnencrypted(e,c)),[2,t.filterByDrm(e,s[0]).map((function(e){var t=C(e),n=l[t];return n?r(r({},e),{altSource:n}):e}))]):[2,[]]}}))}function C(e){return JSON.stringify(y.default.pick(e,["isSSAICompatible","mime_type","multitrack","language","hardsub_lang"]))}function O(e,t,n){var r;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.playerSelectors.all)];case 1:if(r=i.sent().isDrmFailed,t.find((function(e){return e.locationType===f.StreamLocationType.local})))return[2,t];switch(n){case m.DRMPolicy.ALWAYS:return[2,e];case m.DRMPolicy.IF_AVAILABLE:return[2,!r&&e.length?e:t];case m.DRMPolicy.NEVER:default:return[2,t]}return[2]}}))}t.handleFailedDrmLoad=w,t.checkDrmSupport=T,t.processPreferredStreams=function(e){return e.map((function(e){return r(r({},e),{hardsub_lang:e.hardsub_lang?A.default(e.hardsub_lang).code:""})}))},t.filterByDrm=function(e,t){return e.filter((function(e){return e.drm&&e.mime_type===m.DrmStreamType[t]}))},t.filterBySsai=function(e){return e.filter((function(e){return e.isSSAICompatible}))},t.filterByUnencrypted=function(e,t){return e.filter((function(e){return!e.drm})).filter((function(e){if(e.locationType===f.StreamLocationType.local)return!0;for(var n=0,r=t;n<r.length;n++){switch(r[n]){case _.StreamType.DASH:return[_.StreamType.DASH,_.StreamType.MP4].includes(e.mime_type);case _.StreamType.HLS:return[_.StreamType.HLS,_.StreamType.MP4].includes(e.mime_type);default:return[_.StreamType.MP4].includes(e.mime_type)}}}))},t.filterByTextMode=function(e,t){var n=t===g.TEXT_MODE.HARDCODED,r=t===g.TEXT_MODE.EMBEDDED;return e.filter((function(e){return!!n||!e.hardsub_lang})).filter((function(e){return r?e.multitrack:!e.multitrack}))},t.getDrmStreams=P,t.getPreferredStreams=O,t.determineStreams=function(e){var n,a,l,d,f,p,h,m,b,_,S,E,w,T,C,k;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return n=i.sent(),a=n.drm,l=n.media,d=l.externalTextTracks,f=l.playlists,[4,o.select(u.coreSelectors.all)];case 2:return p=i.sent().detectedStreamTypes,h=y.default.get(a,"policy"),m=[],c.isUsingSSAI(n)&&!v.environmentUtils.isOSX()?(b=t.filterBySsai(f),m=t.filterByTextMode(b,e)):m=t.filterByTextMode(f,e),_=t.filterByUnencrypted(m,p),[4,P(m,h)];case 3:return[4,O(i.sent(),_,h)];case 4:return S=i.sent(),e!==g.TEXT_MODE.HARDCODED?[3,7]:[4,t.setupHardSubTracks(S)];case 5:return E=i.sent(),w=E.hardSubOrderedStreams,T=E.trackIndex,[4,o.put(s.playerActionCreators.useHardSubTracks(T))];case 6:i.sent(),S=w,i.label=7;case 7:return S.length?[3,9]:[4,o.put(s.mediaActionCreators.error({code:"MED-1",message:"no playable media for this device"}))];case 8:return[2,i.sent()];case 9:return C=null==d?void 0:d.map((function(e){return r(r({},e),{language:A.default(e.language).code})})),k=e===g.TEXT_MODE.EXTERNAL?C:[],[4,o.put(s.mediaActionCreators.setMedia({orderedVideoTrackList:S,orderedTextTrackList:k}))];case 10:return i.sent(),[2]}}))},t.setupHardSubTracks=function(e){var n,r,a,s,c,l,d,f,p,h;return i(this,(function(i){switch(i.label){case 0:return n=t.processPreferredStreams(e),[4,o.select(u.configurationSelectors.self)];case 1:return a=i.sent(),s=null===(h=null==a?void 0:a.user)||void 0===h?void 0:h.preferredLanguage,c=A.default(s).code,s&&(r=n.find((function(e){return e.hardsub_lang===c}))),r||(r=n.find((function(e){return e.hardsub_lang===n[0].language}))),r?(d=y.default.orderBy(n,[function(e){return!e.hardsub_lang},function(e){return e.hardsub_lang}],["asc","asc"]),f=y.default.uniqBy(d,"hardsub_lang"),p=(d=f).findIndex((function(e){return e.hardsub_lang===r.hardsub_lang})),[2,{hardSubOrderedStreams:d,trackIndex:p}]):(l=n.findIndex((function(e){return!e.hardsub_lang})),[2,{hardSubOrderedStreams:n,trackIndex:l}])}}))},t.setVideo=function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.configurationSelectors.self)];case 1:return e=i.sent().player.startTime,[4,o.select(u.mediaSelectors.getTextMode)];case 2:return t=i.sent(),[4,o.select(u.mediaSelectors.property,"orderedVideoTrackList")];case 3:return n=i.sent(),t!==g.TEXT_MODE.HARDCODED?[3,5]:(a=n,[4,o.select(u.playerSelectors.property,"activeHardSubIndex")]);case 4:return r=a[i.sent()],[3,6];case 5:r=n[0],i.label=6;case 6:return[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:r.src,switchType:p.SwitchType.INITIAL_SOURCE,type:r.mime_type,drm:r.drm,altSource:r.altSource,startTime:e}))];case 7:return i.sent(),[2]}}))};var k=function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,o.select(u.mediaSelectors.property,"processedSource")];case 1:return e=n.sent(),[4,o.select(u.mediaSelectors.property,"unprocessedSource")];case 2:return t=n.sent(),e?[4,o.put(s.playerActionCreators.setSource(e))]:[3,4];case 3:return[2,n.sent()];case 4:return[4,o.put(s.playerActionCreators.setSource(t))];case 5:return[2,n.sent()]}}))};t.setTextTracks=function(){var e,t,n;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.playerSelectors.property,"useHardSubTracks")];case 1:return i.sent()?[4,v.gateUtils.isComplete(s.contentLifecycleActionCreators.readyToPlay,p.INITIAL_TEXT_TRACK_TASK)]:[3,5];case 2:return i.sent()?[3,4]:[4,v.gateUtils.completeTask(s.contentLifecycleActionCreators.readyToPlay,p.INITIAL_TEXT_TRACK_TASK)];case 3:i.sent(),i.label=4;case 4:return[3,12];case 5:return[4,o.select(u.configurationSelectors.self)];case 6:return e=i.sent(),t=e.media.externalTextTracks,[4,o.put(s.playerActionCreators.useExternalTextTracks())];case 7:return i.sent(),t.length?(n=t.map((function(e){return r(r({},e),{language:A.default(e.language).code})})),[4,o.put(s.playerActionCreators.loadedExternalTextTracks(n))]):[3,9];case 8:return i.sent(),[3,12];case 9:return[4,v.gateUtils.isComplete(s.contentLifecycleActionCreators.readyToPlay,p.INITIAL_TEXT_TRACK_TASK)];case 10:return i.sent()?[3,12]:[4,v.gateUtils.completeTask(s.contentLifecycleActionCreators.readyToPlay,p.INITIAL_TEXT_TRACK_TASK)];case 11:i.sent(),i.label=12;case 12:return[2]}}))};var I=function(e){var t,n,r,a,c=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,o.select(u.playerSelectors.all)];case 1:return t=e.sent(),[4,o.select(u.mediaSelectors.property,"contentTime")];case 2:return n=e.sent(),[4,o.select(u.mediaSelectors.property,"orderedVideoTrackList")];case 3:return r=e.sent(),(a=r[c]).src===t.source?[2]:[4,o.put(s.playerActionCreators.stopped())];case 4:return e.sent(),[4,o.delay(25)];case 5:return e.sent(),[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:a.src,switchType:p.SwitchType.HARDSUB,type:a.mime_type,drm:a.drm,altSource:a.altSource,startTime:n}))];case 6:return e.sent(),v.environmentUtils.isIosWeb()?[4,o.call(L,n)]:[3,8];case 7:return[2,e.sent()];case 8:return[4,j(n)];case 9:return e.sent(),[2]}}))},x=function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.mediaSelectors.property,"unprocessedSource")];case 1:return e=i.sent(),(t=e.altSource)?[4,o.select(u.playerSelectors.property,"isPaused")]:[2];case 2:return n=i.sent(),[4,o.select(u.mediaSelectors.property,"contentTime")];case 3:return r=i.sent(),[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:t.src,switchType:e.switchType,type:t.mime_type,drm:t.drm,startTime:r}))];case 4:return i.sent(),[4,o.select(u.playerSelectors.activeTextTrackIndex)];case 5:return a=i.sent(),[4,o.put(s.mediaActionCreators.storePriorMedia({priorTextTrackIndex:a,priorVideoStream:e}))];case 6:return i.sent(),[4,j(r)];case 7:return i.sent(),n?[4,o.put(s.playerActionCreators.requestPause("Media Sagas"))]:[3,9];case 8:i.sent(),i.label=9;case 9:return[2]}}))},D=function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.mediaSelectors.all)];case 1:return e=i.sent(),t=e.contentTime,n=e.priorTextTrackIndex,(r=e.priorVideoStream)?[4,o.select(u.playerSelectors.property,"isPaused")]:[2];case 2:return a=i.sent(),[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:r.source,switchType:r.switchType,type:r.type,drm:r.drm,altSource:r.altSource,startTime:t}))];case 3:return i.sent(),[4,o.put(s.playerActionCreators.setActiveTextTrack(n))];case 4:return i.sent(),[4,j(t)];case 5:return i.sent(),a?[4,o.put(s.playerActionCreators.requestPause("Media Sagas"))]:[3,7];case 6:i.sent(),i.label=7;case 7:return[2]}}))},R=function(e){var t=e.payload;return i(this,(function(e){switch(e.label){case 0:return[4,o.select(u.uiSelectors.property,"alternativePlayerRenderer")];case 1:return e.sent()?[4,o.call(D)]:[3,4];case 2:return e.sent(),[4,o.put(s.uiActionCreators.clearAlternativePlayerRenderer())];case 3:return e.sent(),[3,7];case 4:return t!==h.AlternativeRendererType.anime4k?[3,7]:[4,o.call(x)];case 5:return e.sent(),[4,o.put(s.uiActionCreators.setAlternativePlayerRenderer(h.defaultAnime4kState))];case 6:e.sent(),e.label=7;case 7:return[2]}}))},M=function(e){var t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.playerSelectors.all)];case 1:return t=i.sent(),[4,o.select(u.playerSelectors.activeTextTrackIndex)];case 2:return n=i.sent(),r={source:t.source,type:t.type,drm:t.drm},[4,o.select(u.mediaSelectors.property,"contentTime")];case 3:return a=i.sent(),[4,o.put(s.playerActionCreators.useHardSubTracks(0))];case 4:return i.sent(),[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:e.src,switchType:p.SwitchType.HARDSUB,type:e.mime_type,altSource:e.altSource,drm:e.drm}))];case 5:return i.sent(),[4,o.put(s.mediaActionCreators.storePriorMedia({priorTextTrackIndex:n,priorVideoStream:r}))];case 6:return i.sent(),[4,o.call(L,a)];case 7:return i.sent(),[2]}}))},N=function(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,o.select(u.mediaSelectors.all)];case 1:return e=i.sent(),t=e.contentTime,n=e.priorTextTrackIndex,r=e.priorVideoStream,[4,o.put(s.mediaActionCreators.setUnprocessedSource({source:r.source,switchType:p.SwitchType.HARDSUB,type:r.type,drm:r.drm,altSource:r.altSource,startTime:t}))];case 2:return i.sent(),[4,o.put(s.playerActionCreators.setActiveTextTrack(n))];case 3:return i.sent(),[2]}}))};t.toggleOnHardSubTracks=function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return v.environmentUtils.isIosWeb()?[4,o.select(u.playerSelectors.activeTextTrack)]:[2];case 1:return(e=i.sent())?[4,o.select(u.mediaSelectors.property,"orderedVideoTrackList")]:[3,7];case 2:return t=i.sent(),(n=t.filter((function(e){return e.hardsub_lang}))).length?(r=n.find((function(t){return A.default(t.hardsub_lang).code===e.language})),a=n.find((function(e){return A.default(e.hardsub_lang).code===b.DEFAULT_LOCALE})),r?[4,o.call(M,r)]:[3,4]):[2,console.warn("No Hard Sub Tracks Available To Play")];case 3:return[2,i.sent()];case 4:return a?[4,o.call(M,a)]:[3,6];case 5:return[2,i.sent()];case 6:return[2,console.warn("No Hard Sub Tracks Available To Play")];case 7:return[2]}}))},t.toggleOffHardSubTracks=function(){return i(this,(function(e){switch(e.label){case 0:return v.environmentUtils.isIosWeb()?[4,o.call(N)]:[2];case 1:return[2,e.sent()]}}))};var L=function(e){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,o.put(s.uiActionCreators.showLoadingScreen())];case 1:return i.sent(),[4,o.put(s.playerActionCreators.requestPause("Media Sagas"))];case 2:i.sent(),t=document.getElementById("player0"),i.label=3;case 3:return[4,o.put(s.playerActionCreators.requestSeekToContentTime(e))];case 4:return i.sent(),[4,o.delay(20)];case 5:return i.sent(),t.currentTime>=e?[3,7]:[4,o.delay(250)];case 6:return i.sent(),[3,3];case 7:return n=t.duration,[4,o.take(s.playerActionCreators.endSeek)];case 8:return i.sent(),n?[4,o.put(s.mediaActionCreators.setStreamDuration(n))]:[3,12];case 9:return i.sent(),[4,o.select(u.configurationSelectors.self)];case 10:return r=i.sent(),c.isUsingSSAI(r)?[3,12]:[4,o.put(s.mediaActionCreators.setContentDuration(n))];case 11:i.sent(),i.label=12;case 12:return[4,o.put(s.playerActionCreators.loadedData())];case 13:return i.sent(),[4,o.put(s.uiActionCreators.hideLoadingScreen())];case 14:return i.sent(),[4,o.put(s.uiActionCreators.showPlayer())];case 15:return i.sent(),[4,o.put(s.playerActionCreators.requestPlay("Media Sagas"))];case 16:return i.sent(),[2]}}))};function j(e){var t;return i(this,(function(n){switch(n.label){case 0:return[4,o.put(s.uiActionCreators.showLoadingScreen())];case 1:return n.sent(),e?[4,o.take(s.playerActionCreators.endSeek)]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,o.take(s.playerActionCreators.loadedData)];case 4:n.sent(),n.label=5;case 5:return[4,o.put(s.uiActionCreators.hideLoadingScreen())];case 6:return n.sent(),[4,o.select(u.uiSelectors.all)];case 7:return t=n.sent().isSettingsMenuVisible,v.environmentUtils.isYoui()&&t&&!v.environmentUtils.isRoku()?[4,o.select(u.playerSelectors.property,"isPaused")]:[3,11];case 8:return n.sent()?[4,o.put(s.playerActionCreators.requestPause("Media Sagas"))]:[3,10];case 9:n.sent(),n.label=10;case 10:return[2];case 11:return[4,o.put(s.playerActionCreators.requestPlay("Media Sagas"))];case 12:return n.sent(),[2]}}))}t.default=function(){return i(this,(function(e){switch(e.label){case 0:return[4,o.all([o.takeEvery(s.contentLifecycleActionCreators.loadContent,E),o.takeEvery(s.playerActionCreators.failedDrmLoad,w),o.takeEvery(s.mediaActionCreators.setMedia,t.setVideo),o.takeEvery(s.mediaActionCreators.finishProcessingSource,k),o.takeEvery(s.playerActionCreators.setSource,t.setTextTracks),o.takeEvery(s.playerActionCreators.setActiveHardSubTrack,I),o.takeEvery(s.uiActionCreators.toggleAlternativePlayerRenderer,R)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(975)),u=a(n(976)),c=function(e){function t(){var t=e.call(this,"Player")||this;return t.getOptions=function(){return{reducerMap:{player0:s.default},sagas:[u.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=(this&&this.__spreadArrays,this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}});Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(375)),o=i(n(233)),s=n(233),u=n(7),c=n(27),l=i(n(299)),d=n(28),f=r(r({},a.default),{activeExternalTextTrack:d.TEXT_TRACK_NONE,activeTextTrack:d.TEXT_TRACK_NONE,activeHardSubIndex:d.TEXT_TRACK_NONE,cues:[],drmParams:null,externalTextTracks:[],assetDownloads:{summary:{total:null,complete:null,error:null},progress:{fonts:{},libass:{}}},isPictureInPictureEntered:!1,isPreviewing:!1,isScrubbing:!1,lastTextTrackIndex:d.TEXT_TRACK_NONE,locationType:null,name:"player0",playerType:c.PlayerType.MAIN,scrubTime:null,switchType:void 0,textTrackCSS:null,textTracks:[],useHardSubTracks:!1,useExternalTextTracks:!1}),p=o.default(l.default,f);p.on(l.default.assetDownloadComplete,(function(e,t){return r(r({},e),{assetDownloads:t})})),p.on(l.default.assetDownloadProgress,(function(e,t){return r(r({},e),{assetDownloads:t})})),p.on(l.default.endPreview,(function(e){return r(r({},e),{previewTime:null,isPreviewing:!1})})),p.on(l.default.endScrub,(function(e){return r(r({},e),{isScrubbing:!1,scrubTime:null})})),p.on(l.default.enterPictureInPicture,(function(e){return r(r({},e),{isPictureInPictureEntered:!0})})),p.on(l.default.leavePictureInPicture,(function(e){return r(r({},e),{isPictureInPictureEntered:!1})})),p.on(l.default.loadedExternalTextTracks,(function(e,t){return r(r({},e),{externalTextTracks:t})})),p.on(l.default.requestExitPictureInPicture,(function(e){return e})),p.on(l.default.requestPictureInPicture,(function(e){return e})),p.on(l.default.setLastTextTrackIndex,(function(e,t){return r(r({},e),{lastTextTrackIndex:t})})),p.on(l.default.setActiveTextTrack,(function(e,t){return r(r({},e),{activeTextTrack:t,lastTextTrackIndex:t})})),p.on(l.default.setActiveExternalTextTrack,(function(e,t){return r(r({},e),{activeExternalTextTrack:t,lastTextTrackIndex:t})})),p.on(l.default.setActiveHardSubTrack,(function(e,t){return r(r({},e),{activeHardSubIndex:t,lastTextTrackIndex:t})})),p.on(l.default.setSource,(function(e,t){var n=s.handleSetSource(e,t);return r(r({},n),{activeExternalTextTrack:d.TEXT_TRACK_NONE,activeTextTrack:d.TEXT_TRACK_NONE,externalTextTracks:[],isPreviewing:!1,isScrubbing:!1,locationType:d.LocationType.NETWORK,textTracks:u.environmentUtils.isWeb()?e.textTracks:[],textTrackCSS:null,useExternalTextTracks:!1})})),p.on(l.default.startPreview,(function(e,t){return r(r({},e),{previewTime:t,isPreviewing:!0})})),p.on(l.default.startScrub,(function(e,t){return r(r({},e),{scrubTime:t,isScrubbing:!0})})),p.on(l.default.updateCues,(function(e,t){return r(r({},e),{cues:t})})),p.on(l.default.updateScrub,(function(e,t){return r(r({},e),{scrubTime:t})})),p.on(l.default.updateTextTrack,(function(e,t){return r(r({},e),{textTracks:e.textTracks.map((function(e,n){return n===t.index?t:e}))})})),p.on(l.default.updateTextTrackCSS,(function(e,t){return r(r({},e),{textTrackCSS:t})})),p.on(l.default.useHardSubTracks,(function(e,t){return r(r({},e),{activeHardSubIndex:t,useHardSubTracks:!0,useExternalTextTracks:!1})})),p.on(l.default.useExternalTextTracks,(function(e){return r(r({},e),{useExternalTextTracks:!0,useHardSubTracks:!1})})),p.on(l.default.useInternalTextTracks,(function(e){return r(r({},e),{useExternalTextTracks:!1,useHardSubTracks:!1})})),p.on(l.default.provideDrmParams,(function(e,t){return r(r({},e),{drmParams:t})})),t.default=p},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(9),a=n(2),o=n(8),s=n(85),u=n(39),c=n(57),l=n(60),d=n(164),f=n(7),p=n(28);function h(){return r(this,(function(e){switch(e.label){case 0:return[4,f.gateUtils.addTask(a.contentLifecycleActionCreators.readyToPlay,p.LOADED_DATA_TASK)];case 1:return e.sent(),[4,f.gateUtils.addTask(a.contentLifecycleActionCreators.readyToPlay,p.INITIAL_TEXT_TRACK_TASK)];case 2:return e.sent(),[4,f.gateUtils.addTask(a.contentLifecycleActionCreators.completedEnded,p.PLAYER_ENDED_TASK)];case 3:return e.sent(),[2]}}))}function v(e){var t=e.payload,n=t.preference,o=t.value;return r(this,(function(e){switch(e.label){case 0:return n!==c.Preference.IS_MUTED?[3,2]:[4,i.put(o?a.coreActionCreators.mute():a.coreActionCreators.unmute())];case 1:return e.sent(),[3,4];case 2:return n!==c.Preference.VOLUME?[3,4]:[4,i.put(a.coreActionCreators.updateVolume(o))];case 3:e.sent(),e.label=4;case 4:return[2]}}))}function m(e){var t,n,s=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.coreSelectors.all)];case 1:return(t=e.sent().preferences)[c.Preference.SELECTED_QUALITY]?(n=t[c.Preference.SELECTED_QUALITY],s.find((function(e){return e.height===n}))?[4,i.put(a.playerActionCreators.setVideoTrackQuality(n))]:[3,3]):[2];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function g(){var e,t;return r(this,(function(n){switch(n.label){case 0:return[4,i.select(o.configurationSelectors.self)];case 1:return e=n.sent(),(null===(t=e.upNextMetadata)||void 0===t?void 0:t.id)||f.environmentUtils.isWeb()?[3,3]:[4,i.put(a.coreActionCreators.requestExit())];case 2:n.sent(),n.label=3;case 3:return[4,f.gateUtils.completeTask(a.contentLifecycleActionCreators.completedEnded,p.PLAYER_ENDED_TASK)];case 4:return n.sent(),[2]}}))}function y(){return r(this,(function(e){switch(e.label){case 0:return[4,f.gateUtils.completeTask(a.contentLifecycleActionCreators.readyToPlay,p.LOADED_DATA_TASK)];case 1:return e.sent(),[2]}}))}function b(){return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return e.sent().isInitialPlayGranted?[3,3]:[4,i.put(a.playerActionCreators.grantInitialPlay())];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function _(){var e,t,n,s,u,c,l,d,f,h;return r(this,(function(r){switch(r.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return e=r.sent(),t=e.lastTextTrackIndex,n=e.useExternalTextTracks,s=e.useHardSubTracks,u=p.TEXT_TRACK_NONE,n?(u=e.activeExternalTextTrack,c=e.activeExternalTextTrack===p.TEXT_TRACK_NONE?t:p.TEXT_TRACK_NONE,[4,i.put(a.playerActionCreators.setActiveExternalTextTrack(c))]):[3,3];case 2:return r.sent(),[3,10];case 3:return s?(u=e.activeHardSubIndex,[4,i.select(o.mediaSelectors.all)]):[3,8];case 4:return l=r.sent().orderedVideoTrackList,d=l[u].hardsub_lang,-1!==(f=d?l.findIndex((function(e){return!e.hardsub_lang})):t)?[3,5]:(console.warn("Unable to find hard sub track to toggle to"),[3,7]);case 5:return[4,i.put(a.playerActionCreators.setActiveHardSubTrack(f))];case 6:r.sent(),r.label=7;case 7:return[3,10];case 8:return u=e.activeTextTrack,h=e.activeTextTrack===p.TEXT_TRACK_NONE?t:p.TEXT_TRACK_NONE,[4,i.put(a.playerActionCreators.setActiveTextTrack(h))];case 9:r.sent(),r.label=10;case 10:return[4,i.put(a.playerActionCreators.setLastTextTrackIndex(u))];case 11:return r.sent(),[2]}}))}function A(){return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return e.sent().useExternalTextTracks?[4,i.put(a.playerActionCreators.setActiveExternalTextTrack(p.TEXT_TRACK_NONE))]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,i.put(a.playerActionCreators.setActiveTextTrack(p.TEXT_TRACK_NONE))];case 4:return e.sent(),[2]}}))}function S(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return(e=t.sent()).activeTextTrack===p.TEXT_TRACK_NONE?[3,4]:[4,i.put(a.playerActionCreators.setActiveTextTrack(p.TEXT_TRACK_NONE))];case 2:return t.sent(),[4,i.put(a.playerActionCreators.setActiveExternalTextTrack(e.activeTextTrack))];case 3:t.sent(),t.label=4;case 4:return[2]}}))}function E(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return(e=t.sent()).activeExternalTextTrack===p.TEXT_TRACK_NONE?[3,4]:[4,i.put(a.playerActionCreators.setActiveTextTrack(e.activeExternalTextTrack))];case 2:return t.sent(),[4,i.put(a.playerActionCreators.setActiveExternalTextTrack(p.TEXT_TRACK_NONE))];case 3:t.sent(),t.label=4;case 4:return[2]}}))}function w(e){var t,n=e.payload;return r(this,(function(e){switch(e.label){case 0:return[4,i.select(o.configurationSelectors.self)];case 1:return t=e.sent(),u.isUsingSSAI(t)?u.isUsingYospace(t)?[4,u.yospaceSsaiSeek(n)]:[3,3]:[3,6];case 2:return e.sent(),[3,5];case 3:return[4,s.ssaiSeek(n)];case 4:e.sent(),e.label=5;case 5:return[3,8];case 6:return[4,i.put(a.playerActionCreators.requestSeekToStreamTime(n))];case 7:e.sent(),e.label=8;case 8:return[2]}}))}function T(e){var t,n,s,u,c,f,h;return r(this,(function(r){switch(r.label){case 0:switch(t=e.payload,n=t.type,s=t.payload,n){case l.MessageType.ACTION_PAUSE:return[3,1];case l.MessageType.ACTION_PLAY:return[3,3];case l.MessageType.ACTION_PLAY_PAUSE:return[3,5];case l.MessageType.ACTION_SET_CAPTIONING_ENABLED:return[3,7]}return[3,15];case 1:return[4,i.put(a.playerActionCreators.requestPause("MessageBus"))];case 2:return[2,r.sent()];case 3:return[4,i.put(a.playerActionCreators.requestPlay("MessageBus"))];case 4:return[2,r.sent()];case 5:return[4,i.call(d.handleTogglePlayPause)];case 6:return[2,r.sent()];case 7:return[4,i.select(o.playerSelectors.all)];case 8:return u=r.sent().useHardSubTracks,c=void 0,u?[4,i.select(o.playerSelectors.activeHardSubTrack)]:[3,10];case 9:return f=r.sent(),c=!!f.hardsub_lang,[3,12];case 10:return[4,i.select(o.playerSelectors.activeTextTrackIndex)];case 11:h=r.sent(),c=h===p.TEXT_TRACK_NONE,r.label=12;case 12:return c===s?[3,14]:[4,i.put(a.playerActionCreators.toggleTextTracks())];case 13:r.sent(),r.label=14;case 14:case 15:return[3,16];case 16:return[2]}}))}function P(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,i.select(o.playerSelectors.all)];case 1:return t.sent().isPaused?[3,3]:[4,i.put(a.playerActionCreators.requestPause("Unload Content"))];case 2:t.sent(),t.label=3;case 3:return[4,i.select(o.mediaSelectors.property,"contentTime")];case 4:return e=t.sent(),[4,i.put(a.messageBusActionCreators.sendMessageToClient({type:l.MessageType.UNLOAD_CONTENT,payload:{currentTime:e}}))];case 5:return t.sent(),[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,i.all([i.takeEvery(a.contentLifecycleActionCreators.unloadContent,P),i.takeEvery(a.coreActionCreators.startApp,h),i.takeEvery(a.coreActionCreators.loadPreference,v),i.takeEvery(a.playerActionCreators.ended,g),i.takeEvery(a.playerActionCreators.loadedData,y),i.takeEvery(a.playerActionCreators.loadedVideoTracks,m),i.takeEvery(a.playerActionCreators.resolvePlay,b),i.takeEvery(a.playerActionCreators.toggleTextTracks,_),i.takeEvery(a.playerActionCreators.useHardSubTracks,A),i.takeEvery(a.playerActionCreators.useExternalTextTracks,S),i.takeEvery(a.playerActionCreators.useInternalTextTracks,E),i.takeEvery(a.playerActionCreators.requestSeekToContentTime,w),i.takeEvery(a.messageBusActionCreators.receiveEvent,T)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(978)),u=function(e){function t(){var t=e.call(this,"InitialTextTrackSelector")||this;return t.getOptions=function(){return{sagas:[s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=n(28),c=n(28),l=n(7),d=i(n(68));function f(){var e,t,n,i,f,p,h,v,m;return r(this,(function(r){switch(r.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=r.sent(),t=e.externalTextTracks,e.useExternalTextTracks&&t.length?[4,a.select(s.configurationSelectors.self)]:[2];case 2:return i=r.sent(),(f=null===(m=null==i?void 0:i.user)||void 0===m?void 0:m.preferredLanguage)===c.TEXT_TRACK_LANGUAGE_OFF?n=c.TEXT_TRACK_NONE:f&&(p=d.default(f,t.map((function(e){return e.language}))),n=t.find((function(e){return l.textTrackUtils.isSupported(e.type)&&e.language===p.code}))),n?[3,4]:[4,a.select(s.mediaSelectors.all)];case 3:h=r.sent().orderedVideoTrackList,v=l._.get(h,"[0].language"),n=t.find((function(e){return l.textTrackUtils.isSupported(e.type)&&e.language===v})),r.label=4;case 4:return n?[4,a.put(o.playerActionCreators.setActiveExternalTextTrack(t.indexOf(n)))]:[3,6];case 5:return r.sent(),[3,9];case 6:return[4,l.gateUtils.isComplete(o.contentLifecycleActionCreators.readyToPlay,u.INITIAL_TEXT_TRACK_TASK)];case 7:return r.sent()?[3,9]:[4,l.gateUtils.completeTask(o.contentLifecycleActionCreators.readyToPlay,u.INITIAL_TEXT_TRACK_TASK)];case 8:r.sent(),r.label=9;case 9:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.playerActionCreators.loadedExternalTextTracks,f)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(300)),u=function(e){function t(){var t=e.call(this,"Theme")||this;return t.getOptions=function(){return{reducerMap:{theme:s.default}}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u,c=n(9),l=n(2),d=n(8),f=s(n(366)),p=s(n(22)),h=s(n(31)),v=s(n(216)),m=s(n(981));!function(e){e.SUCCESS="success",e.FAILURE="failure"}(u||(u={}));var g=function(e){function t(){var t=e.call(this,"BIFLoader")||this;return t.parser=null,t.getOptions=function(){return{sagas:[t.register]}},t.isSingleton=function(){return!1},t.requestPreview=function(e){return a(t,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return r.trys.push([0,6,,7]),t=void 0,p.default.isWeb()?[4,fetch(e)]:[3,3];case 1:return[4,r.sent().arrayBuffer()];case 2:return t=r.sent(),[3,5];case 3:return[4,v.default("GET",e,{responseType:"arraybuffer"})];case 4:t=r.sent(),r.label=5;case 5:return this.parser=new m.default(t),[2,!0];case 6:return n=r.sent(),console.warn("Unable to get BIF",n.status,n.statusText),[2,!1];case 7:return[2]}}))}))},t}return i(t,e),t.prototype.getThumbnailAtInterval=function(e){return this.parser?this.parser.getImageDataForTime(e):null},t.prototype.readyToPlay=function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,c.select(d.configurationSelectors.self)];case 1:return e=n.sent(),(t=h.default.get(e,"media.previews[0].src"))?[4,c.call(this.requestPreview,t)]:[2];case 2:return n.sent()?[4,c.put(l.mediaActionCreators.loadTrickScrubArchive())]:[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))},t.prototype.unloadContent=function(){return o(this,(function(e){switch(e.label){case 0:return this.parser=null,[4,c.put(l.mediaActionCreators.unloadTrickScrubArchive())];case 1:return e.sent(),[2]}}))},t}(f.default);t.default=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MAGIC_NUMBER=t.BIF_INDEX_ENTRY_LENGTH=t.VERSION_OFFSET=t.NUMBER_OF_BIF_IMAGES_OFFSET=t.FRAMEWISE_SEPARATION_OFFSET=t.BIF_INDEX_OFFSET=void 0;var i=r(n(982)),a=n(148);t.BIF_INDEX_OFFSET=64,t.FRAMEWISE_SEPARATION_OFFSET=16,t.NUMBER_OF_BIF_IMAGES_OFFSET=12,t.VERSION_OFFSET=8,t.BIF_INDEX_ENTRY_LENGTH=8,t.MAGIC_NUMBER=new Uint8Array([137,66,73,70,13,10,26,10]);var o=function(e){var n=this;if(this.bifIndex=[],this.getImageDataForTime=function(e){if(e<0)return null;var t=n.bifIndex.find((function(t){var r=Math.round(1e3*e);return r-r%n.framewiseSeparation<=t.timestamp*n.framewiseSeparation}));if(!t)return null;var r=n.arrayBuffer.slice(t.offset,t.offset+t.length);return"data:image/jpeg;base64,"+a.encode(new Uint8Array(r).reduce((function(e,t){return e+String.fromCharCode(t)}),""))},this.getOffsets=function(){return n.bifIndex.map((function(e){return e.timestamp*n.framewiseSeparation/1e3}))},this.generateBIFIndex=function(){for(var e=[],r=0,i=t.BIF_INDEX_OFFSET;r<n.numberOfBIFImages;r+=1,i+=t.BIF_INDEX_ENTRY_LENGTH){var a=i,o=i+4,s=o+t.BIF_INDEX_ENTRY_LENGTH,u=n.data.getUint32(o,!0),c=n.data.getUint32(s,!0),l=n.data.getUint32(a,!0);e.push({offset:u,timestamp:l,length:c-u})}return e},!function(e){var n=!0;return t.MAGIC_NUMBER.forEach((function(t,r){t===e[r]||(n=!1)})),n}(new Uint8Array(e).slice(0,8)))throw new Error("Invalid BIF file.");this.arrayBuffer=e,this.data=new i.default(e),this.framewiseSeparation=this.data.getUint32(t.FRAMEWISE_SEPARATION_OFFSET,!0)||1e3,this.numberOfBIFImages=this.data.getUint32(t.NUMBER_OF_BIF_IMAGES_OFFSET,!0),this.version=this.data.getUint32(t.VERSION_OFFSET,!0),this.bifIndex=this.generateBIFIndex()};t.default=o},function(e,t,n){(function(t){!function(n){e.exports=function(e){"use strict";function n(e,t){return"object"==typeof e&&null!==e&&(e.constructor===t||Object.prototype.toString.call(e)==="[object "+t.name+"]")}function r(e,t){return!t&&n(e,Array)?e:Array.prototype.slice.call(e)}function i(e,t){return void 0!==e?e:t}function a(e,r,o,s){if(a.is(e)){var u=e.slice(r,r+o);return u._littleEndian=i(s,u._littleEndian),u}if(!a.is(this))return new a(e,r,o,s);if(this.buffer=e=a.wrapBuffer(e),this._isArrayBuffer=l.ArrayBuffer&&n(e,ArrayBuffer),this._isPixelData=!1,this._isDataView=l.DataView&&this._isArrayBuffer,this._isNodeBuffer=l.NodeBuffer&&n(e,t),!this._isNodeBuffer&&!this._isArrayBuffer&&!n(e,Array))throw new TypeError("jDataView buffer has an incompatible type");this._littleEndian=!!s;var c="byteLength"in e?e.byteLength:e.length;this.byteOffset=r=i(r,0),this.byteLength=o=i(o,c-r),this._offset=this._bitOffset=0,this._isDataView?this._view=new DataView(e,r,o):this._checkBounds(r,o,c),this._engineAction=this._isDataView?this._dataViewAction:this._isNodeBuffer?this._nodeBufferAction:this._isArrayBuffer?this._arrayBufferAction:this._arrayAction}function o(e){if(l.NodeBuffer)return new t(e,"binary");for(var n=new(l.ArrayBuffer?Uint8Array:Array)(e.length),r=0,i=e.length;i>r;r++)n[r]=255&e.charCodeAt(r);return n}function s(e){return e>=0&&31>e?1<<e:s[e]||(s[e]=Math.pow(2,e))}function u(e,t){this.lo=e,this.hi=t}function c(){u.apply(this,arguments)}var l={NodeBuffer:"Buffer"in e,DataView:"DataView"in e,ArrayBuffer:"ArrayBuffer"in e,PixelData:!1},d=e.TextEncoder,f=e.TextDecoder;l.NodeBuffer&&function(e){try{e.writeFloatLE(1/0,0)}catch(e){l.NodeBuffer=!1}}(new t(4));var p={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};a.wrapBuffer=function(e){switch(typeof e){case"number":if(l.NodeBuffer)(e=new t(e)).fill(0);else if(l.ArrayBuffer)e=new Uint8Array(e).buffer;else{e=new Array(e);for(var i=0;i<e.length;i++)e[i]=0}return e;case"string":e=o(e);default:return"length"in e&&!(l.NodeBuffer&&n(e,t)||l.ArrayBuffer&&n(e,ArrayBuffer))&&(l.NodeBuffer?e=new t(e):l.ArrayBuffer?n(e,ArrayBuffer)||(n(e=new Uint8Array(e).buffer,ArrayBuffer)||(e=new Uint8Array(r(e,!0)).buffer)):e=r(e)),e}},a.is=function(e){return e&&e.jDataView},a.from=function(){return new a(arguments)},a.Uint64=u,u.prototype={valueOf:function(){return this.lo+s(32)*this.hi},toString:function(){return Number.prototype.toString.apply(this.valueOf(),arguments)}},u.fromNumber=function(e){var t=Math.floor(e/s(32));return new u(e-t*s(32),t)},a.Int64=c,c.prototype="create"in Object?Object.create(u.prototype):new u,c.prototype.valueOf=function(){return this.hi<s(31)?u.prototype.valueOf.apply(this,arguments):-(s(32)-this.lo+s(32)*(s(32)-1-this.hi))},c.fromNumber=function(e){var t,n;if(e>=0){var r=u.fromNumber(e);t=r.lo,n=r.hi}else t=e-(n=Math.floor(e/s(32)))*s(32),n+=s(32);return new c(t,n)};var h=a.prototype={compatibility:l,jDataView:!0,_checkBounds:function(e,t,n){if("number"!=typeof e)throw new TypeError("Offset is not a number.");if("number"!=typeof t)throw new TypeError("Size is not a number.");if(0>t)throw new RangeError("Length is negative.");if(0>e||e+t>i(n,this.byteLength))throw new RangeError("Offsets are out of bounds.")},_action:function(e,t,n,r,a){return this._engineAction(e,t,i(n,this._offset),i(r,this._littleEndian),a)},_dataViewAction:function(e,t,n,r,i){return this._offset=n+p[e],t?this._view["get"+e](n,r):this._view["set"+e](n,i,r)},_arrayBufferAction:function(t,n,r,a,o){var s,u=p[t],c=e[t+"Array"];if(a=i(a,this._littleEndian),1===u||(this.byteOffset+r)%u==0&&a)return s=new c(this.buffer,this.byteOffset+r,1),this._offset=r+u,n?s[0]:s[0]=o;var l=new Uint8Array(n?this.getBytes(u,r,a,!0):u);return s=new c(l.buffer,0,1),n?s[0]:(s[0]=o,void this._setBytes(r,l,a))},_arrayAction:function(e,t,n,r,i){return t?this["_get"+e](n,r):this["_set"+e](n,i,r)},_getBytes:function(e,t,n){n=i(n,this._littleEndian),t=i(t,this._offset),e=i(e,this.byteLength-t),this._checkBounds(t,e),t+=this.byteOffset,this._offset=t-this.byteOffset+e;var a=this._isArrayBuffer?new Uint8Array(this.buffer,t,e):(this.buffer.slice||Array.prototype.slice).call(this.buffer,t,t+e);return n||1>=e?a:r(a).reverse()},getBytes:function(e,t,n,a){var o=this._getBytes(e,t,i(n,!0));return a?r(o):o},_setBytes:function(e,n,a){var o=n.length;if(0!==o){if(a=i(a,this._littleEndian),e=i(e,this._offset),this._checkBounds(e,o),!a&&o>1&&(n=r(n,!0).reverse()),e+=this.byteOffset,this._isArrayBuffer)new Uint8Array(this.buffer,e,o).set(n);else if(this._isNodeBuffer)new t(n).copy(this.buffer,e);else for(var s=0;o>s;s++)this.buffer[e+s]=n[s];this._offset=e-this.byteOffset+o}},setBytes:function(e,t,n){this._setBytes(e,t,i(n,!0))},getString:function(e,t,n){if(this._isNodeBuffer)return t=i(t,this._offset),e=i(e,this.byteLength-t),this._checkBounds(t,e),this._offset=t+e,this.buffer.toString(n||"binary",this.byteOffset+t,this.byteOffset+this._offset);var r=this._getBytes(e,t,!0);if(n="utf8"===n?"utf-8":n||"binary",f&&"binary"!==n)return new f(n).decode(this._isArrayBuffer?r:new Uint8Array(r));var a="";e=r.length;for(var o=0;e>o;o++)a+=String.fromCharCode(r[o]);return"utf-8"===n&&(a=decodeURIComponent(escape(a))),a},setString:function(e,t,n){if(this._isNodeBuffer)return e=i(e,this._offset),this._checkBounds(e,t.length),void(this._offset=e+this.buffer.write(t,this.byteOffset+e,n||"binary"));var r;n="utf8"===n?"utf-8":n||"binary",d&&"binary"!==n?r=new d(n).encode(t):("utf-8"===n&&(t=unescape(encodeURIComponent(t))),r=o(t)),this._setBytes(e,r,!0)},getChar:function(e){return this.getString(1,e)},setChar:function(e,t){this.setString(e,t)},tell:function(){return this._offset},seek:function(e){return this._checkBounds(e,0),this._offset=e},skip:function(e){return this.seek(this._offset+e)},slice:function(e,t,n){function r(e,t){return 0>e?e+t:e}return e=r(e,this.byteLength),t=r(i(t,this.byteLength),this.byteLength),n?new a(this.getBytes(t-e,e,!0,!0),void 0,void 0,this._littleEndian):new a(this.buffer,this.byteOffset+e,t-e,this._littleEndian)},alignBy:function(e){return this._bitOffset=0,1!==i(e,1)?this.skip(e-(this._offset%e||e)):this._offset},_getFloat64:function(e,t){var n=this._getBytes(8,e,t),r=1-2*(n[7]>>7),i=((n[7]<<1&255)<<3|n[6]>>4)-1023,a=(15&n[6])*s(48)+n[5]*s(40)+n[4]*s(32)+n[3]*s(24)+n[2]*s(16)+n[1]*s(8)+n[0];return 1024===i?0!==a?NaN:1/0*r:-1023===i?r*a*s(-1074):r*(1+a*s(-52))*s(i)},_getFloat32:function(e,t){var n=this._getBytes(4,e,t),r=1-2*(n[3]>>7),i=(n[3]<<1&255|n[2]>>7)-127,a=(127&n[2])<<16|n[1]<<8|n[0];return 128===i?0!==a?NaN:1/0*r:-127===i?r*a*s(-149):r*(1+a*s(-23))*s(i)},_get64:function(e,t,n){n=i(n,this._littleEndian),t=i(t,this._offset);for(var r=n?[0,4]:[4,0],a=0;2>a;a++)r[a]=this.getUint32(t+r[a],n);return this._offset=t+8,new e(r[0],r[1])},getInt64:function(e,t){return this._get64(c,e,t)},getUint64:function(e,t){return this._get64(u,e,t)},_getInt32:function(e,t){var n=this._getBytes(4,e,t);return n[3]<<24|n[2]<<16|n[1]<<8|n[0]},_getUint32:function(e,t){return this._getInt32(e,t)>>>0},_getInt16:function(e,t){return this._getUint16(e,t)<<16>>16},_getUint16:function(e,t){var n=this._getBytes(2,e,t);return n[1]<<8|n[0]},_getInt8:function(e){return this._getUint8(e)<<24>>24},_getUint8:function(e){return this._getBytes(1,e)[0]},_getBitRangeData:function(e,t){var n=(i(t,this._offset)<<3)+this._bitOffset,r=n+e,a=n>>>3,o=r+7>>>3,s=this._getBytes(o-a,a,!0),u=0;(this._bitOffset=7&r)&&(this._bitOffset-=8);for(var c=0,l=s.length;l>c;c++)u=u<<8|s[c];return{start:a,bytes:s,wideValue:u}},getSigned:function(e,t){var n=32-e;return this.getUnsigned(e,t)<<n>>n},getUnsigned:function(e,t){var n=this._getBitRangeData(e,t).wideValue>>>-this._bitOffset;return 32>e?n&~(-1<<e):n},_setBinaryFloat:function(e,t,n,r,i){var a,o,u=0>t?1:0,c=~(-1<<r-1),l=1-c;0>t&&(t=-t),0===t?(a=0,o=0):isNaN(t)?(a=2*c+1,o=1):1/0===t?(a=2*c+1,o=0):(a=Math.floor(Math.log(t)/Math.LN2))>=l&&c>=a?(o=Math.floor((t*s(-a)-1)*s(n)),a+=c):(o=Math.floor(t/s(l-n)),a=0);for(var d=[];n>=8;)d.push(o%256),o=Math.floor(o/256),n-=8;for(a=a<<n|o,r+=n;r>=8;)d.push(255&a),a>>>=8,r-=8;d.push(u<<r|a),this._setBytes(e,d,i)},_setFloat32:function(e,t,n){this._setBinaryFloat(e,t,23,8,n)},_setFloat64:function(e,t,n){this._setBinaryFloat(e,t,52,11,n)},_set64:function(e,t,n,r){"object"!=typeof n&&(n=e.fromNumber(n)),r=i(r,this._littleEndian),t=i(t,this._offset);var a=r?{lo:0,hi:4}:{lo:4,hi:0};for(var o in a)this.setUint32(t+a[o],n[o],r);this._offset=t+8},setInt64:function(e,t,n){this._set64(c,e,t,n)},setUint64:function(e,t,n){this._set64(u,e,t,n)},_setUint32:function(e,t,n){this._setBytes(e,[255&t,t>>>8&255,t>>>16&255,t>>>24],n)},_setUint16:function(e,t,n){this._setBytes(e,[255&t,t>>>8&255],n)},_setUint8:function(e,t){this._setBytes(e,[255&t])},setUnsigned:function(e,t,n){var r=this._getBitRangeData(n,e),i=r.wideValue,a=r.bytes;i&=~(~(-1<<n)<<-this._bitOffset),i|=(32>n?t&~(-1<<n):t)<<-this._bitOffset;for(var o=a.length-1;o>=0;o--)a[o]=255&i,i>>>=8;this._setBytes(r.start,a,!0)}},v={Int8:"Int8",Int16:"Int16",Int32:"Int32",Uint8:"UInt8",Uint16:"UInt16",Uint32:"UInt32",Float32:"Float",Float64:"Double"};for(var m in h._nodeBufferAction=function(e,t,n,r,i){this._offset=n+p[e];var a=v[e]+("Int8"===e||"Uint8"===e?"":r?"LE":"BE");return n+=this.byteOffset,t?this.buffer["read"+a](n):this.buffer["write"+a](i,n)},p)!function(e){h["get"+e]=function(t,n){return this._action(e,!0,t,n)},h["set"+e]=function(t,n,r){this._action(e,!1,t,r,n)}}(m);for(var g in h._setInt32=h._setUint32,h._setInt16=h._setUint16,h._setInt8=h._setUint8,h.setSigned=h.setUnsigned,h)"set"===g.slice(0,3)&&function(e){h["write"+e]=function(){Array.prototype.unshift.call(arguments,void 0),this["set"+e].apply(this,arguments)}}(g.slice(3));return a}(this)}()}).call(this,n(310).Buffer)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(13)),s=a(n(984)),u=a(n(985)),c=a(n(986)),l=function(e){function t(){var t=e.call(this,"UI")||this;return t.getOptions=function(){return{reducerMap:{ui:c.default},sagas:[u.default,s.default]}},t.isSingleton=function(){return!1},t}return i(t,e),t}(o.default);t.default=l},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r(this,(function(e){return[2]}))}},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),o=n(2),s=n(8),u=i(n(32)),c=n(60),l=i(n(12)),d=n(7);function f(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,a.select(s.playerSelectors.all)];case 1:return e=t.sent().isPaused,[4,a.call(h)];case 2:return t.sent(),[4,a.put(o.controlsActionCreators.deactivateControls(!0))];case 3:return t.sent(),e?[3,5]:[4,a.put(o.playerActionCreators.requestPause("Pause on Error"))];case 4:t.sent(),t.label=5;case 5:return[4,a.put(o.uiActionCreators.showErrorScreen())];case 6:return t.sent(),[2]}}))}function p(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.uiActionCreators.showLoadingScreen())];case 1:return e.sent(),[2]}}))}function h(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.uiActionCreators.hideLoadingScreen())];case 1:return e.sent(),[4,a.put(o.uiActionCreators.showPlayer())];case 2:return e.sent(),[2]}}))}function v(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.uiActionCreators.showStartScreen())];case 1:return e.sent(),[4,a.call(h)];case 2:return e.sent(),[2]}}))}function m(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.adsManagerSelectors.all)];case 1:return e.sent().isVPAIDLoading?[3,3]:[4,a.call(h)];case 2:e.sent(),e.label=3;case 3:return[4,a.select(s.uiSelectors.property,"isStartScreenVisible")];case 4:return e.sent()?[4,a.put(o.uiActionCreators.hideStartScreen())]:[3,6];case 5:e.sent(),e.label=6;case 6:return[2]}}))}function g(){var e;return r(this,(function(t){switch(t.label){case 0:return[4,a.put(o.uiActionCreators.hideStartScreen())];case 1:return t.sent(),[4,a.select(s.adsManagerSelectors.all)];case 2:return e=t.sent().adBreaks,d.adsUtils.hasPrerollAdBreak(e)||l.default.alwaysShowLoadingScreen?[3,4]:[4,a.call(h)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}function y(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.uiSelectors.property,"isLoadingScreenVisible")];case 1:return e.sent()?[4,a.call(h)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function b(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.uiSelectors.property,"isLoadingScreenVisible")];case 1:return e.sent()?[3,3]:[4,a.put(o.uiActionCreators.showLoadingScreen())];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function _(){return r(this,(function(e){switch(e.label){case 0:return[4,a.call(h)];case 1:return e.sent(),[4,a.select(s.uiSelectors.property,"isStartScreenVisible")];case 2:return e.sent()?[4,a.put(o.uiActionCreators.hideStartScreen())]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}function A(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.uiSelectors.property,"isStartScreenVisible")];case 1:return e.sent()?[4,a.put(o.uiActionCreators.hideStartScreen())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}function S(){return r(this,(function(e){return u.default.stop(!1),[2]}))}function E(){return r(this,(function(e){switch(e.label){case 0:return u.default.start(),[4,a.put(o.controlsActionCreators.activateControls())];case 1:return e.sent(),[2]}}))}function w(e){var t=e.payload;return r(this,(function(e){switch(e.label){case 0:return(null==t?void 0:t.type)!==c.MessageType.CLIENT_DISMISS_ERROR_SCREEN?[3,2]:[4,a.put(o.uiActionCreators.hideErrorScreen())];case 1:e.sent(),e.label=2;case 2:return[2]}}))}function T(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.uiActionCreators.showLoadingScreen())];case 1:return e.sent(),[2]}}))}function P(){return r(this,(function(e){switch(e.label){case 0:return[4,a.put(o.uiActionCreators.showLoadingScreen())];case 1:return e.sent(),[2]}}))}function C(){return r(this,(function(e){switch(e.label){case 0:return[4,a.call(h)];case 1:return e.sent(),[2]}}))}function O(){return r(this,(function(e){switch(e.label){case 0:return[4,a.select(s.uiSelectors.property,"isConfigErrorScreenVisible")];case 1:return e.sent()?[4,a.put(o.uiActionCreators.hideConfigErrorScreen())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}}))}t.default=function(){return r(this,(function(e){switch(e.label){case 0:return[4,a.all([a.takeEvery(o.contentLifecycleActionCreators.initiatedPlaybackFromBeginning,g),a.takeEvery(o.adsManagerActionCreators.rejectAdsAutoPlay,v),a.takeEvery(o.adsManagerActionCreators.endedAdBreak,y),a.takeEvery(o.adsManagerActionCreators.loadingAdSlot,b),a.takeEvery(o.adsManagerActionCreators.startedAdSlot,_),a.takeEvery(o.adsManagerActionCreators.startedAdBreak,A),a.takeEvery(o.playerActionCreators.grantInitialPlay,m),a.takeEvery(o.coreActionCreators.startApp,p),a.takeEvery(o.uiActionCreators.showSettingsMenu,S),a.takeEvery(o.uiActionCreators.hideSettingsMenu,E),a.takeEvery(o.contentLifecycleActionCreators.unloadContent,T),a.takeEvery(o.messageBusActionCreators.receiveEvent,w),a.takeEvery(o.coreActionCreators.error,f),a.takeEvery([o.coreActionCreators.forceExit,o.coreActionCreators.requestExit],O),a.takeEvery(o.adsManagerActionCreators.vpaidGetInteractiveUnit,P),a.takeEvery(o.adsManagerActionCreators.vpaidUnloadAdUnit,C)])];case 1:return e.sent(),[2]}}))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return a(t,e),t},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(21),l=n(2),d=n(154),f=n(70),p=u(n(23)),h=o(n(301)),v=n(41),m={advancedSettingsMenuLocation:null,alternativePlayerRenderer:null,currentSkipType:null,infoMessage:null,isBackRequested:!1,isCanvasVisible:!1,isConfigErrorScreenVisible:!1,isErrorScreenVisible:!1,isLoadingScreenVisible:!1,isPlayerVisible:!1,isPreviewOverlayEnabled:!1,isSettingsMenuVisible:!1,isStartScreenVisible:!1,isStatsForNerdsVisible:!1,isToastOverlayVisible:!1,isTrickScrubbingEnabled:p.default.isTrickScrubbingSupported(),isUpNextBannerDismissed:!1,selectedDesign:v.LayoutDesign.TV_DESIGN_2,skipEvents:[],skipSource:d.SkipSource.PRODUCTION,toastMessage:"",upNextState:f.UpNextState.STANDBY},g=c.createReducer({},m);g.on(h.enableTrickScrubbing,(function(e){return r(r({},e),{isTrickScrubbingEnabled:!0})})),g.on(h.showCanvas,(function(e){return r(r({},e),{isCanvasVisible:!0})})),g.on(h.showErrorScreen,(function(e){return r(r({},e),{isErrorScreenVisible:!0})})),g.on(h.showConfigErrorScreen,(function(e){return r(r({},e),{isConfigErrorScreenVisible:!0})})),g.on(h.showStartScreen,(function(e){return r(r({},e),{isStartScreenVisible:!0})})),g.on(h.showLoadingScreen,(function(e){return r(r({},e),{isLoadingScreenVisible:!0})})),g.on(h.showPreviewOverlay,(function(e){return r(r({},e),{isPreviewOverlayEnabled:!0})})),g.on(h.showSettingsMenu,(function(e){return r(r({},e),{isSettingsMenuVisible:!0})})),g.on(h.showSkipButton,(function(e,t){return r(r({},e),{currentSkipType:t})})),g.on(h.showAdvancedSettingsMenu,(function(e,t){return r(r({},e),{advancedSettingsMenuLocation:t})})),g.on(h.showStatsForNerds,(function(e){return r(r({},e),{isStatsForNerdsVisible:!0})})),g.on(h.showPlayer,(function(e){return r(r({},e),{isPlayerVisible:!0})})),g.on(h.showUpNextScreen,(function(e){return r(r({},e),{upNextState:f.UpNextState.VISIBLE})})),g.on(h.showToastOverlay,(function(e,t){return r(r({},e),{isToastOverlayVisible:!0,toastMessage:t})})),g.on(h.resetUpNextScreen,(function(e){return r(r({},e),{upNextState:f.UpNextState.STANDBY})})),g.on(h.resetUpNextBanner,(function(e){return r(r({},e),{isUpNextBannerDismissed:!1})})),g.on(h.requestBack,(function(e){return r(r({},e),{isBackRequested:!0})})),g.on(h.disableTrickScrubbing,(function(e){return r(r({},e),{isTrickScrubbingEnabled:!1})})),g.on(h.hideCanvas,(function(e){return r(r({},e),{isCanvasVisible:!1})})),g.on(h.hideConfigErrorScreen,(function(e){return r(r({},e),{isConfigErrorScreenVisible:!1})})),g.on(h.hideErrorScreen,(function(e){return r(r({},e),{isErrorScreenVisible:!1})})),g.on(h.hideStartScreen,(function(e){return r(r({},e),{isStartScreenVisible:!1})})),g.on(h.hideLoadingScreen,(function(e){return r(r({},e),{isLoadingScreenVisible:!1})})),g.on(h.hidePreviewOverlay,(function(e){return r(r({},e),{isPreviewOverlayEnabled:!1})})),g.on(h.hideSettingsMenu,(function(e){return r(r({},e),{isSettingsMenuVisible:!1})})),g.on(h.hideSkipButton,(function(e){return r(r({},e),{currentSkipType:null})})),g.on(h.hideAdvancedSettingsMenu,(function(e){return r(r({},e),{advancedSettingsMenuLocation:null})})),g.on(h.hideStatsForNerds,(function(e){return r(r({},e),{isStatsForNerdsVisible:!1})})),g.on(h.hidePlayer,(function(e){return r(r({},e),{isPlayerVisible:!1})})),g.on(h.hideUpNextScreen,(function(e){return r(r({},e),{upNextState:f.UpNextState.STANDBY})})),g.on(h.hideToastOverlay,(function(e){return r(r({},e),{isToastOverlayVisible:!1,toastMessage:""})})),g.on(h.setAlternativePlayerRenderer,(function(e,t){return r(r({},e),{alternativePlayerRenderer:t})})),g.on(h.clearAlternativePlayerRenderer,(function(e){return r(r({},e),{alternativePlayerRenderer:null})})),g.on(h.disableUpNextScreen,(function(e){return r(r({},e),{upNextState:f.UpNextState.DISABLED})})),g.on(h.dismissUpNextScreen,(function(e){return r(r({},e),{upNextState:f.UpNextState.DISMISSED})})),g.on(h.dismissUpNextBanner,(function(e){return r(r({},e),{isUpNextBannerDismissed:!0})})),g.on(h.selectDesign,(function(e,t){return r(r({},e),{selectedDesign:t})})),g.on(h.completeBack,(function(e){return r(r({},e),{isBackRequested:!1})})),g.on(h.updateInfoMessage,(function(e,t){return r(r({},e),{infoMessage:t})})),g.on(h.removeSkipEvent,(function(e,t){var n=t.source,i=t.type;return r(r({},e),{skipEvents:e.skipEvents.filter((function(e){return e.source!==n||e.type!==i}))})})),g.on(h.setSkipEvent,(function(e,t){return r(r({},e),{skipEvents:s(e.skipEvents,[t])})})),g.on(h.setSkipSource,(function(e,t){return r(r({},e),{skipSource:t})})),g.on(l.contentLifecycleActionCreators.unloadContent,(function(e){return r(r({},e),{skipEvents:[]})})),t.default=g},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t},c=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},d=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)r[i]=a[o];return r},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var p,h,v=f(n(988)),m=u(n(1)),g=n(3),y=n(2),b=f(n(61)),_=f(n(12)),A=f(n(44)),S=f(n(120)),E=n(27),w=n(33),T=n(153),P=f(n(22)),C=n(23),O=f(n(307)),k=u(n(210)),I=f(n(174)),x=f(n(989)),D=n(991),R=n(35),M=P.default.isWeb(),N=P.default.isYoui();!function(e){e.LIVE_VPAID="243406566",e.TRUEX="263675196",e.VPAID="251794869"}(p||(p={})),function(e){e.KATANA="Katana",e.VENDRI="Vendri",e.YOSPACE="Yospace"}(h||(h={}));var L,j=function(e){var t=e.testID,n=e.children,r=e.isActive,i=e.onPress,a=e.style;return m.default.createElement(b.default,{activeOpacity:.5,style:[F.button,{backgroundColor:r?"green":"red"},a],onPress:function(){return i()},testID:t},m.default.createElement(g.Text,{style:F.buttonText},n))};!function(e){e.CMS="cms",e.LOCAL="local"}(L||(L={}));var B=R.DEFAULT_LOCALE,U=d(O.default.supported,["none"]),V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={areOptionsVisible:!P.default.isMobileNative(),headless:!1,holdConfig:!1,adsConfigId:null,adTech:h.VENDRI,allowedRestrictions:{cellular:!1,mature:!1,premium:!0},configuration:{user:null},currentRestrictions:{mature:!1,premium:!1},fetchFromSource:L.CMS,focusedTitleIndex:M?0:null,inactivityTimeout:2500,isA9Enabled:!1,loadPlayer:!1,modalTextMessage:"",nextRestrictions:{mature:!1,premium:!1},startTime:0,userId:"3495466",uiLanguage:B,videoSourceUrl:null,videoRequestTime:null},t.titles=x.default,t.getConfig=function(){var e=t.state,n=e.configuration,r=e.fetchFromSource,i=e.focusedTitleIndex,o=e.holdConfig,s=e.inactivityTimeout,u=e.startTime,c=e.uiLanguage,l=e.videoRequestTime;if(o)return null;var d=t.titles[i],f=n||d.config||{},p=Object.keys(t.state.allowedRestrictions).filter((function(e){return t.state.allowedRestrictions[e]})),v=Object.keys(t.state.currentRestrictions).filter((function(e){return t.state.currentRestrictions[e]}));return r===L.LOCAL?f:a(a({},f),{a9:{enabled:t.state.isA9Enabled&&t.state.adTech===h.KATANA},ads:a(a({},f.ads),{adBreaks:t.state.adTech===h.VENDRI?[{type:"preroll",offset:0},{type:"midroll",offset:223.01},{type:"midroll",offset:697.98},{type:"midroll",offset:1358.95}]:null,adTech:t.state.adTech,configId:!t.hasPremiumPermission()&&t.state.adsConfigId,pubId:t.hasPremiumPermission()||t.state.adTech!==h.VENDRI?"":"crunchyroll-web"}),analytics:a(a({},f.analytics),{videoRequestTime:l,sessionStartType:"testHarness"}),controls:a(a({},f),{inactivityTimeout:s}),metadata:a(a({},f.metadata),{restrictions:v}),player:a(a({},f.player),{startTime:u}),user:a(a({},f.user),{allowedRestrictions:p,id:t.hasPremiumPermission()&&t.state.userId,preferredLanguage:B,uiLanguage:c}),yospace:{noYoMode:t.state.adTech===h.KATANA}})},t.setTitle=function(e){switch(t.setState({focusedTitleIndex:e,loadPlayer:!0,videoRequestTime:Date.now()}),t.state.fetchFromSource){case L.CMS:var n=t.titles.find((function(n){return n.title===t.titles[e].next}));setTimeout((function(){S.default.sendMessage({type:k.MessageType.ACTION_FETCH_CONFIG,payload:{guid:t.titles[e].guid,nextGuid:null==n?void 0:n.guid}})}),100);break;case L.LOCAL:t.setState({configuration:t.titles[e].config})}},t.handleEntryFocus=function(e,n){void 0===n&&(n=0);var r=t.titles,i=t.state.focusedTitleIndex,a=Number.isInteger(e)?e:(i+n+r.length)%r.length;t.setState({focusedTitleIndex:a})},t.handleToggleRestriction=function(e,n){t.handleSetRestriction(e,n,!t.state[e][n])},t.handleSetRestriction=function(e,n,r){return c(t,void 0,void 0,(function(){var t,i;return l(this,(function(o){switch(t=a(a({},this.state[e]),((i={})[n]=r,i)),e){case"allowedRestrictions":this.setState({allowedRestrictions:t});break;case"currentRestrictions":this.setState({currentRestrictions:t});break;case"nextRestrictions":this.setState({nextRestrictions:t})}return[2]}))}))},t.handlePlayUrl=function(){var e,n=t.state.videoSourceUrl;if(n.match(/\.mpd/))e=E.StreamType.DASH;else if(n.match(/\.m3u8/))e=E.StreamType.HLS;else{if(!n.match(/\.mp4/))return void C.showAlert("Unable to determine StreamType for the provided URL");e=E.StreamType.MP4}var r={media:{playlists:[{drm:!1,mime_type:e,multitrack:!1,language:"",hardsub_lang:"",src:n}]},metadata:{id:"CustomVideo"}};t.setState({configuration:r,loadPlayer:!0})},t.handleEntryPress=function(e){return void 0===e&&(e=0),c(t,void 0,void 0,(function(){return l(this,(function(t){return this.setTitle(e),[2]}))}))},t.handleMessageBus=function(){S.default.onMessage(t.handleMessage)},t.handleMessage=function(e){switch(e.type){case k.MessageType.ASSET_DOWNLOAD_PROGRESS:console.log("[TEST_HARNESS] Asset download progress:\n"+JSON.stringify(e.payload,null,2));break;case k.MessageType.CLIENT_NAVIGATE_TO:e.payload.type===k.NavigationDestination.ENABLE_CELLULAR_STREAMING?t.setState({modalTextMessage:"Enable cellular streaming?"}):e.payload.type===k.NavigationDestination.ENABLE_MATURE_CONTENT?t.setState({modalTextMessage:"Enable mature content?"}):e.payload.type===k.NavigationDestination.PREMIUM_UPSELL&&t.setState({modalTextMessage:"Enable premium upsell?"}),console.warn("[TEST_HARNESS] Requested navigateTo",e.payload.path);break;case k.MessageType.CLIENT_PLAYER_EXIT:t.setState({loadPlayer:!1});break;case k.MessageType.CLIENT_PLAYHEAD_UPDATE:console.log("[TEST_HARNESS] playhead update: ",JSON.stringify(e.payload,null,2));break;case k.MessageType.CLIENT_RETRIEVED_CONFIG:t.handleRetrievedConfig(e.payload);break;case k.MessageType.CLIENT_SKIP_TO_NEXT:t.handleSkipToNext();break;case k.MessageType.GET_ETP_TOKEN:console.warn("[TEST_HARNESS] sending dummy token to velocity. This will fail the playhead request."),A.default.dispatch(y.messageBusActionCreators.receiveEvent({type:k.MessageType.SEND_ETP_TOKEN}));break;case k.MessageType.UPDATE_TEXT_TRACK_LANGUAGE:B=e.payload.language}},t.handleRetrievedConfig=function(e){var n=e.configuration,r=e.errorCode,i=e.errorMessage;if(n)return t.setState({configuration:n});var a="ECONNABORTED"===r?"Check that you are connected to the VPN":i;a="Unable to fetch streams:\n"+a,C.showAlert(a)},t.handleSkipToNext=function(){return c(t,void 0,void 0,(function(){var e,t,n,r;return l(this,(function(i){return e=this.titles,t=this.state.focusedTitleIndex,n=e[t].next,r=e.findIndex((function(e){return e.title===n})),this.setTitle(r),[2]}))}))},t.handleAllowCellularStreaming=function(){return c(t,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.handleSetRestriction("allowedRestrictions","cellular",!0)];case 1:return e.sent(),this.setState({modalTextMessage:null}),A.default.dispatch(y.messageBusActionCreators.receiveEvent({type:k.MessageType.ACTION_NAVIGATE_RETURN})),A.default.dispatch(y.messageBusActionCreators.receiveEvent({type:k.MessageType.ACTION_LOAD_CONFIG,payload:this.getConfig()})),[2]}}))}))},t.handleDenyCellularStreaming=function(){return c(t,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return[4,this.handleSetRestriction("allowedRestrictions","cellular",!1)];case 1:return e.sent(),this.setState({modalTextMessage:null}),A.default.dispatch(y.messageBusActionCreators.receiveEvent({type:k.MessageType.ACTION_NAVIGATE_RETURN})),[2]}}))}))},t.handleFetchFromSource=function(e){t.setState({fetchFromSource:e})},t.hasPremiumPermission=function(){return t.state.allowedRestrictions.premium},t.renderHeadlessToggle=function(){var e=t.state,n=e.headless,r=e.holdConfig,i=e.loadPlayer;return m.default.createElement(g.View,{style:[F.row,{marginTop:i?35:0}]},m.default.createElement(g.Text,{style:F.rowText},"Other"),m.default.createElement(j,{onPress:function(){return t.setState({headless:!n})},testID:"headless",isActive:n},"Headless"),m.default.createElement(j,{onPress:function(){return t.setState({holdConfig:!r})},testID:"holdConfig",isActive:r},"holdConfig"))},t.renderPlayer=function(){return m.default.createElement(m.default.Fragment,null,m.default.createElement(k.default,{config:t.getConfig(),debug:!0,messageBus:t.handleMessageBus,theme:I.default,headless:t.state.headless}),!N&&!!t.state.modalTextMessage&&m.default.createElement(g.View,{style:F.modalContainer},m.default.createElement(g.Text,null,t.state.modalTextMessage),m.default.createElement(b.default,{style:F.modalButtonContainer,onPress:t.handleAllowCellularStreaming},m.default.createElement(g.Text,{style:F.modalButtonText},"Allow Cellular")),m.default.createElement(b.default,{style:F.modalButtonContainer,onPress:t.handleDenyCellularStreaming},m.default.createElement(g.Text,{style:F.modalButtonText},"Deny Cellular"))),!N&&t.renderHeadlessToggle())},t.renderEntry=function(e){var n=t.state.focusedTitleIndex,r=e===n?F.focusedEntry:null,i=e===n?F.entryNameFocused:null,a=t.titles[e];return m.default.createElement(b.default,{activeOpacity:.5,style:[F.entry,r],testID:_.default.testIDs.testHarnessEpisodeItem,accessibilityLabel:_.default.testIDs.testHarnessEpisodeItem,ref:function(n){return t.titles[e].ref=n},onFocus:function(){return t.handleEntryFocus(e)},onPress:function(){return t.handleEntryPress(e)}},m.default.createElement(g.Text,{style:[F.entryName,i]},a.title))},t.renderSelection=function(){var e=t.titles;t.state.fetchFromSource===L.LOCAL&&(e=e.filter((function(e){return!e.config})));var n=t.state,r=n.adsConfigId,i=n.adTech,a=n.areOptionsVisible,o=n.allowedRestrictions,s=n.currentRestrictions,u=n.fetchFromSource,c=n.isA9Enabled,l=n.startTime,d=n.uiLanguage;return m.default.createElement(D.WebWrapper,{onEntryFocus:t.handleEntryFocus,onEntryPress:t.handleEntryPress},m.default.createElement(g.View,{style:F.container},m.default.createElement(b.default,{style:{marginBottom:8},onPress:function(){return t.setState({areOptionsVisible:!a})}},m.default.createElement(g.Text,{style:F.rowText}," ",a?"Hide":"Show"," Options... ")),a&&m.default.createElement(g.ScrollView,{style:F.configContainer,nestedScrollEnabled:!0},m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Permissions"),m.default.createElement(g.ScrollView,{contentContainerStyle:F.childRow,horizontal:!0,nestedScrollEnabled:!0},m.default.createElement(j,{onPress:function(){return t.handleToggleRestriction("allowedRestrictions","mature")},testID:"permissions-mature",isActive:o.mature},"Mature"),m.default.createElement(j,{onPress:function(){return t.handleToggleRestriction("allowedRestrictions","premium")},testID:"permissions-premium",isActive:o.premium},"Premium"),m.default.createElement(j,{onPress:function(){return t.handleToggleRestriction("allowedRestrictions","cellular")},testID:"permissions-cellular",isActive:o.cellular},"Cellular"))),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Restrictions"),m.default.createElement(g.ScrollView,{contentContainerStyle:F.childRow,horizontal:!0,nestedScrollEnabled:!0},m.default.createElement(j,{onPress:function(){return t.handleToggleRestriction("currentRestrictions","mature")},testID:"current-mature",isActive:s.mature},"Mature"),m.default.createElement(j,{onPress:function(){return t.handleToggleRestriction("currentRestrictions","premium")},testID:"current-premium",isActive:s.premium},"Premium"))),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Source "),m.default.createElement(g.ScrollView,{contentContainerStyle:F.childRow,horizontal:!0,nestedScrollEnabled:!0},m.default.createElement(j,{onPress:function(){return t.handleFetchFromSource(L.CMS)},testID:"fetch-from-"+L.CMS,isActive:u===L.CMS},L.CMS.toUpperCase()),m.default.createElement(j,{onPress:function(){return t.handleFetchFromSource(L.LOCAL)},testID:"fetch-from-"+L.LOCAL,isActive:u===L.LOCAL},L.LOCAL.toUpperCase()))),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Ad Tech"),m.default.createElement(g.ScrollView,{contentContainerStyle:F.childRow,horizontal:!0,nestedScrollEnabled:!0},m.default.createElement(j,{onPress:function(){t.setState({adTech:h.KATANA})},testID:"ads-katana",isActive:i===h.KATANA},"Katana"),m.default.createElement(j,{onPress:function(){t.setState({adTech:h.YOSPACE})},testID:"ads-yospace",isActive:i===h.YOSPACE},"Yospace"),m.default.createElement(j,{onPress:function(){t.setState({adTech:h.VENDRI})},testID:"ads-vendri",isActive:i===h.VENDRI},"Vendri"))),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Ad Config"),m.default.createElement(g.ScrollView,{contentContainerStyle:F.childRow,horizontal:!0,nestedScrollEnabled:!0},m.default.createElement(j,{onPress:function(){t.setState({isA9Enabled:!c})},testID:"config-a9",isActive:c},"A9"),m.default.createElement(j,{onPress:function(){return t.setState({adsConfigId:t.state.adsConfigId!==p.TRUEX?p.TRUEX:null})},testID:"config-truex",isActive:r===p.TRUEX},"TrueX"),m.default.createElement(j,{onPress:function(){return t.setState({adsConfigId:r!==p.VPAID?p.VPAID:null})},testID:"config-vpaid",isActive:r===p.VPAID},"VPAID"),m.default.createElement(j,{onPress:function(){return t.setState({adsConfigId:r!==p.LIVE_VPAID?p.LIVE_VPAID:null})},testID:"config-livevpaid",isActive:r===p.LIVE_VPAID},"Live VPAID"))),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Start Time"),m.default.createElement(g.TextInput,{style:F.textInput,value:String(l),keyboardType:"numeric",testID:"config-startTime",onChangeText:function(e){return t.setState({startTime:Number(e)})}})),!N&&m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"Controls timeout"),m.default.createElement(g.TextInput,{style:F.textInput,placeholder:"2500",value:String(t.state.inactivityTimeout),keyboardType:"numeric",testID:"controls-inactivity-timeout",onChangeText:function(e){return t.setState({inactivityTimeout:Number(e)})}}),m.default.createElement(g.Text,{style:F.rowText},"ms")),m.default.createElement(g.View,{style:F.row},m.default.createElement(g.TextInput,{style:F.textInput,placeholder:"Enter a URL",testID:"controls-url",value:t.state.videoSourceUrl,onChangeText:function(e){return t.setState({videoSourceUrl:e})}}),m.default.createElement(j,{style:F.orangeButton,onPress:function(){return t.handlePlayUrl()},testID:"other-load-url",isActive:!1},"Play")),!N&&t.renderHeadlessToggle(),!N&&m.default.createElement(g.View,{style:F.row},m.default.createElement(g.Text,{style:F.rowText},"UI Language"),m.default.createElement(g.Picker,{mode:"dropdown",style:F.dropdownInput,selectedValue:d,onValueChange:function(e){return t.setState({uiLanguage:e})}},U.map((function(e,t){return m.default.createElement(g.Picker.Item,{key:t,label:e,value:e})}))))),m.default.createElement(g.View,{style:F.titlesContainer},m.default.createElement(g.FlatList,{data:t.titles,ItemSeparatorComponent:function(){return m.default.createElement(g.View,{style:F.separator})},keyExtractor:function(e){return e.title},numColumns:P.default.isPhone()?1:2,renderItem:function(e){var n=e.index;return t.renderEntry(n)}}))))},t}return i(t,e),t.prototype.componentDidMount=function(){var e=this;if(M){var t=new URLSearchParams(window.location.search),n=Number(t.get("video"))-1;n>=0&&this.titles[n]&&this.handleEntryPress(n)}else this.setState({focusedTitleIndex:null});c(e,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,T.getItemFromAsyncStorage("TestHarness",null)];case 1:return(e=t.sent())&&this.setState(a(a({},this.state),e)),[2]}}))}))},t.prototype.componentDidUpdate=function(e,t){var n=this,r=v.default.omit(this.state,"configuration","loadPlayer","videoRequestTime");c(n,void 0,void 0,(function(){return l(this,(function(e){return[2,T.setItemInAsyncStorage("TestHarness",r)]}))}))},t.prototype.render=function(){return this.state.loadPlayer?this.renderPlayer():this.renderSelection()},t}(m.Component);t.default=V;var F=g.StyleSheet.create({container:a(a({padding:w.toRelativeScale(20),backgroundColor:"black"},g.StyleSheet.absoluteFillObject),{flexDirection:"column"}),configContainer:{flex:1,marginBottom:w.toRelativeScale(16)},titlesContainer:{flex:1},separator:{height:w.toRelativeScale(12)},entry:{alignItems:"center",justifyContent:"center",backgroundColor:"white",borderColor:"gray",borderWidth:w.toRelativeScale(3),marginRight:w.toRelativeScale(12),padding:w.toRelativeScale(10),height:w.toRelativeScale(70),width:w.toRelativeScale(220)},focusedEntry:{borderColor:"#f47521",borderWidth:w.toRelativeScale(6),backgroundColor:"#f47521"},entryName:{color:"#444",fontSize:w.toRelativeScale(20)},entryNameFocused:{color:"white"},modalContainer:{width:200,height:200,borderColor:"blue",backgroundColor:"grey",zIndex:9999},modalButtonContainer:{marginTop:16,width:"80%",height:36,backgroundColor:"#f47521",borderColor:"#d3d3d3",display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"center"},modalButtonText:{paddingLeft:8,fontSize:14,lineHeight:16,color:"#23252b",fontFamily:"Lato-Semibold"},row:{alignItems:"center",flexDirection:"row",marginBottom:w.toRelativeScale(12)},childRow:{alignItems:"center"},rowText:{color:"white",textAlign:"center",fontSize:w.toRelativeScale(20),marginRight:w.toRelativeScale(8)},button:{borderRadius:4,height:w.toRelativeScale(46),alignItems:"center",justifyContent:"center",marginRight:w.toRelativeScale(8),paddingLeft:w.toRelativeScale(12),paddingRight:w.toRelativeScale(12)},buttonText:{color:"white",textAlign:"center",fontSize:w.toRelativeScale(20)},orangeButton:{backgroundColor:"#f47521"},textInput:{height:w.toRelativeScale(46),marginLeft:w.toRelativeScale(9),marginRight:w.toRelativeScale(6),paddingLeft:w.toRelativeScale(12),paddingRight:w.toRelativeScale(12),width:w.toRelativeScale(300),backgroundColor:"#333",color:"white"},dropdownInput:{width:"80%",height:w.toRelativeScale(46),color:"#f47521"}})},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var a="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",c="[object Array]",l="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",h="[object GeneratorFunction]",v="[object Map]",m="[object Number]",g="[object Object]",y="[object RegExp]",b="[object Set]",_="[object String]",A="[object Symbol]",S="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",T="[object Float32Array]",P="[object Float64Array]",C="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",I="[object Uint8Array]",x="[object Uint16Array]",D="[object Uint32Array]",R=/\b__p \+= '';/g,M=/\b(__p \+=) '' \+/g,N=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,B=RegExp(L.source),U=RegExp(j.source),V=/<%-([\s\S]+?)%>/g,F=/<%([\s\S]+?)%>/g,H=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,K=/[\\^$.*+?()[\]{}|]/g,Y=RegExp(K.source),q=/^\s+|\s+$/g,X=/^\s+/,Z=/\s+$/,Q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,J=/\{\n\/\* \[wrapped with (.+)\] \*/,$=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,re=/\w*$/,ie=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ue=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,le=/($^)/,de=/['\n\r\u2028\u2029\\]/g,fe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",he="[\\ud800-\\udfff]",ve="["+pe+"]",me="["+fe+"]",ge="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[^\\ud800-\\udfff"+pe+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Ae="\\ud83c[\\udffb-\\udfff]",Se="[^\\ud800-\\udfff]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Pe="(?:"+be+"|"+_e+")",Ce="(?:"+Te+"|"+_e+")",Oe="(?:"+me+"|"+Ae+")"+"?",ke="[\\ufe0e\\ufe0f]?"+Oe+("(?:\\u200d(?:"+[Se,Ee,we].join("|")+")[\\ufe0e\\ufe0f]?"+Oe+")*"),Ie="(?:"+[ye,Ee,we].join("|")+")"+ke,xe="(?:"+[Se+me+"?",me,Ee,we,he].join("|")+")",De=RegExp("[']","g"),Re=RegExp(me,"g"),Me=RegExp(Ae+"(?="+Ae+")|"+xe+ke,"g"),Ne=RegExp([Te+"?"+be+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[ve,Te,"$"].join("|")+")",Ce+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[ve,Te+Pe,"$"].join("|")+")",Te+"?"+Pe+"+(?:['](?:d|ll|m|re|s|t|ve))?",Te+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Ie].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+fe+"\\ufe0e\\ufe0f]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ue=-1,Ve={};Ve[T]=Ve[P]=Ve[C]=Ve[O]=Ve[k]=Ve[I]=Ve["[object Uint8ClampedArray]"]=Ve[x]=Ve[D]=!0,Ve[u]=Ve[c]=Ve[E]=Ve[l]=Ve[w]=Ve[d]=Ve[f]=Ve[p]=Ve[v]=Ve[m]=Ve[g]=Ve[y]=Ve[b]=Ve[_]=Ve[S]=!1;var Fe={};Fe[u]=Fe[c]=Fe[E]=Fe[w]=Fe[l]=Fe[d]=Fe[T]=Fe[P]=Fe[C]=Fe[O]=Fe[k]=Fe[v]=Fe[m]=Fe[g]=Fe[y]=Fe[b]=Fe[_]=Fe[A]=Fe[I]=Fe["[object Uint8ClampedArray]"]=Fe[x]=Fe[D]=!0,Fe[f]=Fe[p]=Fe[S]=!1;var He={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ge=parseFloat,We=parseInt,ze="object"==typeof e&&e&&e.Object===Object&&e,Ke="object"==typeof self&&self&&self.Object===Object&&self,Ye=ze||Ke||Function("return this")(),qe=t&&!t.nodeType&&t,Xe=qe&&"object"==typeof r&&r&&!r.nodeType&&r,Ze=Xe&&Xe.exports===qe,Qe=Ze&&ze.process,Je=function(){try{var e=Xe&&Xe.require&&Xe.require("util").types;return e||Qe&&Qe.binding&&Qe.binding("util")}catch(e){}}(),$e=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,rt=Je&&Je.isSet,it=Je&&Je.isTypedArray;function at(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function ut(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function dt(e,t){return!!(null==e?0:e.length)&&At(e,t,0)>-1}function ft(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function pt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ht(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function vt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=Tt("length");function bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function _t(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function At(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):_t(e,Et,n)}function St(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Et(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?Ot(e,t)/n:NaN}function Tt(e){return function(t){return null==t?void 0:t[e]}}function Pt(e){return function(t){return null==e?void 0:e[t]}}function Ct(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Ot(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function kt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function It(e){return function(t){return e(t)}}function xt(e,t){return pt(t,(function(t){return e[t]}))}function Dt(e,t){return e.has(t)}function Rt(e,t){for(var n=-1,r=e.length;++n<r&&At(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&At(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Lt=Pt({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),jt=Pt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Bt(e){return"\\"+He[e]}function Ut(e){return Le.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ft(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function Gt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function Wt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function zt(e){return Ut(e)?function(e){var t=Me.lastIndex=0;for(;Me.test(e);)++t;return t}(e):yt(e)}function Kt(e){return Ut(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.split("")}(e)}var Yt=Pt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var qt=function e(t){var n,r=(t=null==t?Ye:qt.defaults(Ye.Object(),t,qt.pick(Ye,Be))).Array,i=t.Date,fe=t.Error,pe=t.Function,he=t.Math,ve=t.Object,me=t.RegExp,ge=t.String,ye=t.TypeError,be=r.prototype,_e=pe.prototype,Ae=ve.prototype,Se=t["__core-js_shared__"],Ee=_e.toString,we=Ae.hasOwnProperty,Te=0,Pe=(n=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ce=Ae.toString,Oe=Ee.call(ve),ke=Ye._,Ie=me("^"+Ee.call(we).replace(K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=Ze?t.Buffer:void 0,Me=t.Symbol,Le=t.Uint8Array,He=xe?xe.allocUnsafe:void 0,ze=Ft(ve.getPrototypeOf,ve),Ke=ve.create,qe=Ae.propertyIsEnumerable,Xe=be.splice,Qe=Me?Me.isConcatSpreadable:void 0,Je=Me?Me.iterator:void 0,yt=Me?Me.toStringTag:void 0,Pt=function(){try{var e=$i(ve,"defineProperty");return e({},"",{}),e}catch(e){}}(),Xt=t.clearTimeout!==Ye.clearTimeout&&t.clearTimeout,Zt=i&&i.now!==Ye.Date.now&&i.now,Qt=t.setTimeout!==Ye.setTimeout&&t.setTimeout,Jt=he.ceil,$t=he.floor,en=ve.getOwnPropertySymbols,tn=xe?xe.isBuffer:void 0,nn=t.isFinite,rn=be.join,an=Ft(ve.keys,ve),on=he.max,sn=he.min,un=i.now,cn=t.parseInt,ln=he.random,dn=be.reverse,fn=$i(t,"DataView"),pn=$i(t,"Map"),hn=$i(t,"Promise"),vn=$i(t,"Set"),mn=$i(t,"WeakMap"),gn=$i(ve,"create"),yn=mn&&new mn,bn={},_n=Pa(fn),An=Pa(pn),Sn=Pa(hn),En=Pa(vn),wn=Pa(mn),Tn=Me?Me.prototype:void 0,Pn=Tn?Tn.valueOf:void 0,Cn=Tn?Tn.toString:void 0;function On(e){if(Wo(e)&&!Ro(e)&&!(e instanceof Dn)){if(e instanceof xn)return e;if(we.call(e,"__wrapped__"))return Ca(e)}return new xn(e)}var kn=function(){function e(){}return function(t){if(!Go(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function In(){}function xn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Dn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function jn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Bn(e,t){var n=Ro(e),r=!n&&Do(e),i=!n&&!r&&jo(e),a=!n&&!r&&!i&&Jo(e),o=n||r||i||a,s=o?kt(e.length,ge):[],u=s.length;for(var c in e)!t&&!we.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oa(c,u))||s.push(c);return s}function Un(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Vn(e,t){return Ea(gi(e),Xn(t,0,e.length))}function Fn(e){return Ea(gi(e))}function Hn(e,t,n){(void 0!==n&&!ko(e[t],n)||void 0===n&&!(t in e))&&Yn(e,t,n)}function Gn(e,t,n){var r=e[t];we.call(e,t)&&ko(r,n)&&(void 0!==n||t in e)||Yn(e,t,n)}function Wn(e,t){for(var n=e.length;n--;)if(ko(e[n][0],t))return n;return-1}function zn(e,t,n,r){return er(e,(function(e,i,a){t(r,e,n(e),a)})),r}function Kn(e,t){return e&&yi(t,_s(t),e)}function Yn(e,t,n){"__proto__"==t&&Pt?Pt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function qn(e,t){for(var n=-1,i=t.length,a=r(i),o=null==e;++n<i;)a[n]=o?void 0:vs(e,t[n]);return a}function Xn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,r,i,a){var o,s=1&t,c=2&t,f=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!Go(e))return e;var S=Ro(e);if(S){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&we.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return gi(e,o)}else{var R=na(e),M=R==p||R==h;if(jo(e))return di(e,s);if(R==g||R==u||M&&!i){if(o=c||M?{}:ia(e),!s)return c?function(e,t){return yi(e,ta(e),t)}(e,function(e,t){return e&&yi(t,As(t),e)}(o,e)):function(e,t){return yi(e,ea(e),t)}(e,Kn(o,e))}else{if(!Fe[R])return i?e:{};o=function(e,t,n){var r=e.constructor;switch(t){case E:return fi(e);case l:case d:return new r(+e);case w:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case T:case P:case C:case O:case k:case I:case"[object Uint8ClampedArray]":case x:case D:return pi(e,n);case v:return new r;case m:case _:return new r(e);case y:return function(e){var t=new e.constructor(e.source,re.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new r;case A:return i=e,Pn?ve(Pn.call(i)):{}}var i}(e,R,s)}}a||(a=new jn);var N=a.get(e);if(N)return N;a.set(e,o),Xo(e)?e.forEach((function(r){o.add(Zn(r,t,n,r,e,a))})):zo(e)&&e.forEach((function(r,i){o.set(i,Zn(r,t,n,i,e,a))}));var L=S?void 0:(f?c?Ki:zi:c?As:_s)(e);return st(L||e,(function(r,i){L&&(r=e[i=r]),Gn(o,i,Zn(r,t,n,i,e,a))})),o}function Qn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var i=n[r],a=t[i],o=e[i];if(void 0===o&&!(i in e)||!a(o))return!1}return!0}function Jn(e,t,n){if("function"!=typeof e)throw new ye(a);return ba((function(){e.apply(void 0,n)}),t)}function $n(e,t,n,r){var i=-1,a=dt,o=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=pt(t,It(n))),r?(a=ft,o=!1):t.length>=200&&(a=Dt,o=!1,t=new Ln(t));e:for(;++i<s;){var l=e[i],d=null==n?l:n(l);if(l=r||0!==l?l:0,o&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;u.push(l)}else a(t,d,r)||u.push(l)}return u}On.templateSettings={escape:V,evaluate:F,interpolate:H,variable:"",imports:{_:On}},On.prototype=In.prototype,On.prototype.constructor=On,xn.prototype=kn(In.prototype),xn.prototype.constructor=xn,Dn.prototype=kn(In.prototype),Dn.prototype.constructor=Dn,Rn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Rn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return we.call(t,e)?t[e]:void 0},Rn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:we.call(t,e)},Rn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=Wn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=Wn(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return Wn(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,r=Wn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(pn||Mn),string:new Rn}},Nn.prototype.delete=function(e){var t=Qi(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return Qi(this,e).get(e)},Nn.prototype.has=function(e){return Qi(this,e).has(e)},Nn.prototype.set=function(e,t){var n=Qi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},jn.prototype.clear=function(){this.__data__=new Mn,this.size=0},jn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},jn.prototype.get=function(e){return this.__data__.get(e)},jn.prototype.has=function(e){return this.__data__.has(e)},jn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var er=Ai(ur),tr=Ai(cr,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!Qo(o):n(o,s)))var s=o,u=a}return u}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=aa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):ht(i,s):r||(i[i.length]=s)}return i}var or=Si(),sr=Si(!0);function ur(e,t){return e&&or(e,t,_s)}function cr(e,t){return e&&sr(e,t,_s)}function lr(e,t){return lt(t,(function(t){return Vo(e[t])}))}function dr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Ta(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Ro(e)?r:ht(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":yt&&yt in ve(e)?function(e){var t=we.call(e,yt),n=e[yt];try{e[yt]=void 0;var r=!0}catch(e){}var i=Ce.call(e);r&&(t?e[yt]=n:delete e[yt]);return i}(e):function(e){return Ce.call(e)}(e)}function hr(e,t){return e>t}function vr(e,t){return null!=e&&we.call(e,t)}function mr(e,t){return null!=e&&t in ve(e)}function gr(e,t,n){for(var i=n?ft:dt,a=e[0].length,o=e.length,s=o,u=r(o),c=1/0,l=[];s--;){var d=e[s];s&&t&&(d=pt(d,It(t))),c=sn(d.length,c),u[s]=!n&&(t||a>=120&&d.length>=120)?new Ln(s&&d):void 0}d=e[0];var f=-1,p=u[0];e:for(;++f<a&&l.length<c;){var h=d[f],v=t?t(h):h;if(h=n||0!==h?h:0,!(p?Dt(p,v):i(l,v,n))){for(s=o;--s;){var m=u[s];if(!(m?Dt(m,v):i(e[s],v,n)))continue e}p&&p.push(v),l.push(h)}}return l}function yr(e,t,n){var r=null==(e=va(e,t=si(t,e)))?e:e[Ta(Ba(t))];return null==r?void 0:at(r,e,n)}function br(e){return Wo(e)&&pr(e)==u}function _r(e,t,n,r,i){return e===t||(null==e||null==t||!Wo(e)&&!Wo(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var o=Ro(e),s=Ro(t),p=o?c:na(e),h=s?c:na(t),S=(p=p==u?g:p)==g,T=(h=h==u?g:h)==g,P=p==h;if(P&&jo(e)){if(!jo(t))return!1;o=!0,S=!1}if(P&&!S)return a||(a=new jn),o||Jo(e)?Gi(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!a(new Le(e),new Le(t)));case l:case d:case m:return ko(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case _:return e==t+"";case v:var s=Vt;case b:var u=1&r;if(s||(s=Gt),e.size!=t.size&&!u)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var p=Gi(s(e),s(t),r,i,a,o);return o.delete(e),p;case A:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,p,n,r,i,a);if(!(1&n)){var C=S&&we.call(e,"__wrapped__"),O=T&&we.call(t,"__wrapped__");if(C||O){var k=C?e.value():e,I=O?t.value():t;return a||(a=new jn),i(k,I,n,r,a)}}if(!P)return!1;return a||(a=new jn),function(e,t,n,r,i,a){var o=1&n,s=zi(e),u=s.length,c=zi(t).length;if(u!=c&&!o)return!1;var l=u;for(;l--;){var d=s[l];if(!(o?d in t:we.call(t,d)))return!1}var f=a.get(e),p=a.get(t);if(f&&p)return f==t&&p==e;var h=!0;a.set(e,t),a.set(t,e);var v=o;for(;++l<u;){d=s[l];var m=e[d],g=t[d];if(r)var y=o?r(g,m,d,t,e,a):r(m,g,d,e,t,a);if(!(void 0===y?m===g||i(m,g,n,r,a):y)){h=!1;break}v||(v="constructor"==d)}if(h&&!v){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,i,a)}(e,t,n,r,_r,i))}function Ar(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=ve(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var u=(s=n[i])[0],c=e[u],l=s[1];if(o&&s[2]){if(void 0===c&&!(u in e))return!1}else{var d=new jn;if(r)var f=r(c,l,u,e,t,d);if(!(void 0===f?_r(l,c,3,r,d):f))return!1}}return!0}function Sr(e){return!(!Go(e)||(t=e,Pe&&Pe in t))&&(Vo(e)?Ie:oe).test(Pa(e));var t}function Er(e){return"function"==typeof e?e:null==e?Ks:"object"==typeof e?Ro(e)?kr(e[0],e[1]):Or(e):tu(e)}function wr(e){if(!da(e))return an(e);var t=[];for(var n in ve(e))we.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Tr(e){if(!Go(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=da(e),n=[];for(var r in e)("constructor"!=r||!t&&we.call(e,r))&&n.push(r);return n}function Pr(e,t){return e<t}function Cr(e,t){var n=-1,i=No(e)?r(e.length):[];return er(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Or(e){var t=Ji(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}}function kr(e,t){return ua(e)&&fa(t)?pa(Ta(e),t):function(n){var r=vs(n,e);return void 0===r&&r===t?ms(n,e):_r(t,r,3)}}function Ir(e,t,n,r,i){e!==t&&or(t,(function(a,o){if(i||(i=new jn),Go(a))!function(e,t,n,r,i,a,o){var s=ga(e,n),u=ga(t,n),c=o.get(u);if(c)return void Hn(e,n,c);var l=a?a(s,u,n+"",e,t,o):void 0,d=void 0===l;if(d){var f=Ro(u),p=!f&&jo(u),h=!f&&!p&&Jo(u);l=u,f||p||h?Ro(s)?l=s:Lo(s)?l=gi(s):p?(d=!1,l=di(u,!0)):h?(d=!1,l=pi(u,!0)):l=[]:Yo(u)||Do(u)?(l=s,Do(s)?l=os(s):Go(s)&&!Vo(s)||(l=ia(u))):d=!1}d&&(o.set(u,l),i(l,u,r,a,o),o.delete(u));Hn(e,n,l)}(e,t,o,n,Ir,r,i);else{var s=r?r(ga(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Hn(e,o,s)}}),As)}function xr(e,t){var n=e.length;if(n)return oa(t+=t<0?n:0,n)?e[t]:void 0}function Dr(e,t,n){t=t.length?pt(t,(function(e){return Ro(e)?function(t){return dr(t,1===e.length?e[0]:e)}:e})):[Ks];var r=-1;return t=pt(t,It(Zi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Cr(e,(function(e,n,i){return{criteria:pt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var u=hi(i[r],a[r]);if(u){if(r>=s)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Rr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=dr(e,o);n(s,o)&&Fr(a,si(o,e),s)}return a}function Mr(e,t,n,r){var i=r?St:At,a=-1,o=t.length,s=e;for(e===t&&(t=gi(t)),n&&(s=pt(e,It(n)));++a<o;)for(var u=0,c=t[a],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Xe.call(s,u,1),Xe.call(e,u,1);return e}function Nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;oa(i)?Xe.call(e,i,1):$r(e,i)}}return e}function Lr(e,t){return e+$t(ln()*(t-e+1))}function jr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=$t(t/2))&&(e+=e)}while(t);return n}function Br(e,t){return _a(ha(e,t,Ks),e+"")}function Ur(e){return Un(ks(e))}function Vr(e,t){var n=ks(e);return Ea(n,Xn(t,0,n.length))}function Fr(e,t,n,r){if(!Go(e))return e;for(var i=-1,a=(t=si(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var u=Ta(t[i]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=o){var l=s[u];void 0===(c=r?r(l,u,s):void 0)&&(c=Go(l)?l:oa(t[i+1])?[]:{})}Gn(s,u,c),s=s[u]}return e}var Hr=yn?function(e,t){return yn.set(e,t),e}:Ks,Gr=Pt?function(e,t){return Pt(e,"toString",{configurable:!0,enumerable:!1,value:Gs(t),writable:!0})}:Ks;function Wr(e){return Ea(ks(e))}function zr(e,t,n){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var o=r(a);++i<a;)o[i]=e[i+t];return o}function Kr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Yr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Qo(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return qr(e,t,Ks,n)}function qr(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!=t,s=null===t,u=Qo(t),c=void 0===t;i<a;){var l=$t((i+a)/2),d=n(e[l]),f=void 0!==d,p=null===d,h=d==d,v=Qo(d);if(o)var m=r||h;else m=c?h&&(r||f):s?h&&f&&(r||!p):u?h&&f&&!p&&(r||!v):!p&&!v&&(r?d<=t:d<t);m?i=l+1:a=l}return sn(a,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!ko(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Zr(e){return"number"==typeof e?e:Qo(e)?NaN:+e}function Qr(e){if("string"==typeof e)return e;if(Ro(e))return pt(e,Qr)+"";if(Qo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jr(e,t,n){var r=-1,i=dt,a=e.length,o=!0,s=[],u=s;if(n)o=!1,i=ft;else if(a>=200){var c=t?null:ji(e);if(c)return Gt(c);o=!1,i=Dt,u=new Ln}else u=t?[]:s;e:for(;++r<a;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(l)}else i(u,d,n)||(u!==s&&u.push(d),s.push(l))}return s}function $r(e,t){return null==(e=va(e,t=si(t,e)))||delete e[Ta(Ba(t))]}function ei(e,t,n,r){return Fr(e,t,n(dr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?zr(e,r?0:a,r?a+1:i):zr(e,r?a+1:0,r?i:a)}function ni(e,t){var n=e;return n instanceof Dn&&(n=n.value()),vt(t,(function(e,t){return t.func.apply(t.thisArg,ht([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Jr(e[0]):[];for(var a=-1,o=r(i);++a<i;)for(var s=e[a],u=-1;++u<i;)u!=a&&(o[a]=$n(o[a]||s,e[u],t,n));return Jr(ar(o,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=r<a?t[r]:void 0;n(o,e[r],s)}return o}function ai(e){return Lo(e)?e:[]}function oi(e){return"function"==typeof e?e:Ks}function si(e,t){return Ro(e)?e:ua(e,t)?[e]:wa(ss(e))}var ui=Br;function ci(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:zr(e,t,n)}var li=Xt||function(e){return Ye.clearTimeout(e)};function di(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function pi(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Qo(e),o=void 0!==t,s=null===t,u=t==t,c=Qo(t);if(!s&&!c&&!a&&e>t||a&&o&&u&&!s&&!c||r&&o&&u||!n&&u||!i)return 1;if(!r&&!a&&!c&&e<t||c&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!u)return-1}return 0}function vi(e,t,n,i){for(var a=-1,o=e.length,s=n.length,u=-1,c=t.length,l=on(o-s,0),d=r(c+l),f=!i;++u<c;)d[u]=t[u];for(;++a<s;)(f||a<o)&&(d[n[a]]=e[a]);for(;l--;)d[u++]=e[a++];return d}function mi(e,t,n,i){for(var a=-1,o=e.length,s=-1,u=n.length,c=-1,l=t.length,d=on(o-u,0),f=r(d+l),p=!i;++a<d;)f[a]=e[a];for(var h=a;++c<l;)f[h+c]=t[c];for(;++s<u;)(p||a<o)&&(f[h+n[s]]=e[a++]);return f}function gi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Yn(n,s,u):Gn(n,s,u)}return n}function bi(e,t){return function(n,r){var i=Ro(n)?ot:zn,a=t?t():{};return i(n,e,Zi(r,2),a)}}function _i(e){return Br((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&sa(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=ve(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function Ai(e,t){return function(n,r){if(null==n)return n;if(!No(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=ve(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Si(e){return function(t,n,r){for(var i=-1,a=ve(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}function Ei(e){return function(t){var n=Ut(t=ss(t))?Kt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ci(n,1).join(""):t.slice(1);return r[e]()+i}}function wi(e){return function(t){return vt(Vs(Ds(t).replace(De,"")),e,"")}}function Ti(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),r=e.apply(n,t);return Go(r)?r:n}}function Pi(e){return function(t,n,r){var i=ve(t);if(!No(t)){var a=Zi(n,3);t=_s(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}function Ci(e){return Wi((function(t){var n=t.length,r=n,i=xn.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new ye(a);if(i&&!s&&"wrapper"==qi(o))var s=new xn([],!0)}for(r=s?r:n;++r<n;){var u=qi(o=t[r]),c="wrapper"==u?Yi(o):void 0;s=c&&ca(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[qi(c[0])].apply(s,c[3]):1==o.length&&ca(o)?s[u]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Ro(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Oi(e,t,n,i,a,o,s,u,c,l){var d=128&t,f=1&t,p=2&t,h=24&t,v=512&t,m=p?void 0:Ti(e);return function g(){for(var y=arguments.length,b=r(y),_=y;_--;)b[_]=arguments[_];if(h)var A=Xi(g),S=Nt(b,A);if(i&&(b=vi(b,i,a,h)),o&&(b=mi(b,o,s,h)),y-=S,h&&y<l){var E=Ht(b,A);return Ni(e,t,Oi,g.placeholder,n,b,E,u,c,l-y)}var w=f?n:this,T=p?w[e]:e;return y=b.length,u?b=ma(b,u):v&&y>1&&b.reverse(),d&&c<y&&(b.length=c),this&&this!==Ye&&this instanceof g&&(T=m||Ti(T)),T.apply(w,b)}}function ki(e,t){return function(n,r){return function(e,t,n,r){return ur(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ii(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Qr(n),r=Qr(r)):(n=Zr(n),r=Zr(r)),i=e(n,r)}return i}}function xi(e){return Wi((function(t){return t=pt(t,It(Zi())),Br((function(n){var r=this;return e(t,(function(e){return at(e,r,n)}))}))}))}function Di(e,t){var n=(t=void 0===t?" ":Qr(t)).length;if(n<2)return n?jr(t,e):t;var r=jr(t,Jt(e/zt(t)));return Ut(t)?ci(Kt(r),0,e).join(""):r.slice(0,e)}function Ri(e){return function(t,n,i){return i&&"number"!=typeof i&&sa(t,n,i)&&(n=i=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,i){for(var a=-1,o=on(Jt((t-e)/(n||1)),0),s=r(o);o--;)s[i?o:++a]=e,e+=n;return s}(t,n,i=void 0===i?t<n?1:-1:ns(i),e)}}function Mi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Ni(e,t,n,r,i,a,o,s,u,c){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var d=[e,t,i,l?a:void 0,l?o:void 0,l?void 0:a,l?void 0:o,s,u,c],f=n.apply(void 0,d);return ca(e)&&ya(f,d),f.placeholder=r,Aa(f,e,t)}function Li(e){var t=he[e];return function(e,n){if(e=as(e),(n=null==n?0:sn(rs(n),292))&&nn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ji=vn&&1/Gt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Qs;function Bi(e){return function(t){var n=na(t);return n==v?Vt(t):n==b?Wt(t):function(e,t){return pt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,n,i,s,u,c,l){var d=2&t;if(!d&&"function"!=typeof e)throw new ye(a);var f=i?i.length:0;if(f||(t&=-97,i=s=void 0),c=void 0===c?c:on(rs(c),0),l=void 0===l?l:rs(l),f-=s?s.length:0,64&t){var p=i,h=s;i=s=void 0}var v=d?void 0:Yi(e),m=[e,t,n,i,s,p,h,u,c,l];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?vi(c,u,t[4]):u,e[4]=c?Ht(e[3],o):t[4]}(u=t[5])&&(c=e[5],e[5]=c?mi(c,u,t[6]):u,e[6]=c?Ht(e[5],o):t[6]);(u=t[7])&&(e[7]=u);128&r&&(e[8]=null==e[8]?t[8]:sn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(m,v),e=m[0],t=m[1],n=m[2],i=m[3],s=m[4],!(l=m[9]=void 0===m[9]?d?0:e.length:on(m[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var i=Ti(e);return function a(){for(var o=arguments.length,s=r(o),u=o,c=Xi(a);u--;)s[u]=arguments[u];var l=o<3&&s[0]!==c&&s[o-1]!==c?[]:Ht(s,c);if((o-=l.length)<n)return Ni(e,t,Oi,a.placeholder,void 0,s,l,void 0,void 0,n-o);var d=this&&this!==Ye&&this instanceof a?i:e;return at(d,this,s)}}(e,t,l):32!=t&&33!=t||s.length?Oi.apply(void 0,m):function(e,t,n,i){var a=1&t,o=Ti(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,d=r(l+u),f=this&&this!==Ye&&this instanceof t?o:e;++c<l;)d[c]=i[c];for(;u--;)d[c++]=arguments[++s];return at(f,a?n:this,d)}}(e,t,n,i);else var g=function(e,t,n){var r=1&t,i=Ti(e);return function t(){var a=this&&this!==Ye&&this instanceof t?i:e;return a.apply(r?n:this,arguments)}}(e,t,n);return Aa((v?Hr:ya)(g,m),e,t)}function Vi(e,t,n,r){return void 0===e||ko(e,Ae[n])&&!we.call(r,n)?t:e}function Fi(e,t,n,r,i,a){return Go(e)&&Go(t)&&(a.set(t,e),Ir(e,t,void 0,Fi,a),a.delete(t)),e}function Hi(e){return Yo(e)?void 0:e}function Gi(e,t,n,r,i,a){var o=1&n,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var c=a.get(e),l=a.get(t);if(c&&l)return c==t&&l==e;var d=-1,f=!0,p=2&n?new Ln:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var h=e[d],v=t[d];if(r)var m=o?r(v,h,d,t,e,a):r(h,v,d,e,t,a);if(void 0!==m){if(m)continue;f=!1;break}if(p){if(!gt(t,(function(e,t){if(!Dt(p,t)&&(h===e||i(h,e,n,r,a)))return p.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function Wi(e){return _a(ha(e,void 0,Ra),e+"")}function zi(e){return fr(e,_s,ea)}function Ki(e){return fr(e,As,ta)}var Yi=yn?function(e){return yn.get(e)}:Qs;function qi(e){for(var t=e.name+"",n=bn[t],r=we.call(bn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function Xi(e){return(we.call(On,"placeholder")?On:e).placeholder}function Zi(){var e=On.iteratee||Ys;return e=e===Ys?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function Qi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ji(e){for(var t=_s(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fa(i)]}return t}function $i(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Sr(n)?n:void 0}var ea=en?function(e){return null==e?[]:(e=ve(e),lt(en(e),(function(t){return qe.call(e,t)})))}:iu,ta=en?function(e){for(var t=[];e;)ht(t,ea(e)),e=ze(e);return t}:iu,na=pr;function ra(e,t,n){for(var r=-1,i=(t=si(t,e)).length,a=!1;++r<i;){var o=Ta(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ho(i)&&oa(o,i)&&(Ro(e)||Do(e))}function ia(e){return"function"!=typeof e.constructor||da(e)?{}:kn(ze(e))}function aa(e){return Ro(e)||Do(e)||!!(Qe&&e&&e[Qe])}function oa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ue.test(e))&&e>-1&&e%1==0&&e<t}function sa(e,t,n){if(!Go(n))return!1;var r=typeof t;return!!("number"==r?No(n)&&oa(t,n.length):"string"==r&&t in n)&&ko(n[t],e)}function ua(e,t){if(Ro(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Qo(e))||(W.test(e)||!G.test(e)||null!=t&&e in ve(t))}function ca(e){var t=qi(e),n=On[t];if("function"!=typeof n||!(t in Dn.prototype))return!1;if(e===n)return!0;var r=Yi(n);return!!r&&e===r[0]}(fn&&na(new fn(new ArrayBuffer(1)))!=w||pn&&na(new pn)!=v||hn&&"[object Promise]"!=na(hn.resolve())||vn&&na(new vn)!=b||mn&&na(new mn)!=S)&&(na=function(e){var t=pr(e),n=t==g?e.constructor:void 0,r=n?Pa(n):"";if(r)switch(r){case _n:return w;case An:return v;case Sn:return"[object Promise]";case En:return b;case wn:return S}return t});var la=Se?Vo:au;function da(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ae)}function fa(e){return e==e&&!Go(e)}function pa(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ve(n)))}}function ha(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=on(i.length-t,0),s=r(o);++a<o;)s[a]=i[t+a];a=-1;for(var u=r(t+1);++a<t;)u[a]=i[a];return u[t]=n(s),at(e,this,u)}}function va(e,t){return t.length<2?e:dr(e,zr(t,0,-1))}function ma(e,t){for(var n=e.length,r=sn(t.length,n),i=gi(e);r--;){var a=t[r];e[r]=oa(a,n)?i[a]:void 0}return e}function ga(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ya=Sa(Hr),ba=Qt||function(e,t){return Ye.setTimeout(e,t)},_a=Sa(Gr);function Aa(e,t,n){var r=t+"";return _a(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Q,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(J);return t?t[1].split($):[]}(r),n)))}function Sa(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ea(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var a=Lr(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var wa=function(e){var t=Eo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(z,(function(e,n,r,i){t.push(r?i.replace(te,"$1"):n||e)})),t}));function Ta(e){if("string"==typeof e||Qo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Pa(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ca(e){if(e instanceof Dn)return e.clone();var t=new xn(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Oa=Br((function(e,t){return Lo(e)?$n(e,ar(t,1,Lo,!0)):[]})),ka=Br((function(e,t){var n=Ba(t);return Lo(n)&&(n=void 0),Lo(e)?$n(e,ar(t,1,Lo,!0),Zi(n,2)):[]})),Ia=Br((function(e,t){var n=Ba(t);return Lo(n)&&(n=void 0),Lo(e)?$n(e,ar(t,1,Lo,!0),void 0,n):[]}));function xa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),_t(e,Zi(t,3),i)}function Da(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):sn(i,r-1)),_t(e,Zi(t,3),i,!0)}function Ra(e){return(null==e?0:e.length)?ar(e,1):[]}function Ma(e){return e&&e.length?e[0]:void 0}var Na=Br((function(e){var t=pt(e,ai);return t.length&&t[0]===e[0]?gr(t):[]})),La=Br((function(e){var t=Ba(e),n=pt(e,ai);return t===Ba(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Zi(t,2)):[]})),ja=Br((function(e){var t=Ba(e),n=pt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function Ba(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ua=Br(Va);function Va(e,t){return e&&e.length&&t&&t.length?Mr(e,t):e}var Fa=Wi((function(e,t){var n=null==e?0:e.length,r=qn(e,t);return Nr(e,pt(t,(function(e){return oa(e,n)?+e:e})).sort(hi)),r}));function Ha(e){return null==e?e:dn.call(e)}var Ga=Br((function(e){return Jr(ar(e,1,Lo,!0))})),Wa=Br((function(e){var t=Ba(e);return Lo(t)&&(t=void 0),Jr(ar(e,1,Lo,!0),Zi(t,2))})),za=Br((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,Jr(ar(e,1,Lo,!0),void 0,t)}));function Ka(e){if(!e||!e.length)return[];var t=0;return e=lt(e,(function(e){if(Lo(e))return t=on(e.length,t),!0})),kt(t,(function(t){return pt(e,Tt(t))}))}function Ya(e,t){if(!e||!e.length)return[];var n=Ka(e);return null==t?n:pt(n,(function(e){return at(t,void 0,e)}))}var qa=Br((function(e,t){return Lo(e)?$n(e,t):[]})),Xa=Br((function(e){return ri(lt(e,Lo))})),Za=Br((function(e){var t=Ba(e);return Lo(t)&&(t=void 0),ri(lt(e,Lo),Zi(t,2))})),Qa=Br((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,ri(lt(e,Lo),void 0,t)})),Ja=Br(Ka);var $a=Br((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ya(e,n)}));function eo(e){var t=On(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Wi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return qn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Dn&&oa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new xn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ro=bi((function(e,t,n){we.call(e,n)?++e[n]:Yn(e,n,1)}));var io=Pi(xa),ao=Pi(Da);function oo(e,t){return(Ro(e)?st:er)(e,Zi(t,3))}function so(e,t){return(Ro(e)?ut:tr)(e,Zi(t,3))}var uo=bi((function(e,t,n){we.call(e,n)?e[n].push(t):Yn(e,n,[t])}));var co=Br((function(e,t,n){var i=-1,a="function"==typeof t,o=No(e)?r(e.length):[];return er(e,(function(e){o[++i]=a?at(t,e,n):yr(e,t,n)})),o})),lo=bi((function(e,t,n){Yn(e,n,t)}));function fo(e,t){return(Ro(e)?pt:Cr)(e,Zi(t,3))}var po=bi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ho=Br((function(e,t){if(null==e)return[];var n=t.length;return n>1&&sa(e,t[0],t[1])?t=[]:n>2&&sa(t[0],t[1],t[2])&&(t=[t[0]]),Dr(e,ar(t,1),[])})),vo=Zt||function(){return Ye.Date.now()};function mo(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function go(e,t){var n;if("function"!=typeof t)throw new ye(a);return e=rs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var yo=Br((function(e,t,n){var r=1;if(n.length){var i=Ht(n,Xi(yo));r|=32}return Ui(e,r,t,n,i)})),bo=Br((function(e,t,n){var r=3;if(n.length){var i=Ht(n,Xi(bo));r|=32}return Ui(t,r,e,n,i)}));function _o(e,t,n){var r,i,o,s,u,c,l=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new ye(a);function h(t){var n=r,a=i;return r=i=void 0,l=t,s=e.apply(a,n)}function v(e){return l=e,u=ba(g,t),d?h(e):s}function m(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=o}function g(){var e=vo();if(m(e))return y(e);u=ba(g,function(e){var n=t-(e-c);return f?sn(n,o-(e-l)):n}(e))}function y(e){return u=void 0,p&&r?h(e):(r=i=void 0,s)}function b(){var e=vo(),n=m(e);if(r=arguments,i=this,c=e,n){if(void 0===u)return v(c);if(f)return li(u),u=ba(g,t),h(c)}return void 0===u&&(u=ba(g,t)),s}return t=as(t)||0,Go(n)&&(d=!!n.leading,o=(f="maxWait"in n)?on(as(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==u&&li(u),l=0,r=c=i=u=void 0},b.flush=function(){return void 0===u?s:y(vo())},b}var Ao=Br((function(e,t){return Jn(e,1,t)})),So=Br((function(e,t,n){return Jn(e,as(t)||0,n)}));function Eo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ye(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Eo.Cache||Nn),n}function wo(e){if("function"!=typeof e)throw new ye(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Eo.Cache=Nn;var To=ui((function(e,t){var n=(t=1==t.length&&Ro(t[0])?pt(t[0],It(Zi())):pt(ar(t,1),It(Zi()))).length;return Br((function(r){for(var i=-1,a=sn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return at(e,this,r)}))})),Po=Br((function(e,t){return Ui(e,32,void 0,t,Ht(t,Xi(Po)))})),Co=Br((function(e,t){return Ui(e,64,void 0,t,Ht(t,Xi(Co)))})),Oo=Wi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function ko(e,t){return e===t||e!=e&&t!=t}var Io=Mi(hr),xo=Mi((function(e,t){return e>=t})),Do=br(function(){return arguments}())?br:function(e){return Wo(e)&&we.call(e,"callee")&&!qe.call(e,"callee")},Ro=r.isArray,Mo=$e?It($e):function(e){return Wo(e)&&pr(e)==E};function No(e){return null!=e&&Ho(e.length)&&!Vo(e)}function Lo(e){return Wo(e)&&No(e)}var jo=tn||au,Bo=et?It(et):function(e){return Wo(e)&&pr(e)==d};function Uo(e){if(!Wo(e))return!1;var t=pr(e);return t==f||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Yo(e)}function Vo(e){if(!Go(e))return!1;var t=pr(e);return t==p||t==h||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fo(e){return"number"==typeof e&&e==rs(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Go(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Wo(e){return null!=e&&"object"==typeof e}var zo=tt?It(tt):function(e){return Wo(e)&&na(e)==v};function Ko(e){return"number"==typeof e||Wo(e)&&pr(e)==m}function Yo(e){if(!Wo(e)||pr(e)!=g)return!1;var t=ze(e);if(null===t)return!0;var n=we.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==Oe}var qo=nt?It(nt):function(e){return Wo(e)&&pr(e)==y};var Xo=rt?It(rt):function(e){return Wo(e)&&na(e)==b};function Zo(e){return"string"==typeof e||!Ro(e)&&Wo(e)&&pr(e)==_}function Qo(e){return"symbol"==typeof e||Wo(e)&&pr(e)==A}var Jo=it?It(it):function(e){return Wo(e)&&Ho(e.length)&&!!Ve[pr(e)]};var $o=Mi(Pr),es=Mi((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(No(e))return Zo(e)?Kt(e):gi(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=na(e);return(t==v?Vt:t==b?Gt:ks)(e)}function ns(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?Xn(rs(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Qo(e))return NaN;if(Go(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Go(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(q,"");var n=ae.test(e);return n||se.test(e)?We(e.slice(2),n?2:8):ie.test(e)?NaN:+e}function os(e){return yi(e,As(e))}function ss(e){return null==e?"":Qr(e)}var us=_i((function(e,t){if(da(t)||No(t))yi(t,_s(t),e);else for(var n in t)we.call(t,n)&&Gn(e,n,t[n])})),cs=_i((function(e,t){yi(t,As(t),e)})),ls=_i((function(e,t,n,r){yi(t,As(t),e,r)})),ds=_i((function(e,t,n,r){yi(t,_s(t),e,r)})),fs=Wi(qn);var ps=Br((function(e,t){e=ve(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&sa(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=As(a),s=-1,u=o.length;++s<u;){var c=o[s],l=e[c];(void 0===l||ko(l,Ae[c])&&!we.call(e,c))&&(e[c]=a[c])}return e})),hs=Br((function(e){return e.push(void 0,Fi),at(Es,void 0,e)}));function vs(e,t,n){var r=null==e?void 0:dr(e,t);return void 0===r?n:r}function ms(e,t){return null!=e&&ra(e,t,mr)}var gs=ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),e[t]=n}),Gs(Ks)),ys=ki((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ce.call(t)),we.call(e,t)?e[t].push(n):e[t]=[n]}),Zi),bs=Br(yr);function _s(e){return No(e)?Bn(e):wr(e)}function As(e){return No(e)?Bn(e,!0):Tr(e)}var Ss=_i((function(e,t,n){Ir(e,t,n)})),Es=_i((function(e,t,n,r){Ir(e,t,n,r)})),ws=Wi((function(e,t){var n={};if(null==e)return n;var r=!1;t=pt(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),yi(e,Ki(e),n),r&&(n=Zn(n,7,Hi));for(var i=t.length;i--;)$r(n,t[i]);return n}));var Ts=Wi((function(e,t){return null==e?{}:function(e,t){return Rr(e,t,(function(t,n){return ms(e,n)}))}(e,t)}));function Ps(e,t){if(null==e)return{};var n=pt(Ki(e),(function(e){return[e]}));return t=Zi(t),Rr(e,n,(function(e,n){return t(e,n[0])}))}var Cs=Bi(_s),Os=Bi(As);function ks(e){return null==e?[]:xt(e,_s(e))}var Is=wi((function(e,t,n){return t=t.toLowerCase(),e+(n?xs(t):t)}));function xs(e){return Us(ss(e).toLowerCase())}function Ds(e){return(e=ss(e))&&e.replace(ce,Lt).replace(Re,"")}var Rs=wi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ms=wi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ns=Ei("toLowerCase");var Ls=wi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var js=wi((function(e,t,n){return e+(n?" ":"")+Us(t)}));var Bs=wi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Us=Ei("toUpperCase");function Vs(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return je.test(e)}(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Fs=Br((function(e,t){try{return at(e,void 0,t)}catch(e){return Uo(e)?e:new fe(e)}})),Hs=Wi((function(e,t){return st(t,(function(t){t=Ta(t),Yn(e,t,yo(e[t],e))})),e}));function Gs(e){return function(){return e}}var Ws=Ci(),zs=Ci(!0);function Ks(e){return e}function Ys(e){return Er("function"==typeof e?e:Zn(e,1))}var qs=Br((function(e,t){return function(n){return yr(n,e,t)}})),Xs=Br((function(e,t){return function(n){return yr(e,n,t)}}));function Zs(e,t,n){var r=_s(t),i=lr(t,r);null!=n||Go(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=lr(t,_s(t)));var a=!(Go(n)&&"chain"in n&&!n.chain),o=Vo(e);return st(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ht([this.value()],arguments))})})),e}function Qs(){}var Js=xi(pt),$s=xi(ct),eu=xi(gt);function tu(e){return ua(e)?Tt(Ta(e)):function(e){return function(t){return dr(t,e)}}(e)}var nu=Ri(),ru=Ri(!0);function iu(){return[]}function au(){return!1}var ou=Ii((function(e,t){return e+t}),0),su=Li("ceil"),uu=Ii((function(e,t){return e/t}),1),cu=Li("floor");var lu,du=Ii((function(e,t){return e*t}),1),fu=Li("round"),pu=Ii((function(e,t){return e-t}),0);return On.after=function(e,t){if("function"!=typeof t)throw new ye(a);return e=rs(e),function(){if(--e<1)return t.apply(this,arguments)}},On.ary=mo,On.assign=us,On.assignIn=cs,On.assignInWith=ls,On.assignWith=ds,On.at=fs,On.before=go,On.bind=yo,On.bindAll=Hs,On.bindKey=bo,On.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ro(e)?e:[e]},On.chain=eo,On.chunk=function(e,t,n){t=(n?sa(e,t,n):void 0===t)?1:on(rs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,s=r(Jt(i/t));a<i;)s[o++]=zr(e,a,a+=t);return s},On.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},On.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return ht(Ro(n)?gi(n):[n],ar(t,1))},On.cond=function(e){var t=null==e?0:e.length,n=Zi();return e=t?pt(e,(function(e){if("function"!=typeof e[1])throw new ye(a);return[n(e[0]),e[1]]})):[],Br((function(n){for(var r=-1;++r<t;){var i=e[r];if(at(i[0],this,n))return at(i[1],this,n)}}))},On.conforms=function(e){return function(e){var t=_s(e);return function(n){return Qn(n,e,t)}}(Zn(e,1))},On.constant=Gs,On.countBy=ro,On.create=function(e,t){var n=kn(e);return null==t?n:Kn(n,t)},On.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},On.debounce=_o,On.defaults=ps,On.defaultsDeep=hs,On.defer=Ao,On.delay=So,On.difference=Oa,On.differenceBy=ka,On.differenceWith=Ia,On.drop=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},On.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},On.dropRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0,!0):[]},On.dropWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0):[]},On.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&sa(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},On.filter=function(e,t){return(Ro(e)?lt:ir)(e,Zi(t,3))},On.flatMap=function(e,t){return ar(fo(e,t),1)},On.flatMapDeep=function(e,t){return ar(fo(e,t),1/0)},On.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ar(fo(e,t),n)},On.flatten=Ra,On.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},On.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:rs(t)):[]},On.flip=function(e){return Ui(e,512)},On.flow=Ws,On.flowRight=zs,On.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},On.functions=function(e){return null==e?[]:lr(e,_s(e))},On.functionsIn=function(e){return null==e?[]:lr(e,As(e))},On.groupBy=uo,On.initial=function(e){return(null==e?0:e.length)?zr(e,0,-1):[]},On.intersection=Na,On.intersectionBy=La,On.intersectionWith=ja,On.invert=gs,On.invertBy=ys,On.invokeMap=co,On.iteratee=Ys,On.keyBy=lo,On.keys=_s,On.keysIn=As,On.map=fo,On.mapKeys=function(e,t){var n={};return t=Zi(t,3),ur(e,(function(e,r,i){Yn(n,t(e,r,i),e)})),n},On.mapValues=function(e,t){var n={};return t=Zi(t,3),ur(e,(function(e,r,i){Yn(n,r,t(e,r,i))})),n},On.matches=function(e){return Or(Zn(e,1))},On.matchesProperty=function(e,t){return kr(e,Zn(t,1))},On.memoize=Eo,On.merge=Ss,On.mergeWith=Es,On.method=qs,On.methodOf=Xs,On.mixin=Zs,On.negate=wo,On.nthArg=function(e){return e=rs(e),Br((function(t){return xr(t,e)}))},On.omit=ws,On.omitBy=function(e,t){return Ps(e,wo(Zi(t)))},On.once=function(e){return go(2,e)},On.orderBy=function(e,t,n,r){return null==e?[]:(Ro(t)||(t=null==t?[]:[t]),Ro(n=r?void 0:n)||(n=null==n?[]:[n]),Dr(e,t,n))},On.over=Js,On.overArgs=To,On.overEvery=$s,On.overSome=eu,On.partial=Po,On.partialRight=Co,On.partition=po,On.pick=Ts,On.pickBy=Ps,On.property=tu,On.propertyOf=function(e){return function(t){return null==e?void 0:dr(e,t)}},On.pull=Ua,On.pullAll=Va,On.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mr(e,t,Zi(n,2)):e},On.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mr(e,t,void 0,n):e},On.pullAt=Fa,On.range=nu,On.rangeRight=ru,On.rearg=Oo,On.reject=function(e,t){return(Ro(e)?lt:ir)(e,wo(Zi(t,3)))},On.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=Zi(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Nr(e,i),n},On.rest=function(e,t){if("function"!=typeof e)throw new ye(a);return Br(e,t=void 0===t?t:rs(t))},On.reverse=Ha,On.sampleSize=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:rs(t),(Ro(e)?Vn:Vr)(e,t)},On.set=function(e,t,n){return null==e?e:Fr(e,t,n)},On.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},On.shuffle=function(e){return(Ro(e)?Fn:Wr)(e)},On.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&sa(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),zr(e,t,n)):[]},On.sortBy=ho,On.sortedUniq=function(e){return e&&e.length?Xr(e):[]},On.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Zi(t,2)):[]},On.split=function(e,t,n){return n&&"number"!=typeof n&&sa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!qo(t))&&!(t=Qr(t))&&Ut(e)?ci(Kt(e),0,n):e.split(t,n):[]},On.spread=function(e,t){if("function"!=typeof e)throw new ye(a);return t=null==t?0:on(rs(t),0),Br((function(n){var r=n[t],i=ci(n,0,t);return r&&ht(i,r),at(e,this,i)}))},On.tail=function(e){var t=null==e?0:e.length;return t?zr(e,1,t):[]},On.take=function(e,t,n){return e&&e.length?zr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},On.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?zr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},On.takeRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!1,!0):[]},On.takeWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3)):[]},On.tap=function(e,t){return t(e),e},On.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ye(a);return Go(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_o(e,t,{leading:r,maxWait:t,trailing:i})},On.thru=to,On.toArray=ts,On.toPairs=Cs,On.toPairsIn=Os,On.toPath=function(e){return Ro(e)?pt(e,Ta):Qo(e)?[e]:gi(wa(ss(e)))},On.toPlainObject=os,On.transform=function(e,t,n){var r=Ro(e),i=r||jo(e)||Jo(e);if(t=Zi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Go(e)&&Vo(a)?kn(ze(e)):{}}return(i?st:ur)(e,(function(e,r,i){return t(n,e,r,i)})),n},On.unary=function(e){return mo(e,1)},On.union=Ga,On.unionBy=Wa,On.unionWith=za,On.uniq=function(e){return e&&e.length?Jr(e):[]},On.uniqBy=function(e,t){return e&&e.length?Jr(e,Zi(t,2)):[]},On.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jr(e,void 0,t):[]},On.unset=function(e,t){return null==e||$r(e,t)},On.unzip=Ka,On.unzipWith=Ya,On.update=function(e,t,n){return null==e?e:ei(e,t,oi(n))},On.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,oi(n),r)},On.values=ks,On.valuesIn=function(e){return null==e?[]:xt(e,As(e))},On.without=qa,On.words=Vs,On.wrap=function(e,t){return Po(oi(t),e)},On.xor=Xa,On.xorBy=Za,On.xorWith=Qa,On.zip=Ja,On.zipObject=function(e,t){return ii(e||[],t||[],Gn)},On.zipObjectDeep=function(e,t){return ii(e||[],t||[],Fr)},On.zipWith=$a,On.entries=Cs,On.entriesIn=Os,On.extend=cs,On.extendWith=ls,Zs(On,On),On.add=ou,On.attempt=Fs,On.camelCase=Is,On.capitalize=xs,On.ceil=su,On.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),Xn(as(e),t,n)},On.clone=function(e){return Zn(e,4)},On.cloneDeep=function(e){return Zn(e,5)},On.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},On.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},On.conformsTo=function(e,t){return null==t||Qn(e,t,_s(t))},On.deburr=Ds,On.defaultTo=function(e,t){return null==e||e!=e?t:e},On.divide=uu,On.endsWith=function(e,t,n){e=ss(e),t=Qr(t);var r=e.length,i=n=void 0===n?r:Xn(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},On.eq=ko,On.escape=function(e){return(e=ss(e))&&U.test(e)?e.replace(j,jt):e},On.escapeRegExp=function(e){return(e=ss(e))&&Y.test(e)?e.replace(K,"\\$&"):e},On.every=function(e,t,n){var r=Ro(e)?ct:nr;return n&&sa(e,t,n)&&(t=void 0),r(e,Zi(t,3))},On.find=io,On.findIndex=xa,On.findKey=function(e,t){return bt(e,Zi(t,3),ur)},On.findLast=ao,On.findLastIndex=Da,On.findLastKey=function(e,t){return bt(e,Zi(t,3),cr)},On.floor=cu,On.forEach=oo,On.forEachRight=so,On.forIn=function(e,t){return null==e?e:or(e,Zi(t,3),As)},On.forInRight=function(e,t){return null==e?e:sr(e,Zi(t,3),As)},On.forOwn=function(e,t){return e&&ur(e,Zi(t,3))},On.forOwnRight=function(e,t){return e&&cr(e,Zi(t,3))},On.get=vs,On.gt=Io,On.gte=xo,On.has=function(e,t){return null!=e&&ra(e,t,vr)},On.hasIn=ms,On.head=Ma,On.identity=Ks,On.includes=function(e,t,n,r){e=No(e)?e:ks(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Zo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&At(e,t,n)>-1},On.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),At(e,t,i)},On.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=sn(t,n)&&e<on(t,n)}(e=as(e),t,n)},On.invoke=bs,On.isArguments=Do,On.isArray=Ro,On.isArrayBuffer=Mo,On.isArrayLike=No,On.isArrayLikeObject=Lo,On.isBoolean=function(e){return!0===e||!1===e||Wo(e)&&pr(e)==l},On.isBuffer=jo,On.isDate=Bo,On.isElement=function(e){return Wo(e)&&1===e.nodeType&&!Yo(e)},On.isEmpty=function(e){if(null==e)return!0;if(No(e)&&(Ro(e)||"string"==typeof e||"function"==typeof e.splice||jo(e)||Jo(e)||Do(e)))return!e.length;var t=na(e);if(t==v||t==b)return!e.size;if(da(e))return!wr(e).length;for(var n in e)if(we.call(e,n))return!1;return!0},On.isEqual=function(e,t){return _r(e,t)},On.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},On.isError=Uo,On.isFinite=function(e){return"number"==typeof e&&nn(e)},On.isFunction=Vo,On.isInteger=Fo,On.isLength=Ho,On.isMap=zo,On.isMatch=function(e,t){return e===t||Ar(e,t,Ji(t))},On.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ar(e,t,Ji(t),n)},On.isNaN=function(e){return Ko(e)&&e!=+e},On.isNative=function(e){if(la(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sr(e)},On.isNil=function(e){return null==e},On.isNull=function(e){return null===e},On.isNumber=Ko,On.isObject=Go,On.isObjectLike=Wo,On.isPlainObject=Yo,On.isRegExp=qo,On.isSafeInteger=function(e){return Fo(e)&&e>=-9007199254740991&&e<=9007199254740991},On.isSet=Xo,On.isString=Zo,On.isSymbol=Qo,On.isTypedArray=Jo,On.isUndefined=function(e){return void 0===e},On.isWeakMap=function(e){return Wo(e)&&na(e)==S},On.isWeakSet=function(e){return Wo(e)&&"[object WeakSet]"==pr(e)},On.join=function(e,t){return null==e?"":rn.call(e,t)},On.kebabCase=Rs,On.last=Ba,On.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):_t(e,Et,i,!0)},On.lowerCase=Ms,On.lowerFirst=Ns,On.lt=$o,On.lte=es,On.max=function(e){return e&&e.length?rr(e,Ks,hr):void 0},On.maxBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),hr):void 0},On.mean=function(e){return wt(e,Ks)},On.meanBy=function(e,t){return wt(e,Zi(t,2))},On.min=function(e){return e&&e.length?rr(e,Ks,Pr):void 0},On.minBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),Pr):void 0},On.stubArray=iu,On.stubFalse=au,On.stubObject=function(){return{}},On.stubString=function(){return""},On.stubTrue=function(){return!0},On.multiply=du,On.nth=function(e,t){return e&&e.length?xr(e,rs(t)):void 0},On.noConflict=function(){return Ye._===this&&(Ye._=ke),this},On.noop=Qs,On.now=vo,On.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Di($t(i),n)+e+Di(Jt(i),n)},On.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;return t&&r<t?e+Di(t-r,n):e},On.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?zt(e):0;return t&&r<t?Di(t-r,n)+e:e},On.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),cn(ss(e).replace(X,""),t||0)},On.random=function(e,t,n){if(n&&"boolean"!=typeof n&&sa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return sn(e+i*(t-e+Ge("1e-"+((i+"").length-1))),t)}return Lr(e,t)},On.reduce=function(e,t,n){var r=Ro(e)?vt:Ct,i=arguments.length<3;return r(e,Zi(t,4),n,i,er)},On.reduceRight=function(e,t,n){var r=Ro(e)?mt:Ct,i=arguments.length<3;return r(e,Zi(t,4),n,i,tr)},On.repeat=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:rs(t),jr(ss(e),t)},On.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},On.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var a=null==e?void 0:e[Ta(t[r])];void 0===a&&(r=i,a=n),e=Vo(a)?a.call(e):a}return e},On.round=fu,On.runInContext=e,On.sample=function(e){return(Ro(e)?Un:Ur)(e)},On.size=function(e){if(null==e)return 0;if(No(e))return Zo(e)?zt(e):e.length;var t=na(e);return t==v||t==b?e.size:wr(e).length},On.snakeCase=Ls,On.some=function(e,t,n){var r=Ro(e)?gt:Kr;return n&&sa(e,t,n)&&(t=void 0),r(e,Zi(t,3))},On.sortedIndex=function(e,t){return Yr(e,t)},On.sortedIndexBy=function(e,t,n){return qr(e,t,Zi(n,2))},On.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Yr(e,t);if(r<n&&ko(e[r],t))return r}return-1},On.sortedLastIndex=function(e,t){return Yr(e,t,!0)},On.sortedLastIndexBy=function(e,t,n){return qr(e,t,Zi(n,2),!0)},On.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Yr(e,t,!0)-1;if(ko(e[n],t))return n}return-1},On.startCase=js,On.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:Xn(rs(n),0,e.length),t=Qr(t),e.slice(n,n+t.length)==t},On.subtract=pu,On.sum=function(e){return e&&e.length?Ot(e,Ks):0},On.sumBy=function(e,t){return e&&e.length?Ot(e,Zi(t,2)):0},On.template=function(e,t,n){var r=On.templateSettings;n&&sa(e,t,n)&&(t=void 0),e=ss(e),t=ls({},t,r,Vi);var i,a,o=ls({},t.imports,r.imports,Vi),s=_s(o),u=xt(o,s),c=0,l=t.interpolate||le,d="__p += '",f=me((t.escape||le).source+"|"+l.source+"|"+(l===H?ne:le).source+"|"+(t.evaluate||le).source+"|$","g"),p="//# sourceURL="+(we.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ue+"]")+"\n";e.replace(f,(function(t,n,r,o,s,u){return r||(r=o),d+=e.slice(c,u).replace(de,Bt),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var h=we.call(t,"variable")&&t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(R,""):d).replace(M,"$1").replace(N,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Fs((function(){return pe(s,p+"return "+d).apply(void 0,u)}));if(v.source=d,Uo(v))throw v;return v},On.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=kt(r,t=Zi(t));++n<e;)t(n);return i},On.toFinite=ns,On.toInteger=rs,On.toLength=is,On.toLower=function(e){return ss(e).toLowerCase()},On.toNumber=as,On.toSafeInteger=function(e){return e?Xn(rs(e),-9007199254740991,9007199254740991):0===e?e:0},On.toString=ss,On.toUpper=function(e){return ss(e).toUpperCase()},On.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(q,"");if(!e||!(t=Qr(t)))return e;var r=Kt(e),i=Kt(t);return ci(r,Rt(r,i),Mt(r,i)+1).join("")},On.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(Z,"");if(!e||!(t=Qr(t)))return e;var r=Kt(e);return ci(r,0,Mt(r,Kt(t))+1).join("")},On.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(X,"");if(!e||!(t=Qr(t)))return e;var r=Kt(e);return ci(r,Rt(r,Kt(t))).join("")},On.truncate=function(e,t){var n=30,r="...";if(Go(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Qr(t.omission):r}var a=(e=ss(e)).length;if(Ut(e)){var o=Kt(e);a=o.length}if(n>=a)return e;var s=n-zt(r);if(s<1)return r;var u=o?ci(o,0,s).join(""):e.slice(0,s);if(void 0===i)return u+r;if(o&&(s+=u.length-s),qo(i)){if(e.slice(s).search(i)){var c,l=u;for(i.global||(i=me(i.source,ss(re.exec(i))+"g")),i.lastIndex=0;c=i.exec(l);)var d=c.index;u=u.slice(0,void 0===d?s:d)}}else if(e.indexOf(Qr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},On.unescape=function(e){return(e=ss(e))&&B.test(e)?e.replace(L,Yt):e},On.uniqueId=function(e){var t=++Te;return ss(e)+t},On.upperCase=Bs,On.upperFirst=Us,On.each=oo,On.eachRight=so,On.first=Ma,Zs(On,(lu={},ur(On,(function(e,t){we.call(On.prototype,t)||(lu[t]=e)})),lu),{chain:!1}),On.VERSION="4.17.20",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){On[e].placeholder=On})),st(["drop","take"],(function(e,t){Dn.prototype[e]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!t?new Dn(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Dn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Dn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Dn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Dn.prototype[e]=function(){return this.__filtered__?new Dn(this):this[n](1)}})),Dn.prototype.compact=function(){return this.filter(Ks)},Dn.prototype.find=function(e){return this.filter(e).head()},Dn.prototype.findLast=function(e){return this.reverse().find(e)},Dn.prototype.invokeMap=Br((function(e,t){return"function"==typeof e?new Dn(this):this.map((function(n){return yr(n,e,t)}))})),Dn.prototype.reject=function(e){return this.filter(wo(Zi(e)))},Dn.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Dn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Dn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Dn.prototype.toArray=function(){return this.take(4294967295)},ur(Dn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=On[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(On.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,s=t instanceof Dn,u=o[0],c=s||Ro(t),l=function(e){var t=i.apply(On,ht([e],o));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(s=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=a&&!d,h=s&&!f;if(!a&&c){t=h?t:new Dn(this);var v=e.apply(t,o);return v.__actions__.push({func:to,args:[l],thisArg:void 0}),new xn(v,d)}return p&&h?e.apply(this,o):(v=this.thru(l),p?r?v.value()[0]:v.value():v)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);On.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ro(i)?i:[],e)}return this[n]((function(n){return t.apply(Ro(n)?n:[],e)}))}})),ur(Dn.prototype,(function(e,t){var n=On[t];if(n){var r=n.name+"";we.call(bn,r)||(bn[r]=[]),bn[r].push({name:t,func:n})}})),bn[Oi(void 0,2).name]=[{name:"wrapper",func:void 0}],Dn.prototype.clone=function(){var e=new Dn(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Dn.prototype.reverse=function(){if(this.__filtered__){var e=new Dn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Dn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ro(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=sn(t,e+o);break;case"takeRight":e=on(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,c=r?s:o-1,l=this.__iteratees__,d=l.length,f=0,p=sn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return ni(e,this.__actions__);var h=[];e:for(;u--&&f<p;){for(var v=-1,m=e[c+=t];++v<d;){var g=l[v],y=g.iteratee,b=g.type,_=y(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}h[f++]=m}return h},On.prototype.at=no,On.prototype.chain=function(){return eo(this)},On.prototype.commit=function(){return new xn(this.value(),this.__chain__)},On.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},On.prototype.plant=function(e){for(var t,n=this;n instanceof In;){var r=Ca(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},On.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Dn){var t=e;return this.__actions__.length&&(t=new Dn(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ha],thisArg:void 0}),new xn(t,this.__chain__)}return this.thru(Ha)},On.prototype.toJSON=On.prototype.valueOf=On.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},On.prototype.first=On.prototype.head,Je&&(On.prototype[Je]=function(){return this}),On}();Ye._=qt,void 0===(i=function(){return qt}.call(t,n,t,r))||(r.exports=i)}).call(this)}).call(this,n(45),n(95)(e))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a,o=i(n(380)),s=i(n(990)),u=i(n(381));!function(e){e.ATTACK_ON_TITAN_1="Attack on Titan E1",e.ATTACK_ON_TITAN_1_NOT_AVAILABLE="AOT E1 (coming soon)",e.ATTACK_ON_TITAN_2="Attack on Titan E2",e.EMPTY_CONFIG="Empty Config",e.MR_TONEGAWA_1="Mr. Tonegawa S1E1",e.MR_TONEGAWA_2="Mr. Tonegawa S1E2",e.MY_HERO_ACADEMIA_1="My Hero Academia E1",e.SCRAPED_CONFIG="Scraped Config",e.SINTEL="Sintel"}(a||(a={}));var c=r(r({},o.default),{metadata:r(r({},o.default.metadata),{releaseDate:(new Date).getTime()+432e6,restrictions:[]}),user:r(r({},o.default.user),{allowedRestrictions:[]})});t.default=[{title:a.ATTACK_ON_TITAN_1,guid:"GR49GM4W6",next:a.ATTACK_ON_TITAN_2,config:o.default,ref:null},{title:a.ATTACK_ON_TITAN_2,guid:"GRJQK1ZEY",next:a.ATTACK_ON_TITAN_1,ref:null},{title:a.MR_TONEGAWA_1,guid:"G6QW40Q46",next:a.MR_TONEGAWA_2,ref:null},{title:a.MR_TONEGAWA_2,guid:"GY5PVZK7Y",next:a.MR_TONEGAWA_1,ref:null},{title:a.MY_HERO_ACADEMIA_1,guid:"GRMGQX55R",next:a.MY_HERO_ACADEMIA_1,ref:null},{title:a.SINTEL,config:u.default,next:a.SINTEL,ref:null},{title:a.SCRAPED_CONFIG,config:s.default,next:null,ref:null},{title:a.ATTACK_ON_TITAN_1_NOT_AVAILABLE,config:c,next:a.ATTACK_ON_TITAN_2,ref:null},{title:a.EMPTY_CONFIG,config:{analytics:{},media:{},metadata:{restrictions:[]},upNextMetadata:{restrictions:[]},player:{},ads:{},user:{allowedRestrictions:[]}},next:a.ATTACK_ON_TITAN_1,ref:null}]},function(e){e.exports=JSON.parse('{"_comment":"Replace this file with your scraped config"}')},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&a(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebWrapper=void 0;var u=s(n(1)),c=n(3),l=n(7).environmentUtils.isWeb(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyInput=function(e){switch(e.key){case"Down":case"ArrowDown":t.props.onEntryFocus(null,1);break;case"Up":case"ArrowUp":t.props.onEntryFocus(null,-1);break;case"Enter":t.props.onEntryPress()}},t}return i(t,e),t.prototype.componentDidMount=function(){l&&window.addEventListener("keydown",this.handleKeyInput)},t.prototype.componentWillUnmount=function(){l&&window.removeEventListener("keydown",this.handleKeyInput)},t.prototype.render=function(){return l?u.default.createElement(c.View,{style:{width:"100%",height:"100vh"}},this.props.children):u.default.createElement(u.default.Fragment,null,this.props.children)},t}(u.Component);t.WebWrapper=d},function(e,t,n){"use strict";n.r(t),n.d(t,"src",(function(){return r})),n.d(t,"poster",(function(){return i}));const r="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAAAAG1wNDJtcDQxaXNvbWF2YzEAAATKbW9vdgAAAGxtdmhkAAAAANLEP5XSxD+VAAB1MAAAdU4AAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAACFpb2RzAAAAABCAgIAQAE////9//w6AgIAEAAAAAQAABDV0cmFrAAAAXHRraGQAAAAH0sQ/ldLEP5UAAAABAAAAAAAAdU4AAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAoAAAAFoAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAHVOAAAH0gABAAAAAAOtbWRpYQAAACBtZGhkAAAAANLEP5XSxD+VAAB1MAAAdU5VxAAAAAAANmhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABMLVNNQVNIIFZpZGVvIEhhbmRsZXIAAAADT21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAw9zdGJsAAAAwXN0c2QAAAAAAAAAAQAAALFhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAoABaABIAAAASAAAAAAAAAABCkFWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAOGF2Y0MBZAAf/+EAHGdkAB+s2UCgL/lwFqCgoKgAAB9IAAdTAHjBjLABAAVo6+yyLP34+AAAAAATY29scm5jbHgABQAFAAUAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAAQBjdHRzAAAAAAAAAB4AAAABAAAH0gAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAB9IAAAAUc3RzcwAAAAAAAAABAAAAAQAAACpzZHRwAAAAAKaWlpqalpaampaWmpqWlpqalpaampaWmpqWlpqalgAAABxzdHNjAAAAAAAAAAEAAAABAAAAHgAAAAEAAACMc3RzegAAAAAAAAAAAAAAHgAAA5YAAAAVAAAAEwAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABUAAAATAAAAEwAAABsAAAAVAAAAEwAAABMAAAAbAAAAFQAAABMAAAATAAAAGwAAABRzdGNvAAAAAAAAAAEAAAT6AAAAGHNncGQBAAAAcm9sbAAAAAIAAAAAAAAAHHNiZ3AAAAAAcm9sbAAAAAEAAAAeAAAAAAAAAAhmcmVlAAAGC21kYXQAAAMfBgX///8b3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMTEgNzU5OTIxMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTUgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz0xMSBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgc3RpdGNoYWJsZT0xIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PWluZmluaXRlIGtleWludF9taW49Mjkgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz0ycGFzcyBtYnRyZWU9MSBiaXRyYXRlPTExMiByYXRldG9sPTEuMCBxY29tcD0wLjYwIHFwbWluPTUgcXBtYXg9NjkgcXBzdGVwPTQgY3BseGJsdXI9MjAuMCBxYmx1cj0wLjUgdmJ2X21heHJhdGU9ODI1IHZidl9idWZzaXplPTkwMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAG9liIQAFf/+963fgU3DKzVrulc4tMurlDQ9UfaUpni2SAAAAwAAAwAAD/DNvp9RFdeXpgAAAwB+ABHAWYLWHUFwGoHeKCOoUwgBAAADAAADAAADAAADAAAHgvugkks0lyOD2SZ76WaUEkznLgAAFFEAAAARQZokbEFf/rUqgAAAAwAAHVAAAAAPQZ5CeIK/AAADAAADAA6ZAAAADwGeYXRBXwAAAwAAAwAOmAAAAA8BnmNqQV8AAAMAAAMADpkAAAAXQZpoSahBaJlMCCv//rUqgAAAAwAAHVEAAAARQZ6GRREsFf8AAAMAAAMADpkAAAAPAZ6ldEFfAAADAAADAA6ZAAAADwGep2pBXwAAAwAAAwAOmAAAABdBmqxJqEFsmUwIK//+tSqAAAADAAAdUAAAABFBnspFFSwV/wAAAwAAAwAOmQAAAA8Bnul0QV8AAAMAAAMADpgAAAAPAZ7rakFfAAADAAADAA6YAAAAF0Ga8EmoQWyZTAgr//61KoAAAAMAAB1RAAAAEUGfDkUVLBX/AAADAAADAA6ZAAAADwGfLXRBXwAAAwAAAwAOmQAAAA8Bny9qQV8AAAMAAAMADpgAAAAXQZs0SahBbJlMCCv//rUqgAAAAwAAHVAAAAARQZ9SRRUsFf8AAAMAAAMADpkAAAAPAZ9xdEFfAAADAAADAA6YAAAADwGfc2pBXwAAAwAAAwAOmAAAABdBm3hJqEFsmUwIK//+tSqAAAADAAAdUQAAABFBn5ZFFSwV/wAAAwAAAwAOmAAAAA8Bn7V0QV8AAAMAAAMADpkAAAAPAZ+3akFfAAADAAADAA6ZAAAAF0GbvEmoQWyZTAgr//61KoAAAAMAAB1QAAAAEUGf2kUVLBX/AAADAAADAA6ZAAAADwGf+XRBXwAAAwAAAwAOmAAAAA8Bn/tqQV8AAAMAAAMADpkAAAAXQZv9SahBbJlMCCv//rUqgAAAAwAAHVE=",i="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(e,t,n){"use strict";n.r(t),n.d(t,"configure",(function(){return I})),n.d(t,"fetch",(function(){return x})),n.d(t,"addEventListener",(function(){return D})),n.d(t,"useNetInfo",(function(){return R})),n.d(t,"NetInfoStateType",(function(){return r})),n.d(t,"NetInfoCellularGeneration",(function(){return i}));var r,i,a=n(400),o=n.n(a),s=n(38),u=n.n(s),c=n(1),l={reachabilityUrl:"/",reachabilityTest:function(e){return Promise.resolve(200===e.status)},reachabilityShortTimeout:5e3,reachabilityLongTimeout:6e4,reachabilityRequestTimeout:15e3},d=n(135),f=n.n(d),p=n(170),h=n.n(p),v=n(237);!function(e){e.unknown="unknown",e.none="none",e.cellular="cellular",e.wifi="wifi",e.bluetooth="bluetooth",e.ethernet="ethernet",e.wimax="wimax",e.vpn="vpn",e.other="other"}(r||(r={})),function(e){e["2g"]="2g",e["3g"]="3g",e["4g"]="4g"}(i||(i={}));var m=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,g={bluetooth:r.bluetooth,cellular:r.cellular,ethernet:r.ethernet,none:r.none,other:r.other,unknown:r.unknown,wifi:r.wifi,wimax:r.wimax,mixed:r.other},y={"2g":i["2g"],"3g":i["3g"],"4g":i["4g"],"slow-2g":i["2g"]},b=function(e){var t=navigator.onLine,n={isInternetReachable:null};if(!m)return t?u()({},n,{isConnected:!0,type:r.other,details:{isConnectionExpensive:!1}}):u()({},n,{isConnected:!1,isInternetReachable:!1,type:r.none,details:null});var i=m.saveData,a=m.type?g[m.type]:t?r.other:r.unknown;return a===r.bluetooth?u()({},n,{isConnected:!0,type:a,details:{isConnectionExpensive:i}}):a===r.cellular?u()({},n,{isConnected:!0,type:a,details:{isConnectionExpensive:i,cellularGeneration:y[m.effectiveType]||null,carrier:null}}):a===r.ethernet?u()({},n,{isConnected:!0,type:a,details:{isConnectionExpensive:i,ipAddress:null,subnet:null}}):a===r.wifi?u()({},n,{isConnected:!0,type:a,details:{isConnectionExpensive:i,ssid:null,bssid:null,strength:null,ipAddress:null,subnet:null,frequency:null}}):a===r.wimax?u()({},n,{isConnected:!0,type:a,details:{isConnectionExpensive:i}}):a===r.none||a===r.unknown?u()({},n,{isConnected:!1,isInternetReachable:!1,type:a,details:null}):u()({},n,{isConnected:!0,type:r.other,details:{isConnectionExpensive:i}})},_=[],A=[],S={addListener:function(e,t){switch(e){case"netInfo.networkStatusDidChange":var n=function(){t(b())};m?m.addEventListener("change",n):(window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1)),_.push(t),A.push(n)}},removeListeners:function(e,t){switch(e){case"netInfo.networkStatusDidChange":var n=_.indexOf(t),r=A[n];m?m.removeEventListener("change",r):(window.addEventListener("online",r),window.addEventListener("offline",r)),_.splice(n,1),A.splice(n,1)}},getCurrentState:function(e){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b());case 1:case"end":return e.stop()}}),null,this)}},E=new v.a;S.addListener("netInfo.networkStatusDidChange",(function(e){E.emit("netInfo.networkStatusDidChange",e)}));var w=u()({},S,{eventEmitter:E}),T=function e(t,n){var r=this;h()(this,e),this._isInternetReachable=void 0,this._currentInternetReachabilityCheckHandler=null,this._currentTimeoutHandle=null,this._setIsInternetReachable=function(e){r._isInternetReachable!==e&&(r._isInternetReachable=e,r._listener(r._isInternetReachable))},this._setExpectsConnection=function(e){null!==r._currentInternetReachabilityCheckHandler&&(r._currentInternetReachabilityCheckHandler.cancel(),r._currentInternetReachabilityCheckHandler=null),null!==r._currentTimeoutHandle&&(clearTimeout(r._currentTimeoutHandle),r._currentTimeoutHandle=null),e?(r._isInternetReachable||r._setIsInternetReachable(null),r._currentInternetReachabilityCheckHandler=r._checkInternetReachability()):r._setIsInternetReachable(!1)},this._checkInternetReachability=function(){var e,t=fetch(r._configuration.reachabilityUrl,{method:"HEAD",cache:"no-cache"}),n=new Promise((function(t,n){e=setTimeout((function(){return n("timedout")}),r._configuration.reachabilityRequestTimeout)})),i=function(){},a=new Promise((function(e,t){i=function(){return t("canceled")}}));return{promise:Promise.race([t,n,a]).then((function(e){return r._configuration.reachabilityTest(e)})).then((function(e){r._setIsInternetReachable(e);var t=r._isInternetReachable?r._configuration.reachabilityLongTimeout:r._configuration.reachabilityShortTimeout;r._currentTimeoutHandle=setTimeout(r._checkInternetReachability,t)})).catch((function(e){"canceled"!==e&&(r._setIsInternetReachable(!1),r._currentTimeoutHandle=setTimeout(r._checkInternetReachability,r._configuration.reachabilityShortTimeout))})).then((function(){clearTimeout(e)}),(function(t){throw clearTimeout(e),t})),cancel:i}},this.update=function(e){"boolean"==typeof e.isInternetReachable?r._setIsInternetReachable(e.isInternetReachable):r._setExpectsConnection(e.isConnected)},this.currentState=function(){return r._isInternetReachable},this.tearDown=function(){null!==r._currentInternetReachabilityCheckHandler&&(r._currentInternetReachabilityCheckHandler.cancel(),r._currentInternetReachabilityCheckHandler=null),null!==r._currentTimeoutHandle&&(clearTimeout(r._currentTimeoutHandle),r._currentTimeoutHandle=null)},this._configuration=t,this._listener=n},P=function e(t){var n=this;h()(this,e),this._nativeEventSubscription=null,this._subscriptions=new Set,this._latestState=null,this._handleNativeStateUpdate=function(e){n._internetReachability.update(e);var t=n._convertState(e);n._latestState=t,n._subscriptions.forEach((function(e){return e(t)}))},this._handleInternetReachabilityUpdate=function(e){if(n._latestState){var t=u()({},n._latestState,{isInternetReachable:e});n._latestState=t,n._subscriptions.forEach((function(e){return e(t)}))}},this._fetchCurrentState=function(e){var t,r;return f.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,f.a.awrap(w.getCurrentState(e));case 2:return t=i.sent,n._internetReachability.update(t),r=n._convertState(t),e||(n._latestState=r),i.abrupt("return",r);case 7:case"end":return i.stop()}}),null,this)},this._convertState=function(e){return"boolean"==typeof e.isInternetReachable?e:u()({},e,{isInternetReachable:n._internetReachability.currentState()})},this.latest=function(e){return e?n._fetchCurrentState(e):n._latestState?Promise.resolve(n._latestState):n._fetchCurrentState()},this.add=function(e){n._subscriptions.add(e),n._latestState?e(n._latestState):n.latest().then(e)},this.remove=function(e){n._subscriptions.delete(e)},this.tearDown=function(){n._internetReachability&&n._internetReachability.tearDown(),n._nativeEventSubscription&&n._nativeEventSubscription.remove(),n._subscriptions.clear()},this._internetReachability=new T(t,this._handleInternetReachabilityUpdate),this._nativeEventSubscription=w.eventEmitter.addListener("netInfo.networkStatusDidChange",this._handleNativeStateUpdate),this._fetchCurrentState()},C=l,O=null,k=function(){return new P(C)};function I(e){C=u()({},l,e),O&&(O.tearDown(),O=k())}function x(e){return O||(O=k()),O.latest(e)}function D(e){return O||(O=k()),O.add(e),function(){O&&O.remove(e)}}function R(e){e&&I(e);var t=Object(c.useState)({type:r.unknown,isConnected:!1,isInternetReachable:!1,details:null}),n=o()(t,2),i=n[0],a=n[1];return Object(c.useEffect)((function(){return D(a)}),[]),i}t.default={configure:I,fetch:x,addEventListener:D,useNetInfo:R}}]);
//# sourceMappingURL=https://static.etp-staging.com/vilos-v2/web/vilos/js/bundle.js.map